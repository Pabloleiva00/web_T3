(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))i(u);new MutationObserver(u=>{for(const b of u)if(b.type==="childList")for(const I of b.addedNodes)I.tagName==="LINK"&&I.rel==="modulepreload"&&i(I)}).observe(document,{childList:!0,subtree:!0});function n(u){const b={};return u.integrity&&(b.integrity=u.integrity),u.referrerPolicy&&(b.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?b.credentials="include":u.crossOrigin==="anonymous"?b.credentials="omit":b.credentials="same-origin",b}function i(u){if(u.ep)return;u.ep=!0;const b=n(u);fetch(u.href,b)}})();/**
* @vue/shared v3.5.14
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function ou(e){const t=Object.create(null);for(const n of e.split(","))t[n]=1;return n=>n in t}const Wt={},Qr=[],Ii=()=>{},dI=()=>!1,Zs=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),su=e=>e.startsWith("onUpdate:"),fn=Object.assign,lu=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},gI=Object.prototype.hasOwnProperty,Bt=(e,t)=>gI.call(e,t),gt=Array.isArray,qr=e=>Js(e)==="[object Map]",qg=e=>Js(e)==="[object Set]",vt=e=>typeof e=="function",rn=e=>typeof e=="string",pr=e=>typeof e=="symbol",Jt=e=>e!==null&&typeof e=="object",ev=e=>(Jt(e)||vt(e))&&vt(e.then)&&vt(e.catch),tv=Object.prototype.toString,Js=e=>tv.call(e),vI=e=>Js(e).slice(8,-1),nv=e=>Js(e)==="[object Object]",cu=e=>rn(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Da=ou(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),$s=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},mI=/-(\w)/g,Hn=$s(e=>e.replace(mI,(t,n)=>n?n.toUpperCase():"")),pI=/\B([A-Z])/g,Br=$s(e=>e.replace(pI,"-$1").toLowerCase()),Xi=$s(e=>e.charAt(0).toUpperCase()+e.slice(1)),zl=$s(e=>e?`on${Xi(e)}`:""),vr=(e,t)=>!Object.is(e,t),Hl=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},iv=(e,t,n,i=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:i,value:n})},yI=e=>{const t=parseFloat(e);return isNaN(t)?e:t},bI=e=>{const t=rn(e)?Number(e):NaN;return isNaN(t)?e:t};let Rh;const Ks=()=>Rh||(Rh=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function uu(e){if(gt(e)){const t={};for(let n=0;n<e.length;n++){const i=e[n],u=rn(i)?II(i):uu(i);if(u)for(const b in u)t[b]=u[b]}return t}else if(rn(e)||Jt(e))return e}const SI=/;(?![^(]*\))/g,CI=/:([^]+)/,xI=/\/\*[^]*?\*\//g;function II(e){const t={};return e.replace(xI,"").split(SI).forEach(n=>{if(n){const i=n.split(CI);i.length>1&&(t[i[0].trim()]=i[1].trim())}}),t}function fu(e){let t="";if(rn(e))t=e;else if(gt(e))for(let n=0;n<e.length;n++){const i=fu(e[n]);i&&(t+=i+" ")}else if(Jt(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const _I="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",MI=ou(_I);function rv(e){return!!e||e===""}const av=e=>!!(e&&e.__v_isRef===!0),jn=e=>rn(e)?e:e==null?"":gt(e)||Jt(e)&&(e.toString===tv||!vt(e.toString))?av(e)?jn(e.value):JSON.stringify(e,ov,2):String(e),ov=(e,t)=>av(t)?ov(e,t.value):qr(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[i,u],b)=>(n[Ul(i,b)+" =>"]=u,n),{})}:qg(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>Ul(n))}:pr(t)?Ul(t):Jt(t)&&!gt(t)&&!nv(t)?String(t):t,Ul=(e,t="")=>{var n;return pr(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/reactivity v3.5.14
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let xn;class sv{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=xn,!t&&xn&&(this.index=(xn.scopes||(xn.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].pause();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].resume();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].resume()}}run(t){if(this._active){const n=xn;try{return xn=this,t()}finally{xn=n}}}on(){++this._on===1&&(this.prevScope=xn,xn=this)}off(){this._on>0&&--this._on===0&&(xn=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let n,i;for(n=0,i=this.effects.length;n<i;n++)this.effects[n].stop();for(this.effects.length=0,n=0,i=this.cleanups.length;n<i;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,i=this.scopes.length;n<i;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const u=this.parent.scopes.pop();u&&u!==this&&(this.parent.scopes[this.index]=u,u.index=this.index)}this.parent=void 0}}}function Pr(e){return new sv(e)}function lv(){return xn}function Un(e,t=!1){xn&&xn.cleanups.push(e)}let Yt;const Wl=new WeakSet;class cv{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,xn&&xn.active&&xn.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Wl.has(this)&&(Wl.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||fv(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,jh(this),hv(this);const t=Yt,n=oi;Yt=this,oi=!0;try{return this.fn()}finally{dv(this),Yt=t,oi=n,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)gu(t);this.deps=this.depsTail=void 0,jh(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Wl.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){bc(this)&&this.run()}get dirty(){return bc(this)}}let uv=0,ka,Pa;function fv(e,t=!1){if(e.flags|=8,t){e.next=Pa,Pa=e;return}e.next=ka,ka=e}function hu(){uv++}function du(){if(--uv>0)return;if(Pa){let t=Pa;for(Pa=void 0;t;){const n=t.next;t.next=void 0,t.flags&=-9,t=n}}let e;for(;ka;){let t=ka;for(ka=void 0;t;){const n=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(i){e||(e=i)}t=n}}if(e)throw e}function hv(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function dv(e){let t,n=e.depsTail,i=n;for(;i;){const u=i.prevDep;i.version===-1?(i===n&&(n=u),gu(i),EI(i)):t=i,i.dep.activeLink=i.prevActiveLink,i.prevActiveLink=void 0,i=u}e.deps=t,e.depsTail=n}function bc(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(gv(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function gv(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===Ua)||(e.globalVersion=Ua,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!bc(e))))return;e.flags|=2;const t=e.dep,n=Yt,i=oi;Yt=e,oi=!0;try{hv(e);const u=e.fn(e._value);(t.version===0||vr(u,e._value))&&(e.flags|=128,e._value=u,t.version++)}catch(u){throw t.version++,u}finally{Yt=n,oi=i,dv(e),e.flags&=-3}}function gu(e,t=!1){const{dep:n,prevSub:i,nextSub:u}=e;if(i&&(i.nextSub=u,e.prevSub=void 0),u&&(u.prevSub=i,e.nextSub=void 0),n.subs===e&&(n.subs=i,!i&&n.computed)){n.computed.flags&=-5;for(let b=n.computed.deps;b;b=b.nextDep)gu(b,!0)}!t&&!--n.sc&&n.map&&n.map.delete(n.key)}function EI(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}let oi=!0;const vv=[];function Ui(){vv.push(oi),oi=!1}function Wi(){const e=vv.pop();oi=e===void 0?!0:e}function jh(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const n=Yt;Yt=void 0;try{t()}finally{Yt=n}}}let Ua=0;class wI{constructor(t,n){this.sub=t,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class vu{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(t){if(!Yt||!oi||Yt===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==Yt)n=this.activeLink=new wI(Yt,this),Yt.deps?(n.prevDep=Yt.depsTail,Yt.depsTail.nextDep=n,Yt.depsTail=n):Yt.deps=Yt.depsTail=n,mv(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const i=n.nextDep;i.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=i),n.prevDep=Yt.depsTail,n.nextDep=void 0,Yt.depsTail.nextDep=n,Yt.depsTail=n,Yt.deps===n&&(Yt.deps=i)}return n}trigger(t){this.version++,Ua++,this.notify(t)}notify(t){hu();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{du()}}}function mv(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let i=t.deps;i;i=i.nextDep)mv(i)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}}const _s=new WeakMap,Tr=Symbol(""),Sc=Symbol(""),Wa=Symbol("");function In(e,t,n){if(oi&&Yt){let i=_s.get(e);i||_s.set(e,i=new Map);let u=i.get(n);u||(i.set(n,u=new vu),u.map=i,u.key=n),u.track()}}function Fi(e,t,n,i,u,b){const I=_s.get(e);if(!I){Ua++;return}const y=M=>{M&&M.trigger()};if(hu(),t==="clear")I.forEach(y);else{const M=gt(e),l=M&&cu(n);if(M&&n==="length"){const r=Number(i);I.forEach((w,A)=>{(A==="length"||A===Wa||!pr(A)&&A>=r)&&y(w)})}else switch((n!==void 0||I.has(void 0))&&y(I.get(n)),l&&y(I.get(Wa)),t){case"add":M?l&&y(I.get("length")):(y(I.get(Tr)),qr(e)&&y(I.get(Sc)));break;case"delete":M||(y(I.get(Tr)),qr(e)&&y(I.get(Sc)));break;case"set":qr(e)&&y(I.get(Tr));break}}du()}function TI(e,t){const n=_s.get(e);return n&&n.get(t)}function Wr(e){const t=ct(e);return t===e?t:(In(t,"iterate",Wa),si(e)?t:t.map(An))}function mu(e){return In(e=ct(e),"iterate",Wa),e}const AI={__proto__:null,[Symbol.iterator](){return Yl(this,Symbol.iterator,An)},concat(...e){return Wr(this).concat(...e.map(t=>gt(t)?Wr(t):t))},entries(){return Yl(this,"entries",e=>(e[1]=An(e[1]),e))},every(e,t){return Li(this,"every",e,t,void 0,arguments)},filter(e,t){return Li(this,"filter",e,t,n=>n.map(An),arguments)},find(e,t){return Li(this,"find",e,t,An,arguments)},findIndex(e,t){return Li(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return Li(this,"findLast",e,t,An,arguments)},findLastIndex(e,t){return Li(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return Li(this,"forEach",e,t,void 0,arguments)},includes(...e){return Vl(this,"includes",e)},indexOf(...e){return Vl(this,"indexOf",e)},join(e){return Wr(this).join(e)},lastIndexOf(...e){return Vl(this,"lastIndexOf",e)},map(e,t){return Li(this,"map",e,t,void 0,arguments)},pop(){return Ia(this,"pop")},push(...e){return Ia(this,"push",e)},reduce(e,...t){return Fh(this,"reduce",e,t)},reduceRight(e,...t){return Fh(this,"reduceRight",e,t)},shift(){return Ia(this,"shift")},some(e,t){return Li(this,"some",e,t,void 0,arguments)},splice(...e){return Ia(this,"splice",e)},toReversed(){return Wr(this).toReversed()},toSorted(e){return Wr(this).toSorted(e)},toSpliced(...e){return Wr(this).toSpliced(...e)},unshift(...e){return Ia(this,"unshift",e)},values(){return Yl(this,"values",An)}};function Yl(e,t,n){const i=mu(e),u=i[t]();return i!==e&&!si(e)&&(u._next=u.next,u.next=()=>{const b=u._next();return b.value&&(b.value=n(b.value)),b}),u}const OI=Array.prototype;function Li(e,t,n,i,u,b){const I=mu(e),y=I!==e&&!si(e),M=I[t];if(M!==OI[t]){const w=M.apply(e,b);return y?An(w):w}let l=n;I!==e&&(y?l=function(w,A){return n.call(this,An(w),A,e)}:n.length>2&&(l=function(w,A){return n.call(this,w,A,e)}));const r=M.call(I,l,i);return y&&u?u(r):r}function Fh(e,t,n,i){const u=mu(e);let b=n;return u!==e&&(si(e)?n.length>3&&(b=function(I,y,M){return n.call(this,I,y,M,e)}):b=function(I,y,M){return n.call(this,I,An(y),M,e)}),u[t](b,...i)}function Vl(e,t,n){const i=ct(e);In(i,"iterate",Wa);const u=i[t](...n);return(u===-1||u===!1)&&bu(n[0])?(n[0]=ct(n[0]),i[t](...n)):u}function Ia(e,t,n=[]){Ui(),hu();const i=ct(e)[t].apply(e,n);return du(),Wi(),i}const DI=ou("__proto__,__v_isRef,__isVue"),pv=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(pr));function kI(e){pr(e)||(e=String(e));const t=ct(this);return In(t,"has",e),t.hasOwnProperty(e)}class yv{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,i){if(n==="__v_skip")return t.__v_skip;const u=this._isReadonly,b=this._isShallow;if(n==="__v_isReactive")return!u;if(n==="__v_isReadonly")return u;if(n==="__v_isShallow")return b;if(n==="__v_raw")return i===(u?b?UI:xv:b?Cv:Sv).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(i)?t:void 0;const I=gt(t);if(!u){let M;if(I&&(M=AI[n]))return M;if(n==="hasOwnProperty")return kI}const y=Reflect.get(t,n,Zt(t)?t:i);return(pr(n)?pv.has(n):DI(n))||(u||In(t,"get",n),b)?y:Zt(y)?I&&cu(n)?y:y.value:Jt(y)?u?ao(y):un(y):y}}class bv extends yv{constructor(t=!1){super(!1,t)}set(t,n,i,u){let b=t[n];if(!this._isShallow){const M=Lr(b);if(!si(i)&&!Lr(i)&&(b=ct(b),i=ct(i)),!gt(t)&&Zt(b)&&!Zt(i))return M?!1:(b.value=i,!0)}const I=gt(t)&&cu(n)?Number(n)<t.length:Bt(t,n),y=Reflect.set(t,n,i,Zt(t)?t:u);return t===ct(u)&&(I?vr(i,b)&&Fi(t,"set",n,i):Fi(t,"add",n,i)),y}deleteProperty(t,n){const i=Bt(t,n);t[n];const u=Reflect.deleteProperty(t,n);return u&&i&&Fi(t,"delete",n,void 0),u}has(t,n){const i=Reflect.has(t,n);return(!pr(n)||!pv.has(n))&&In(t,"has",n),i}ownKeys(t){return In(t,"iterate",gt(t)?"length":Tr),Reflect.ownKeys(t)}}class PI extends yv{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const LI=new bv,NI=new PI,RI=new bv(!0);const Cc=e=>e,rs=e=>Reflect.getPrototypeOf(e);function jI(e,t,n){return function(...i){const u=this.__v_raw,b=ct(u),I=qr(b),y=e==="entries"||e===Symbol.iterator&&I,M=e==="keys"&&I,l=u[e](...i),r=n?Cc:t?xc:An;return!t&&In(b,"iterate",M?Sc:Tr),{next(){const{value:w,done:A}=l.next();return A?{value:w,done:A}:{value:y?[r(w[0]),r(w[1])]:r(w),done:A}},[Symbol.iterator](){return this}}}}function as(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function FI(e,t){const n={get(u){const b=this.__v_raw,I=ct(b),y=ct(u);e||(vr(u,y)&&In(I,"get",u),In(I,"get",y));const{has:M}=rs(I),l=t?Cc:e?xc:An;if(M.call(I,u))return l(b.get(u));if(M.call(I,y))return l(b.get(y));b!==I&&b.get(u)},get size(){const u=this.__v_raw;return!e&&In(ct(u),"iterate",Tr),Reflect.get(u,"size",u)},has(u){const b=this.__v_raw,I=ct(b),y=ct(u);return e||(vr(u,y)&&In(I,"has",u),In(I,"has",y)),u===y?b.has(u):b.has(u)||b.has(y)},forEach(u,b){const I=this,y=I.__v_raw,M=ct(y),l=t?Cc:e?xc:An;return!e&&In(M,"iterate",Tr),y.forEach((r,w)=>u.call(b,l(r),l(w),I))}};return fn(n,e?{add:as("add"),set:as("set"),delete:as("delete"),clear:as("clear")}:{add(u){!t&&!si(u)&&!Lr(u)&&(u=ct(u));const b=ct(this);return rs(b).has.call(b,u)||(b.add(u),Fi(b,"add",u,u)),this},set(u,b){!t&&!si(b)&&!Lr(b)&&(b=ct(b));const I=ct(this),{has:y,get:M}=rs(I);let l=y.call(I,u);l||(u=ct(u),l=y.call(I,u));const r=M.call(I,u);return I.set(u,b),l?vr(b,r)&&Fi(I,"set",u,b):Fi(I,"add",u,b),this},delete(u){const b=ct(this),{has:I,get:y}=rs(b);let M=I.call(b,u);M||(u=ct(u),M=I.call(b,u)),y&&y.call(b,u);const l=b.delete(u);return M&&Fi(b,"delete",u,void 0),l},clear(){const u=ct(this),b=u.size!==0,I=u.clear();return b&&Fi(u,"clear",void 0,void 0),I}}),["keys","values","entries",Symbol.iterator].forEach(u=>{n[u]=jI(u,e,t)}),n}function pu(e,t){const n=FI(e,t);return(i,u,b)=>u==="__v_isReactive"?!e:u==="__v_isReadonly"?e:u==="__v_raw"?i:Reflect.get(Bt(n,u)&&u in i?n:i,u,b)}const BI={get:pu(!1,!1)},zI={get:pu(!1,!0)},HI={get:pu(!0,!1)};const Sv=new WeakMap,Cv=new WeakMap,xv=new WeakMap,UI=new WeakMap;function WI(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function YI(e){return e.__v_skip||!Object.isExtensible(e)?0:WI(vI(e))}function un(e){return Lr(e)?e:yu(e,!1,LI,BI,Sv)}function Iv(e){return yu(e,!1,RI,zI,Cv)}function ao(e){return yu(e,!0,NI,HI,xv)}function yu(e,t,n,i,u){if(!Jt(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const b=YI(e);if(b===0)return e;const I=u.get(e);if(I)return I;const y=new Proxy(e,b===2?i:n);return u.set(e,y),y}function Ar(e){return Lr(e)?Ar(e.__v_raw):!!(e&&e.__v_isReactive)}function Lr(e){return!!(e&&e.__v_isReadonly)}function si(e){return!!(e&&e.__v_isShallow)}function bu(e){return e?!!e.__v_raw:!1}function ct(e){const t=e&&e.__v_raw;return t?ct(t):e}function Qs(e){return!Bt(e,"__v_skip")&&Object.isExtensible(e)&&iv(e,"__v_skip",!0),e}const An=e=>Jt(e)?un(e):e,xc=e=>Jt(e)?ao(e):e;function Zt(e){return e?e.__v_isRef===!0:!1}function $e(e){return _v(e,!1)}function dt(e){return _v(e,!0)}function _v(e,t){return Zt(e)?e:new VI(e,t)}class VI{constructor(t,n){this.dep=new vu,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?t:ct(t),this._value=n?t:An(t),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(t){const n=this._rawValue,i=this.__v_isShallow||si(t)||Lr(t);t=i?t:ct(t),vr(t,n)&&(this._rawValue=t,this._value=i?t:An(t),this.dep.trigger())}}function Gn(e){return Zt(e)?e.value:e}function Yi(e){return vt(e)?e():Gn(e)}const GI={get:(e,t,n)=>t==="__v_raw"?e:Gn(Reflect.get(e,t,n)),set:(e,t,n,i)=>{const u=e[t];return Zt(u)&&!Zt(n)?(u.value=n,!0):Reflect.set(e,t,n,i)}};function Mv(e){return Ar(e)?e:new Proxy(e,GI)}function Su(e){const t=gt(e)?new Array(e.length):{};for(const n in e)t[n]=Ev(e,n);return t}class XI{constructor(t,n,i){this._object=t,this._key=n,this._defaultValue=i,this.__v_isRef=!0,this._value=void 0}get value(){const t=this._object[this._key];return this._value=t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return TI(ct(this._object),this._key)}}class ZI{constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function Ze(e,t,n){return Zt(e)?e:vt(e)?new ZI(e):Jt(e)&&arguments.length>1?Ev(e,t,n):$e(e)}function Ev(e,t,n){const i=e[t];return Zt(i)?i:new XI(e,t,n)}class JI{constructor(t,n,i){this.fn=t,this.setter=n,this._value=void 0,this.dep=new vu(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Ua-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=i}notify(){if(this.flags|=16,!(this.flags&8)&&Yt!==this)return fv(this,!0),!0}get value(){const t=this.dep.track();return gv(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function $I(e,t,n=!1){let i,u;return vt(e)?i=e:(i=e.get,u=e.set),new JI(i,u,n)}const os={},Ms=new WeakMap;let Mr;function KI(e,t=!1,n=Mr){if(n){let i=Ms.get(n);i||Ms.set(n,i=[]),i.push(e)}}function QI(e,t,n=Wt){const{immediate:i,deep:u,once:b,scheduler:I,augmentJob:y,call:M}=n,l=o=>u?o:si(o)||u===!1||u===0?Bi(o,1):Bi(o);let r,w,A,D,O=!1,N=!1;if(Zt(e)?(w=()=>e.value,O=si(e)):Ar(e)?(w=()=>l(e),O=!0):gt(e)?(N=!0,O=e.some(o=>Ar(o)||si(o)),w=()=>e.map(o=>{if(Zt(o))return o.value;if(Ar(o))return l(o);if(vt(o))return M?M(o,2):o()})):vt(e)?t?w=M?()=>M(e,2):e:w=()=>{if(A){Ui();try{A()}finally{Wi()}}const o=Mr;Mr=r;try{return M?M(e,3,[D]):e(D)}finally{Mr=o}}:w=Ii,t&&u){const o=w,c=u===!0?1/0:u;w=()=>Bi(o(),c)}const p=lv(),a=()=>{r.stop(),p&&p.active&&lu(p.effects,r)};if(b&&t){const o=t;t=(...c)=>{o(...c),a()}}let m=N?new Array(e.length).fill(os):os;const v=o=>{if(!(!(r.flags&1)||!r.dirty&&!o))if(t){const c=r.run();if(u||O||(N?c.some((s,g)=>vr(s,m[g])):vr(c,m))){A&&A();const s=Mr;Mr=r;try{const g=[c,m===os?void 0:N&&m[0]===os?[]:m,D];M?M(t,3,g):t(...g),m=c}finally{Mr=s}}}else r.run()};return y&&y(v),r=new cv(w),r.scheduler=I?()=>I(v,!1):v,D=o=>KI(o,!1,r),A=r.onStop=()=>{const o=Ms.get(r);if(o){if(M)M(o,4);else for(const c of o)c();Ms.delete(r)}},t?i?v(!0):m=r.run():I?I(v.bind(null,!0),!0):r.run(),a.pause=r.pause.bind(r),a.resume=r.resume.bind(r),a.stop=a,a}function Bi(e,t=1/0,n){if(t<=0||!Jt(e)||e.__v_skip||(n=n||new Set,n.has(e)))return e;if(n.add(e),t--,Zt(e))Bi(e.value,t,n);else if(gt(e))for(let i=0;i<e.length;i++)Bi(e[i],t,n);else if(qg(e)||qr(e))e.forEach(i=>{Bi(i,t,n)});else if(nv(e)){for(const i in e)Bi(e[i],t,n);for(const i of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,i)&&Bi(e[i],t,n)}return e}/**
* @vue/runtime-core v3.5.14
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function oo(e,t,n,i){try{return i?e(...i):e()}catch(u){qs(u,t,n)}}function li(e,t,n,i){if(vt(e)){const u=oo(e,t,n,i);return u&&ev(u)&&u.catch(b=>{qs(b,t,n)}),u}if(gt(e)){const u=[];for(let b=0;b<e.length;b++)u.push(li(e[b],t,n,i));return u}}function qs(e,t,n,i=!0){const u=t?t.vnode:null,{errorHandler:b,throwUnhandledErrorInProduction:I}=t&&t.appContext.config||Wt;if(t){let y=t.parent;const M=t.proxy,l=`https://vuejs.org/error-reference/#runtime-${n}`;for(;y;){const r=y.ec;if(r){for(let w=0;w<r.length;w++)if(r[w](e,M,l)===!1)return}y=y.parent}if(b){Ui(),oo(b,null,10,[e,M,l]),Wi();return}}qI(e,n,u,i,I)}function qI(e,t,n,i=!0,u=!1){if(u)throw e;console.error(e)}const On=[];let bi=-1;const ea=[];let cr=null,Zr=0;const wv=Promise.resolve();let Es=null;function bn(e){const t=Es||wv;return e?t.then(this?e.bind(this):e):t}function e_(e){let t=bi+1,n=On.length;for(;t<n;){const i=t+n>>>1,u=On[i],b=Ya(u);b<e||b===e&&u.flags&2?t=i+1:n=i}return t}function Cu(e){if(!(e.flags&1)){const t=Ya(e),n=On[On.length-1];!n||!(e.flags&2)&&t>=Ya(n)?On.push(e):On.splice(e_(t),0,e),e.flags|=1,Tv()}}function Tv(){Es||(Es=wv.then(Ov))}function t_(e){gt(e)?ea.push(...e):cr&&e.id===-1?cr.splice(Zr+1,0,e):e.flags&1||(ea.push(e),e.flags|=1),Tv()}function Bh(e,t,n=bi+1){for(;n<On.length;n++){const i=On[n];if(i&&i.flags&2){if(e&&i.id!==e.uid)continue;On.splice(n,1),n--,i.flags&4&&(i.flags&=-2),i(),i.flags&4||(i.flags&=-2)}}}function Av(e){if(ea.length){const t=[...new Set(ea)].sort((n,i)=>Ya(n)-Ya(i));if(ea.length=0,cr){cr.push(...t);return}for(cr=t,Zr=0;Zr<cr.length;Zr++){const n=cr[Zr];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}cr=null,Zr=0}}const Ya=e=>e.id==null?e.flags&2?-1:1/0:e.id;function Ov(e){try{for(bi=0;bi<On.length;bi++){const t=On[bi];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),oo(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;bi<On.length;bi++){const t=On[bi];t&&(t.flags&=-2)}bi=-1,On.length=0,Av(),Es=null,(On.length||ea.length)&&Ov()}}let kn=null,Dv=null;function ws(e){const t=kn;return kn=e,Dv=e&&e.type.__scopeId||null,t}function qe(e,t=kn,n){if(!t||e._n)return e;const i=(...u)=>{i._d&&qh(-1);const b=ws(t);let I;try{I=e(...u)}finally{ws(b),i._d&&qh(1)}return I};return i._n=!0,i._c=!0,i._d=!0,i}function ti(e,t){if(kn===null)return e;const n=al(kn),i=e.dirs||(e.dirs=[]);for(let u=0;u<t.length;u++){let[b,I,y,M=Wt]=t[u];b&&(vt(b)&&(b={mounted:b,updated:b}),b.deep&&Bi(I),i.push({dir:b,instance:n,value:I,oldValue:void 0,arg:y,modifiers:M}))}return e}function Sr(e,t,n,i){const u=e.dirs,b=t&&t.dirs;for(let I=0;I<u.length;I++){const y=u[I];b&&(y.oldValue=b[I].value);let M=y.dir[i];M&&(Ui(),li(M,n,8,[e.el,y,e,t]),Wi())}}const kv=Symbol("_vte"),Pv=e=>e.__isTeleport,La=e=>e&&(e.disabled||e.disabled===""),zh=e=>e&&(e.defer||e.defer===""),Hh=e=>typeof SVGElement<"u"&&e instanceof SVGElement,Uh=e=>typeof MathMLElement=="function"&&e instanceof MathMLElement,Ic=(e,t)=>{const n=e&&e.to;return rn(n)?t?t(n):null:n},Lv={name:"Teleport",__isTeleport:!0,process(e,t,n,i,u,b,I,y,M,l){const{mc:r,pc:w,pbc:A,o:{insert:D,querySelector:O,createText:N,createComment:p}}=l,a=La(t.props);let{shapeFlag:m,children:v,dynamicChildren:o}=t;if(e==null){const c=t.el=N(""),s=t.anchor=N("");D(c,n,i),D(s,n,i);const g=(h,E)=>{m&16&&(u&&u.isCE&&(u.ce._teleportTarget=h),r(v,h,E,u,b,I,y,M))},x=()=>{const h=t.target=Ic(t.props,O),E=Nv(h,t,N,D);h&&(I!=="svg"&&Hh(h)?I="svg":I!=="mathml"&&Uh(h)&&(I="mathml"),a||(g(h,E),ds(t,!1)))};a&&(g(n,s),ds(t,!0)),zh(t.props)?Tn(()=>{x(),t.el.__isMounted=!0},b):x()}else{if(zh(t.props)&&!e.el.__isMounted){Tn(()=>{Lv.process(e,t,n,i,u,b,I,y,M,l),delete e.el.__isMounted},b);return}t.el=e.el,t.targetStart=e.targetStart;const c=t.anchor=e.anchor,s=t.target=e.target,g=t.targetAnchor=e.targetAnchor,x=La(e.props),h=x?n:s,E=x?c:g;if(I==="svg"||Hh(s)?I="svg":(I==="mathml"||Uh(s))&&(I="mathml"),o?(A(e.dynamicChildren,o,h,u,b,I,y),Au(e,t,!0)):M||w(e,t,h,E,u,b,I,y,!1),a)x?t.props&&e.props&&t.props.to!==e.props.to&&(t.props.to=e.props.to):ss(t,n,c,l,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const T=t.target=Ic(t.props,O);T&&ss(t,T,null,l,0)}else x&&ss(t,s,g,l,1);ds(t,a)}},remove(e,t,n,{um:i,o:{remove:u}},b){const{shapeFlag:I,children:y,anchor:M,targetStart:l,targetAnchor:r,target:w,props:A}=e;if(w&&(u(l),u(r)),b&&u(M),I&16){const D=b||!La(A);for(let O=0;O<y.length;O++){const N=y[O];i(N,t,n,D,!!N.dynamicChildren)}}},move:ss,hydrate:n_};function ss(e,t,n,{o:{insert:i},m:u},b=2){b===0&&i(e.targetAnchor,t,n);const{el:I,anchor:y,shapeFlag:M,children:l,props:r}=e,w=b===2;if(w&&i(I,t,n),(!w||La(r))&&M&16)for(let A=0;A<l.length;A++)u(l[A],t,n,2);w&&i(y,t,n)}function n_(e,t,n,i,u,b,{o:{nextSibling:I,parentNode:y,querySelector:M,insert:l,createText:r}},w){const A=t.target=Ic(t.props,M);if(A){const D=La(t.props),O=A._lpa||A.firstChild;if(t.shapeFlag&16)if(D)t.anchor=w(I(e),t,y(e),n,i,u,b),t.targetStart=O,t.targetAnchor=O&&I(O);else{t.anchor=I(e);let N=O;for(;N;){if(N&&N.nodeType===8){if(N.data==="teleport start anchor")t.targetStart=N;else if(N.data==="teleport anchor"){t.targetAnchor=N,A._lpa=t.targetAnchor&&I(t.targetAnchor);break}}N=I(N)}t.targetAnchor||Nv(A,t,r,l),w(O&&I(O),t,A,n,i,u,b)}ds(t,D)}return t.anchor&&I(t.anchor)}const i_=Lv;function ds(e,t){const n=e.ctx;if(n&&n.ut){let i,u;for(t?(i=e.el,u=e.anchor):(i=e.targetStart,u=e.targetAnchor);i&&i!==u;)i.nodeType===1&&i.setAttribute("data-v-owner",n.uid),i=i.nextSibling;n.ut()}}function Nv(e,t,n,i){const u=t.targetStart=n(""),b=t.targetAnchor=n("");return u[kv]=b,e&&(i(u,e),i(b,e)),b}const ur=Symbol("_leaveCb"),ls=Symbol("_enterCb");function Rv(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Ji(()=>{e.isMounted=!0}),Pn(()=>{e.isUnmounting=!0}),e}const qn=[Function,Array],jv={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:qn,onEnter:qn,onAfterEnter:qn,onEnterCancelled:qn,onBeforeLeave:qn,onLeave:qn,onAfterLeave:qn,onLeaveCancelled:qn,onBeforeAppear:qn,onAppear:qn,onAfterAppear:qn,onAppearCancelled:qn},Fv=e=>{const t=e.subTree;return t.component?Fv(t.component):t},r_={name:"BaseTransition",props:jv,setup(e,{slots:t}){const n=rl(),i=Rv();return()=>{const u=t.default&&xu(t.default(),!0);if(!u||!u.length)return;const b=Bv(u),I=ct(e),{mode:y}=I;if(i.isLeaving)return Gl(b);const M=Wh(b);if(!M)return Gl(b);let l=Va(M,I,i,n,w=>l=w);M.type!==Dn&&Nr(M,l);let r=n.subTree&&Wh(n.subTree);if(r&&r.type!==Dn&&!Er(M,r)&&Fv(n).type!==Dn){let w=Va(r,I,i,n);if(Nr(r,w),y==="out-in"&&M.type!==Dn)return i.isLeaving=!0,w.afterLeave=()=>{i.isLeaving=!1,n.job.flags&8||n.update(),delete w.afterLeave,r=void 0},Gl(b);y==="in-out"&&M.type!==Dn?w.delayLeave=(A,D,O)=>{const N=zv(i,r);N[String(r.key)]=r,A[ur]=()=>{D(),A[ur]=void 0,delete l.delayedLeave,r=void 0},l.delayedLeave=()=>{O(),delete l.delayedLeave,r=void 0}}:r=void 0}else r&&(r=void 0);return b}}};function Bv(e){let t=e[0];if(e.length>1){for(const n of e)if(n.type!==Dn){t=n;break}}return t}const a_=r_;function zv(e,t){const{leavingVNodes:n}=e;let i=n.get(t.type);return i||(i=Object.create(null),n.set(t.type,i)),i}function Va(e,t,n,i,u){const{appear:b,mode:I,persisted:y=!1,onBeforeEnter:M,onEnter:l,onAfterEnter:r,onEnterCancelled:w,onBeforeLeave:A,onLeave:D,onAfterLeave:O,onLeaveCancelled:N,onBeforeAppear:p,onAppear:a,onAfterAppear:m,onAppearCancelled:v}=t,o=String(e.key),c=zv(n,e),s=(h,E)=>{h&&li(h,i,9,E)},g=(h,E)=>{const T=E[1];s(h,E),gt(h)?h.every(k=>k.length<=1)&&T():h.length<=1&&T()},x={mode:I,persisted:y,beforeEnter(h){let E=M;if(!n.isMounted)if(b)E=p||M;else return;h[ur]&&h[ur](!0);const T=c[o];T&&Er(e,T)&&T.el[ur]&&T.el[ur](),s(E,[h])},enter(h){let E=l,T=r,k=w;if(!n.isMounted)if(b)E=a||l,T=m||r,k=v||w;else return;let L=!1;const F=h[ls]=U=>{L||(L=!0,U?s(k,[h]):s(T,[h]),x.delayedLeave&&x.delayedLeave(),h[ls]=void 0)};E?g(E,[h,F]):F()},leave(h,E){const T=String(e.key);if(h[ls]&&h[ls](!0),n.isUnmounting)return E();s(A,[h]);let k=!1;const L=h[ur]=F=>{k||(k=!0,E(),F?s(N,[h]):s(O,[h]),h[ur]=void 0,c[T]===e&&delete c[T])};c[T]=e,D?g(D,[h,L]):L()},clone(h){const E=Va(h,t,n,i,u);return u&&u(E),E}};return x}function Gl(e){if(el(e))return e=Vi(e),e.children=null,e}function Wh(e){if(!el(e))return Pv(e.type)&&e.children?Bv(e.children):e;if(e.component)return e.component.subTree;const{shapeFlag:t,children:n}=e;if(n){if(t&16)return n[0];if(t&32&&vt(n.default))return n.default()}}function Nr(e,t){e.shapeFlag&6&&e.component?(e.transition=t,Nr(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function xu(e,t=!1,n){let i=[],u=0;for(let b=0;b<e.length;b++){let I=e[b];const y=n==null?I.key:String(n)+String(I.key!=null?I.key:b);I.type===Ut?(I.patchFlag&128&&u++,i=i.concat(xu(I.children,t,y))):(t||I.type!==Dn)&&i.push(y!=null?Vi(I,{key:y}):I)}if(u>1)for(let b=0;b<i.length;b++)i[b].patchFlag=-2;return i}/*! #__NO_SIDE_EFFECTS__ */function Iu(e,t){return vt(e)?fn({name:e.name},t,{setup:e}):e}function so(){const e=rl();return e?(e.appContext.config.idPrefix||"v")+"-"+e.ids[0]+e.ids[1]++:""}function Hv(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function Ts(e,t,n,i,u=!1){if(gt(e)){e.forEach((O,N)=>Ts(O,t&&(gt(t)?t[N]:t),n,i,u));return}if(Na(i)&&!u){i.shapeFlag&512&&i.type.__asyncResolved&&i.component.subTree.component&&Ts(e,t,n,i.component.subTree);return}const b=i.shapeFlag&4?al(i.component):i.el,I=u?null:b,{i:y,r:M}=e,l=t&&t.r,r=y.refs===Wt?y.refs={}:y.refs,w=y.setupState,A=ct(w),D=w===Wt?()=>!1:O=>Bt(A,O);if(l!=null&&l!==M&&(rn(l)?(r[l]=null,D(l)&&(w[l]=null)):Zt(l)&&(l.value=null)),vt(M))oo(M,y,12,[I,r]);else{const O=rn(M),N=Zt(M);if(O||N){const p=()=>{if(e.f){const a=O?D(M)?w[M]:r[M]:M.value;u?gt(a)&&lu(a,b):gt(a)?a.includes(b)||a.push(b):O?(r[M]=[b],D(M)&&(w[M]=r[M])):(M.value=[b],e.k&&(r[e.k]=M.value))}else O?(r[M]=I,D(M)&&(w[M]=I)):N&&(M.value=I,e.k&&(r[e.k]=I))};I?(p.id=-1,Tn(p,n)):p()}}}Ks().requestIdleCallback;Ks().cancelIdleCallback;const Na=e=>!!e.type.__asyncLoader,el=e=>e.type.__isKeepAlive;function Uv(e,t){Yv(e,"a",t)}function Wv(e,t){Yv(e,"da",t)}function Yv(e,t,n=dn){const i=e.__wdc||(e.__wdc=()=>{let u=n;for(;u;){if(u.isDeactivated)return;u=u.parent}return e()});if(tl(t,i,n),n){let u=n.parent;for(;u&&u.parent;)el(u.parent.vnode)&&o_(i,t,n,u),u=u.parent}}function o_(e,t,n,i){const u=tl(t,e,i,!0);Vv(()=>{lu(i[t],u)},n)}function tl(e,t,n=dn,i=!1){if(n){const u=n[e]||(n[e]=[]),b=t.__weh||(t.__weh=(...I)=>{Ui();const y=uo(n),M=li(t,n,e,I);return y(),Wi(),M});return i?u.unshift(b):u.push(b),b}}const Zi=e=>(t,n=dn)=>{(!Xa||e==="sp")&&tl(e,(...i)=>t(...i),n)},lo=Zi("bm"),Ji=Zi("m"),s_=Zi("bu"),_u=Zi("u"),Pn=Zi("bum"),Vv=Zi("um"),l_=Zi("sp"),c_=Zi("rtg"),u_=Zi("rtc");function f_(e,t=dn){tl("ec",e,t)}const Mu="components",h_="directives";function nl(e,t){return Eu(Mu,e,!0,t)||e}const d_=Symbol.for("v-ndc");function g_(e){return rn(e)&&Eu(Mu,e,!1)||e}function aa(e){return Eu(h_,e)}function Eu(e,t,n=!0,i=!1){const u=kn||dn;if(u){const b=u.type;if(e===Mu){const y=eM(b,!1);if(y&&(y===t||y===Hn(t)||y===Xi(Hn(t))))return b}const I=Yh(u[e]||b[e],t)||Yh(u.appContext[e],t);return!I&&i?b:I}}function Yh(e,t){return e&&(e[t]||e[Hn(t)]||e[Xi(Hn(t))])}const _c=e=>e?um(e)?al(e):_c(e.parent):null,Ra=fn(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>_c(e.parent),$root:e=>_c(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>Xv(e),$forceUpdate:e=>e.f||(e.f=()=>{Cu(e.update)}),$nextTick:e=>e.n||(e.n=bn.bind(e.proxy)),$watch:e=>R_.bind(e)}),Xl=(e,t)=>e!==Wt&&!e.__isScriptSetup&&Bt(e,t),v_={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:n,setupState:i,data:u,props:b,accessCache:I,type:y,appContext:M}=e;let l;if(t[0]!=="$"){const D=I[t];if(D!==void 0)switch(D){case 1:return i[t];case 2:return u[t];case 4:return n[t];case 3:return b[t]}else{if(Xl(i,t))return I[t]=1,i[t];if(u!==Wt&&Bt(u,t))return I[t]=2,u[t];if((l=e.propsOptions[0])&&Bt(l,t))return I[t]=3,b[t];if(n!==Wt&&Bt(n,t))return I[t]=4,n[t];Mc&&(I[t]=0)}}const r=Ra[t];let w,A;if(r)return t==="$attrs"&&In(e.attrs,"get",""),r(e);if((w=y.__cssModules)&&(w=w[t]))return w;if(n!==Wt&&Bt(n,t))return I[t]=4,n[t];if(A=M.config.globalProperties,Bt(A,t))return A[t]},set({_:e},t,n){const{data:i,setupState:u,ctx:b}=e;return Xl(u,t)?(u[t]=n,!0):i!==Wt&&Bt(i,t)?(i[t]=n,!0):Bt(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(b[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:i,appContext:u,propsOptions:b}},I){let y;return!!n[I]||e!==Wt&&Bt(e,I)||Xl(t,I)||(y=b[0])&&Bt(y,I)||Bt(i,I)||Bt(Ra,I)||Bt(u.config.globalProperties,I)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:Bt(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function Vh(e){return gt(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let Mc=!0;function m_(e){const t=Xv(e),n=e.proxy,i=e.ctx;Mc=!1,t.beforeCreate&&Gh(t.beforeCreate,e,"bc");const{data:u,computed:b,methods:I,watch:y,provide:M,inject:l,created:r,beforeMount:w,mounted:A,beforeUpdate:D,updated:O,activated:N,deactivated:p,beforeDestroy:a,beforeUnmount:m,destroyed:v,unmounted:o,render:c,renderTracked:s,renderTriggered:g,errorCaptured:x,serverPrefetch:h,expose:E,inheritAttrs:T,components:k,directives:L,filters:F}=t;if(l&&p_(l,i,null),I)for(const Y in I){const K=I[Y];vt(K)&&(i[Y]=K.bind(n))}if(u){const Y=u.call(n,n);Jt(Y)&&(e.data=un(Y))}if(Mc=!0,b)for(const Y in b){const K=b[Y],he=vt(K)?K.bind(n,n):vt(K.get)?K.get.bind(n,n):Ii,oe=!vt(K)&&vt(K.set)?K.set.bind(n):Ii,ve=Ae({get:he,set:oe});Object.defineProperty(i,Y,{enumerable:!0,configurable:!0,get:()=>ve.value,set:ee=>ve.value=ee})}if(y)for(const Y in y)Gv(y[Y],i,n,Y);if(M){const Y=vt(M)?M.call(n):M;Reflect.ownKeys(Y).forEach(K=>{pn(K,Y[K])})}r&&Gh(r,e,"c");function G(Y,K){gt(K)?K.forEach(he=>Y(he.bind(n))):K&&Y(K.bind(n))}if(G(lo,w),G(Ji,A),G(s_,D),G(_u,O),G(Uv,N),G(Wv,p),G(f_,x),G(u_,s),G(c_,g),G(Pn,m),G(Vv,o),G(l_,h),gt(E))if(E.length){const Y=e.exposed||(e.exposed={});E.forEach(K=>{Object.defineProperty(Y,K,{get:()=>n[K],set:he=>n[K]=he})})}else e.exposed||(e.exposed={});c&&e.render===Ii&&(e.render=c),T!=null&&(e.inheritAttrs=T),k&&(e.components=k),L&&(e.directives=L),h&&Hv(e)}function p_(e,t,n=Ii){gt(e)&&(e=Ec(e));for(const i in e){const u=e[i];let b;Jt(u)?"default"in u?b=Ot(u.from||i,u.default,!0):b=Ot(u.from||i):b=Ot(u),Zt(b)?Object.defineProperty(t,i,{enumerable:!0,configurable:!0,get:()=>b.value,set:I=>b.value=I}):t[i]=b}}function Gh(e,t,n){li(gt(e)?e.map(i=>i.bind(t.proxy)):e.bind(t.proxy),t,n)}function Gv(e,t,n,i){let u=i.includes(".")?rm(n,i):()=>n[i];if(rn(e)){const b=t[e];vt(b)&&ht(u,b)}else if(vt(e))ht(u,e.bind(n));else if(Jt(e))if(gt(e))e.forEach(b=>Gv(b,t,n,i));else{const b=vt(e.handler)?e.handler.bind(n):t[e.handler];vt(b)&&ht(u,b,e)}}function Xv(e){const t=e.type,{mixins:n,extends:i}=t,{mixins:u,optionsCache:b,config:{optionMergeStrategies:I}}=e.appContext,y=b.get(t);let M;return y?M=y:!u.length&&!n&&!i?M=t:(M={},u.length&&u.forEach(l=>As(M,l,I,!0)),As(M,t,I)),Jt(t)&&b.set(t,M),M}function As(e,t,n,i=!1){const{mixins:u,extends:b}=t;b&&As(e,b,n,!0),u&&u.forEach(I=>As(e,I,n,!0));for(const I in t)if(!(i&&I==="expose")){const y=y_[I]||n&&n[I];e[I]=y?y(e[I],t[I]):t[I]}return e}const y_={data:Xh,props:Zh,emits:Zh,methods:Oa,computed:Oa,beforeCreate:wn,created:wn,beforeMount:wn,mounted:wn,beforeUpdate:wn,updated:wn,beforeDestroy:wn,beforeUnmount:wn,destroyed:wn,unmounted:wn,activated:wn,deactivated:wn,errorCaptured:wn,serverPrefetch:wn,components:Oa,directives:Oa,watch:S_,provide:Xh,inject:b_};function Xh(e,t){return t?e?function(){return fn(vt(e)?e.call(this,this):e,vt(t)?t.call(this,this):t)}:t:e}function b_(e,t){return Oa(Ec(e),Ec(t))}function Ec(e){if(gt(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function wn(e,t){return e?[...new Set([].concat(e,t))]:t}function Oa(e,t){return e?fn(Object.create(null),e,t):t}function Zh(e,t){return e?gt(e)&&gt(t)?[...new Set([...e,...t])]:fn(Object.create(null),Vh(e),Vh(t??{})):t}function S_(e,t){if(!e)return t;if(!t)return e;const n=fn(Object.create(null),e);for(const i in t)n[i]=wn(e[i],t[i]);return n}function Zv(){return{app:null,config:{isNativeTag:dI,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let C_=0;function x_(e,t){return function(i,u=null){vt(i)||(i=fn({},i)),u!=null&&!Jt(u)&&(u=null);const b=Zv(),I=new WeakSet,y=[];let M=!1;const l=b.app={_uid:C_++,_component:i,_props:u,_container:null,_context:b,_instance:null,version:nM,get config(){return b.config},set config(r){},use(r,...w){return I.has(r)||(r&&vt(r.install)?(I.add(r),r.install(l,...w)):vt(r)&&(I.add(r),r(l,...w))),l},mixin(r){return b.mixins.includes(r)||b.mixins.push(r),l},component(r,w){return w?(b.components[r]=w,l):b.components[r]},directive(r,w){return w?(b.directives[r]=w,l):b.directives[r]},mount(r,w,A){if(!M){const D=l._ceVNode||$(i,u);return D.appContext=b,A===!0?A="svg":A===!1&&(A=void 0),e(D,r,A),M=!0,l._container=r,r.__vue_app__=l,al(D.component)}},onUnmount(r){y.push(r)},unmount(){M&&(li(y,l._instance,16),e(null,l._container),delete l._container.__vue_app__)},provide(r,w){return b.provides[r]=w,l},runWithContext(r){const w=Or;Or=l;try{return r()}finally{Or=w}}};return l}}let Or=null;function pn(e,t){if(dn){let n=dn.provides;const i=dn.parent&&dn.parent.provides;i===n&&(n=dn.provides=Object.create(i)),n[e]=t}}function Ot(e,t,n=!1){const i=dn||kn;if(i||Or){const u=Or?Or._context.provides:i?i.parent==null?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides:void 0;if(u&&e in u)return u[e];if(arguments.length>1)return n&&vt(t)?t.call(i&&i.proxy):t}}function I_(){return!!(dn||kn||Or)}const Jv={},$v=()=>Object.create(Jv),Kv=e=>Object.getPrototypeOf(e)===Jv;function __(e,t,n,i=!1){const u={},b=$v();e.propsDefaults=Object.create(null),Qv(e,t,u,b);for(const I in e.propsOptions[0])I in u||(u[I]=void 0);n?e.props=i?u:Iv(u):e.type.props?e.props=u:e.props=b,e.attrs=b}function M_(e,t,n,i){const{props:u,attrs:b,vnode:{patchFlag:I}}=e,y=ct(u),[M]=e.propsOptions;let l=!1;if((i||I>0)&&!(I&16)){if(I&8){const r=e.vnode.dynamicProps;for(let w=0;w<r.length;w++){let A=r[w];if(il(e.emitsOptions,A))continue;const D=t[A];if(M)if(Bt(b,A))D!==b[A]&&(b[A]=D,l=!0);else{const O=Hn(A);u[O]=wc(M,y,O,D,e,!1)}else D!==b[A]&&(b[A]=D,l=!0)}}}else{Qv(e,t,u,b)&&(l=!0);let r;for(const w in y)(!t||!Bt(t,w)&&((r=Br(w))===w||!Bt(t,r)))&&(M?n&&(n[w]!==void 0||n[r]!==void 0)&&(u[w]=wc(M,y,w,void 0,e,!0)):delete u[w]);if(b!==y)for(const w in b)(!t||!Bt(t,w))&&(delete b[w],l=!0)}l&&Fi(e.attrs,"set","")}function Qv(e,t,n,i){const[u,b]=e.propsOptions;let I=!1,y;if(t)for(let M in t){if(Da(M))continue;const l=t[M];let r;u&&Bt(u,r=Hn(M))?!b||!b.includes(r)?n[r]=l:(y||(y={}))[r]=l:il(e.emitsOptions,M)||(!(M in i)||l!==i[M])&&(i[M]=l,I=!0)}if(b){const M=ct(n),l=y||Wt;for(let r=0;r<b.length;r++){const w=b[r];n[w]=wc(u,M,w,l[w],e,!Bt(l,w))}}return I}function wc(e,t,n,i,u,b){const I=e[n];if(I!=null){const y=Bt(I,"default");if(y&&i===void 0){const M=I.default;if(I.type!==Function&&!I.skipFactory&&vt(M)){const{propsDefaults:l}=u;if(n in l)i=l[n];else{const r=uo(u);i=l[n]=M.call(null,t),r()}}else i=M;u.ce&&u.ce._setProp(n,i)}I[0]&&(b&&!y?i=!1:I[1]&&(i===""||i===Br(n))&&(i=!0))}return i}const E_=new WeakMap;function qv(e,t,n=!1){const i=n?E_:t.propsCache,u=i.get(e);if(u)return u;const b=e.props,I={},y=[];let M=!1;if(!vt(e)){const r=w=>{M=!0;const[A,D]=qv(w,t,!0);fn(I,A),D&&y.push(...D)};!n&&t.mixins.length&&t.mixins.forEach(r),e.extends&&r(e.extends),e.mixins&&e.mixins.forEach(r)}if(!b&&!M)return Jt(e)&&i.set(e,Qr),Qr;if(gt(b))for(let r=0;r<b.length;r++){const w=Hn(b[r]);Jh(w)&&(I[w]=Wt)}else if(b)for(const r in b){const w=Hn(r);if(Jh(w)){const A=b[r],D=I[w]=gt(A)||vt(A)?{type:A}:fn({},A),O=D.type;let N=!1,p=!0;if(gt(O))for(let a=0;a<O.length;++a){const m=O[a],v=vt(m)&&m.name;if(v==="Boolean"){N=!0;break}else v==="String"&&(p=!1)}else N=vt(O)&&O.name==="Boolean";D[0]=N,D[1]=p,(N||Bt(D,"default"))&&y.push(w)}}const l=[I,y];return Jt(e)&&i.set(e,l),l}function Jh(e){return e[0]!=="$"&&!Da(e)}const wu=e=>e[0]==="_"||e==="$stable",Tu=e=>gt(e)?e.map(Si):[Si(e)],w_=(e,t,n)=>{if(t._n)return t;const i=qe((...u)=>Tu(t(...u)),n);return i._c=!1,i},em=(e,t,n)=>{const i=e._ctx;for(const u in e){if(wu(u))continue;const b=e[u];if(vt(b))t[u]=w_(u,b,i);else if(b!=null){const I=Tu(b);t[u]=()=>I}}},tm=(e,t)=>{const n=Tu(t);e.slots.default=()=>n},nm=(e,t,n)=>{for(const i in t)(n||!wu(i))&&(e[i]=t[i])},T_=(e,t,n)=>{const i=e.slots=$v();if(e.vnode.shapeFlag&32){const u=t._;u?(nm(i,t,n),n&&iv(i,"_",u,!0)):em(t,i)}else t&&tm(e,t)},A_=(e,t,n)=>{const{vnode:i,slots:u}=e;let b=!0,I=Wt;if(i.shapeFlag&32){const y=t._;y?n&&y===1?b=!1:nm(u,t,n):(b=!t.$stable,em(t,u)),I=t}else t&&(tm(e,t),I={default:1});if(b)for(const y in u)!wu(y)&&I[y]==null&&delete u[y]},Tn=W_;function O_(e){return D_(e)}function D_(e,t){const n=Ks();n.__VUE__=!0;const{insert:i,remove:u,patchProp:b,createElement:I,createText:y,createComment:M,setText:l,setElementText:r,parentNode:w,nextSibling:A,setScopeId:D=Ii,insertStaticContent:O}=e,N=(V,H,W,J=null,Q=null,se=null,fe=void 0,ye=null,Se=!!H.dynamicChildren)=>{if(V===H)return;V&&!Er(V,H)&&(J=ge(V),ee(V,Q,se,!0),V=null),H.patchFlag===-2&&(Se=!1,H.dynamicChildren=null);const{type:me,ref:ue,shapeFlag:ie}=H;switch(me){case co:p(V,H,W,J);break;case Dn:a(V,H,W,J);break;case Jl:V==null&&m(H,W,J,fe);break;case Ut:k(V,H,W,J,Q,se,fe,ye,Se);break;default:ie&1?c(V,H,W,J,Q,se,fe,ye,Se):ie&6?L(V,H,W,J,Q,se,fe,ye,Se):(ie&64||ie&128)&&me.process(V,H,W,J,Q,se,fe,ye,Se,ne)}ue!=null&&Q&&Ts(ue,V&&V.ref,se,H||V,!H)},p=(V,H,W,J)=>{if(V==null)i(H.el=y(H.children),W,J);else{const Q=H.el=V.el;H.children!==V.children&&l(Q,H.children)}},a=(V,H,W,J)=>{V==null?i(H.el=M(H.children||""),W,J):H.el=V.el},m=(V,H,W,J)=>{[V.el,V.anchor]=O(V.children,H,W,J,V.el,V.anchor)},v=({el:V,anchor:H},W,J)=>{let Q;for(;V&&V!==H;)Q=A(V),i(V,W,J),V=Q;i(H,W,J)},o=({el:V,anchor:H})=>{let W;for(;V&&V!==H;)W=A(V),u(V),V=W;u(H)},c=(V,H,W,J,Q,se,fe,ye,Se)=>{H.type==="svg"?fe="svg":H.type==="math"&&(fe="mathml"),V==null?s(H,W,J,Q,se,fe,ye,Se):h(V,H,Q,se,fe,ye,Se)},s=(V,H,W,J,Q,se,fe,ye)=>{let Se,me;const{props:ue,shapeFlag:ie,transition:le,dirs:de}=V;if(Se=V.el=I(V.type,se,ue&&ue.is,ue),ie&8?r(Se,V.children):ie&16&&x(V.children,Se,null,J,Q,Zl(V,se),fe,ye),de&&Sr(V,null,J,"created"),g(Se,V,V.scopeId,fe,J),ue){for(const _e in ue)_e!=="value"&&!Da(_e)&&b(Se,_e,null,ue[_e],se,J);"value"in ue&&b(Se,"value",null,ue.value,se),(me=ue.onVnodeBeforeMount)&&mi(me,J,V)}de&&Sr(V,null,J,"beforeMount");const pe=k_(Q,le);pe&&le.beforeEnter(Se),i(Se,H,W),((me=ue&&ue.onVnodeMounted)||pe||de)&&Tn(()=>{me&&mi(me,J,V),pe&&le.enter(Se),de&&Sr(V,null,J,"mounted")},Q)},g=(V,H,W,J,Q)=>{if(W&&D(V,W),J)for(let se=0;se<J.length;se++)D(V,J[se]);if(Q){let se=Q.subTree;if(H===se||om(se.type)&&(se.ssContent===H||se.ssFallback===H)){const fe=Q.vnode;g(V,fe,fe.scopeId,fe.slotScopeIds,Q.parent)}}},x=(V,H,W,J,Q,se,fe,ye,Se=0)=>{for(let me=Se;me<V.length;me++){const ue=V[me]=ye?fr(V[me]):Si(V[me]);N(null,ue,H,W,J,Q,se,fe,ye)}},h=(V,H,W,J,Q,se,fe)=>{const ye=H.el=V.el;let{patchFlag:Se,dynamicChildren:me,dirs:ue}=H;Se|=V.patchFlag&16;const ie=V.props||Wt,le=H.props||Wt;let de;if(W&&Cr(W,!1),(de=le.onVnodeBeforeUpdate)&&mi(de,W,H,V),ue&&Sr(H,V,W,"beforeUpdate"),W&&Cr(W,!0),(ie.innerHTML&&le.innerHTML==null||ie.textContent&&le.textContent==null)&&r(ye,""),me?E(V.dynamicChildren,me,ye,W,J,Zl(H,Q),se):fe||K(V,H,ye,null,W,J,Zl(H,Q),se,!1),Se>0){if(Se&16)T(ye,ie,le,W,Q);else if(Se&2&&ie.class!==le.class&&b(ye,"class",null,le.class,Q),Se&4&&b(ye,"style",ie.style,le.style,Q),Se&8){const pe=H.dynamicProps;for(let _e=0;_e<pe.length;_e++){const Oe=pe[_e],Ge=ie[Oe],Ye=le[Oe];(Ye!==Ge||Oe==="value")&&b(ye,Oe,Ge,Ye,Q,W)}}Se&1&&V.children!==H.children&&r(ye,H.children)}else!fe&&me==null&&T(ye,ie,le,W,Q);((de=le.onVnodeUpdated)||ue)&&Tn(()=>{de&&mi(de,W,H,V),ue&&Sr(H,V,W,"updated")},J)},E=(V,H,W,J,Q,se,fe)=>{for(let ye=0;ye<H.length;ye++){const Se=V[ye],me=H[ye],ue=Se.el&&(Se.type===Ut||!Er(Se,me)||Se.shapeFlag&70)?w(Se.el):W;N(Se,me,ue,null,J,Q,se,fe,!0)}},T=(V,H,W,J,Q)=>{if(H!==W){if(H!==Wt)for(const se in H)!Da(se)&&!(se in W)&&b(V,se,H[se],null,Q,J);for(const se in W){if(Da(se))continue;const fe=W[se],ye=H[se];fe!==ye&&se!=="value"&&b(V,se,ye,fe,Q,J)}"value"in W&&b(V,"value",H.value,W.value,Q)}},k=(V,H,W,J,Q,se,fe,ye,Se)=>{const me=H.el=V?V.el:y(""),ue=H.anchor=V?V.anchor:y("");let{patchFlag:ie,dynamicChildren:le,slotScopeIds:de}=H;de&&(ye=ye?ye.concat(de):de),V==null?(i(me,W,J),i(ue,W,J),x(H.children||[],W,ue,Q,se,fe,ye,Se)):ie>0&&ie&64&&le&&V.dynamicChildren?(E(V.dynamicChildren,le,W,Q,se,fe,ye),(H.key!=null||Q&&H===Q.subTree)&&Au(V,H,!0)):K(V,H,W,ue,Q,se,fe,ye,Se)},L=(V,H,W,J,Q,se,fe,ye,Se)=>{H.slotScopeIds=ye,V==null?H.shapeFlag&512?Q.ctx.activate(H,W,J,fe,Se):F(H,W,J,Q,se,fe,Se):U(V,H,Se)},F=(V,H,W,J,Q,se,fe)=>{const ye=V.component=J_(V,J,Q);if(el(V)&&(ye.ctx.renderer=ne),$_(ye,!1,fe),ye.asyncDep){if(Q&&Q.registerDep(ye,G,fe),!V.el){const Se=ye.subTree=$(Dn);a(null,Se,H,W)}}else G(ye,V,H,W,Q,se,fe)},U=(V,H,W)=>{const J=H.component=V.component;if(H_(V,H,W))if(J.asyncDep&&!J.asyncResolved){Y(J,H,W);return}else J.next=H,J.update();else H.el=V.el,J.vnode=H},G=(V,H,W,J,Q,se,fe)=>{const ye=()=>{if(V.isMounted){let{next:ie,bu:le,u:de,parent:pe,vnode:_e}=V;{const Je=im(V);if(Je){ie&&(ie.el=_e.el,Y(V,ie,fe)),Je.asyncDep.then(()=>{V.isUnmounted||ye()});return}}let Oe=ie,Ge;Cr(V,!1),ie?(ie.el=_e.el,Y(V,ie,fe)):ie=_e,le&&Hl(le),(Ge=ie.props&&ie.props.onVnodeBeforeUpdate)&&mi(Ge,pe,ie,_e),Cr(V,!0);const Ye=Kh(V),Te=V.subTree;V.subTree=Ye,N(Te,Ye,w(Te.el),ge(Te),V,Q,se),ie.el=Ye.el,Oe===null&&U_(V,Ye.el),de&&Tn(de,Q),(Ge=ie.props&&ie.props.onVnodeUpdated)&&Tn(()=>mi(Ge,pe,ie,_e),Q)}else{let ie;const{el:le,props:de}=H,{bm:pe,m:_e,parent:Oe,root:Ge,type:Ye}=V,Te=Na(H);Cr(V,!1),pe&&Hl(pe),!Te&&(ie=de&&de.onVnodeBeforeMount)&&mi(ie,Oe,H),Cr(V,!0);{Ge.ce&&Ge.ce._injectChildStyle(Ye);const Je=V.subTree=Kh(V);N(null,Je,W,J,V,Q,se),H.el=Je.el}if(_e&&Tn(_e,Q),!Te&&(ie=de&&de.onVnodeMounted)){const Je=H;Tn(()=>mi(ie,Oe,Je),Q)}(H.shapeFlag&256||Oe&&Na(Oe.vnode)&&Oe.vnode.shapeFlag&256)&&V.a&&Tn(V.a,Q),V.isMounted=!0,H=W=J=null}};V.scope.on();const Se=V.effect=new cv(ye);V.scope.off();const me=V.update=Se.run.bind(Se),ue=V.job=Se.runIfDirty.bind(Se);ue.i=V,ue.id=V.uid,Se.scheduler=()=>Cu(ue),Cr(V,!0),me()},Y=(V,H,W)=>{H.component=V;const J=V.vnode.props;V.vnode=H,V.next=null,M_(V,H.props,J,W),A_(V,H.children,W),Ui(),Bh(V),Wi()},K=(V,H,W,J,Q,se,fe,ye,Se=!1)=>{const me=V&&V.children,ue=V?V.shapeFlag:0,ie=H.children,{patchFlag:le,shapeFlag:de}=H;if(le>0){if(le&128){oe(me,ie,W,J,Q,se,fe,ye,Se);return}else if(le&256){he(me,ie,W,J,Q,se,fe,ye,Se);return}}de&8?(ue&16&&we(me,Q,se),ie!==me&&r(W,ie)):ue&16?de&16?oe(me,ie,W,J,Q,se,fe,ye,Se):we(me,Q,se,!0):(ue&8&&r(W,""),de&16&&x(ie,W,J,Q,se,fe,ye,Se))},he=(V,H,W,J,Q,se,fe,ye,Se)=>{V=V||Qr,H=H||Qr;const me=V.length,ue=H.length,ie=Math.min(me,ue);let le;for(le=0;le<ie;le++){const de=H[le]=Se?fr(H[le]):Si(H[le]);N(V[le],de,W,null,Q,se,fe,ye,Se)}me>ue?we(V,Q,se,!0,!1,ie):x(H,W,J,Q,se,fe,ye,Se,ie)},oe=(V,H,W,J,Q,se,fe,ye,Se)=>{let me=0;const ue=H.length;let ie=V.length-1,le=ue-1;for(;me<=ie&&me<=le;){const de=V[me],pe=H[me]=Se?fr(H[me]):Si(H[me]);if(Er(de,pe))N(de,pe,W,null,Q,se,fe,ye,Se);else break;me++}for(;me<=ie&&me<=le;){const de=V[ie],pe=H[le]=Se?fr(H[le]):Si(H[le]);if(Er(de,pe))N(de,pe,W,null,Q,se,fe,ye,Se);else break;ie--,le--}if(me>ie){if(me<=le){const de=le+1,pe=de<ue?H[de].el:J;for(;me<=le;)N(null,H[me]=Se?fr(H[me]):Si(H[me]),W,pe,Q,se,fe,ye,Se),me++}}else if(me>le)for(;me<=ie;)ee(V[me],Q,se,!0),me++;else{const de=me,pe=me,_e=new Map;for(me=pe;me<=le;me++){const St=H[me]=Se?fr(H[me]):Si(H[me]);St.key!=null&&_e.set(St.key,me)}let Oe,Ge=0;const Ye=le-pe+1;let Te=!1,Je=0;const et=new Array(Ye);for(me=0;me<Ye;me++)et[me]=0;for(me=de;me<=ie;me++){const St=V[me];if(Ge>=Ye){ee(St,Q,se,!0);continue}let mt;if(St.key!=null)mt=_e.get(St.key);else for(Oe=pe;Oe<=le;Oe++)if(et[Oe-pe]===0&&Er(St,H[Oe])){mt=Oe;break}mt===void 0?ee(St,Q,se,!0):(et[mt-pe]=me+1,mt>=Je?Je=mt:Te=!0,N(St,H[mt],W,null,Q,se,fe,ye,Se),Ge++)}const ut=Te?P_(et):Qr;for(Oe=ut.length-1,me=Ye-1;me>=0;me--){const St=pe+me,mt=H[St],wt=St+1<ue?H[St+1].el:J;et[me]===0?N(null,mt,W,wt,Q,se,fe,ye,Se):Te&&(Oe<0||me!==ut[Oe]?ve(mt,W,wt,2):Oe--)}}},ve=(V,H,W,J,Q=null)=>{const{el:se,type:fe,transition:ye,children:Se,shapeFlag:me}=V;if(me&6){ve(V.component.subTree,H,W,J);return}if(me&128){V.suspense.move(H,W,J);return}if(me&64){fe.move(V,H,W,ne);return}if(fe===Ut){i(se,H,W);for(let ie=0;ie<Se.length;ie++)ve(Se[ie],H,W,J);i(V.anchor,H,W);return}if(fe===Jl){v(V,H,W);return}if(J!==2&&me&1&&ye)if(J===0)ye.beforeEnter(se),i(se,H,W),Tn(()=>ye.enter(se),Q);else{const{leave:ie,delayLeave:le,afterLeave:de}=ye,pe=()=>{V.ctx.isUnmounted?u(se):i(se,H,W)},_e=()=>{ie(se,()=>{pe(),de&&de()})};le?le(se,pe,_e):_e()}else i(se,H,W)},ee=(V,H,W,J=!1,Q=!1)=>{const{type:se,props:fe,ref:ye,children:Se,dynamicChildren:me,shapeFlag:ue,patchFlag:ie,dirs:le,cacheIndex:de}=V;if(ie===-2&&(Q=!1),ye!=null&&(Ui(),Ts(ye,null,W,V,!0),Wi()),de!=null&&(H.renderCache[de]=void 0),ue&256){H.ctx.deactivate(V);return}const pe=ue&1&&le,_e=!Na(V);let Oe;if(_e&&(Oe=fe&&fe.onVnodeBeforeUnmount)&&mi(Oe,H,V),ue&6)Be(V.component,W,J);else{if(ue&128){V.suspense.unmount(W,J);return}pe&&Sr(V,null,H,"beforeUnmount"),ue&64?V.type.remove(V,H,W,ne,J):me&&!me.hasOnce&&(se!==Ut||ie>0&&ie&64)?we(me,H,W,!1,!0):(se===Ut&&ie&384||!Q&&ue&16)&&we(Se,H,W),J&&xe(V)}(_e&&(Oe=fe&&fe.onVnodeUnmounted)||pe)&&Tn(()=>{Oe&&mi(Oe,H,V),pe&&Sr(V,null,H,"unmounted")},W)},xe=V=>{const{type:H,el:W,anchor:J,transition:Q}=V;if(H===Ut){Z(W,J);return}if(H===Jl){o(V);return}const se=()=>{u(W),Q&&!Q.persisted&&Q.afterLeave&&Q.afterLeave()};if(V.shapeFlag&1&&Q&&!Q.persisted){const{leave:fe,delayLeave:ye}=Q,Se=()=>fe(W,se);ye?ye(V.el,se,Se):Se()}else se()},Z=(V,H)=>{let W;for(;V!==H;)W=A(V),u(V),V=W;u(H)},Be=(V,H,W)=>{const{bum:J,scope:Q,job:se,subTree:fe,um:ye,m:Se,a:me,parent:ue,slots:{__:ie}}=V;$h(Se),$h(me),J&&Hl(J),ue&&gt(ie)&&ie.forEach(le=>{ue.renderCache[le]=void 0}),Q.stop(),se&&(se.flags|=8,ee(fe,V,H,W)),ye&&Tn(ye,H),Tn(()=>{V.isUnmounted=!0},H),H&&H.pendingBranch&&!H.isUnmounted&&V.asyncDep&&!V.asyncResolved&&V.suspenseId===H.pendingId&&(H.deps--,H.deps===0&&H.resolve())},we=(V,H,W,J=!1,Q=!1,se=0)=>{for(let fe=se;fe<V.length;fe++)ee(V[fe],H,W,J,Q)},ge=V=>{if(V.shapeFlag&6)return ge(V.component.subTree);if(V.shapeFlag&128)return V.suspense.next();const H=A(V.anchor||V.el),W=H&&H[kv];return W?A(W):H};let te=!1;const ae=(V,H,W)=>{V==null?H._vnode&&ee(H._vnode,null,null,!0):N(H._vnode||null,V,H,null,null,null,W),H._vnode=V,te||(te=!0,Bh(),Av(),te=!1)},ne={p:N,um:ee,m:ve,r:xe,mt:F,mc:x,pc:K,pbc:E,n:ge,o:e};return{render:ae,hydrate:void 0,createApp:x_(ae)}}function Zl({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function Cr({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function k_(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function Au(e,t,n=!1){const i=e.children,u=t.children;if(gt(i)&&gt(u))for(let b=0;b<i.length;b++){const I=i[b];let y=u[b];y.shapeFlag&1&&!y.dynamicChildren&&((y.patchFlag<=0||y.patchFlag===32)&&(y=u[b]=fr(u[b]),y.el=I.el),!n&&y.patchFlag!==-2&&Au(I,y)),y.type===co&&(y.el=I.el),y.type===Dn&&!y.el&&(y.el=I.el)}}function P_(e){const t=e.slice(),n=[0];let i,u,b,I,y;const M=e.length;for(i=0;i<M;i++){const l=e[i];if(l!==0){if(u=n[n.length-1],e[u]<l){t[i]=u,n.push(i);continue}for(b=0,I=n.length-1;b<I;)y=b+I>>1,e[n[y]]<l?b=y+1:I=y;l<e[n[b]]&&(b>0&&(t[i]=n[b-1]),n[b]=i)}}for(b=n.length,I=n[b-1];b-- >0;)n[b]=I,I=t[I];return n}function im(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:im(t)}function $h(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const L_=Symbol.for("v-scx"),N_=()=>Ot(L_);function Ei(e,t){return Ou(e,null,t)}function ht(e,t,n){return Ou(e,t,n)}function Ou(e,t,n=Wt){const{immediate:i,deep:u,flush:b,once:I}=n,y=fn({},n),M=t&&i||!t&&b!=="post";let l;if(Xa){if(b==="sync"){const D=N_();l=D.__watcherHandles||(D.__watcherHandles=[])}else if(!M){const D=()=>{};return D.stop=Ii,D.resume=Ii,D.pause=Ii,D}}const r=dn;y.call=(D,O,N)=>li(D,r,O,N);let w=!1;b==="post"?y.scheduler=D=>{Tn(D,r&&r.suspense)}:b!=="sync"&&(w=!0,y.scheduler=(D,O)=>{O?D():Cu(D)}),y.augmentJob=D=>{t&&(D.flags|=4),w&&(D.flags|=2,r&&(D.id=r.uid,D.i=r))};const A=QI(e,t,y);return Xa&&(l?l.push(A):M&&A()),A}function R_(e,t,n){const i=this.proxy,u=rn(e)?e.includes(".")?rm(i,e):()=>i[e]:e.bind(i,i);let b;vt(t)?b=t:(b=t.handler,n=t);const I=uo(this),y=Ou(u,b.bind(i),n);return I(),y}function rm(e,t){const n=t.split(".");return()=>{let i=e;for(let u=0;u<n.length&&i;u++)i=i[n[u]];return i}}const j_=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${Hn(t)}Modifiers`]||e[`${Br(t)}Modifiers`];function F_(e,t,...n){if(e.isUnmounted)return;const i=e.vnode.props||Wt;let u=n;const b=t.startsWith("update:"),I=b&&j_(i,t.slice(7));I&&(I.trim&&(u=n.map(r=>rn(r)?r.trim():r)),I.number&&(u=n.map(yI)));let y,M=i[y=zl(t)]||i[y=zl(Hn(t))];!M&&b&&(M=i[y=zl(Br(t))]),M&&li(M,e,6,u);const l=i[y+"Once"];if(l){if(!e.emitted)e.emitted={};else if(e.emitted[y])return;e.emitted[y]=!0,li(l,e,6,u)}}function am(e,t,n=!1){const i=t.emitsCache,u=i.get(e);if(u!==void 0)return u;const b=e.emits;let I={},y=!1;if(!vt(e)){const M=l=>{const r=am(l,t,!0);r&&(y=!0,fn(I,r))};!n&&t.mixins.length&&t.mixins.forEach(M),e.extends&&M(e.extends),e.mixins&&e.mixins.forEach(M)}return!b&&!y?(Jt(e)&&i.set(e,null),null):(gt(b)?b.forEach(M=>I[M]=null):fn(I,b),Jt(e)&&i.set(e,I),I)}function il(e,t){return!e||!Zs(t)?!1:(t=t.slice(2).replace(/Once$/,""),Bt(e,t[0].toLowerCase()+t.slice(1))||Bt(e,Br(t))||Bt(e,t))}function Kh(e){const{type:t,vnode:n,proxy:i,withProxy:u,propsOptions:[b],slots:I,attrs:y,emit:M,render:l,renderCache:r,props:w,data:A,setupState:D,ctx:O,inheritAttrs:N}=e,p=ws(e);let a,m;try{if(n.shapeFlag&4){const o=u||i,c=o;a=Si(l.call(c,o,r,w,D,A,O)),m=y}else{const o=t;a=Si(o.length>1?o(w,{attrs:y,slots:I,emit:M}):o(w,null)),m=t.props?y:B_(y)}}catch(o){ja.length=0,qs(o,e,1),a=$(Dn)}let v=a;if(m&&N!==!1){const o=Object.keys(m),{shapeFlag:c}=v;o.length&&c&7&&(b&&o.some(su)&&(m=z_(m,b)),v=Vi(v,m,!1,!0))}return n.dirs&&(v=Vi(v,null,!1,!0),v.dirs=v.dirs?v.dirs.concat(n.dirs):n.dirs),n.transition&&Nr(v,n.transition),a=v,ws(p),a}const B_=e=>{let t;for(const n in e)(n==="class"||n==="style"||Zs(n))&&((t||(t={}))[n]=e[n]);return t},z_=(e,t)=>{const n={};for(const i in e)(!su(i)||!(i.slice(9)in t))&&(n[i]=e[i]);return n};function H_(e,t,n){const{props:i,children:u,component:b}=e,{props:I,children:y,patchFlag:M}=t,l=b.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&M>=0){if(M&1024)return!0;if(M&16)return i?Qh(i,I,l):!!I;if(M&8){const r=t.dynamicProps;for(let w=0;w<r.length;w++){const A=r[w];if(I[A]!==i[A]&&!il(l,A))return!0}}}else return(u||y)&&(!y||!y.$stable)?!0:i===I?!1:i?I?Qh(i,I,l):!0:!!I;return!1}function Qh(e,t,n){const i=Object.keys(t);if(i.length!==Object.keys(e).length)return!0;for(let u=0;u<i.length;u++){const b=i[u];if(t[b]!==e[b]&&!il(n,b))return!0}return!1}function U_({vnode:e,parent:t},n){for(;t;){const i=t.subTree;if(i.suspense&&i.suspense.activeBranch===e&&(i.el=e.el),i===e)(e=t.vnode).el=n,t=t.parent;else break}}const om=e=>e.__isSuspense;function W_(e,t){t&&t.pendingBranch?gt(e)?t.effects.push(...e):t.effects.push(e):t_(e)}const Ut=Symbol.for("v-fgt"),co=Symbol.for("v-txt"),Dn=Symbol.for("v-cmt"),Jl=Symbol.for("v-stc"),ja=[];let Xn=null;function ei(e=!1){ja.push(Xn=e?null:[])}function Y_(){ja.pop(),Xn=ja[ja.length-1]||null}let Ga=1;function qh(e,t=!1){Ga+=e,e<0&&Xn&&t&&(Xn.hasOnce=!0)}function sm(e){return e.dynamicChildren=Ga>0?Xn||Qr:null,Y_(),Ga>0&&Xn&&Xn.push(e),e}function lm(e,t,n,i,u,b){return sm(Et(e,t,n,i,u,b,!0))}function Mi(e,t,n,i,u){return sm($(e,t,n,i,u,!0))}function Os(e){return e?e.__v_isVNode===!0:!1}function Er(e,t){return e.type===t.type&&e.key===t.key}const cm=({key:e})=>e??null,gs=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?rn(e)||Zt(e)||vt(e)?{i:kn,r:e,k:t,f:!!n}:e:null);function Et(e,t=null,n=null,i=0,u=null,b=e===Ut?0:1,I=!1,y=!1){const M={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&cm(t),ref:t&&gs(t),scopeId:Dv,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:b,patchFlag:i,dynamicProps:u,dynamicChildren:null,appContext:null,ctx:kn};return y?(Du(M,n),b&128&&e.normalize(M)):n&&(M.shapeFlag|=rn(n)?8:16),Ga>0&&!I&&Xn&&(M.patchFlag>0||b&6)&&M.patchFlag!==32&&Xn.push(M),M}const $=V_;function V_(e,t=null,n=null,i=0,u=null,b=!1){if((!e||e===d_)&&(e=Dn),Os(e)){const y=Vi(e,t,!0);return n&&Du(y,n),Ga>0&&!b&&Xn&&(y.shapeFlag&6?Xn[Xn.indexOf(e)]=y:Xn.push(y)),y.patchFlag=-2,y}if(tM(e)&&(e=e.__vccOpts),t){t=G_(t);let{class:y,style:M}=t;y&&!rn(y)&&(t.class=fu(y)),Jt(M)&&(bu(M)&&!gt(M)&&(M=fn({},M)),t.style=uu(M))}const I=rn(e)?1:om(e)?128:Pv(e)?64:Jt(e)?4:vt(e)?2:0;return Et(e,t,n,i,u,I,b,!0)}function G_(e){return e?bu(e)||Kv(e)?fn({},e):e:null}function Vi(e,t,n=!1,i=!1){const{props:u,ref:b,patchFlag:I,children:y,transition:M}=e,l=t?It(u||{},t):u,r={__v_isVNode:!0,__v_skip:!0,type:e.type,props:l,key:l&&cm(l),ref:t&&t.ref?n&&b?gt(b)?b.concat(gs(t)):[b,gs(t)]:gs(t):b,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:y,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Ut?I===-1?16:I|16:I,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:M,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Vi(e.ssContent),ssFallback:e.ssFallback&&Vi(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return M&&i&&Nr(r,M.clone(r)),r}function kt(e=" ",t=0){return $(co,null,e,t)}function Tc(e="",t=!1){return t?(ei(),Mi(Dn,null,e)):$(Dn,null,e)}function Si(e){return e==null||typeof e=="boolean"?$(Dn):gt(e)?$(Ut,null,e.slice()):Os(e)?fr(e):$(co,null,String(e))}function fr(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Vi(e)}function Du(e,t){let n=0;const{shapeFlag:i}=e;if(t==null)t=null;else if(gt(t))n=16;else if(typeof t=="object")if(i&65){const u=t.default;u&&(u._c&&(u._d=!1),Du(e,u()),u._c&&(u._d=!0));return}else{n=32;const u=t._;!u&&!Kv(t)?t._ctx=kn:u===3&&kn&&(kn.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else vt(t)?(t={default:t,_ctx:kn},n=32):(t=String(t),i&64?(n=16,t=[kt(t)]):n=8);e.children=t,e.shapeFlag|=n}function It(...e){const t={};for(let n=0;n<e.length;n++){const i=e[n];for(const u in i)if(u==="class")t.class!==i.class&&(t.class=fu([t.class,i.class]));else if(u==="style")t.style=uu([t.style,i.style]);else if(Zs(u)){const b=t[u],I=i[u];I&&b!==I&&!(gt(b)&&b.includes(I))&&(t[u]=b?[].concat(b,I):I)}else u!==""&&(t[u]=i[u])}return t}function mi(e,t,n,i=null){li(e,t,7,[n,i])}const X_=Zv();let Z_=0;function J_(e,t,n){const i=e.type,u=(t?t.appContext:e.appContext)||X_,b={uid:Z_++,vnode:e,type:i,parent:t,appContext:u,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new sv(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(u.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:qv(i,u),emitsOptions:am(i,u),emit:null,emitted:null,propsDefaults:Wt,inheritAttrs:i.inheritAttrs,ctx:Wt,data:Wt,props:Wt,attrs:Wt,slots:Wt,refs:Wt,setupState:Wt,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return b.ctx={_:b},b.root=t?t.root:b,b.emit=F_.bind(null,b),e.ce&&e.ce(b),b}let dn=null;const rl=()=>dn||kn;let Ds,Ac;{const e=Ks(),t=(n,i)=>{let u;return(u=e[n])||(u=e[n]=[]),u.push(i),b=>{u.length>1?u.forEach(I=>I(b)):u[0](b)}};Ds=t("__VUE_INSTANCE_SETTERS__",n=>dn=n),Ac=t("__VUE_SSR_SETTERS__",n=>Xa=n)}const uo=e=>{const t=dn;return Ds(e),e.scope.on(),()=>{e.scope.off(),Ds(t)}},ed=()=>{dn&&dn.scope.off(),Ds(null)};function um(e){return e.vnode.shapeFlag&4}let Xa=!1;function $_(e,t=!1,n=!1){t&&Ac(t);const{props:i,children:u}=e.vnode,b=um(e);__(e,i,b,t),T_(e,u,n||t);const I=b?K_(e,t):void 0;return t&&Ac(!1),I}function K_(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,v_);const{setup:i}=n;if(i){Ui();const u=e.setupContext=i.length>1?q_(e):null,b=uo(e),I=oo(i,e,0,[e.props,u]),y=ev(I);if(Wi(),b(),(y||e.sp)&&!Na(e)&&Hv(e),y){if(I.then(ed,ed),t)return I.then(M=>{td(e,M)}).catch(M=>{qs(M,e,0)});e.asyncDep=I}else td(e,I)}else fm(e)}function td(e,t,n){vt(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Jt(t)&&(e.setupState=Mv(t)),fm(e)}function fm(e,t,n){const i=e.type;e.render||(e.render=i.render||Ii);{const u=uo(e);Ui();try{m_(e)}finally{Wi(),u()}}}const Q_={get(e,t){return In(e,"get",""),e[t]}};function q_(e){const t=n=>{e.exposed=n||{}};return{attrs:new Proxy(e.attrs,Q_),slots:e.slots,emit:e.emit,expose:t}}function al(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(Mv(Qs(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in Ra)return Ra[n](e)},has(t,n){return n in t||n in Ra}})):e.proxy}function eM(e,t=!0){return vt(e)?e.displayName||e.name:e.name||t&&e.__name}function tM(e){return vt(e)&&"__vccOpts"in e}const Ae=(e,t)=>$I(e,t,Xa);function wi(e,t,n){const i=arguments.length;return i===2?Jt(t)&&!gt(t)?Os(t)?$(e,null,[t]):$(e,t):$(e,null,t):(i>3?n=Array.prototype.slice.call(arguments,2):i===3&&Os(n)&&(n=[n]),$(e,t,n))}const nM="3.5.14";/**
* @vue/runtime-dom v3.5.14
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Oc;const nd=typeof window<"u"&&window.trustedTypes;if(nd)try{Oc=nd.createPolicy("vue",{createHTML:e=>e})}catch{}const hm=Oc?e=>Oc.createHTML(e):e=>e,iM="http://www.w3.org/2000/svg",rM="http://www.w3.org/1998/Math/MathML",ji=typeof document<"u"?document:null,id=ji&&ji.createElement("template"),aM={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,i)=>{const u=t==="svg"?ji.createElementNS(iM,e):t==="mathml"?ji.createElementNS(rM,e):n?ji.createElement(e,{is:n}):ji.createElement(e);return e==="select"&&i&&i.multiple!=null&&u.setAttribute("multiple",i.multiple),u},createText:e=>ji.createTextNode(e),createComment:e=>ji.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>ji.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,i,u,b){const I=n?n.previousSibling:t.lastChild;if(u&&(u===b||u.nextSibling))for(;t.insertBefore(u.cloneNode(!0),n),!(u===b||!(u=u.nextSibling)););else{id.innerHTML=hm(i==="svg"?`<svg>${e}</svg>`:i==="mathml"?`<math>${e}</math>`:e);const y=id.content;if(i==="svg"||i==="mathml"){const M=y.firstChild;for(;M.firstChild;)y.appendChild(M.firstChild);y.removeChild(M)}t.insertBefore(y,n)}return[I?I.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},ar="transition",_a="animation",ta=Symbol("_vtc"),dm={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},gm=fn({},jv,dm),oM=e=>(e.displayName="Transition",e.props=gm,e),Rr=oM((e,{slots:t})=>wi(a_,vm(e),t)),xr=(e,t=[])=>{gt(e)?e.forEach(n=>n(...t)):e&&e(...t)},rd=e=>e?gt(e)?e.some(t=>t.length>1):e.length>1:!1;function vm(e){const t={};for(const k in e)k in dm||(t[k]=e[k]);if(e.css===!1)return t;const{name:n="v",type:i,duration:u,enterFromClass:b=`${n}-enter-from`,enterActiveClass:I=`${n}-enter-active`,enterToClass:y=`${n}-enter-to`,appearFromClass:M=b,appearActiveClass:l=I,appearToClass:r=y,leaveFromClass:w=`${n}-leave-from`,leaveActiveClass:A=`${n}-leave-active`,leaveToClass:D=`${n}-leave-to`}=e,O=sM(u),N=O&&O[0],p=O&&O[1],{onBeforeEnter:a,onEnter:m,onEnterCancelled:v,onLeave:o,onLeaveCancelled:c,onBeforeAppear:s=a,onAppear:g=m,onAppearCancelled:x=v}=t,h=(k,L,F,U)=>{k._enterCancelled=U,sr(k,L?r:y),sr(k,L?l:I),F&&F()},E=(k,L)=>{k._isLeaving=!1,sr(k,w),sr(k,D),sr(k,A),L&&L()},T=k=>(L,F)=>{const U=k?g:m,G=()=>h(L,k,F);xr(U,[L,G]),ad(()=>{sr(L,k?M:b),yi(L,k?r:y),rd(U)||od(L,i,N,G)})};return fn(t,{onBeforeEnter(k){xr(a,[k]),yi(k,b),yi(k,I)},onBeforeAppear(k){xr(s,[k]),yi(k,M),yi(k,l)},onEnter:T(!1),onAppear:T(!0),onLeave(k,L){k._isLeaving=!0;const F=()=>E(k,L);yi(k,w),k._enterCancelled?(yi(k,A),Dc()):(Dc(),yi(k,A)),ad(()=>{k._isLeaving&&(sr(k,w),yi(k,D),rd(o)||od(k,i,p,F))}),xr(o,[k,F])},onEnterCancelled(k){h(k,!1,void 0,!0),xr(v,[k])},onAppearCancelled(k){h(k,!0,void 0,!0),xr(x,[k])},onLeaveCancelled(k){E(k),xr(c,[k])}})}function sM(e){if(e==null)return null;if(Jt(e))return[$l(e.enter),$l(e.leave)];{const t=$l(e);return[t,t]}}function $l(e){return bI(e)}function yi(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.add(n)),(e[ta]||(e[ta]=new Set)).add(t)}function sr(e,t){t.split(/\s+/).forEach(i=>i&&e.classList.remove(i));const n=e[ta];n&&(n.delete(t),n.size||(e[ta]=void 0))}function ad(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let lM=0;function od(e,t,n,i){const u=e._endId=++lM,b=()=>{u===e._endId&&i()};if(n!=null)return setTimeout(b,n);const{type:I,timeout:y,propCount:M}=mm(e,t);if(!I)return i();const l=I+"end";let r=0;const w=()=>{e.removeEventListener(l,A),b()},A=D=>{D.target===e&&++r>=M&&w()};setTimeout(()=>{r<M&&w()},y+1),e.addEventListener(l,A)}function mm(e,t){const n=window.getComputedStyle(e),i=O=>(n[O]||"").split(", "),u=i(`${ar}Delay`),b=i(`${ar}Duration`),I=sd(u,b),y=i(`${_a}Delay`),M=i(`${_a}Duration`),l=sd(y,M);let r=null,w=0,A=0;t===ar?I>0&&(r=ar,w=I,A=b.length):t===_a?l>0&&(r=_a,w=l,A=M.length):(w=Math.max(I,l),r=w>0?I>l?ar:_a:null,A=r?r===ar?b.length:M.length:0);const D=r===ar&&/\b(transform|all)(,|$)/.test(i(`${ar}Property`).toString());return{type:r,timeout:w,propCount:A,hasTransform:D}}function sd(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((n,i)=>ld(n)+ld(e[i])))}function ld(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function Dc(){return document.body.offsetHeight}function cM(e,t,n){const i=e[ta];i&&(t=(t?[t,...i]:[...i]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const ks=Symbol("_vod"),pm=Symbol("_vsh"),oa={beforeMount(e,{value:t},{transition:n}){e[ks]=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):Ma(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:i}){!t!=!n&&(i?t?(i.beforeEnter(e),Ma(e,!0),i.enter(e)):i.leave(e,()=>{Ma(e,!1)}):Ma(e,t))},beforeUnmount(e,{value:t}){Ma(e,t)}};function Ma(e,t){e.style.display=t?e[ks]:"none",e[pm]=!t}const uM=Symbol(""),fM=/(^|;)\s*display\s*:/;function hM(e,t,n){const i=e.style,u=rn(n);let b=!1;if(n&&!u){if(t)if(rn(t))for(const I of t.split(";")){const y=I.slice(0,I.indexOf(":")).trim();n[y]==null&&vs(i,y,"")}else for(const I in t)n[I]==null&&vs(i,I,"");for(const I in n)I==="display"&&(b=!0),vs(i,I,n[I])}else if(u){if(t!==n){const I=i[uM];I&&(n+=";"+I),i.cssText=n,b=fM.test(n)}}else t&&e.removeAttribute("style");ks in e&&(e[ks]=b?i.display:"",e[pm]&&(i.display="none"))}const cd=/\s*!important$/;function vs(e,t,n){if(gt(n))n.forEach(i=>vs(e,t,i));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const i=dM(e,t);cd.test(n)?e.setProperty(Br(i),n.replace(cd,""),"important"):e[i]=n}}const ud=["Webkit","Moz","ms"],Kl={};function dM(e,t){const n=Kl[t];if(n)return n;let i=Hn(t);if(i!=="filter"&&i in e)return Kl[t]=i;i=Xi(i);for(let u=0;u<ud.length;u++){const b=ud[u]+i;if(b in e)return Kl[t]=b}return t}const fd="http://www.w3.org/1999/xlink";function hd(e,t,n,i,u,b=MI(t)){i&&t.startsWith("xlink:")?n==null?e.removeAttributeNS(fd,t.slice(6,t.length)):e.setAttributeNS(fd,t,n):n==null||b&&!rv(n)?e.removeAttribute(t):e.setAttribute(t,b?"":pr(n)?String(n):n)}function dd(e,t,n,i,u){if(t==="innerHTML"||t==="textContent"){n!=null&&(e[t]=t==="innerHTML"?hm(n):n);return}const b=e.tagName;if(t==="value"&&b!=="PROGRESS"&&!b.includes("-")){const y=b==="OPTION"?e.getAttribute("value")||"":e.value,M=n==null?e.type==="checkbox"?"on":"":String(n);(y!==M||!("_value"in e))&&(e.value=M),n==null&&e.removeAttribute(t),e._value=n;return}let I=!1;if(n===""||n==null){const y=typeof e[t];y==="boolean"?n=rv(n):n==null&&y==="string"?(n="",I=!0):y==="number"&&(n=0,I=!0)}try{e[t]=n}catch{}I&&e.removeAttribute(u||t)}function gM(e,t,n,i){e.addEventListener(t,n,i)}function vM(e,t,n,i){e.removeEventListener(t,n,i)}const gd=Symbol("_vei");function mM(e,t,n,i,u=null){const b=e[gd]||(e[gd]={}),I=b[t];if(i&&I)I.value=i;else{const[y,M]=pM(t);if(i){const l=b[t]=SM(i,u);gM(e,y,l,M)}else I&&(vM(e,y,I,M),b[t]=void 0)}}const vd=/(?:Once|Passive|Capture)$/;function pM(e){let t;if(vd.test(e)){t={};let i;for(;i=e.match(vd);)e=e.slice(0,e.length-i[0].length),t[i[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Br(e.slice(2)),t]}let Ql=0;const yM=Promise.resolve(),bM=()=>Ql||(yM.then(()=>Ql=0),Ql=Date.now());function SM(e,t){const n=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=n.attached)return;li(CM(i,n.value),t,5,[i])};return n.value=e,n.attached=bM(),n}function CM(e,t){if(gt(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(i=>u=>!u._stopped&&i&&i(u))}else return t}const md=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,xM=(e,t,n,i,u,b)=>{const I=u==="svg";t==="class"?cM(e,i,I):t==="style"?hM(e,n,i):Zs(t)?su(t)||mM(e,t,n,i,b):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):IM(e,t,i,I))?(dd(e,t,i),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&hd(e,t,i,I,b,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!rn(i))?dd(e,Hn(t),i,b,t):(t==="true-value"?e._trueValue=i:t==="false-value"&&(e._falseValue=i),hd(e,t,i,I))};function IM(e,t,n,i){if(i)return!!(t==="innerHTML"||t==="textContent"||t in e&&md(t)&&vt(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const u=e.tagName;if(u==="IMG"||u==="VIDEO"||u==="CANVAS"||u==="SOURCE")return!1}return md(t)&&rn(n)?!1:t in e}const ym=new WeakMap,bm=new WeakMap,Ps=Symbol("_moveCb"),pd=Symbol("_enterCb"),_M=e=>(delete e.props.mode,e),MM=_M({name:"TransitionGroup",props:fn({},gm,{tag:String,moveClass:String}),setup(e,{slots:t}){const n=rl(),i=Rv();let u,b;return _u(()=>{if(!u.length)return;const I=e.moveClass||`${e.name||"v"}-move`;if(!AM(u[0].el,n.vnode.el,I)){u=[];return}u.forEach(EM),u.forEach(wM);const y=u.filter(TM);Dc(),y.forEach(M=>{const l=M.el,r=l.style;yi(l,I),r.transform=r.webkitTransform=r.transitionDuration="";const w=l[Ps]=A=>{A&&A.target!==l||(!A||/transform$/.test(A.propertyName))&&(l.removeEventListener("transitionend",w),l[Ps]=null,sr(l,I))};l.addEventListener("transitionend",w)}),u=[]}),()=>{const I=ct(e),y=vm(I);let M=I.tag||Ut;if(u=[],b)for(let l=0;l<b.length;l++){const r=b[l];r.el&&r.el instanceof Element&&(u.push(r),Nr(r,Va(r,y,i,n)),ym.set(r,r.el.getBoundingClientRect()))}b=t.default?xu(t.default()):[];for(let l=0;l<b.length;l++){const r=b[l];r.key!=null&&Nr(r,Va(r,y,i,n))}return $(M,null,b)}}}),ku=MM;function EM(e){const t=e.el;t[Ps]&&t[Ps](),t[pd]&&t[pd]()}function wM(e){bm.set(e,e.el.getBoundingClientRect())}function TM(e){const t=ym.get(e),n=bm.get(e),i=t.left-n.left,u=t.top-n.top;if(i||u){const b=e.el.style;return b.transform=b.webkitTransform=`translate(${i}px,${u}px)`,b.transitionDuration="0s",e}}function AM(e,t,n){const i=e.cloneNode(),u=e[ta];u&&u.forEach(y=>{y.split(/\s+/).forEach(M=>M&&i.classList.remove(M))}),n.split(/\s+/).forEach(y=>y&&i.classList.add(y)),i.style.display="none";const b=t.nodeType===1?t:t.parentNode;b.appendChild(i);const{hasTransform:I}=mm(i);return b.removeChild(i),I}const OM=["ctrl","shift","alt","meta"],DM={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>OM.some(n=>e[`${n}Key`]&&!t.includes(n))},Pu=(e,t)=>{const n=e._withMods||(e._withMods={}),i=t.join(".");return n[i]||(n[i]=(u,...b)=>{for(let I=0;I<t.length;I++){const y=DM[t[I]];if(y&&y(u,t))return}return e(u,...b)})},kM=fn({patchProp:xM},aM);let yd;function PM(){return yd||(yd=O_(kM))}const LM=(...e)=>{const t=PM().createApp(...e),{mount:n}=t;return t.mount=i=>{const u=RM(i);if(!u)return;const b=t._component;!vt(b)&&!b.render&&!b.template&&(b.template=u.innerHTML),u.nodeType===1&&(u.textContent="");const I=n(u,!1,NM(u));return u instanceof Element&&(u.removeAttribute("v-cloak"),u.setAttribute("data-v-app","")),I},t};function NM(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function RM(e){return rn(e)?document.querySelector(e):e}/*!
 * pinia v3.0.2
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let Sm;const ol=e=>Sm=e,Cm=Symbol();function kc(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var Fa;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(Fa||(Fa={}));function jM(){const e=Pr(!0),t=e.run(()=>$e({}));let n=[],i=[];const u=Qs({install(b){ol(u),u._a=b,b.provide(Cm,u),b.config.globalProperties.$pinia=u,i.forEach(I=>n.push(I)),i=[]},use(b){return this._a?n.push(b):i.push(b),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return u}const xm=()=>{};function bd(e,t,n,i=xm){e.push(t);const u=()=>{const b=e.indexOf(t);b>-1&&(e.splice(b,1),i())};return!n&&lv()&&Un(u),u}function Yr(e,...t){e.slice().forEach(n=>{n(...t)})}const FM=e=>e(),Sd=Symbol(),ql=Symbol();function Pc(e,t){e instanceof Map&&t instanceof Map?t.forEach((n,i)=>e.set(i,n)):e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const n in t){if(!t.hasOwnProperty(n))continue;const i=t[n],u=e[n];kc(u)&&kc(i)&&e.hasOwnProperty(n)&&!Zt(i)&&!Ar(i)?e[n]=Pc(u,i):e[n]=i}return e}const BM=Symbol();function zM(e){return!kc(e)||!Object.prototype.hasOwnProperty.call(e,BM)}const{assign:lr}=Object;function HM(e){return!!(Zt(e)&&e.effect)}function UM(e,t,n,i){const{state:u,actions:b,getters:I}=t,y=n.state.value[e];let M;function l(){y||(n.state.value[e]=u?u():{});const r=Su(n.state.value[e]);return lr(r,b,Object.keys(I||{}).reduce((w,A)=>(w[A]=Qs(Ae(()=>{ol(n);const D=n._s.get(e);return I[A].call(D,D)})),w),{}))}return M=Im(e,l,t,n,i,!0),M}function Im(e,t,n={},i,u,b){let I;const y=lr({actions:{}},n),M={deep:!0};let l,r,w=[],A=[],D;const O=i.state.value[e];!b&&!O&&(i.state.value[e]={}),$e({});let N;function p(x){let h;l=r=!1,typeof x=="function"?(x(i.state.value[e]),h={type:Fa.patchFunction,storeId:e,events:D}):(Pc(i.state.value[e],x),h={type:Fa.patchObject,payload:x,storeId:e,events:D});const E=N=Symbol();bn().then(()=>{N===E&&(l=!0)}),r=!0,Yr(w,h,i.state.value[e])}const a=b?function(){const{state:h}=n,E=h?h():{};this.$patch(T=>{lr(T,E)})}:xm;function m(){I.stop(),w=[],A=[],i._s.delete(e)}const v=(x,h="")=>{if(Sd in x)return x[ql]=h,x;const E=function(){ol(i);const T=Array.from(arguments),k=[],L=[];function F(Y){k.push(Y)}function U(Y){L.push(Y)}Yr(A,{args:T,name:E[ql],store:c,after:F,onError:U});let G;try{G=x.apply(this&&this.$id===e?this:c,T)}catch(Y){throw Yr(L,Y),Y}return G instanceof Promise?G.then(Y=>(Yr(k,Y),Y)).catch(Y=>(Yr(L,Y),Promise.reject(Y))):(Yr(k,G),G)};return E[Sd]=!0,E[ql]=h,E},o={_p:i,$id:e,$onAction:bd.bind(null,A),$patch:p,$reset:a,$subscribe(x,h={}){const E=bd(w,x,h.detached,()=>T()),T=I.run(()=>ht(()=>i.state.value[e],k=>{(h.flush==="sync"?r:l)&&x({storeId:e,type:Fa.direct,events:D},k)},lr({},M,h)));return E},$dispose:m},c=un(o);i._s.set(e,c);const g=(i._a&&i._a.runWithContext||FM)(()=>i._e.run(()=>(I=Pr()).run(()=>t({action:v}))));for(const x in g){const h=g[x];if(Zt(h)&&!HM(h)||Ar(h))b||(O&&zM(h)&&(Zt(h)?h.value=O[x]:Pc(h,O[x])),i.state.value[e][x]=h);else if(typeof h=="function"){const E=v(h,x);g[x]=E,y.actions[x]=h}}return lr(c,g),lr(ct(c),g),Object.defineProperty(c,"$state",{get:()=>i.state.value[e],set:x=>{p(h=>{lr(h,x)})}}),i._p.forEach(x=>{lr(c,I.run(()=>x({store:c,app:i._a,pinia:i,options:y})))}),O&&b&&n.hydrate&&n.hydrate(c.$state,O),l=!0,r=!0,c}/*! #__NO_SIDE_EFFECTS__ */function WM(e,t,n){let i;const u=typeof t=="function";i=u?n:t;function b(I,y){const M=I_();return I=I||(M?Ot(Cm,null):null),I&&ol(I),I=Sm,I._s.has(e)||(u?Im(e,t,i,I):UM(e,i,I)),I._s.get(e)}return b.$id=e,b}const sa=WM("user",{state:()=>({user:{firstName:"",lastName:"",email:"",password:"",createdAt:""},isAuthenticated:!1}),getters:{fullName:e=>`${e.user.firstName} ${e.user.lastName}`.trim(),email:e=>e.user.email,memberSince:e=>{if(!e.user.createdAt)return"";const t=new Date(e.user.createdAt);return`${["January","February","March","April","May","June","July","August","September","October","November","December"][t.getMonth()]} ${t.getFullYear()}`}},actions:{signup(e){const t=new Date().toISOString(),n={...e,createdAt:t};sessionStorage.setItem("sessionUser",JSON.stringify(n)),this.user={...n},this.isAuthenticated=!0,sessionStorage.setItem("isAuth","true")},login({email:e,password:t}){const n=JSON.parse(sessionStorage.getItem("sessionUser")||"{}");if(n.email===e&&n.password===t)this.user={...n},this.isAuthenticated=!0,sessionStorage.setItem("isAuth","true");else throw new Error("Credenciales invlidas")},restoreFromStorage(){const e=sessionStorage.getItem("isAuth")==="true",t=JSON.parse(sessionStorage.getItem("sessionUser")||"{}");e&&t.email&&(this.user={...t},this.isAuthenticated=!0)},updateUser(e){this.user={...this.user,...e},sessionStorage.setItem("sessionUser",JSON.stringify(this.user))},logout(){this.user={firstName:"",lastName:"",email:"",password:"",createdAt:""},this.isAuthenticated=!1,sessionStorage.removeItem("isAuth"),sessionStorage.removeItem("sessionUser")}}});/*!
  * vue-router v4.5.1
  * (c) 2025 Eduardo San Martin Morote
  * @license MIT
  */const Jr=typeof document<"u";function _m(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function YM(e){return e.__esModule||e[Symbol.toStringTag]==="Module"||e.default&&_m(e.default)}const Ft=Object.assign;function ec(e,t){const n={};for(const i in t){const u=t[i];n[i]=ci(u)?u.map(e):e(u)}return n}const Ba=()=>{},ci=Array.isArray,Mm=/#/g,VM=/&/g,GM=/\//g,XM=/=/g,ZM=/\?/g,Em=/\+/g,JM=/%5B/g,$M=/%5D/g,wm=/%5E/g,KM=/%60/g,Tm=/%7B/g,QM=/%7C/g,Am=/%7D/g,qM=/%20/g;function Lu(e){return encodeURI(""+e).replace(QM,"|").replace(JM,"[").replace($M,"]")}function e1(e){return Lu(e).replace(Tm,"{").replace(Am,"}").replace(wm,"^")}function Lc(e){return Lu(e).replace(Em,"%2B").replace(qM,"+").replace(Mm,"%23").replace(VM,"%26").replace(KM,"`").replace(Tm,"{").replace(Am,"}").replace(wm,"^")}function t1(e){return Lc(e).replace(XM,"%3D")}function n1(e){return Lu(e).replace(Mm,"%23").replace(ZM,"%3F")}function i1(e){return e==null?"":n1(e).replace(GM,"%2F")}function Za(e){try{return decodeURIComponent(""+e)}catch{}return""+e}const r1=/\/$/,a1=e=>e.replace(r1,"");function tc(e,t,n="/"){let i,u={},b="",I="";const y=t.indexOf("#");let M=t.indexOf("?");return y<M&&y>=0&&(M=-1),M>-1&&(i=t.slice(0,M),b=t.slice(M+1,y>-1?y:t.length),u=e(b)),y>-1&&(i=i||t.slice(0,y),I=t.slice(y,t.length)),i=c1(i??t,n),{fullPath:i+(b&&"?")+b+I,path:i,query:u,hash:Za(I)}}function o1(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function Cd(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function s1(e,t,n){const i=t.matched.length-1,u=n.matched.length-1;return i>-1&&i===u&&na(t.matched[i],n.matched[u])&&Om(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function na(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function Om(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!l1(e[n],t[n]))return!1;return!0}function l1(e,t){return ci(e)?xd(e,t):ci(t)?xd(t,e):e===t}function xd(e,t){return ci(t)?e.length===t.length&&e.every((n,i)=>n===t[i]):e.length===1&&e[0]===t}function c1(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),i=e.split("/"),u=i[i.length-1];(u===".."||u===".")&&i.push("");let b=n.length-1,I,y;for(I=0;I<i.length;I++)if(y=i[I],y!==".")if(y==="..")b>1&&b--;else break;return n.slice(0,b).join("/")+"/"+i.slice(I).join("/")}const or={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var Ja;(function(e){e.pop="pop",e.push="push"})(Ja||(Ja={}));var za;(function(e){e.back="back",e.forward="forward",e.unknown=""})(za||(za={}));function u1(e){if(!e)if(Jr){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),a1(e)}const f1=/^[^#]+#/;function h1(e,t){return e.replace(f1,"#")+t}function d1(e,t){const n=document.documentElement.getBoundingClientRect(),i=e.getBoundingClientRect();return{behavior:t.behavior,left:i.left-n.left-(t.left||0),top:i.top-n.top-(t.top||0)}}const sl=()=>({left:window.scrollX,top:window.scrollY});function g1(e){let t;if("el"in e){const n=e.el,i=typeof n=="string"&&n.startsWith("#"),u=typeof n=="string"?i?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!u)return;t=d1(u,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function Id(e,t){return(history.state?history.state.position-t:-1)+e}const Nc=new Map;function v1(e,t){Nc.set(e,t)}function m1(e){const t=Nc.get(e);return Nc.delete(e),t}let p1=()=>location.protocol+"//"+location.host;function Dm(e,t){const{pathname:n,search:i,hash:u}=t,b=e.indexOf("#");if(b>-1){let y=u.includes(e.slice(b))?e.slice(b).length:1,M=u.slice(y);return M[0]!=="/"&&(M="/"+M),Cd(M,"")}return Cd(n,e)+i+u}function y1(e,t,n,i){let u=[],b=[],I=null;const y=({state:A})=>{const D=Dm(e,location),O=n.value,N=t.value;let p=0;if(A){if(n.value=D,t.value=A,I&&I===O){I=null;return}p=N?A.position-N.position:0}else i(D);u.forEach(a=>{a(n.value,O,{delta:p,type:Ja.pop,direction:p?p>0?za.forward:za.back:za.unknown})})};function M(){I=n.value}function l(A){u.push(A);const D=()=>{const O=u.indexOf(A);O>-1&&u.splice(O,1)};return b.push(D),D}function r(){const{history:A}=window;A.state&&A.replaceState(Ft({},A.state,{scroll:sl()}),"")}function w(){for(const A of b)A();b=[],window.removeEventListener("popstate",y),window.removeEventListener("beforeunload",r)}return window.addEventListener("popstate",y),window.addEventListener("beforeunload",r,{passive:!0}),{pauseListeners:M,listen:l,destroy:w}}function _d(e,t,n,i=!1,u=!1){return{back:e,current:t,forward:n,replaced:i,position:window.history.length,scroll:u?sl():null}}function b1(e){const{history:t,location:n}=window,i={value:Dm(e,n)},u={value:t.state};u.value||b(i.value,{back:null,current:i.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function b(M,l,r){const w=e.indexOf("#"),A=w>-1?(n.host&&document.querySelector("base")?e:e.slice(w))+M:p1()+e+M;try{t[r?"replaceState":"pushState"](l,"",A),u.value=l}catch(D){console.error(D),n[r?"replace":"assign"](A)}}function I(M,l){const r=Ft({},t.state,_d(u.value.back,M,u.value.forward,!0),l,{position:u.value.position});b(M,r,!0),i.value=M}function y(M,l){const r=Ft({},u.value,t.state,{forward:M,scroll:sl()});b(r.current,r,!0);const w=Ft({},_d(i.value,M,null),{position:r.position+1},l);b(M,w,!1),i.value=M}return{location:i,state:u,push:y,replace:I}}function S1(e){e=u1(e);const t=b1(e),n=y1(e,t.state,t.location,t.replace);function i(b,I=!0){I||n.pauseListeners(),history.go(b)}const u=Ft({location:"",base:e,go:i,createHref:h1.bind(null,e)},t,n);return Object.defineProperty(u,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(u,"state",{enumerable:!0,get:()=>t.state.value}),u}function C1(e){return typeof e=="string"||e&&typeof e=="object"}function km(e){return typeof e=="string"||typeof e=="symbol"}const Pm=Symbol("");var Md;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(Md||(Md={}));function ia(e,t){return Ft(new Error,{type:e,[Pm]:!0},t)}function Ni(e,t){return e instanceof Error&&Pm in e&&(t==null||!!(e.type&t))}const Ed="[^/]+?",x1={sensitive:!1,strict:!1,start:!0,end:!0},I1=/[.+*?^${}()[\]/\\]/g;function _1(e,t){const n=Ft({},x1,t),i=[];let u=n.start?"^":"";const b=[];for(const l of e){const r=l.length?[]:[90];n.strict&&!l.length&&(u+="/");for(let w=0;w<l.length;w++){const A=l[w];let D=40+(n.sensitive?.25:0);if(A.type===0)w||(u+="/"),u+=A.value.replace(I1,"\\$&"),D+=40;else if(A.type===1){const{value:O,repeatable:N,optional:p,regexp:a}=A;b.push({name:O,repeatable:N,optional:p});const m=a||Ed;if(m!==Ed){D+=10;try{new RegExp(`(${m})`)}catch(o){throw new Error(`Invalid custom RegExp for param "${O}" (${m}): `+o.message)}}let v=N?`((?:${m})(?:/(?:${m}))*)`:`(${m})`;w||(v=p&&l.length<2?`(?:/${v})`:"/"+v),p&&(v+="?"),u+=v,D+=20,p&&(D+=-8),N&&(D+=-20),m===".*"&&(D+=-50)}r.push(D)}i.push(r)}if(n.strict&&n.end){const l=i.length-1;i[l][i[l].length-1]+=.7000000000000001}n.strict||(u+="/?"),n.end?u+="$":n.strict&&!u.endsWith("/")&&(u+="(?:/|$)");const I=new RegExp(u,n.sensitive?"":"i");function y(l){const r=l.match(I),w={};if(!r)return null;for(let A=1;A<r.length;A++){const D=r[A]||"",O=b[A-1];w[O.name]=D&&O.repeatable?D.split("/"):D}return w}function M(l){let r="",w=!1;for(const A of e){(!w||!r.endsWith("/"))&&(r+="/"),w=!1;for(const D of A)if(D.type===0)r+=D.value;else if(D.type===1){const{value:O,repeatable:N,optional:p}=D,a=O in l?l[O]:"";if(ci(a)&&!N)throw new Error(`Provided param "${O}" is an array but it is not repeatable (* or + modifiers)`);const m=ci(a)?a.join("/"):a;if(!m)if(p)A.length<2&&(r.endsWith("/")?r=r.slice(0,-1):w=!0);else throw new Error(`Missing required param "${O}"`);r+=m}}return r||"/"}return{re:I,score:i,keys:b,parse:y,stringify:M}}function M1(e,t){let n=0;for(;n<e.length&&n<t.length;){const i=t[n]-e[n];if(i)return i;n++}return e.length<t.length?e.length===1&&e[0]===80?-1:1:e.length>t.length?t.length===1&&t[0]===80?1:-1:0}function Lm(e,t){let n=0;const i=e.score,u=t.score;for(;n<i.length&&n<u.length;){const b=M1(i[n],u[n]);if(b)return b;n++}if(Math.abs(u.length-i.length)===1){if(wd(i))return 1;if(wd(u))return-1}return u.length-i.length}function wd(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const E1={type:0,value:""},w1=/[a-zA-Z0-9_]/;function T1(e){if(!e)return[[]];if(e==="/")return[[E1]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(D){throw new Error(`ERR (${n})/"${l}": ${D}`)}let n=0,i=n;const u=[];let b;function I(){b&&u.push(b),b=[]}let y=0,M,l="",r="";function w(){l&&(n===0?b.push({type:0,value:l}):n===1||n===2||n===3?(b.length>1&&(M==="*"||M==="+")&&t(`A repeatable param (${l}) must be alone in its segment. eg: '/:ids+.`),b.push({type:1,value:l,regexp:r,repeatable:M==="*"||M==="+",optional:M==="*"||M==="?"})):t("Invalid state to consume buffer"),l="")}function A(){l+=M}for(;y<e.length;){if(M=e[y++],M==="\\"&&n!==2){i=n,n=4;continue}switch(n){case 0:M==="/"?(l&&w(),I()):M===":"?(w(),n=1):A();break;case 4:A(),n=i;break;case 1:M==="("?n=2:w1.test(M)?A():(w(),n=0,M!=="*"&&M!=="?"&&M!=="+"&&y--);break;case 2:M===")"?r[r.length-1]=="\\"?r=r.slice(0,-1)+M:n=3:r+=M;break;case 3:w(),n=0,M!=="*"&&M!=="?"&&M!=="+"&&y--,r="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${l}"`),w(),I(),u}function A1(e,t,n){const i=_1(T1(e.path),n),u=Ft(i,{record:e,parent:t,children:[],alias:[]});return t&&!u.record.aliasOf==!t.record.aliasOf&&t.children.push(u),u}function O1(e,t){const n=[],i=new Map;t=Dd({strict:!1,end:!0,sensitive:!1},t);function u(w){return i.get(w)}function b(w,A,D){const O=!D,N=Ad(w);N.aliasOf=D&&D.record;const p=Dd(t,w),a=[N];if("alias"in w){const o=typeof w.alias=="string"?[w.alias]:w.alias;for(const c of o)a.push(Ad(Ft({},N,{components:D?D.record.components:N.components,path:c,aliasOf:D?D.record:N})))}let m,v;for(const o of a){const{path:c}=o;if(A&&c[0]!=="/"){const s=A.record.path,g=s[s.length-1]==="/"?"":"/";o.path=A.record.path+(c&&g+c)}if(m=A1(o,A,p),D?D.alias.push(m):(v=v||m,v!==m&&v.alias.push(m),O&&w.name&&!Od(m)&&I(w.name)),Nm(m)&&M(m),N.children){const s=N.children;for(let g=0;g<s.length;g++)b(s[g],m,D&&D.children[g])}D=D||m}return v?()=>{I(v)}:Ba}function I(w){if(km(w)){const A=i.get(w);A&&(i.delete(w),n.splice(n.indexOf(A),1),A.children.forEach(I),A.alias.forEach(I))}else{const A=n.indexOf(w);A>-1&&(n.splice(A,1),w.record.name&&i.delete(w.record.name),w.children.forEach(I),w.alias.forEach(I))}}function y(){return n}function M(w){const A=P1(w,n);n.splice(A,0,w),w.record.name&&!Od(w)&&i.set(w.record.name,w)}function l(w,A){let D,O={},N,p;if("name"in w&&w.name){if(D=i.get(w.name),!D)throw ia(1,{location:w});p=D.record.name,O=Ft(Td(A.params,D.keys.filter(v=>!v.optional).concat(D.parent?D.parent.keys.filter(v=>v.optional):[]).map(v=>v.name)),w.params&&Td(w.params,D.keys.map(v=>v.name))),N=D.stringify(O)}else if(w.path!=null)N=w.path,D=n.find(v=>v.re.test(N)),D&&(O=D.parse(N),p=D.record.name);else{if(D=A.name?i.get(A.name):n.find(v=>v.re.test(A.path)),!D)throw ia(1,{location:w,currentLocation:A});p=D.record.name,O=Ft({},A.params,w.params),N=D.stringify(O)}const a=[];let m=D;for(;m;)a.unshift(m.record),m=m.parent;return{name:p,path:N,params:O,matched:a,meta:k1(a)}}e.forEach(w=>b(w));function r(){n.length=0,i.clear()}return{addRoute:b,resolve:l,removeRoute:I,clearRoutes:r,getRoutes:y,getRecordMatcher:u}}function Td(e,t){const n={};for(const i of t)i in e&&(n[i]=e[i]);return n}function Ad(e){const t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:D1(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function D1(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const i in e.components)t[i]=typeof n=="object"?n[i]:n;return t}function Od(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function k1(e){return e.reduce((t,n)=>Ft(t,n.meta),{})}function Dd(e,t){const n={};for(const i in e)n[i]=i in t?t[i]:e[i];return n}function P1(e,t){let n=0,i=t.length;for(;n!==i;){const b=n+i>>1;Lm(e,t[b])<0?i=b:n=b+1}const u=L1(e);return u&&(i=t.lastIndexOf(u,i-1)),i}function L1(e){let t=e;for(;t=t.parent;)if(Nm(t)&&Lm(e,t)===0)return t}function Nm({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function N1(e){const t={};if(e===""||e==="?")return t;const i=(e[0]==="?"?e.slice(1):e).split("&");for(let u=0;u<i.length;++u){const b=i[u].replace(Em," "),I=b.indexOf("="),y=Za(I<0?b:b.slice(0,I)),M=I<0?null:Za(b.slice(I+1));if(y in t){let l=t[y];ci(l)||(l=t[y]=[l]),l.push(M)}else t[y]=M}return t}function kd(e){let t="";for(let n in e){const i=e[n];if(n=t1(n),i==null){i!==void 0&&(t+=(t.length?"&":"")+n);continue}(ci(i)?i.map(b=>b&&Lc(b)):[i&&Lc(i)]).forEach(b=>{b!==void 0&&(t+=(t.length?"&":"")+n,b!=null&&(t+="="+b))})}return t}function R1(e){const t={};for(const n in e){const i=e[n];i!==void 0&&(t[n]=ci(i)?i.map(u=>u==null?null:""+u):i==null?i:""+i)}return t}const j1=Symbol(""),Pd=Symbol(""),ll=Symbol(""),Nu=Symbol(""),Rc=Symbol("");function Ea(){let e=[];function t(i){return e.push(i),()=>{const u=e.indexOf(i);u>-1&&e.splice(u,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function hr(e,t,n,i,u,b=I=>I()){const I=i&&(i.enterCallbacks[u]=i.enterCallbacks[u]||[]);return()=>new Promise((y,M)=>{const l=A=>{A===!1?M(ia(4,{from:n,to:t})):A instanceof Error?M(A):C1(A)?M(ia(2,{from:t,to:A})):(I&&i.enterCallbacks[u]===I&&typeof A=="function"&&I.push(A),y())},r=b(()=>e.call(i&&i.instances[u],t,n,l));let w=Promise.resolve(r);e.length<3&&(w=w.then(l)),w.catch(A=>M(A))})}function nc(e,t,n,i,u=b=>b()){const b=[];for(const I of e)for(const y in I.components){let M=I.components[y];if(!(t!=="beforeRouteEnter"&&!I.instances[y]))if(_m(M)){const r=(M.__vccOpts||M)[t];r&&b.push(hr(r,n,i,I,y,u))}else{let l=M();b.push(()=>l.then(r=>{if(!r)throw new Error(`Couldn't resolve component "${y}" at "${I.path}"`);const w=YM(r)?r.default:r;I.mods[y]=r,I.components[y]=w;const D=(w.__vccOpts||w)[t];return D&&hr(D,n,i,I,y,u)()}))}}return b}function Ld(e){const t=Ot(ll),n=Ot(Nu),i=Ae(()=>{const M=Gn(e.to);return t.resolve(M)}),u=Ae(()=>{const{matched:M}=i.value,{length:l}=M,r=M[l-1],w=n.matched;if(!r||!w.length)return-1;const A=w.findIndex(na.bind(null,r));if(A>-1)return A;const D=Nd(M[l-2]);return l>1&&Nd(r)===D&&w[w.length-1].path!==D?w.findIndex(na.bind(null,M[l-2])):A}),b=Ae(()=>u.value>-1&&U1(n.params,i.value.params)),I=Ae(()=>u.value>-1&&u.value===n.matched.length-1&&Om(n.params,i.value.params));function y(M={}){if(H1(M)){const l=t[Gn(e.replace)?"replace":"push"](Gn(e.to)).catch(Ba);return e.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>l),l}return Promise.resolve()}return{route:i,href:Ae(()=>i.value.href),isActive:b,isExactActive:I,navigate:y}}function F1(e){return e.length===1?e[0]:e}const B1=Iu({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:Ld,setup(e,{slots:t}){const n=un(Ld(e)),{options:i}=Ot(ll),u=Ae(()=>({[Rd(e.activeClass,i.linkActiveClass,"router-link-active")]:n.isActive,[Rd(e.exactActiveClass,i.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const b=t.default&&F1(t.default(n));return e.custom?b:wi("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:u.value},b)}}}),z1=B1;function H1(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function U1(e,t){for(const n in t){const i=t[n],u=e[n];if(typeof i=="string"){if(i!==u)return!1}else if(!ci(u)||u.length!==i.length||i.some((b,I)=>b!==u[I]))return!1}return!0}function Nd(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const Rd=(e,t,n)=>e??t??n,W1=Iu({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const i=Ot(Rc),u=Ae(()=>e.route||i.value),b=Ot(Pd,0),I=Ae(()=>{let l=Gn(b);const{matched:r}=u.value;let w;for(;(w=r[l])&&!w.components;)l++;return l}),y=Ae(()=>u.value.matched[I.value]);pn(Pd,Ae(()=>I.value+1)),pn(j1,y),pn(Rc,u);const M=$e();return ht(()=>[M.value,y.value,e.name],([l,r,w],[A,D,O])=>{r&&(r.instances[w]=l,D&&D!==r&&l&&l===A&&(r.leaveGuards.size||(r.leaveGuards=D.leaveGuards),r.updateGuards.size||(r.updateGuards=D.updateGuards))),l&&r&&(!D||!na(r,D)||!A)&&(r.enterCallbacks[w]||[]).forEach(N=>N(l))},{flush:"post"}),()=>{const l=u.value,r=e.name,w=y.value,A=w&&w.components[r];if(!A)return jd(n.default,{Component:A,route:l});const D=w.props[r],O=D?D===!0?l.params:typeof D=="function"?D(l):D:null,p=wi(A,Ft({},O,t,{onVnodeUnmounted:a=>{a.component.isUnmounted&&(w.instances[r]=null)},ref:M}));return jd(n.default,{Component:p,route:l})||p}}});function jd(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const Y1=W1;function V1(e){const t=O1(e.routes,e),n=e.parseQuery||N1,i=e.stringifyQuery||kd,u=e.history,b=Ea(),I=Ea(),y=Ea(),M=dt(or);let l=or;Jr&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const r=ec.bind(null,ge=>""+ge),w=ec.bind(null,i1),A=ec.bind(null,Za);function D(ge,te){let ae,ne;return km(ge)?(ae=t.getRecordMatcher(ge),ne=te):ne=ge,t.addRoute(ne,ae)}function O(ge){const te=t.getRecordMatcher(ge);te&&t.removeRoute(te)}function N(){return t.getRoutes().map(ge=>ge.record)}function p(ge){return!!t.getRecordMatcher(ge)}function a(ge,te){if(te=Ft({},te||M.value),typeof ge=="string"){const W=tc(n,ge,te.path),J=t.resolve({path:W.path},te),Q=u.createHref(W.fullPath);return Ft(W,J,{params:A(J.params),hash:Za(W.hash),redirectedFrom:void 0,href:Q})}let ae;if(ge.path!=null)ae=Ft({},ge,{path:tc(n,ge.path,te.path).path});else{const W=Ft({},ge.params);for(const J in W)W[J]==null&&delete W[J];ae=Ft({},ge,{params:w(W)}),te.params=w(te.params)}const ne=t.resolve(ae,te),re=ge.hash||"";ne.params=r(A(ne.params));const V=o1(i,Ft({},ge,{hash:e1(re),path:ne.path})),H=u.createHref(V);return Ft({fullPath:V,hash:re,query:i===kd?R1(ge.query):ge.query||{}},ne,{redirectedFrom:void 0,href:H})}function m(ge){return typeof ge=="string"?tc(n,ge,M.value.path):Ft({},ge)}function v(ge,te){if(l!==ge)return ia(8,{from:te,to:ge})}function o(ge){return g(ge)}function c(ge){return o(Ft(m(ge),{replace:!0}))}function s(ge){const te=ge.matched[ge.matched.length-1];if(te&&te.redirect){const{redirect:ae}=te;let ne=typeof ae=="function"?ae(ge):ae;return typeof ne=="string"&&(ne=ne.includes("?")||ne.includes("#")?ne=m(ne):{path:ne},ne.params={}),Ft({query:ge.query,hash:ge.hash,params:ne.path!=null?{}:ge.params},ne)}}function g(ge,te){const ae=l=a(ge),ne=M.value,re=ge.state,V=ge.force,H=ge.replace===!0,W=s(ae);if(W)return g(Ft(m(W),{state:typeof W=="object"?Ft({},re,W.state):re,force:V,replace:H}),te||ae);const J=ae;J.redirectedFrom=te;let Q;return!V&&s1(i,ne,ae)&&(Q=ia(16,{to:J,from:ne}),ve(ne,ne,!0,!1)),(Q?Promise.resolve(Q):E(J,ne)).catch(se=>Ni(se)?Ni(se,2)?se:oe(se):K(se,J,ne)).then(se=>{if(se){if(Ni(se,2))return g(Ft({replace:H},m(se.to),{state:typeof se.to=="object"?Ft({},re,se.to.state):re,force:V}),te||J)}else se=k(J,ne,!0,H,re);return T(J,ne,se),se})}function x(ge,te){const ae=v(ge,te);return ae?Promise.reject(ae):Promise.resolve()}function h(ge){const te=Z.values().next().value;return te&&typeof te.runWithContext=="function"?te.runWithContext(ge):ge()}function E(ge,te){let ae;const[ne,re,V]=G1(ge,te);ae=nc(ne.reverse(),"beforeRouteLeave",ge,te);for(const W of ne)W.leaveGuards.forEach(J=>{ae.push(hr(J,ge,te))});const H=x.bind(null,ge,te);return ae.push(H),we(ae).then(()=>{ae=[];for(const W of b.list())ae.push(hr(W,ge,te));return ae.push(H),we(ae)}).then(()=>{ae=nc(re,"beforeRouteUpdate",ge,te);for(const W of re)W.updateGuards.forEach(J=>{ae.push(hr(J,ge,te))});return ae.push(H),we(ae)}).then(()=>{ae=[];for(const W of V)if(W.beforeEnter)if(ci(W.beforeEnter))for(const J of W.beforeEnter)ae.push(hr(J,ge,te));else ae.push(hr(W.beforeEnter,ge,te));return ae.push(H),we(ae)}).then(()=>(ge.matched.forEach(W=>W.enterCallbacks={}),ae=nc(V,"beforeRouteEnter",ge,te,h),ae.push(H),we(ae))).then(()=>{ae=[];for(const W of I.list())ae.push(hr(W,ge,te));return ae.push(H),we(ae)}).catch(W=>Ni(W,8)?W:Promise.reject(W))}function T(ge,te,ae){y.list().forEach(ne=>h(()=>ne(ge,te,ae)))}function k(ge,te,ae,ne,re){const V=v(ge,te);if(V)return V;const H=te===or,W=Jr?history.state:{};ae&&(ne||H?u.replace(ge.fullPath,Ft({scroll:H&&W&&W.scroll},re)):u.push(ge.fullPath,re)),M.value=ge,ve(ge,te,ae,H),oe()}let L;function F(){L||(L=u.listen((ge,te,ae)=>{if(!Be.listening)return;const ne=a(ge),re=s(ne);if(re){g(Ft(re,{replace:!0,force:!0}),ne).catch(Ba);return}l=ne;const V=M.value;Jr&&v1(Id(V.fullPath,ae.delta),sl()),E(ne,V).catch(H=>Ni(H,12)?H:Ni(H,2)?(g(Ft(m(H.to),{force:!0}),ne).then(W=>{Ni(W,20)&&!ae.delta&&ae.type===Ja.pop&&u.go(-1,!1)}).catch(Ba),Promise.reject()):(ae.delta&&u.go(-ae.delta,!1),K(H,ne,V))).then(H=>{H=H||k(ne,V,!1),H&&(ae.delta&&!Ni(H,8)?u.go(-ae.delta,!1):ae.type===Ja.pop&&Ni(H,20)&&u.go(-1,!1)),T(ne,V,H)}).catch(Ba)}))}let U=Ea(),G=Ea(),Y;function K(ge,te,ae){oe(ge);const ne=G.list();return ne.length?ne.forEach(re=>re(ge,te,ae)):console.error(ge),Promise.reject(ge)}function he(){return Y&&M.value!==or?Promise.resolve():new Promise((ge,te)=>{U.add([ge,te])})}function oe(ge){return Y||(Y=!ge,F(),U.list().forEach(([te,ae])=>ge?ae(ge):te()),U.reset()),ge}function ve(ge,te,ae,ne){const{scrollBehavior:re}=e;if(!Jr||!re)return Promise.resolve();const V=!ae&&m1(Id(ge.fullPath,0))||(ne||!ae)&&history.state&&history.state.scroll||null;return bn().then(()=>re(ge,te,V)).then(H=>H&&g1(H)).catch(H=>K(H,ge,te))}const ee=ge=>u.go(ge);let xe;const Z=new Set,Be={currentRoute:M,listening:!0,addRoute:D,removeRoute:O,clearRoutes:t.clearRoutes,hasRoute:p,getRoutes:N,resolve:a,options:e,push:o,replace:c,go:ee,back:()=>ee(-1),forward:()=>ee(1),beforeEach:b.add,beforeResolve:I.add,afterEach:y.add,onError:G.add,isReady:he,install(ge){const te=this;ge.component("RouterLink",z1),ge.component("RouterView",Y1),ge.config.globalProperties.$router=te,Object.defineProperty(ge.config.globalProperties,"$route",{enumerable:!0,get:()=>Gn(M)}),Jr&&!xe&&M.value===or&&(xe=!0,o(u.location).catch(re=>{}));const ae={};for(const re in or)Object.defineProperty(ae,re,{get:()=>M.value[re],enumerable:!0});ge.provide(ll,te),ge.provide(Nu,Iv(ae)),ge.provide(Rc,M);const ne=ge.unmount;Z.add(ge),ge.unmount=function(){Z.delete(ge),Z.size<1&&(l=or,L&&L(),L=null,M.value=or,xe=!1,Y=!1),ne()}}};function we(ge){return ge.reduce((te,ae)=>te.then(()=>h(ae)),Promise.resolve())}return Be}function G1(e,t){const n=[],i=[],u=[],b=Math.max(t.matched.length,e.matched.length);for(let I=0;I<b;I++){const y=t.matched[I];y&&(e.matched.find(l=>na(l,y))?i.push(y):n.push(y));const M=e.matched[I];M&&(t.matched.find(l=>na(l,M))||u.push(M))}return[n,i,u]}function Ru(){return Ot(ll)}function X1(e){return Ot(Nu)}function Ke(e,t){return n=>Object.keys(e).reduce((i,u)=>{const I=typeof e[u]=="object"&&e[u]!=null&&!Array.isArray(e[u])?e[u]:{type:e[u]};return n&&u in n?i[u]={...I,default:n[u]}:i[u]=I,t&&!i[u].source&&(i[u].source=t),i},{})}const xt=Ke({class:[String,Array,Object],style:{type:[String,Array,Object],default:null}},"component"),Vt=typeof window<"u",ju=Vt&&"IntersectionObserver"in window,Z1=Vt&&("ontouchstart"in window||window.navigator.maxTouchPoints>0);function Fd(e,t,n){J1(e,t),t.set(e,n)}function J1(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Bd(e,t,n){return e.set(Rm(e,t),n),n}function Ri(e,t){return e.get(Rm(e,t))}function Rm(e,t,n){if(typeof e=="function"?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}function jm(e,t,n){const i=t.length-1;if(i<0)return e===void 0?n:e;for(let u=0;u<i;u++){if(e==null)return n;e=e[t[u]]}return e==null||e[t[i]]===void 0?n:e[t[i]]}function fo(e,t){if(e===t)return!0;if(e instanceof Date&&t instanceof Date&&e.getTime()!==t.getTime()||e!==Object(e)||t!==Object(t))return!1;const n=Object.keys(e);return n.length!==Object.keys(t).length?!1:n.every(i=>fo(e[i],t[i]))}function jc(e,t,n){return e==null||!t||typeof t!="string"?n:e[t]!==void 0?e[t]:(t=t.replace(/\[(\w+)\]/g,".$1"),t=t.replace(/^\./,""),jm(e,t.split("."),n))}function wa(e,t,n){if(t===!0)return e===void 0?n:e;if(t==null||typeof t=="boolean")return n;if(e!==Object(e)){if(typeof t!="function")return n;const u=t(e,n);return typeof u>"u"?n:u}if(typeof t=="string")return jc(e,t,n);if(Array.isArray(t))return jm(e,t,n);if(typeof t!="function")return n;const i=t(e,n);return typeof i>"u"?n:i}function Fm(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Array.from({length:e},(n,i)=>t+i)}function pt(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"px";if(e==null||e==="")return;const n=Number(e);return isNaN(n)?String(e):isFinite(n)?`${n}${t}`:void 0}function Fc(e){return e!==null&&typeof e=="object"&&!Array.isArray(e)}function zd(e){let t;return e!==null&&typeof e=="object"&&((t=Object.getPrototypeOf(e))===Object.prototype||t===null)}function Fu(e){if(e&&"$el"in e){const t=e.$el;return(t==null?void 0:t.nodeType)===Node.TEXT_NODE?t.nextElementSibling:t}return e}const Hd=Object.freeze({enter:13,tab:9,delete:46,esc:27,space:32,up:38,down:40,left:37,right:39,end:35,home:36,del:46,backspace:8,insert:45,pageup:33,pagedown:34,shift:16});function ic(e,t){return t.every(n=>e.hasOwnProperty(n))}function Bm(e,t){const n={};for(const i of t)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}function Ud(e,t,n){const i=Object.create(null),u=Object.create(null);for(const b in e)t.some(I=>I instanceof RegExp?I.test(b):I===b)?i[b]=e[b]:u[b]=e[b];return[i,u]}function Bu(e,t){const n={...e};return t.forEach(i=>delete n[i]),n}const zm=/^on[^a-z]/,Hm=e=>zm.test(e),$1=["onAfterscriptexecute","onAnimationcancel","onAnimationend","onAnimationiteration","onAnimationstart","onAuxclick","onBeforeinput","onBeforescriptexecute","onChange","onClick","onCompositionend","onCompositionstart","onCompositionupdate","onContextmenu","onCopy","onCut","onDblclick","onFocusin","onFocusout","onFullscreenchange","onFullscreenerror","onGesturechange","onGestureend","onGesturestart","onGotpointercapture","onInput","onKeydown","onKeypress","onKeyup","onLostpointercapture","onMousedown","onMousemove","onMouseout","onMouseover","onMouseup","onMousewheel","onPaste","onPointercancel","onPointerdown","onPointerenter","onPointerleave","onPointermove","onPointerout","onPointerover","onPointerup","onReset","onSelect","onSubmit","onTouchcancel","onTouchend","onTouchmove","onTouchstart","onTransitioncancel","onTransitionend","onTransitionrun","onTransitionstart","onWheel"];function Um(e){const[t,n]=Ud(e,[zm]),i=Bu(t,$1),[u,b]=Ud(n,["class","style","id",/^data-/]);return Object.assign(u,t),Object.assign(b,i),[u,b]}function zi(e){return e==null?[]:Array.isArray(e)?e:[e]}function jr(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;return Math.max(t,Math.min(n,e))}function Wd(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"0";return e+n.repeat(Math.max(0,t-e.length))}function Yd(e,t){return(arguments.length>2&&arguments[2]!==void 0?arguments[2]:"0").repeat(Math.max(0,t-e.length))+e}function K1(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;const n=[];let i=0;for(;i<e.length;)n.push(e.substr(i,t)),i+=t;return n}function Vd(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e3;if(e<t)return`${e} B`;const n=t===1024?["Ki","Mi","Gi"]:["k","M","G"];let i=-1;for(;Math.abs(e)>=t&&i<n.length-1;)e/=t,++i;return`${e.toFixed(1)} ${n[i]}B`}function Mn(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;const i={};for(const u in e)i[u]=e[u];for(const u in t){const b=e[u],I=t[u];if(zd(b)&&zd(I)){i[u]=Mn(b,I,n);continue}if(n&&Array.isArray(b)&&Array.isArray(I)){i[u]=n(b,I);continue}i[u]=I}return i}function Wm(e){return e.map(t=>t.type===Ut?Wm(t.children):t).flat()}function Dr(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";if(Dr.cache.has(e))return Dr.cache.get(e);const t=e.replace(/[^a-z]/gi,"-").replace(/\B([A-Z])/g,"-$1").toLowerCase();return Dr.cache.set(e,t),t}Dr.cache=new Map;function $r(e,t){if(!t||typeof t!="object")return[];if(Array.isArray(t))return t.map(n=>$r(e,n)).flat(1);if(t.suspense)return $r(e,t.ssContent);if(Array.isArray(t.children))return t.children.map(n=>$r(e,n)).flat(1);if(t.component){if(Object.getOwnPropertySymbols(t.component.provides).includes(e))return[t.component];if(t.component.subTree)return $r(e,t.component.subTree).flat(1)}return[]}var Vr=new WeakMap,Ir=new WeakMap;class Q1{constructor(t){Fd(this,Vr,[]),Fd(this,Ir,0),this.size=t}get isFull(){return Ri(Vr,this).length===this.size}push(t){Ri(Vr,this)[Ri(Ir,this)]=t,Bd(Ir,this,(Ri(Ir,this)+1)%this.size)}values(){return Ri(Vr,this).slice(Ri(Ir,this)).concat(Ri(Vr,this).slice(0,Ri(Ir,this)))}clear(){Ri(Vr,this).length=0,Bd(Ir,this,0)}}function zu(e){const t=un({});Ei(()=>{const i=e();for(const u in i)t[u]=i[u]},{flush:"sync"});const n={};for(const i in t)n[i]=Ze(()=>t[i]);return n}function Ls(e,t){return e.includes(t)}function Ym(e){return e[2].toLowerCase()+e.slice(3)}const Fn=()=>[Function,Array];function Gd(e,t){return t="on"+Xi(t),!!(e[t]||e[`${t}Once`]||e[`${t}Capture`]||e[`${t}OnceCapture`]||e[`${t}CaptureOnce`])}function Hu(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(Array.isArray(e))for(const u of e)u(...n);else typeof e=="function"&&e(...n)}function Uu(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const n=["button","[href]",'input:not([type="hidden"])',"select","textarea","[tabindex]"].map(i=>`${i}${t?':not([tabindex="-1"])':""}:not([disabled])`).join(", ");return[...e.querySelectorAll(n)]}function q1(e,t,n){let i,u=e.indexOf(document.activeElement);const b=t==="next"?1:-1;do u+=b,i=e[u];while((!i||i.offsetParent==null)&&u<e.length&&u>=0);return i}function Vm(e,t){var i,u,b,I;const n=Uu(e);if(t==null)(e===document.activeElement||!e.contains(document.activeElement))&&((i=n[0])==null||i.focus());else if(t==="first")(u=n[0])==null||u.focus();else if(t==="last")(b=n.at(-1))==null||b.focus();else if(typeof t=="number")(I=n[t])==null||I.focus();else{const y=q1(n,t);y?y.focus():Vm(e,t==="next"?"first":"last")}}function eE(e,t){if(!(Vt&&typeof CSS<"u"&&typeof CSS.supports<"u"&&CSS.supports(`selector(${t})`)))return null;try{return!!e&&e.matches(t)}catch{return null}}function tE(e,t){if(!Vt||e===0)return t(),()=>{};const n=window.setTimeout(t,e);return()=>window.clearTimeout(n)}function Bc(){const e=dt(),t=n=>{e.value=n};return Object.defineProperty(t,"value",{enumerable:!0,get:()=>e.value,set:n=>e.value=n}),Object.defineProperty(t,"el",{enumerable:!0,get:()=>Fu(e.value)}),t}function nE(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="bigint"}const Gm=["top","bottom"],iE=["start","end","left","right"];function zc(e,t){let[n,i]=e.split(" ");return i||(i=Ls(Gm,n)?"start":Ls(iE,n)?"top":"center"),{side:Xd(n,t),align:Xd(i,t)}}function Xd(e,t){return e==="start"?t?"right":"left":e==="end"?t?"left":"right":e}function rc(e){return{side:{center:"center",top:"bottom",bottom:"top",left:"right",right:"left"}[e.side],align:e.align}}function ac(e){return{side:e.side,align:{center:"center",top:"bottom",bottom:"top",left:"right",right:"left"}[e.align]}}function Zd(e){return{side:e.align,align:e.side}}function Jd(e){return Ls(Gm,e.side)?"y":"x"}class dr{constructor(t){let{x:n,y:i,width:u,height:b}=t;this.x=n,this.y=i,this.width=u,this.height=b}get top(){return this.y}get bottom(){return this.y+this.height}get left(){return this.x}get right(){return this.x+this.width}}function $d(e,t){return{x:{before:Math.max(0,t.left-e.left),after:Math.max(0,e.right-t.right)},y:{before:Math.max(0,t.top-e.top),after:Math.max(0,e.bottom-t.bottom)}}}function Xm(e){return Array.isArray(e)?new dr({x:e[0],y:e[1],width:0,height:0}):e.getBoundingClientRect()}function Wu(e){const t=e.getBoundingClientRect(),n=getComputedStyle(e),i=n.transform;if(i){let u,b,I,y,M;if(i.startsWith("matrix3d("))u=i.slice(9,-1).split(/, /),b=Number(u[0]),I=Number(u[5]),y=Number(u[12]),M=Number(u[13]);else if(i.startsWith("matrix("))u=i.slice(7,-1).split(/, /),b=Number(u[0]),I=Number(u[3]),y=Number(u[4]),M=Number(u[5]);else return new dr(t);const l=n.transformOrigin,r=t.x-y-(1-b)*parseFloat(l),w=t.y-M-(1-I)*parseFloat(l.slice(l.indexOf(" ")+1)),A=b?t.width/b:e.offsetWidth+1,D=I?t.height/I:e.offsetHeight+1;return new dr({x:r,y:w,width:A,height:D})}else return new dr(t)}function Kr(e,t,n){if(typeof e.animate>"u")return{finished:Promise.resolve()};let i;try{i=e.animate(t,n)}catch{return{finished:Promise.resolve()}}return typeof i.finished>"u"&&(i.finished=new Promise(u=>{i.onfinish=()=>{u(i)}})),i}const ms=new WeakMap;function rE(e,t){Object.keys(t).forEach(n=>{if(Hm(n)){const i=Ym(n),u=ms.get(e);if(t[n]==null)u==null||u.forEach(b=>{const[I,y]=b;I===i&&(e.removeEventListener(i,y),u.delete(b))});else if(!u||![...u].some(b=>b[0]===i&&b[1]===t[n])){e.addEventListener(i,t[n]);const b=u||new Set;b.add([i,t[n]]),ms.has(e)||ms.set(e,b)}}else t[n]==null?e.removeAttribute(n):e.setAttribute(n,t[n])})}function aE(e,t){Object.keys(t).forEach(n=>{if(Hm(n)){const i=Ym(n),u=ms.get(e);u==null||u.forEach(b=>{const[I,y]=b;I===i&&(e.removeEventListener(i,y),u.delete(b))})}else e.removeAttribute(n)})}const Gr=2.4,Kd=.2126729,Qd=.7151522,qd=.072175,oE=.55,sE=.58,lE=.57,cE=.62,cs=.03,eg=1.45,uE=5e-4,fE=1.25,hE=1.25,dE=.078,tg=12.82051282051282,us=.06,gE=.001;function ng(e,t){const n=(e.r/255)**Gr,i=(e.g/255)**Gr,u=(e.b/255)**Gr,b=(t.r/255)**Gr,I=(t.g/255)**Gr,y=(t.b/255)**Gr;let M=n*Kd+i*Qd+u*qd,l=b*Kd+I*Qd+y*qd;if(M<=cs&&(M+=(cs-M)**eg),l<=cs&&(l+=(cs-l)**eg),Math.abs(l-M)<uE)return 0;let r;if(l>M){const w=(l**oE-M**sE)*fE;r=w<gE?0:w<dE?w-w*tg*us:w-us}else{const w=(l**cE-M**lE)*hE;r=w>-.001?0:w>-.078?w-w*tg*us:w+us}return r*100}function vE(e,t){t=Array.isArray(t)?t.slice(0,-1).map(n=>`'${n}'`).join(", ")+` or '${t.at(-1)}'`:`'${t}'`}const Ns=.20689655172413793,mE=e=>e>Ns**3?Math.cbrt(e):e/(3*Ns**2)+4/29,pE=e=>e>Ns?e**3:3*Ns**2*(e-4/29);function Zm(e){const t=mE,n=t(e[1]);return[116*n-16,500*(t(e[0]/.95047)-n),200*(n-t(e[2]/1.08883))]}function Jm(e){const t=pE,n=(e[0]+16)/116;return[t(n+e[1]/500)*.95047,t(n),t(n-e[2]/200)*1.08883]}const yE=[[3.2406,-1.5372,-.4986],[-.9689,1.8758,.0415],[.0557,-.204,1.057]],bE=e=>e<=.0031308?e*12.92:1.055*e**(1/2.4)-.055,SE=[[.4124,.3576,.1805],[.2126,.7152,.0722],[.0193,.1192,.9505]],CE=e=>e<=.04045?e/12.92:((e+.055)/1.055)**2.4;function $m(e){const t=Array(3),n=bE,i=yE;for(let u=0;u<3;++u)t[u]=Math.round(jr(n(i[u][0]*e[0]+i[u][1]*e[1]+i[u][2]*e[2]))*255);return{r:t[0],g:t[1],b:t[2]}}function Yu(e){let{r:t,g:n,b:i}=e;const u=[0,0,0],b=CE,I=SE;t=b(t/255),n=b(n/255),i=b(i/255);for(let y=0;y<3;++y)u[y]=I[y][0]*t+I[y][1]*n+I[y][2]*i;return u}function Hc(e){return!!e&&/^(#|var\(--|(rgb|hsl)a?\()/.test(e)}function xE(e){return Hc(e)&&!/^((rgb|hsl)a?\()?var\(--/.test(e)}const ig=/^(?<fn>(?:rgb|hsl)a?)\((?<values>.+)\)/,IE={rgb:(e,t,n,i)=>({r:e,g:t,b:n,a:i}),rgba:(e,t,n,i)=>({r:e,g:t,b:n,a:i}),hsl:(e,t,n,i)=>rg({h:e,s:t,l:n,a:i}),hsla:(e,t,n,i)=>rg({h:e,s:t,l:n,a:i}),hsv:(e,t,n,i)=>$a({h:e,s:t,v:n,a:i}),hsva:(e,t,n,i)=>$a({h:e,s:t,v:n,a:i})};function Ci(e){if(typeof e=="number")return{r:(e&16711680)>>16,g:(e&65280)>>8,b:e&255};if(typeof e=="string"&&ig.test(e)){const{groups:t}=e.match(ig),{fn:n,values:i}=t,u=i.split(/,\s*|\s*\/\s*|\s+/).map((b,I)=>b.endsWith("%")||I>0&&I<3&&["hsl","hsla","hsv","hsva"].includes(n)?parseFloat(b)/100:parseFloat(b));return IE[n](...u)}else if(typeof e=="string"){let t=e.startsWith("#")?e.slice(1):e;return[3,4].includes(t.length)?t=t.split("").map(n=>n+n).join(""):[6,8].includes(t.length),ME(t)}else if(typeof e=="object"){if(ic(e,["r","g","b"]))return e;if(ic(e,["h","s","l"]))return $a(Km(e));if(ic(e,["h","s","v"]))return $a(e)}throw new TypeError(`Invalid color: ${e==null?e:String(e)||e.constructor.name}
Expected #hex, #hexa, rgb(), rgba(), hsl(), hsla(), object or number`)}function $a(e){const{h:t,s:n,v:i,a:u}=e,b=y=>{const M=(y+t/60)%6;return i-i*n*Math.max(Math.min(M,4-M,1),0)},I=[b(5),b(3),b(1)].map(y=>Math.round(y*255));return{r:I[0],g:I[1],b:I[2],a:u}}function rg(e){return $a(Km(e))}function Km(e){const{h:t,s:n,l:i,a:u}=e,b=i+n*Math.min(i,1-i),I=b===0?0:2-2*i/b;return{h:t,s:I,v:b,a:u}}function fs(e){const t=Math.round(e).toString(16);return("00".substr(0,2-t.length)+t).toUpperCase()}function _E(e){let{r:t,g:n,b:i,a:u}=e;return`#${[fs(t),fs(n),fs(i),u!==void 0?fs(Math.round(u*255)):""].join("")}`}function ME(e){e=EE(e);let[t,n,i,u]=K1(e,2).map(b=>parseInt(b,16));return u=u===void 0?u:u/255,{r:t,g:n,b:i,a:u}}function EE(e){return e.startsWith("#")&&(e=e.slice(1)),e=e.replace(/([^0-9a-f])/gi,"F"),(e.length===3||e.length===4)&&(e=e.split("").map(t=>t+t).join("")),e.length!==6&&(e=Wd(Wd(e,6),8,"F")),e}function wE(e,t){const n=Zm(Yu(e));return n[0]=n[0]+t*10,$m(Jm(n))}function TE(e,t){const n=Zm(Yu(e));return n[0]=n[0]-t*10,$m(Jm(n))}function AE(e){const t=Ci(e);return Yu(t)[1]}function Qm(e){const t=Math.abs(ng(Ci(0),Ci(e)));return Math.abs(ng(Ci(16777215),Ci(e)))>Math.min(t,50)?"#fff":"#000"}function cn(e,t){const n=rl();if(!n)throw new Error(`[Vuetify] ${e} must be called from inside a setup function`);return n}function Ti(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"composables";const t=cn(e).type;return Dr((t==null?void 0:t.aliasName)||(t==null?void 0:t.name))}function OE(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:cn("injectSelf");const{provides:n}=t;if(n&&e in n)return n[e]}const ra=Symbol.for("vuetify:defaults");function DE(e){return $e(e)}function Vu(){const e=Ot(ra);if(!e)throw new Error("[Vuetify] Could not find defaults instance");return e}function la(e,t){const n=Vu(),i=$e(e),u=Ae(()=>{if(Gn(t==null?void 0:t.disabled))return n.value;const I=Gn(t==null?void 0:t.scoped),y=Gn(t==null?void 0:t.reset),M=Gn(t==null?void 0:t.root);if(i.value==null&&!(I||y||M))return n.value;let l=Mn(i.value,{prev:n.value});if(I)return l;if(y||M){const r=Number(y||1/0);for(let w=0;w<=r&&!(!l||!("prev"in l));w++)l=l.prev;return l&&typeof M=="string"&&M in l&&(l=Mn(Mn(l,{prev:l}),l[M])),l}return l.prev?Mn(l.prev,l):l});return pn(ra,u),u}function kE(e,t){return e.props&&(typeof e.props[t]<"u"||typeof e.props[Dr(t)]<"u")}function PE(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Vu();const i=cn("useDefaults");if(t=t??i.type.name??i.type.__name,!t)throw new Error("[Vuetify] Could not determine component name");const u=Ae(()=>{var M;return(M=n.value)==null?void 0:M[e._as??t]}),b=new Proxy(e,{get(M,l){var D,O,N,p;const r=Reflect.get(M,l);if(l==="class"||l==="style")return[(D=u.value)==null?void 0:D[l],r].filter(a=>a!=null);if(kE(i.vnode,l))return r;const w=(O=u.value)==null?void 0:O[l];if(w!==void 0)return w;const A=(p=(N=n.value)==null?void 0:N.global)==null?void 0:p[l];return A!==void 0?A:r}}),I=dt();Ei(()=>{if(u.value){const M=Object.entries(u.value).filter(l=>{let[r]=l;return r.startsWith(r[0].toUpperCase())});I.value=M.length?Object.fromEntries(M):void 0}else I.value=void 0});function y(){const M=OE(ra,i);pn(ra,Ae(()=>I.value?Mn((M==null?void 0:M.value)??{},I.value):M==null?void 0:M.value))}return{props:b,provideSubDefaults:y}}function ca(e){if(e._setup=e._setup??e.setup,!e.name)return e;if(e._setup){e.props=Ke(e.props??{},e.name)();const t=Object.keys(e.props).filter(n=>n!=="class"&&n!=="style");e.filterProps=function(i){return Bm(i,t)},e.props._as=String,e.setup=function(i,u){const b=Vu();if(!b.value)return e._setup(i,u);const{props:I,provideSubDefaults:y}=PE(i,i._as??e.name,b),M=e._setup(I,u);return y(),M}}return e}function ft(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return t=>(e?ca:Iu)(t)}function Gu(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"div",n=arguments.length>2?arguments[2]:void 0;return ft()({name:n??Xi(Hn(e.replace(/__/g,"-"))),props:{tag:{type:String,default:t},...xt()},setup(i,u){let{slots:b}=u;return()=>{var I;return wi(i.tag,{class:[e,i.class],style:i.style},(I=b.default)==null?void 0:I.call(b))}}})}function qm(e){if(typeof e.getRootNode!="function"){for(;e.parentNode;)e=e.parentNode;return e!==document?null:document}const t=e.getRootNode();return t!==document&&t.getRootNode({composed:!0})!==document?null:t}const Rs="cubic-bezier(0.4, 0, 0.2, 1)",LE="cubic-bezier(0.0, 0, 0.2, 1)",NE="cubic-bezier(0.4, 0, 1, 1)";function RE(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;for(;e;){if(t?jE(e):Xu(e))return e;e=e.parentElement}return document.scrollingElement}function js(e,t){const n=[];if(t&&e&&!t.contains(e))return n;for(;e&&(Xu(e)&&n.push(e),e!==t);)e=e.parentElement;return n}function Xu(e){if(!e||e.nodeType!==Node.ELEMENT_NODE)return!1;const t=window.getComputedStyle(e);return t.overflowY==="scroll"||t.overflowY==="auto"&&e.scrollHeight>e.clientHeight}function jE(e){if(!e||e.nodeType!==Node.ELEMENT_NODE)return!1;const t=window.getComputedStyle(e);return["scroll","auto"].includes(t.overflowY)}function FE(e){for(;e;){if(window.getComputedStyle(e).position==="fixed")return!0;e=e.offsetParent}return!1}function Ct(e){const t=cn("useRender");t.render=e}const $t=Ke({tag:{type:[String,Object,Function],default:"div"}},"tag"),BE=Ke({text:String,...xt(),...$t()},"VToolbarTitle"),zE=ft()({name:"VToolbarTitle",props:BE(),setup(e,t){let{slots:n}=t;return Ct(()=>{const i=!!(n.default||n.text||e.text);return $(e.tag,{class:["v-toolbar-title",e.class],style:e.style},{default:()=>{var u;return[i&&$("div",{class:"v-toolbar-title__placeholder"},[n.text?n.text():e.text,(u=n.default)==null?void 0:u.call(n)])]}})}),{}}}),HE=Ke({disabled:Boolean,group:Boolean,hideOnLeave:Boolean,leaveAbsolute:Boolean,mode:String,origin:String},"transition");function $n(e,t,n){return ft()({name:e,props:HE({mode:n,origin:t}),setup(i,u){let{slots:b}=u;const I={onBeforeEnter(y){i.origin&&(y.style.transformOrigin=i.origin)},onLeave(y){if(i.leaveAbsolute){const{offsetTop:M,offsetLeft:l,offsetWidth:r,offsetHeight:w}=y;y._transitionInitialStyles={position:y.style.position,top:y.style.top,left:y.style.left,width:y.style.width,height:y.style.height},y.style.position="absolute",y.style.top=`${M}px`,y.style.left=`${l}px`,y.style.width=`${r}px`,y.style.height=`${w}px`}i.hideOnLeave&&y.style.setProperty("display","none","important")},onAfterLeave(y){if(i.leaveAbsolute&&(y!=null&&y._transitionInitialStyles)){const{position:M,top:l,left:r,width:w,height:A}=y._transitionInitialStyles;delete y._transitionInitialStyles,y.style.position=M||"",y.style.top=l||"",y.style.left=r||"",y.style.width=w||"",y.style.height=A||""}}};return()=>{const y=i.group?ku:Rr;return wi(y,{name:i.disabled?"":e,css:!i.disabled,...i.group?void 0:{mode:i.mode},...i.disabled?{}:I},b.default)}}})}function ep(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"in-out";return ft()({name:e,props:{mode:{type:String,default:n},disabled:Boolean,group:Boolean},setup(i,u){let{slots:b}=u;const I=i.group?ku:Rr;return()=>wi(I,{name:i.disabled?"":e,css:!i.disabled,...i.disabled?{}:t},b.default)}})}function tp(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";const n=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1)?"width":"height",i=Hn(`offset-${n}`);return{onBeforeEnter(I){I._parent=I.parentNode,I._initialStyle={transition:I.style.transition,overflow:I.style.overflow,[n]:I.style[n]}},onEnter(I){const y=I._initialStyle;if(!y)return;I.style.setProperty("transition","none","important"),I.style.overflow="hidden";const M=`${I[i]}px`;I.style[n]="0",I.offsetHeight,I.style.transition=y.transition,e&&I._parent&&I._parent.classList.add(e),requestAnimationFrame(()=>{I.style[n]=M})},onAfterEnter:b,onEnterCancelled:b,onLeave(I){I._initialStyle={transition:"",overflow:I.style.overflow,[n]:I.style[n]},I.style.overflow="hidden",I.style[n]=`${I[i]}px`,I.offsetHeight,requestAnimationFrame(()=>I.style[n]="0")},onAfterLeave:u,onLeaveCancelled:u};function u(I){e&&I._parent&&I._parent.classList.remove(e),b(I)}function b(I){if(!I._initialStyle)return;const y=I._initialStyle[n];I.style.overflow=I._initialStyle.overflow,y!=null&&(I.style[n]=y),delete I._initialStyle}}const UE=Ke({target:[Object,Array]},"v-dialog-transition"),oc=new WeakMap,WE=ft()({name:"VDialogTransition",props:UE(),setup(e,t){let{slots:n}=t;const i={onBeforeEnter(u){u.style.pointerEvents="none",u.style.visibility="hidden"},async onEnter(u,b){var D;await new Promise(O=>requestAnimationFrame(O)),await new Promise(O=>requestAnimationFrame(O)),u.style.visibility="";const I=og(e.target,u),{x:y,y:M,sx:l,sy:r,speed:w}=I;oc.set(u,I);const A=Kr(u,[{transform:`translate(${y}px, ${M}px) scale(${l}, ${r})`,opacity:0},{}],{duration:225*w,easing:LE});(D=ag(u))==null||D.forEach(O=>{Kr(O,[{opacity:0},{opacity:0,offset:.33},{}],{duration:225*2*w,easing:Rs})}),A.finished.then(()=>b())},onAfterEnter(u){u.style.removeProperty("pointer-events")},onBeforeLeave(u){u.style.pointerEvents="none"},async onLeave(u,b){var D;await new Promise(O=>requestAnimationFrame(O));let I;!oc.has(u)||Array.isArray(e.target)||e.target.offsetParent||e.target.getClientRects().length?I=og(e.target,u):I=oc.get(u);const{x:y,y:M,sx:l,sy:r,speed:w}=I;Kr(u,[{},{transform:`translate(${y}px, ${M}px) scale(${l}, ${r})`,opacity:0}],{duration:125*w,easing:NE}).finished.then(()=>b()),(D=ag(u))==null||D.forEach(O=>{Kr(O,[{},{opacity:0,offset:.2},{opacity:0}],{duration:125*2*w,easing:Rs})})},onAfterLeave(u){u.style.removeProperty("pointer-events")}};return()=>e.target?$(Rr,It({name:"dialog-transition"},i,{css:!1}),n):$(Rr,{name:"dialog-transition"},n)}});function ag(e){var n;const t=(n=e.querySelector(":scope > .v-card, :scope > .v-sheet, :scope > .v-list"))==null?void 0:n.children;return t&&[...t]}function og(e,t){const n=Xm(e),i=Wu(t),[u,b]=getComputedStyle(t).transformOrigin.split(" ").map(a=>parseFloat(a)),[I,y]=getComputedStyle(t).getPropertyValue("--v-overlay-anchor-origin").split(" ");let M=n.left+n.width/2;I==="left"||y==="left"?M-=n.width/2:(I==="right"||y==="right")&&(M+=n.width/2);let l=n.top+n.height/2;I==="top"||y==="top"?l-=n.height/2:(I==="bottom"||y==="bottom")&&(l+=n.height/2);const r=n.width/i.width,w=n.height/i.height,A=Math.max(1,r,w),D=r/A||0,O=w/A||0,N=i.width*i.height/(window.innerWidth*window.innerHeight),p=N>.12?Math.min(1.5,(N-.12)*10+1):1;return{x:M-(u+i.left),y:l-(b+i.top),sx:D,sy:O,speed:p}}$n("fab-transition","center center","out-in");$n("dialog-bottom-transition");$n("dialog-top-transition");const sg=$n("fade-transition");$n("scale-transition");$n("scroll-x-transition");$n("scroll-x-reverse-transition");$n("scroll-y-transition");$n("scroll-y-reverse-transition");$n("slide-x-transition");$n("slide-x-reverse-transition");const np=$n("slide-y-transition");$n("slide-y-reverse-transition");const ip=ep("expand-transition",tp()),rp=ep("expand-x-transition",tp("",!0)),YE=Ke({defaults:Object,disabled:Boolean,reset:[Number,String],root:[Boolean,String],scoped:Boolean},"VDefaultsProvider"),nn=ft(!1)({name:"VDefaultsProvider",props:YE(),setup(e,t){let{slots:n}=t;const{defaults:i,disabled:u,reset:b,root:I,scoped:y}=Su(e);return la(i,{reset:b,root:I,scoped:y,disabled:u}),()=>{var M;return(M=n.default)==null?void 0:M.call(n)}}}),ui=Ke({height:[Number,String],maxHeight:[Number,String],maxWidth:[Number,String],minHeight:[Number,String],minWidth:[Number,String],width:[Number,String]},"dimension");function fi(e){return{dimensionStyles:Ae(()=>{const n={},i=pt(e.height),u=pt(e.maxHeight),b=pt(e.maxWidth),I=pt(e.minHeight),y=pt(e.minWidth),M=pt(e.width);return i!=null&&(n.height=i),u!=null&&(n.maxHeight=u),b!=null&&(n.maxWidth=b),I!=null&&(n.minHeight=I),y!=null&&(n.minWidth=y),M!=null&&(n.width=M),n})}}function VE(e){return{aspectStyles:Ae(()=>{const t=Number(e.aspectRatio);return t?{paddingBottom:String(1/t*100)+"%"}:void 0})}}const ap=Ke({aspectRatio:[String,Number],contentClass:null,inline:Boolean,...xt(),...ui()},"VResponsive"),lg=ft()({name:"VResponsive",props:ap(),setup(e,t){let{slots:n}=t;const{aspectStyles:i}=VE(e),{dimensionStyles:u}=fi(e);return Ct(()=>{var b;return $("div",{class:["v-responsive",{"v-responsive--inline":e.inline},e.class],style:[u.value,e.style]},[$("div",{class:"v-responsive__sizer",style:i.value},null),(b=n.additional)==null?void 0:b.call(n),n.default&&$("div",{class:["v-responsive__content",e.contentClass]},[n.default()])])}),{}}});function Zu(e){return zu(()=>{const t=Yi(e),n=[],i={};if(t.background)if(Hc(t.background)){if(i.backgroundColor=t.background,!t.text&&xE(t.background)){const u=Ci(t.background);if(u.a==null||u.a===1){const b=Qm(u);i.color=b,i.caretColor=b}}}else n.push(`bg-${t.background}`);return t.text&&(Hc(t.text)?(i.color=t.text,i.caretColor=t.text):n.push(`text-${t.text}`)),{colorClasses:n,colorStyles:i}})}function Gi(e){const{colorClasses:t,colorStyles:n}=Zu(()=>({text:Yi(e)}));return{textColorClasses:t,textColorStyles:n}}function Hi(e){const{colorClasses:t,colorStyles:n}=Zu(()=>({background:Yi(e)}));return{backgroundColorClasses:t,backgroundColorStyles:n}}const Wn=Ke({rounded:{type:[Boolean,Number,String],default:void 0},tile:Boolean},"rounded");function Yn(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ti();return{roundedClasses:Ae(()=>{const i=Zt(e)?e.value:e.rounded,u=Zt(e)?e.value:e.tile,b=[];if(i===!0||i==="")b.push(`${t}--rounded`);else if(typeof i=="string"||i===0)for(const I of String(i).split(" "))b.push(`rounded-${I}`);else(u||i===!1)&&b.push("rounded-0");return b})}}const cl=Ke({transition:{type:null,default:"fade-transition",validator:e=>e!==!0}},"transition"),gr=(e,t)=>{let{slots:n}=t;const{transition:i,disabled:u,group:b,...I}=e,{component:y=b?ku:Rr,...M}=Fc(i)?i:{};let l;return Fc(i)?l=It(M,JSON.parse(JSON.stringify({disabled:u,group:b})),I):l=It({name:u||!i?"":i},I),wi(y,l,n)};function GE(e,t){if(!ju)return;const n=t.modifiers||{},i=t.value,{handler:u,options:b}=typeof i=="object"?i:{handler:i,options:{}},I=new IntersectionObserver(function(){var w;let y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],M=arguments.length>1?arguments[1]:void 0;const l=(w=e._observe)==null?void 0:w[t.instance.$.uid];if(!l)return;const r=y.some(A=>A.isIntersecting);u&&(!n.quiet||l.init)&&(!n.once||r||l.init)&&u(r,y,M),r&&n.once?op(e,t):l.init=!0},b);e._observe=Object(e._observe),e._observe[t.instance.$.uid]={init:!1,observer:I},I.observe(e)}function op(e,t){var i;const n=(i=e._observe)==null?void 0:i[t.instance.$.uid];n&&(n.observer.unobserve(e),delete e._observe[t.instance.$.uid])}const sp={mounted:GE,unmounted:op},XE=Ke({absolute:Boolean,alt:String,cover:Boolean,color:String,draggable:{type:[Boolean,String],default:void 0},eager:Boolean,gradient:String,lazySrc:String,options:{type:Object,default:()=>({root:void 0,rootMargin:void 0,threshold:void 0})},sizes:String,src:{type:[String,Object],default:""},crossorigin:String,referrerpolicy:String,srcset:String,position:String,...ap(),...xt(),...Wn(),...cl()},"VImg"),_i=ft()({name:"VImg",directives:{intersect:sp},props:XE(),emits:{loadstart:e=>!0,load:e=>!0,error:e=>!0},setup(e,t){let{emit:n,slots:i}=t;const{backgroundColorClasses:u,backgroundColorStyles:b}=Hi(()=>e.color),{roundedClasses:I}=Yn(e),y=cn("VImg"),M=dt(""),l=$e(),r=dt(e.eager?"loading":"idle"),w=dt(),A=dt(),D=Ae(()=>e.src&&typeof e.src=="object"?{src:e.src.src,srcset:e.srcset||e.src.srcset,lazySrc:e.lazySrc||e.src.lazySrc,aspect:Number(e.aspectRatio||e.src.aspect||0)}:{src:e.src,srcset:e.srcset,lazySrc:e.lazySrc,aspect:Number(e.aspectRatio||0)}),O=Ae(()=>D.value.aspect||w.value/A.value||0);ht(()=>e.src,()=>{N(r.value!=="idle")}),ht(O,(k,L)=>{!k&&L&&l.value&&o(l.value)}),lo(()=>N());function N(k){if(!(e.eager&&k)&&!(ju&&!k&&!e.eager)){if(r.value="loading",D.value.lazySrc){const L=new Image;L.src=D.value.lazySrc,o(L,null)}D.value.src&&bn(()=>{var L;n("loadstart",((L=l.value)==null?void 0:L.currentSrc)||D.value.src),setTimeout(()=>{var F;if(!y.isUnmounted)if((F=l.value)!=null&&F.complete){if(l.value.naturalWidth||a(),r.value==="error")return;O.value||o(l.value,null),r.value==="loading"&&p()}else O.value||o(l.value),m()})})}}function p(){var k;y.isUnmounted||(m(),o(l.value),r.value="loaded",n("load",((k=l.value)==null?void 0:k.currentSrc)||D.value.src))}function a(){var k;y.isUnmounted||(r.value="error",n("error",((k=l.value)==null?void 0:k.currentSrc)||D.value.src))}function m(){const k=l.value;k&&(M.value=k.currentSrc||k.src)}let v=-1;Pn(()=>{clearTimeout(v)});function o(k){let L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:100;const F=()=>{if(clearTimeout(v),y.isUnmounted)return;const{naturalHeight:U,naturalWidth:G}=k;U||G?(w.value=G,A.value=U):!k.complete&&r.value==="loading"&&L!=null?v=window.setTimeout(F,L):(k.currentSrc.endsWith(".svg")||k.currentSrc.startsWith("data:image/svg+xml"))&&(w.value=1,A.value=1)};F()}const c=Ze(()=>({"v-img__img--cover":e.cover,"v-img__img--contain":!e.cover})),s=()=>{var F;if(!D.value.src||r.value==="idle")return null;const k=$("img",{class:["v-img__img",c.value],style:{objectPosition:e.position},crossorigin:e.crossorigin,src:D.value.src,srcset:D.value.srcset,alt:e.alt,referrerpolicy:e.referrerpolicy,draggable:e.draggable,sizes:e.sizes,ref:l,onLoad:p,onError:a},null),L=(F=i.sources)==null?void 0:F.call(i);return $(gr,{transition:e.transition,appear:!0},{default:()=>[ti(L?$("picture",{class:"v-img__picture"},[L,k]):k,[[oa,r.value==="loaded"]])]})},g=()=>$(gr,{transition:e.transition},{default:()=>[D.value.lazySrc&&r.value!=="loaded"&&$("img",{class:["v-img__img","v-img__img--preload",c.value],style:{objectPosition:e.position},crossorigin:e.crossorigin,src:D.value.lazySrc,alt:e.alt,referrerpolicy:e.referrerpolicy,draggable:e.draggable},null)]}),x=()=>i.placeholder?$(gr,{transition:e.transition,appear:!0},{default:()=>[(r.value==="loading"||r.value==="error"&&!i.error)&&$("div",{class:"v-img__placeholder"},[i.placeholder()])]}):null,h=()=>i.error?$(gr,{transition:e.transition,appear:!0},{default:()=>[r.value==="error"&&$("div",{class:"v-img__error"},[i.error()])]}):null,E=()=>e.gradient?$("div",{class:"v-img__gradient",style:{backgroundImage:`linear-gradient(${e.gradient})`}},null):null,T=dt(!1);{const k=ht(O,L=>{L&&(requestAnimationFrame(()=>{requestAnimationFrame(()=>{T.value=!0})}),k())})}return Ct(()=>{const k=lg.filterProps(e);return ti($(lg,It({class:["v-img",{"v-img--absolute":e.absolute,"v-img--booting":!T.value},u.value,I.value,e.class],style:[{width:pt(e.width==="auto"?w.value:e.width)},b.value,e.style]},k,{aspectRatio:O.value,"aria-label":e.alt,role:e.alt?"img":void 0}),{additional:()=>$(Ut,null,[$(s,null,null),$(g,null,null),$(E,null,null),$(x,null,null),$(h,null,null)]),default:i.default}),[[aa("intersect"),{handler:N,options:e.options},null,{once:!0}]])}),{currentSrc:M,image:l,state:r,naturalWidth:w,naturalHeight:A}}}),$i=Ke({border:[Boolean,Number,String]},"border");function Ki(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ti();return{borderClasses:Ae(()=>{const i=e.border;return i===!0||i===""?`${t}--border`:typeof i=="string"||i===0?String(i).split(" ").map(u=>`border-${u}`):[]})}}const Qi=Ke({elevation:{type:[Number,String],validator(e){const t=parseInt(e);return!isNaN(t)&&t>=0&&t<=24}}},"elevation");function qi(e){return{elevationClasses:Ze(()=>{const n=Zt(e)?e.value:e.elevation;return n==null?[]:[`elevation-${n}`]})}}function mr(e,t){let n;function i(){n=Pr(),n.run(()=>t.length?t(()=>{n==null||n.stop(),i()}):t())}ht(e,u=>{u&&!n?i():u||(n==null||n.stop(),n=void 0)},{immediate:!0}),Un(()=>{n==null||n.stop()})}function yn(e,t,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:w=>w,u=arguments.length>4&&arguments[4]!==void 0?arguments[4]:w=>w;const b=cn("useProxiedModel"),I=$e(e[t]!==void 0?e[t]:n),y=Dr(t),l=Ae(y!==t?()=>{var w,A,D,O;return e[t],!!(((w=b.vnode.props)!=null&&w.hasOwnProperty(t)||(A=b.vnode.props)!=null&&A.hasOwnProperty(y))&&((D=b.vnode.props)!=null&&D.hasOwnProperty(`onUpdate:${t}`)||(O=b.vnode.props)!=null&&O.hasOwnProperty(`onUpdate:${y}`)))}:()=>{var w,A;return e[t],!!((w=b.vnode.props)!=null&&w.hasOwnProperty(t)&&((A=b.vnode.props)!=null&&A.hasOwnProperty(`onUpdate:${t}`)))});mr(()=>!l.value,()=>{ht(()=>e[t],w=>{I.value=w})});const r=Ae({get(){const w=e[t];return i(l.value?w:I.value)},set(w){const A=u(w),D=ct(l.value?e[t]:I.value);D===A||i(D)===w||(I.value=A,b==null||b.emit(`update:${t}`,A))}});return Object.defineProperty(r,"externalValue",{get:()=>l.value?e[t]:I.value}),r}const ZE={badge:"Badge",open:"Open",close:"Close",dismiss:"Dismiss",confirmEdit:{ok:"OK",cancel:"Cancel"},dataIterator:{noResultsText:"No matching records found",loadingText:"Loading items..."},dataTable:{itemsPerPageText:"Rows per page:",ariaLabel:{sortDescending:"Sorted descending.",sortAscending:"Sorted ascending.",sortNone:"Not sorted.",activateNone:"Activate to remove sorting.",activateDescending:"Activate to sort descending.",activateAscending:"Activate to sort ascending."},sortBy:"Sort by"},dataFooter:{itemsPerPageText:"Items per page:",itemsPerPageAll:"All",nextPage:"Next page",prevPage:"Previous page",firstPage:"First page",lastPage:"Last page",pageText:"{0}-{1} of {2}"},dateRangeInput:{divider:"to"},datePicker:{itemsSelected:"{0} selected",range:{title:"Select dates",header:"Enter dates"},title:"Select date",header:"Enter date",input:{placeholder:"Enter date"}},noDataText:"No data available",carousel:{prev:"Previous visual",next:"Next visual",ariaLabel:{delimiter:"Carousel slide {0} of {1}"}},calendar:{moreEvents:"{0} more",today:"Today"},input:{clear:"Clear {0}",prependAction:"{0} prepended action",appendAction:"{0} appended action",otp:"Please enter OTP character {0}"},fileInput:{counter:"{0} files",counterSize:"{0} files ({1} in total)"},fileUpload:{title:"Drag and drop files here",divider:"or",browse:"Browse Files"},timePicker:{am:"AM",pm:"PM",title:"Select Time"},pagination:{ariaLabel:{root:"Pagination Navigation",next:"Next page",previous:"Previous page",page:"Go to page {0}",currentPage:"Page {0}, Current page",first:"First page",last:"Last page"}},stepper:{next:"Next",prev:"Previous"},rating:{ariaLabel:{item:"Rating {0} of {1}"}},loading:"Loading...",infiniteScroll:{loadMore:"Load more",empty:"No more"},rules:{required:"This field is required",email:"Please enter a valid email",number:"This field can only contain numbers",integer:"This field can only contain integer values",capital:"This field can only contain uppercase letters",maxLength:"You must enter a maximum of {0} characters",minLength:"You must enter a minimum of {0} characters",strictLength:"The length of the entered field is invalid",exclude:"The {0} character is not allowed",notEmpty:"Please choose at least one value",pattern:"Invalid format"}},cg="$vuetify.",ug=(e,t)=>e.replace(/\{(\d+)\}/g,(n,i)=>String(t[Number(i)])),lp=(e,t,n)=>function(i){for(var u=arguments.length,b=new Array(u>1?u-1:0),I=1;I<u;I++)b[I-1]=arguments[I];if(!i.startsWith(cg))return ug(i,b);const y=i.replace(cg,""),M=e.value&&n.value[e.value],l=t.value&&n.value[t.value];let r=jc(M,y,null);return r||(`${i}${e.value}`,r=jc(l,y,null)),r||(r=i),typeof r!="string"&&(r=i),ug(r,b)};function cp(e,t){return(n,i)=>new Intl.NumberFormat([e.value,t.value],i).format(n)}function sc(e,t,n){const i=yn(e,t,e[t]??n.value);return i.value=e[t]??n.value,ht(n,u=>{e[t]==null&&(i.value=n.value)}),i}function up(e){return t=>{const n=sc(t,"locale",e.current),i=sc(t,"fallback",e.fallback),u=sc(t,"messages",e.messages);return{name:"vuetify",current:n,fallback:i,messages:u,t:lp(n,i,u),n:cp(n,i),provide:up({current:n,fallback:i,messages:u})}}}function JE(e){const t=dt((e==null?void 0:e.locale)??"en"),n=dt((e==null?void 0:e.fallback)??"en"),i=$e({en:ZE,...e==null?void 0:e.messages});return{name:"vuetify",current:t,fallback:n,messages:i,t:lp(t,n,i),n:cp(t,n),provide:up({current:t,fallback:n,messages:i})}}const Fs=Symbol.for("vuetify:locale");function $E(e){return e.name!=null}function KE(e){const t=e!=null&&e.adapter&&$E(e==null?void 0:e.adapter)?e==null?void 0:e.adapter:JE(e),n=qE(t,e);return{...t,...n}}function ul(){const e=Ot(Fs);if(!e)throw new Error("[Vuetify] Could not find injected locale instance");return e}function QE(){return{af:!1,ar:!0,bg:!1,ca:!1,ckb:!1,cs:!1,de:!1,el:!1,en:!1,es:!1,et:!1,fa:!0,fi:!1,fr:!1,hr:!1,hu:!1,he:!0,id:!1,it:!1,ja:!1,km:!1,ko:!1,lv:!1,lt:!1,nl:!1,no:!1,pl:!1,pt:!1,ro:!1,ru:!1,sk:!1,sl:!1,srCyrl:!1,srLatn:!1,sv:!1,th:!1,tr:!1,az:!1,uk:!1,vi:!1,zhHans:!1,zhHant:!1}}function qE(e,t){const n=$e((t==null?void 0:t.rtl)??QE()),i=Ae(()=>n.value[e.current.value]??!1);return{isRtl:i,rtl:n,rtlClasses:Ze(()=>`v-locale--is-${i.value?"rtl":"ltr"}`)}}function Ai(){const e=Ot(Fs);if(!e)throw new Error("[Vuetify] Could not find injected rtl instance");return{isRtl:e.isRtl,rtlClasses:e.rtlClasses}}const Ka=Symbol.for("vuetify:theme"),on=Ke({theme:String},"theme");function fg(){return{defaultTheme:"light",variations:{colors:[],lighten:0,darken:0},themes:{light:{dark:!1,colors:{background:"#FFFFFF",surface:"#FFFFFF","surface-bright":"#FFFFFF","surface-light":"#EEEEEE","surface-variant":"#424242","on-surface-variant":"#EEEEEE",primary:"#1867C0","primary-darken-1":"#1F5592",secondary:"#48A9A6","secondary-darken-1":"#018786",error:"#B00020",info:"#2196F3",success:"#4CAF50",warning:"#FB8C00"},variables:{"border-color":"#000000","border-opacity":.12,"high-emphasis-opacity":.87,"medium-emphasis-opacity":.6,"disabled-opacity":.38,"idle-opacity":.04,"hover-opacity":.04,"focus-opacity":.12,"selected-opacity":.08,"activated-opacity":.12,"pressed-opacity":.12,"dragged-opacity":.08,"theme-kbd":"#212529","theme-on-kbd":"#FFFFFF","theme-code":"#F5F5F5","theme-on-code":"#000000"}},dark:{dark:!0,colors:{background:"#121212",surface:"#212121","surface-bright":"#ccbfd6","surface-light":"#424242","surface-variant":"#c8c8c8","on-surface-variant":"#000000",primary:"#2196F3","primary-darken-1":"#277CC1",secondary:"#54B6B2","secondary-darken-1":"#48A9A6",error:"#CF6679",info:"#2196F3",success:"#4CAF50",warning:"#FB8C00"},variables:{"border-color":"#FFFFFF","border-opacity":.12,"high-emphasis-opacity":1,"medium-emphasis-opacity":.7,"disabled-opacity":.5,"idle-opacity":.1,"hover-opacity":.04,"focus-opacity":.12,"selected-opacity":.08,"activated-opacity":.12,"pressed-opacity":.16,"dragged-opacity":.08,"theme-kbd":"#212529","theme-on-kbd":"#FFFFFF","theme-code":"#343434","theme-on-code":"#CCCCCC"}}},stylesheetId:"vuetify-theme-stylesheet"}}function ew(){var i,u;let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:fg();const t=fg();if(!e)return{...t,isDisabled:!0};const n={};for(const[b,I]of Object.entries(e.themes??{})){const y=I.dark||b==="dark"?(i=t.themes)==null?void 0:i.dark:(u=t.themes)==null?void 0:u.light;n[b]=Mn(y,I)}return Mn(t,{...e,themes:n})}function _r(e,t,n,i){e.push(`${rw(t,i)} {
`,...n.map(u=>`  ${u};
`),`}
`)}function hg(e){const t=e.dark?2:1,n=e.dark?1:2,i=[];for(const[u,b]of Object.entries(e.colors)){const I=Ci(b);i.push(`--v-theme-${u}: ${I.r},${I.g},${I.b}`),u.startsWith("on-")||i.push(`--v-theme-${u}-overlay-multiplier: ${AE(b)>.18?t:n}`)}for(const[u,b]of Object.entries(e.variables)){const I=typeof b=="string"&&b.startsWith("#")?Ci(b):void 0,y=I?`${I.r}, ${I.g}, ${I.b}`:void 0;i.push(`--v-${u}: ${y??b}`)}return i}function tw(e,t,n){const i={};if(n)for(const u of["lighten","darken"]){const b=u==="lighten"?wE:TE;for(const I of Fm(n[u],1))i[`${e}-${u}-${I}`]=_E(b(Ci(t),I))}return i}function nw(e,t){if(!t)return{};let n={};for(const i of t.colors){const u=e[i];u&&(n={...n,...tw(i,u,t)})}return n}function iw(e){const t={};for(const n of Object.keys(e)){if(n.startsWith("on-")||e[`on-${n}`])continue;const i=`on-${n}`,u=Ci(e[n]);t[i]=Qm(u)}return t}function rw(e,t){if(!t)return e;const n=`:where(${t})`;return e===":root"?n:`${n} ${e}`}function aw(e,t){e&&(e.innerHTML=t)}function ow(e,t){if(!Vt)return null;let n=document.getElementById(e);return n||(n=document.createElement("style"),n.id=e,n.type="text/css",t&&n.setAttribute("nonce",t),document.head.appendChild(n)),n}function sw(e){const t=ew(e),n=dt(t.defaultTheme),i=$e(t.themes),u=Ae(()=>{const l={};for(const[r,w]of Object.entries(i.value)){const A={...w.colors,...nw(w.colors,t.variations)};l[r]={...w,colors:{...A,...iw(A)}}}return l}),b=Ze(()=>u.value[n.value]),I=Ae(()=>{var D;const l=[];(D=b.value)!=null&&D.dark&&_r(l,":root",["color-scheme: dark"],t.scope),_r(l,":root",hg(b.value),t.scope);for(const[O,N]of Object.entries(u.value))_r(l,`.v-theme--${O}`,[`color-scheme: ${N.dark?"dark":"normal"}`,...hg(N)],t.scope);const r=[],w=[],A=new Set(Object.values(u.value).flatMap(O=>Object.keys(O.colors)));for(const O of A)O.startsWith("on-")?_r(w,`.${O}`,[`color: rgb(var(--v-theme-${O})) !important`],t.scope):(_r(r,`.bg-${O}`,[`--v-theme-overlay-multiplier: var(--v-theme-${O}-overlay-multiplier)`,`background-color: rgb(var(--v-theme-${O})) !important`,`color: rgb(var(--v-theme-on-${O})) !important`],t.scope),_r(w,`.text-${O}`,[`color: rgb(var(--v-theme-${O})) !important`],t.scope),_r(w,`.border-${O}`,[`--v-border-color: var(--v-theme-${O})`],t.scope));return l.push(...r,...w),l.map((O,N)=>N===0?O:`    ${O}`).join("")});function y(l){if(t.isDisabled)return;const r=l._context.provides.usehead;if(r){let D=function(){return{style:[{textContent:I.value,id:t.stylesheetId,nonce:t.cspNonce||!1}]}};var w=D;if(r.push){const O=r.push(D);Vt&&ht(I,()=>{O.patch(D)})}else Vt?(r.addHeadObjs(Ze(D)),Ei(()=>r.updateDOM())):r.addHeadObjs(D())}else{let D=function(){aw(ow(t.stylesheetId,t.cspNonce),I.value)};var A=D;Vt?ht(I,D,{immediate:!0}):D()}}const M=Ze(()=>t.isDisabled?void 0:`v-theme--${n.value}`);return{install:y,isDisabled:t.isDisabled,name:n,themes:i,current:b,computedThemes:u,themeClasses:M,styles:I,global:{name:n,current:b}}}function hn(e){cn("provideTheme");const t=Ot(Ka,null);if(!t)throw new Error("Could not find Vuetify theme injection");const n=Ze(()=>e.theme??t.name.value),i=Ze(()=>t.themes.value[n.value]),u=Ze(()=>t.isDisabled?void 0:`v-theme--${n.value}`),b={...t,name:n,current:i,themeClasses:u};return pn(Ka,b),b}function lw(){cn("useTheme");const e=Ot(Ka,null);if(!e)throw new Error("Could not find Vuetify theme injection");return e}const cw=[null,"prominent","default","comfortable","compact"],fp=Ke({absolute:Boolean,collapse:Boolean,color:String,density:{type:String,default:"default",validator:e=>cw.includes(e)},extended:Boolean,extensionHeight:{type:[Number,String],default:48},flat:Boolean,floating:Boolean,height:{type:[Number,String],default:64},image:String,title:String,...$i(),...xt(),...Qi(),...Wn(),...$t({tag:"header"}),...on()},"VToolbar"),dg=ft()({name:"VToolbar",props:fp(),setup(e,t){var D;let{slots:n}=t;const{backgroundColorClasses:i,backgroundColorStyles:u}=Hi(()=>e.color),{borderClasses:b}=Ki(e),{elevationClasses:I}=qi(e),{roundedClasses:y}=Yn(e),{themeClasses:M}=hn(e),{rtlClasses:l}=Ai(),r=dt(!!(e.extended||(D=n.extension)!=null&&D.call(n))),w=Ae(()=>parseInt(Number(e.height)+(e.density==="prominent"?Number(e.height):0)-(e.density==="comfortable"?8:0)-(e.density==="compact"?16:0),10)),A=Ae(()=>r.value?parseInt(Number(e.extensionHeight)+(e.density==="prominent"?Number(e.extensionHeight):0)-(e.density==="comfortable"?4:0)-(e.density==="compact"?8:0),10):0);return la({VBtn:{variant:"text"}}),Ct(()=>{var a;const O=!!(e.title||n.title),N=!!(n.image||e.image),p=(a=n.extension)==null?void 0:a.call(n);return r.value=!!(e.extended||p),$(e.tag,{class:["v-toolbar",{"v-toolbar--absolute":e.absolute,"v-toolbar--collapse":e.collapse,"v-toolbar--flat":e.flat,"v-toolbar--floating":e.floating,[`v-toolbar--density-${e.density}`]:!0},i.value,b.value,I.value,y.value,M.value,l.value,e.class],style:[u.value,e.style]},{default:()=>[N&&$("div",{key:"image",class:"v-toolbar__image"},[n.image?$(nn,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{cover:!0,src:e.image}}},n.image):$(_i,{key:"image-img",cover:!0,src:e.image},null)]),$(nn,{defaults:{VTabs:{height:pt(w.value)}}},{default:()=>{var m,v,o;return[$("div",{class:"v-toolbar__content",style:{height:pt(w.value)}},[n.prepend&&$("div",{class:"v-toolbar__prepend"},[(m=n.prepend)==null?void 0:m.call(n)]),O&&$(zE,{key:"title",text:e.title},{text:n.title}),(v=n.default)==null?void 0:v.call(n),n.append&&$("div",{class:"v-toolbar__append"},[(o=n.append)==null?void 0:o.call(n)])])]}}),$(nn,{defaults:{VTabs:{height:pt(A.value)}}},{default:()=>[$(ip,null,{default:()=>[r.value&&$("div",{class:"v-toolbar__extension",style:{height:pt(A.value)}},[p])]})]})]})}),{contentHeight:w,extensionHeight:A}}});function Bs(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"content";const n=Bc(),i=$e();if(Vt){const u=new ResizeObserver(b=>{b.length&&(t==="content"?i.value=b[0].contentRect:i.value=b[0].target.getBoundingClientRect())});Pn(()=>{u.disconnect()}),ht(()=>n.el,(b,I)=>{I&&(u.unobserve(I),i.value=void 0),b&&u.observe(b)},{flush:"post"})}return{resizeRef:n,contentRect:ao(i)}}const Qa=Symbol.for("vuetify:layout"),hp=Symbol.for("vuetify:layout-item"),gg=1e3,uw=Ke({overlaps:{type:Array,default:()=>[]},fullHeight:Boolean},"layout"),fw=Ke({name:{type:String},order:{type:[Number,String],default:0},absolute:Boolean},"layout-item");function dp(){const e=Ot(Qa);if(!e)throw new Error("[Vuetify] Could not find injected layout");return{getLayoutItem:e.getLayoutItem,mainRect:e.mainRect,mainStyles:e.mainStyles}}function hw(e){const t=Ot(Qa);if(!t)throw new Error("[Vuetify] Could not find injected layout");const n=e.id??`layout-item-${so()}`,i=cn("useLayoutItem");pn(hp,{id:n});const u=dt(!1);Wv(()=>u.value=!0),Uv(()=>u.value=!1);const{layoutItemStyles:b,layoutItemScrimStyles:I}=t.register(i,{...e,active:Ae(()=>u.value?!1:e.active.value),id:n});return Pn(()=>t.unregister(n)),{layoutItemStyles:b,layoutRect:t.layoutRect,layoutItemScrimStyles:I}}const dw=(e,t,n,i)=>{let u={top:0,left:0,right:0,bottom:0};const b=[{id:"",layer:{...u}}];for(const I of e){const y=t.get(I),M=n.get(I),l=i.get(I);if(!y||!M||!l)continue;const r={...u,[y.value]:parseInt(u[y.value],10)+(l.value?parseInt(M.value,10):0)};b.push({id:I,layer:r}),u=r}return b};function gw(e){const t=Ot(Qa,null),n=Ae(()=>t?t.rootZIndex.value-100:gg),i=$e([]),u=un(new Map),b=un(new Map),I=un(new Map),y=un(new Map),M=un(new Map),{resizeRef:l,contentRect:r}=Bs(),w=Ae(()=>{const s=new Map,g=e.overlaps??[];for(const x of g.filter(h=>h.includes(":"))){const[h,E]=x.split(":");if(!i.value.includes(h)||!i.value.includes(E))continue;const T=u.get(h),k=u.get(E),L=b.get(h),F=b.get(E);!T||!k||!L||!F||(s.set(E,{position:T.value,amount:parseInt(L.value,10)}),s.set(h,{position:k.value,amount:-parseInt(F.value,10)}))}return s}),A=Ae(()=>{const s=[...new Set([...I.values()].map(x=>x.value))].sort((x,h)=>x-h),g=[];for(const x of s){const h=i.value.filter(E=>{var T;return((T=I.get(E))==null?void 0:T.value)===x});g.push(...h)}return dw(g,u,b,y)}),D=Ae(()=>!Array.from(M.values()).some(s=>s.value)),O=Ae(()=>A.value[A.value.length-1].layer),N=Ze(()=>({"--v-layout-left":pt(O.value.left),"--v-layout-right":pt(O.value.right),"--v-layout-top":pt(O.value.top),"--v-layout-bottom":pt(O.value.bottom),...D.value?void 0:{transition:"none"}})),p=Ae(()=>A.value.slice(1).map((s,g)=>{let{id:x}=s;const{layer:h}=A.value[g],E=b.get(x),T=u.get(x);return{id:x,...h,size:Number(E.value),position:T.value}})),a=s=>p.value.find(g=>g.id===s),m=cn("createLayout"),v=dt(!1);Ji(()=>{v.value=!0}),pn(Qa,{register:(s,g)=>{let{id:x,order:h,position:E,layoutSize:T,elementSize:k,active:L,disableTransitions:F,absolute:U}=g;I.set(x,h),u.set(x,E),b.set(x,T),y.set(x,L),F&&M.set(x,F);const Y=$r(hp,m==null?void 0:m.vnode).indexOf(s);Y>-1?i.value.splice(Y,0,x):i.value.push(x);const K=Ae(()=>p.value.findIndex(ee=>ee.id===x)),he=Ae(()=>n.value+A.value.length*2-K.value*2),oe=Ae(()=>{const ee=E.value==="left"||E.value==="right",xe=E.value==="right",Z=E.value==="bottom",Be=k.value??T.value,we=Be===0?"%":"px",ge={[E.value]:0,zIndex:he.value,transform:`translate${ee?"X":"Y"}(${(L.value?0:-(Be===0?100:Be))*(xe||Z?-1:1)}${we})`,position:U.value||n.value!==gg?"absolute":"fixed",...D.value?void 0:{transition:"none"}};if(!v.value)return ge;const te=p.value[K.value];if(!te)throw new Error(`[Vuetify] Could not find layout item "${x}"`);const ae=w.value.get(x);return ae&&(te[ae.position]+=ae.amount),{...ge,height:ee?`calc(100% - ${te.top}px - ${te.bottom}px)`:k.value?`${k.value}px`:void 0,left:xe?void 0:`${te.left}px`,right:xe?`${te.right}px`:void 0,top:E.value!=="bottom"?`${te.top}px`:void 0,bottom:E.value!=="top"?`${te.bottom}px`:void 0,width:ee?k.value?`${k.value}px`:void 0:`calc(100% - ${te.left}px - ${te.right}px)`}}),ve=Ae(()=>({zIndex:he.value-1}));return{layoutItemStyles:oe,layoutItemScrimStyles:ve,zIndex:he}},unregister:s=>{I.delete(s),u.delete(s),b.delete(s),y.delete(s),M.delete(s),i.value=i.value.filter(g=>g!==s)},mainRect:O,mainStyles:N,getLayoutItem:a,items:p,layoutRect:r,rootZIndex:n});const o=Ze(()=>["v-layout",{"v-layout--full-height":e.fullHeight}]),c=Ze(()=>({zIndex:t?n.value:void 0,position:t?"relative":void 0,overflow:t?"hidden":void 0}));return{layoutClasses:o,layoutStyles:c,getLayoutItem:a,items:p,layoutRect:r,layoutRef:l}}const vw=Ke({scrollTarget:{type:String},scrollThreshold:{type:[String,Number],default:300}},"scroll");function mw(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{canScroll:n}=t;let i=0,u=0;const b=$e(null),I=dt(0),y=dt(0),M=dt(0),l=dt(!1),r=dt(!1),w=Ae(()=>Number(e.scrollThreshold)),A=Ae(()=>jr((w.value-I.value)/w.value||0)),D=()=>{const O=b.value;if(!O||n&&!n.value)return;i=I.value,I.value="window"in O?O.pageYOffset:O.scrollTop;const N=O instanceof Window?document.documentElement.scrollHeight:O.scrollHeight;if(u!==N){u=N;return}r.value=I.value<i,M.value=Math.abs(I.value-w.value)};return ht(r,()=>{y.value=y.value||I.value}),ht(l,()=>{y.value=0}),Ji(()=>{ht(()=>e.scrollTarget,O=>{var p;const N=O?document.querySelector(O):window;N&&N!==b.value&&((p=b.value)==null||p.removeEventListener("scroll",D),b.value=N,b.value.addEventListener("scroll",D,{passive:!0}))},{immediate:!0})}),Pn(()=>{var O;(O=b.value)==null||O.removeEventListener("scroll",D)}),n&&ht(n,D,{immediate:!0}),{scrollThreshold:w,currentScroll:I,currentThreshold:M,isScrollActive:l,scrollRatio:A,isScrollingUp:r,savedScroll:y}}function Ju(){const e=dt(!1);return Ji(()=>{window.requestAnimationFrame(()=>{e.value=!0})}),{ssrBootStyles:Ze(()=>e.value?void 0:{transition:"none !important"}),isBooted:ao(e)}}const pw=Ke({scrollBehavior:String,modelValue:{type:Boolean,default:!0},location:{type:String,default:"top",validator:e=>["top","bottom"].includes(e)},...fp(),...fw(),...vw(),height:{type:[Number,String],default:64}},"VAppBar"),yw=ft()({name:"VAppBar",props:pw(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const i=$e(),u=yn(e,"modelValue"),b=Ae(()=>{var v;const m=new Set(((v=e.scrollBehavior)==null?void 0:v.split(" "))??[]);return{hide:m.has("hide"),fullyHide:m.has("fully-hide"),inverted:m.has("inverted"),collapse:m.has("collapse"),elevate:m.has("elevate"),fadeImage:m.has("fade-image")}}),I=Ae(()=>{const m=b.value;return m.hide||m.fullyHide||m.inverted||m.collapse||m.elevate||m.fadeImage||!u.value}),{currentScroll:y,scrollThreshold:M,isScrollingUp:l,scrollRatio:r}=mw(e,{canScroll:I}),w=Ze(()=>b.value.hide||b.value.fullyHide),A=Ae(()=>e.collapse||b.value.collapse&&(b.value.inverted?r.value>0:r.value===0)),D=Ae(()=>e.flat||b.value.fullyHide&&!u.value||b.value.elevate&&(b.value.inverted?y.value>0:y.value===0)),O=Ae(()=>b.value.fadeImage?b.value.inverted?1-r.value:r.value:void 0),N=Ae(()=>{var o,c;if(b.value.hide&&b.value.inverted)return 0;const m=((o=i.value)==null?void 0:o.contentHeight)??0,v=((c=i.value)==null?void 0:c.extensionHeight)??0;return w.value?y.value<M.value||b.value.fullyHide?m+v:m:m+v});mr(()=>!!e.scrollBehavior,()=>{Ei(()=>{w.value?b.value.inverted?u.value=y.value>M.value:u.value=l.value||y.value<M.value:u.value=!0})});const{ssrBootStyles:p}=Ju(),{layoutItemStyles:a}=hw({id:e.name,order:Ae(()=>parseInt(e.order,10)),position:Ze(()=>e.location),layoutSize:N,elementSize:dt(void 0),active:u,absolute:Ze(()=>e.absolute)});return Ct(()=>{const m=dg.filterProps(e);return $(dg,It({ref:i,class:["v-app-bar",{"v-app-bar--bottom":e.location==="bottom"},e.class],style:[{...a.value,"--v-toolbar-image-opacity":O.value,height:void 0,...p.value},e.style]},m,{collapse:A.value,flat:D.value}),n)}),{}}}),bw=[null,"default","comfortable","compact"],Oi=Ke({density:{type:String,default:"default",validator:e=>bw.includes(e)}},"density");function er(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ti();return{densityClasses:Ze(()=>`${t}--density-${e.density}`)}}const Sw=["elevated","flat","tonal","outlined","text","plain"];function zr(e,t){return $(Ut,null,[e&&$("span",{key:"overlay",class:`${t}__overlay`},null),$("span",{key:"underlay",class:`${t}__underlay`},null)])}const Di=Ke({color:String,variant:{type:String,default:"elevated",validator:e=>Sw.includes(e)}},"variant");function Hr(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ti();const n=Ze(()=>{const{variant:b}=Yi(e);return`${t}--variant-${b}`}),{colorClasses:i,colorStyles:u}=Zu(()=>{const{variant:b,color:I}=Yi(e);return{[["elevated","flat"].includes(b)?"background":"text"]:I}});return{colorClasses:i,colorStyles:u,variantClasses:n}}const gp=Ke({baseColor:String,divided:Boolean,...$i(),...xt(),...Oi(),...Qi(),...Wn(),...$t(),...on(),...Di()},"VBtnGroup"),vg=ft()({name:"VBtnGroup",props:gp(),setup(e,t){let{slots:n}=t;const{themeClasses:i}=hn(e),{densityClasses:u}=er(e),{borderClasses:b}=Ki(e),{elevationClasses:I}=qi(e),{roundedClasses:y}=Yn(e);la({VBtn:{height:"auto",baseColor:Ze(()=>e.baseColor),color:Ze(()=>e.color),density:Ze(()=>e.density),flat:!0,variant:Ze(()=>e.variant)}}),Ct(()=>$(e.tag,{class:["v-btn-group",{"v-btn-group--divided":e.divided},i.value,b.value,u.value,I.value,y.value,e.class],style:e.style},n))}}),$u=Ke({modelValue:{type:null,default:void 0},multiple:Boolean,mandatory:[Boolean,String],max:Number,selectedClass:String,disabled:Boolean},"group"),vp=Ke({value:null,disabled:Boolean,selectedClass:String},"group-item");function mp(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const i=cn("useGroupItem");if(!i)throw new Error("[Vuetify] useGroupItem composable must be used inside a component setup function");const u=so();pn(Symbol.for(`${t.description}:id`),u);const b=Ot(t,null);if(!b){if(!n)return b;throw new Error(`[Vuetify] Could not find useGroup injection with symbol ${t.description}`)}const I=Ze(()=>e.value),y=Ae(()=>!!(b.disabled.value||e.disabled));b.register({id:u,value:I,disabled:y},i),Pn(()=>{b.unregister(u)});const M=Ae(()=>b.isSelected(u)),l=Ae(()=>b.items.value[0].id===u),r=Ae(()=>b.items.value[b.items.value.length-1].id===u),w=Ae(()=>M.value&&[b.selectedClass.value,e.selectedClass]);return ht(M,A=>{i.emit("group:selected",{value:A})},{flush:"sync"}),{id:u,isSelected:M,isFirst:l,isLast:r,toggle:()=>b.select(u,!M.value),select:A=>b.select(u,A),selectedClass:w,value:I,disabled:y,group:b}}function Ku(e,t){let n=!1;const i=un([]),u=yn(e,"modelValue",[],A=>A==null?[]:pp(i,zi(A)),A=>{const D=xw(i,A);return e.multiple?D:D[0]}),b=cn("useGroup");function I(A,D){const O=A,N=Symbol.for(`${t.description}:id`),a=$r(N,b==null?void 0:b.vnode).indexOf(D);Gn(O.value)==null&&(O.value=a,O.useIndexAsValue=!0),a>-1?i.splice(a,0,O):i.push(O)}function y(A){if(n)return;M();const D=i.findIndex(O=>O.id===A);i.splice(D,1)}function M(){const A=i.find(D=>!D.disabled);A&&e.mandatory==="force"&&!u.value.length&&(u.value=[A.id])}Ji(()=>{M()}),Pn(()=>{n=!0}),_u(()=>{for(let A=0;A<i.length;A++)i[A].useIndexAsValue&&(i[A].value=A)});function l(A,D){const O=i.find(N=>N.id===A);if(!(D&&(O!=null&&O.disabled)))if(e.multiple){const N=u.value.slice(),p=N.findIndex(m=>m===A),a=~p;if(D=D??!a,a&&e.mandatory&&N.length<=1||!a&&e.max!=null&&N.length+1>e.max)return;p<0&&D?N.push(A):p>=0&&!D&&N.splice(p,1),u.value=N}else{const N=u.value.includes(A);if(e.mandatory&&N)return;u.value=D??!N?[A]:[]}}function r(A){if(e.multiple,u.value.length){const D=u.value[0],O=i.findIndex(a=>a.id===D);let N=(O+A)%i.length,p=i[N];for(;p.disabled&&N!==O;)N=(N+A)%i.length,p=i[N];if(p.disabled)return;u.value=[i[N].id]}else{const D=i.find(O=>!O.disabled);D&&(u.value=[D.id])}}const w={register:I,unregister:y,selected:u,select:l,disabled:Ze(()=>e.disabled),prev:()=>r(i.length-1),next:()=>r(1),isSelected:A=>u.value.includes(A),selectedClass:Ze(()=>e.selectedClass),items:Ze(()=>i),getItemIndex:A=>Cw(i,A)};return pn(t,w),w}function Cw(e,t){const n=pp(e,[t]);return n.length?e.findIndex(i=>i.id===n[0]):-1}function pp(e,t){const n=[];return t.forEach(i=>{const u=e.find(I=>fo(i,I.value)),b=e[i];(u==null?void 0:u.value)!=null?n.push(u.id):b!=null&&n.push(b.id)}),n}function xw(e,t){const n=[];return t.forEach(i=>{const u=e.findIndex(b=>b.id===i);if(~u){const b=e[u];n.push(b.value!=null?b.value:u)}}),n}const yp=Symbol.for("vuetify:v-btn-toggle"),Iw=Ke({...gp(),...$u()},"VBtnToggle");ft()({name:"VBtnToggle",props:Iw(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const{isSelected:i,next:u,prev:b,select:I,selected:y}=Ku(e,yp);return Ct(()=>{const M=vg.filterProps(e);return $(vg,It({class:["v-btn-toggle",e.class]},M,{style:e.style}),{default:()=>{var l;return[(l=n.default)==null?void 0:l.call(n,{isSelected:i,next:u,prev:b,select:I,selected:y})]}})}),{next:u,prev:b,select:I}}});const _w={collapse:"mdi-chevron-up",complete:"mdi-check",cancel:"mdi-close-circle",close:"mdi-close",delete:"mdi-close-circle",clear:"mdi-close-circle",success:"mdi-check-circle",info:"mdi-information",warning:"mdi-alert-circle",error:"mdi-close-circle",prev:"mdi-chevron-left",next:"mdi-chevron-right",checkboxOn:"mdi-checkbox-marked",checkboxOff:"mdi-checkbox-blank-outline",checkboxIndeterminate:"mdi-minus-box",delimiter:"mdi-circle",sortAsc:"mdi-arrow-up",sortDesc:"mdi-arrow-down",expand:"mdi-chevron-down",menu:"mdi-menu",subgroup:"mdi-menu-down",dropdown:"mdi-menu-down",radioOn:"mdi-radiobox-marked",radioOff:"mdi-radiobox-blank",edit:"mdi-pencil",ratingEmpty:"mdi-star-outline",ratingFull:"mdi-star",ratingHalf:"mdi-star-half-full",loading:"mdi-cached",first:"mdi-page-first",last:"mdi-page-last",unfold:"mdi-unfold-more-horizontal",file:"mdi-paperclip",plus:"mdi-plus",minus:"mdi-minus",calendar:"mdi-calendar",treeviewCollapse:"mdi-menu-down",treeviewExpand:"mdi-menu-right",eyeDropper:"mdi-eyedropper",upload:"mdi-cloud-upload",color:"mdi-palette"},Mw={component:e=>wi(Sp,{...e,class:"mdi"})},Ht=[String,Function,Object,Array],Uc=Symbol.for("vuetify:icons"),fl=Ke({icon:{type:Ht},tag:{type:[String,Object,Function],required:!0}},"icon"),mg=ft()({name:"VComponentIcon",props:fl(),setup(e,t){let{slots:n}=t;return()=>{const i=e.icon;return $(e.tag,null,{default:()=>{var u;return[e.icon?$(i,null,null):(u=n.default)==null?void 0:u.call(n)]}})}}}),bp=ca({name:"VSvgIcon",inheritAttrs:!1,props:fl(),setup(e,t){let{attrs:n}=t;return()=>$(e.tag,It(n,{style:null}),{default:()=>[$("svg",{class:"v-icon__svg",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",role:"img","aria-hidden":"true"},[Array.isArray(e.icon)?e.icon.map(i=>Array.isArray(i)?$("path",{d:i[0],"fill-opacity":i[1]},null):$("path",{d:i},null)):$("path",{d:e.icon},null)])]})}});ca({name:"VLigatureIcon",props:fl(),setup(e){return()=>$(e.tag,null,{default:()=>[e.icon]})}});const Sp=ca({name:"VClassIcon",props:fl(),setup(e){return()=>$(e.tag,{class:e.icon},null)}});function Ew(){return{svg:{component:bp},class:{component:Sp}}}function ww(e){const t=Ew(),n=(e==null?void 0:e.defaultSet)??"mdi";return n==="mdi"&&!t.mdi&&(t.mdi=Mw),Mn({defaultSet:n,sets:t,aliases:{..._w,vuetify:["M8.2241 14.2009L12 21L22 3H14.4459L8.2241 14.2009Z",["M7.26303 12.4733L7.00113 12L2 3H12.5261C12.5261 3 12.5261 3 12.5261 3L7.26303 12.4733Z",.6]],"vuetify-outline":"svg:M7.26 12.47 12.53 3H2L7.26 12.47ZM14.45 3 8.22 14.2 12 21 22 3H14.45ZM18.6 5 12 16.88 10.51 14.2 15.62 5ZM7.26 8.35 5.4 5H9.13L7.26 8.35Z","vuetify-play":["m6.376 13.184-4.11-7.192C1.505 4.66 2.467 3 4.003 3h8.532l-.953 1.576-.006.01-.396.677c-.429.732-.214 1.507.194 2.015.404.503 1.092.878 1.869.806a3.72 3.72 0 0 1 1.005.022c.276.053.434.143.523.237.138.146.38.635-.25 2.09-.893 1.63-1.553 1.722-1.847 1.677-.213-.033-.468-.158-.756-.406a4.95 4.95 0 0 1-.8-.927c-.39-.564-1.04-.84-1.66-.846-.625-.006-1.316.27-1.693.921l-.478.826-.911 1.506Z",["M9.093 11.552c.046-.079.144-.15.32-.148a.53.53 0 0 1 .43.207c.285.414.636.847 1.046 1.2.405.35.914.662 1.516.754 1.334.205 2.502-.698 3.48-2.495l.014-.028.013-.03c.687-1.574.774-2.852-.005-3.675-.37-.391-.861-.586-1.333-.676a5.243 5.243 0 0 0-1.447-.044c-.173.016-.393-.073-.54-.257-.145-.18-.127-.316-.082-.392l.393-.672L14.287 3h5.71c1.536 0 2.499 1.659 1.737 2.992l-7.997 13.996c-.768 1.344-2.706 1.344-3.473 0l-3.037-5.314 1.377-2.278.004-.006.004-.007.481-.831Z",.6]]}},e)}const Tw=e=>{const t=Ot(Uc);if(!t)throw new Error("Missing Vuetify Icons provide!");return{iconData:Ae(()=>{var M;const i=Yi(e);if(!i)return{component:mg};let u=i;if(typeof u=="string"&&(u=u.trim(),u.startsWith("$")&&(u=(M=t.aliases)==null?void 0:M[u.slice(1)])),Array.isArray(u))return{component:bp,icon:u};if(typeof u!="string")return{component:mg,icon:u};const b=Object.keys(t.sets).find(l=>typeof u=="string"&&u.startsWith(`${l}:`)),I=b?u.slice(b.length+1):u;return{component:t.sets[b??t.defaultSet].component,icon:I}})}},Aw=["x-small","small","default","large","x-large"],ho=Ke({size:{type:[String,Number],default:"default"}},"size");function go(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ti();return zu(()=>{const n=e.size;let i,u;return Ls(Aw,n)?i=`${t}--size-${n}`:n&&(u={width:pt(n),height:pt(n)}),{sizeClasses:i,sizeStyles:u}})}const Ow=Ke({color:String,disabled:Boolean,start:Boolean,end:Boolean,icon:Ht,opacity:[String,Number],...xt(),...ho(),...$t({tag:"i"}),...on()},"VIcon"),mn=ft()({name:"VIcon",props:Ow(),setup(e,t){let{attrs:n,slots:i}=t;const u=dt(),{themeClasses:b}=lw(),{iconData:I}=Tw(()=>u.value||e.icon),{sizeClasses:y}=go(e),{textColorClasses:M,textColorStyles:l}=Gi(()=>e.color);return Ct(()=>{var A,D;const r=(A=i.default)==null?void 0:A.call(i);r&&(u.value=(D=Wm(r).filter(O=>O.type===co&&O.children&&typeof O.children=="string")[0])==null?void 0:D.children);const w=!!(n.onClick||n.onClickOnce);return $(I.value.component,{tag:e.tag,icon:I.value.icon,class:["v-icon","notranslate",b.value,y.value,M.value,{"v-icon--clickable":w,"v-icon--disabled":e.disabled,"v-icon--start":e.start,"v-icon--end":e.end},e.class],style:[{"--v-icon-opacity":e.opacity},y.value?void 0:{fontSize:pt(e.size),height:pt(e.size),width:pt(e.size)},l.value,e.style],role:w?"button":void 0,"aria-hidden":!w,tabindex:w?e.disabled?-1:0:void 0},{default:()=>[r]})}),{}}});function Cp(e,t){const n=$e(),i=dt(!1);if(ju){const u=new IntersectionObserver(b=>{i.value=!!b.find(I=>I.isIntersecting)},t);Pn(()=>{u.disconnect()}),ht(n,(b,I)=>{I&&(u.unobserve(I),i.value=!1),b&&u.observe(b)},{flush:"post"})}return{intersectionRef:n,isIntersecting:i}}const Dw=Ke({bgColor:String,color:String,indeterminate:[Boolean,String],modelValue:{type:[Number,String],default:0},rotate:{type:[Number,String],default:0},width:{type:[Number,String],default:4},...xt(),...ho(),...$t({tag:"div"}),...on()},"VProgressCircular"),kw=ft()({name:"VProgressCircular",props:Dw(),setup(e,t){let{slots:n}=t;const i=20,u=2*Math.PI*i,b=$e(),{themeClasses:I}=hn(e),{sizeClasses:y,sizeStyles:M}=go(e),{textColorClasses:l,textColorStyles:r}=Gi(()=>e.color),{textColorClasses:w,textColorStyles:A}=Gi(()=>e.bgColor),{intersectionRef:D,isIntersecting:O}=Cp(),{resizeRef:N,contentRect:p}=Bs(),a=Ze(()=>Math.max(0,Math.min(100,parseFloat(e.modelValue)))),m=Ze(()=>Number(e.width)),v=Ze(()=>M.value?Number(e.size):p.value?p.value.width:Math.max(m.value,32)),o=Ze(()=>i/(1-m.value/v.value)*2),c=Ze(()=>m.value/v.value*o.value),s=Ze(()=>pt((100-a.value)/100*u));return Ei(()=>{D.value=b.value,N.value=b.value}),Ct(()=>$(e.tag,{ref:b,class:["v-progress-circular",{"v-progress-circular--indeterminate":!!e.indeterminate,"v-progress-circular--visible":O.value,"v-progress-circular--disable-shrink":e.indeterminate==="disable-shrink"},I.value,y.value,l.value,e.class],style:[M.value,r.value,e.style],role:"progressbar","aria-valuemin":"0","aria-valuemax":"100","aria-valuenow":e.indeterminate?void 0:a.value},{default:()=>[$("svg",{style:{transform:`rotate(calc(-90deg + ${Number(e.rotate)}deg))`},xmlns:"http://www.w3.org/2000/svg",viewBox:`0 0 ${o.value} ${o.value}`},[$("circle",{class:["v-progress-circular__underlay",w.value],style:A.value,fill:"transparent",cx:"50%",cy:"50%",r:i,"stroke-width":c.value,"stroke-dasharray":u,"stroke-dashoffset":0},null),$("circle",{class:"v-progress-circular__overlay",fill:"transparent",cx:"50%",cy:"50%",r:i,"stroke-width":c.value,"stroke-dasharray":u,"stroke-dashoffset":s.value},null)]),n.default&&$("div",{class:"v-progress-circular__content"},[n.default({value:a.value})])]})),{}}}),pg={center:"center",top:"bottom",bottom:"top",left:"right",right:"left"},ua=Ke({location:String},"location");function vo(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=arguments.length>2?arguments[2]:void 0;const{isRtl:i}=Ai();return{locationStyles:Ae(()=>{if(!e.location)return{};const{side:b,align:I}=zc(e.location.split(" ").length>1?e.location:`${e.location} center`,i.value);function y(l){return n?n(l):0}const M={};return b!=="center"&&(t?M[pg[b]]=`calc(100% - ${y(b)}px)`:M[b]=0),I!=="center"?t?M[pg[I]]=`calc(100% - ${y(I)}px)`:M[I]=0:(b==="center"?M.top=M.left="50%":M[{top:"left",bottom:"left",left:"top",right:"top"}[b]]="50%",M.transform={top:"translateX(-50%)",bottom:"translateX(-50%)",left:"translateY(-50%)",right:"translateY(-50%)",center:"translate(-50%, -50%)"}[b]),M})}}const Pw=Ke({absolute:Boolean,active:{type:Boolean,default:!0},bgColor:String,bgOpacity:[Number,String],bufferValue:{type:[Number,String],default:0},bufferColor:String,bufferOpacity:[Number,String],clickable:Boolean,color:String,height:{type:[Number,String],default:4},indeterminate:Boolean,max:{type:[Number,String],default:100},modelValue:{type:[Number,String],default:0},opacity:[Number,String],reverse:Boolean,stream:Boolean,striped:Boolean,roundedBar:Boolean,...xt(),...ua({location:"top"}),...Wn(),...$t(),...on()},"VProgressLinear"),xp=ft()({name:"VProgressLinear",props:Pw(),emits:{"update:modelValue":e=>!0},setup(e,t){var T;let{slots:n}=t;const i=yn(e,"modelValue"),{isRtl:u,rtlClasses:b}=Ai(),{themeClasses:I}=hn(e),{locationStyles:y}=vo(e),{textColorClasses:M,textColorStyles:l}=Gi(()=>e.color),{backgroundColorClasses:r,backgroundColorStyles:w}=Hi(()=>e.bgColor||e.color),{backgroundColorClasses:A,backgroundColorStyles:D}=Hi(()=>e.bufferColor||e.bgColor||e.color),{backgroundColorClasses:O,backgroundColorStyles:N}=Hi(()=>e.color),{roundedClasses:p}=Yn(e),{intersectionRef:a,isIntersecting:m}=Cp(),v=Ae(()=>parseFloat(e.max)),o=Ae(()=>parseFloat(e.height)),c=Ae(()=>jr(parseFloat(e.bufferValue)/v.value*100,0,100)),s=Ae(()=>jr(parseFloat(i.value)/v.value*100,0,100)),g=Ae(()=>u.value!==e.reverse),x=Ae(()=>e.indeterminate?"fade-transition":"slide-x-transition"),h=Vt&&((T=window.matchMedia)==null?void 0:T.call(window,"(forced-colors: active)").matches);function E(k){if(!a.value)return;const{left:L,right:F,width:U}=a.value.getBoundingClientRect(),G=g.value?U-k.clientX+(F-U):k.clientX-L;i.value=Math.round(G/U*v.value)}return Ct(()=>$(e.tag,{ref:a,class:["v-progress-linear",{"v-progress-linear--absolute":e.absolute,"v-progress-linear--active":e.active&&m.value,"v-progress-linear--reverse":g.value,"v-progress-linear--rounded":e.rounded,"v-progress-linear--rounded-bar":e.roundedBar,"v-progress-linear--striped":e.striped},p.value,I.value,b.value,e.class],style:[{bottom:e.location==="bottom"?0:void 0,top:e.location==="top"?0:void 0,height:e.active?pt(o.value):0,"--v-progress-linear-height":pt(o.value),...e.absolute?y.value:{}},e.style],role:"progressbar","aria-hidden":e.active?"false":"true","aria-valuemin":"0","aria-valuemax":e.max,"aria-valuenow":e.indeterminate?void 0:Math.min(parseFloat(i.value),v.value),onClick:e.clickable&&E},{default:()=>[e.stream&&$("div",{key:"stream",class:["v-progress-linear__stream",M.value],style:{...l.value,[g.value?"left":"right"]:pt(-o.value),borderTop:`${pt(o.value/2)} dotted`,opacity:parseFloat(e.bufferOpacity),top:`calc(50% - ${pt(o.value/4)})`,width:pt(100-c.value,"%"),"--v-progress-linear-stream-to":pt(o.value*(g.value?1:-1))}},null),$("div",{class:["v-progress-linear__background",h?void 0:r.value],style:[w.value,{opacity:parseFloat(e.bgOpacity),width:e.stream?0:void 0}]},null),$("div",{class:["v-progress-linear__buffer",h?void 0:A.value],style:[D.value,{opacity:parseFloat(e.bufferOpacity),width:pt(c.value,"%")}]},null),$(Rr,{name:x.value},{default:()=>[e.indeterminate?$("div",{class:"v-progress-linear__indeterminate"},[["long","short"].map(k=>$("div",{key:k,class:["v-progress-linear__indeterminate",k,h?void 0:O.value],style:N.value},null))]):$("div",{class:["v-progress-linear__determinate",h?void 0:O.value],style:[N.value,{width:pt(s.value,"%")}]},null)]}),n.default&&$("div",{class:"v-progress-linear__content"},[n.default({value:s.value,buffer:c.value})])]})),{}}}),Qu=Ke({loading:[Boolean,String]},"loader");function qu(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ti();return{loaderClasses:Ze(()=>({[`${t}--loading`]:e.loading}))}}function Ip(e,t){var i;let{slots:n}=t;return $("div",{class:`${e.name}__loader`},[((i=n.default)==null?void 0:i.call(n,{color:e.color,isActive:e.active}))||$(xp,{absolute:e.absolute,active:e.active,color:e.color,height:"2",indeterminate:!0},null)])}const Lw=["static","relative","fixed","absolute","sticky"],mo=Ke({position:{type:String,validator:e=>Lw.includes(e)}},"position");function po(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ti();return{positionClasses:Ze(()=>e.position?`${t}--${e.position}`:void 0)}}function Nw(){const e=cn("useRoute");return Ae(()=>{var t;return(t=e==null?void 0:e.proxy)==null?void 0:t.$route})}function Rw(){var e,t;return(t=(e=cn("useRouter"))==null?void 0:e.proxy)==null?void 0:t.$router}function hl(e,t){var r,w;const n=g_("RouterLink"),i=Ze(()=>!!(e.href||e.to)),u=Ae(()=>(i==null?void 0:i.value)||Gd(t,"click")||Gd(e,"click"));if(typeof n=="string"||!("useLink"in n)){const A=Ze(()=>e.href);return{isLink:i,isClickable:u,href:A,linkProps:un({href:A})}}const b=n.useLink({to:Ze(()=>e.to||""),replace:Ze(()=>e.replace)}),I=Ae(()=>e.to?b:void 0),y=Nw(),M=Ae(()=>{var A,D,O;return I.value?e.exact?y.value?((O=I.value.isExactActive)==null?void 0:O.value)&&fo(I.value.route.value.query,y.value.query):((D=I.value.isExactActive)==null?void 0:D.value)??!1:((A=I.value.isActive)==null?void 0:A.value)??!1:!1}),l=Ae(()=>{var A;return e.to?(A=I.value)==null?void 0:A.route.value.href:e.href});return{isLink:i,isClickable:u,isActive:M,route:(r=I.value)==null?void 0:r.route,navigate:(w=I.value)==null?void 0:w.navigate,href:l,linkProps:un({href:l,"aria-current":Ze(()=>M.value?"page":void 0)})}}const dl=Ke({href:String,replace:Boolean,to:[String,Object],exact:Boolean},"router");let lc=!1;function jw(e,t){let n=!1,i,u;Vt&&(e!=null&&e.beforeEach)&&(bn(()=>{window.addEventListener("popstate",b),i=e.beforeEach((I,y,M)=>{lc?n?t(M):M():setTimeout(()=>n?t(M):M()),lc=!0}),u=e==null?void 0:e.afterEach(()=>{lc=!1})}),Un(()=>{window.removeEventListener("popstate",b),i==null||i(),u==null||u()}));function b(I){var y;(y=I.state)!=null&&y.replaced||(n=!0,setTimeout(()=>n=!1))}}function Fw(e,t){ht(()=>{var n;return(n=e.isActive)==null?void 0:n.value},n=>{e.isLink.value&&n&&t&&bn(()=>{t(!0)})},{immediate:!0})}const Wc=Symbol("rippleStop"),Bw=80;function yg(e,t){e.style.transform=t,e.style.webkitTransform=t}function Yc(e){return e.constructor.name==="TouchEvent"}function _p(e){return e.constructor.name==="KeyboardEvent"}const zw=function(e,t){var w;let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=0,u=0;if(!_p(e)){const A=t.getBoundingClientRect(),D=Yc(e)?e.touches[e.touches.length-1]:e;i=D.clientX-A.left,u=D.clientY-A.top}let b=0,I=.3;(w=t._ripple)!=null&&w.circle?(I=.15,b=t.clientWidth/2,b=n.center?b:b+Math.sqrt((i-b)**2+(u-b)**2)/4):b=Math.sqrt(t.clientWidth**2+t.clientHeight**2)/2;const y=`${(t.clientWidth-b*2)/2}px`,M=`${(t.clientHeight-b*2)/2}px`,l=n.center?y:`${i-b}px`,r=n.center?M:`${u-b}px`;return{radius:b,scale:I,x:l,y:r,centerX:y,centerY:M}},zs={show(e,t){var D;let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!((D=t==null?void 0:t._ripple)!=null&&D.enabled))return;const i=document.createElement("span"),u=document.createElement("span");i.appendChild(u),i.className="v-ripple__container",n.class&&(i.className+=` ${n.class}`);const{radius:b,scale:I,x:y,y:M,centerX:l,centerY:r}=zw(e,t,n),w=`${b*2}px`;u.className="v-ripple__animation",u.style.width=w,u.style.height=w,t.appendChild(i);const A=window.getComputedStyle(t);A&&A.position==="static"&&(t.style.position="relative",t.dataset.previousPosition="static"),u.classList.add("v-ripple__animation--enter"),u.classList.add("v-ripple__animation--visible"),yg(u,`translate(${y}, ${M}) scale3d(${I},${I},${I})`),u.dataset.activated=String(performance.now()),requestAnimationFrame(()=>{requestAnimationFrame(()=>{u.classList.remove("v-ripple__animation--enter"),u.classList.add("v-ripple__animation--in"),yg(u,`translate(${l}, ${r}) scale3d(1,1,1)`)})})},hide(e){var b;if(!((b=e==null?void 0:e._ripple)!=null&&b.enabled))return;const t=e.getElementsByClassName("v-ripple__animation");if(t.length===0)return;const n=t[t.length-1];if(n.dataset.isHiding)return;n.dataset.isHiding="true";const i=performance.now()-Number(n.dataset.activated),u=Math.max(250-i,0);setTimeout(()=>{n.classList.remove("v-ripple__animation--in"),n.classList.add("v-ripple__animation--out"),setTimeout(()=>{var y;e.getElementsByClassName("v-ripple__animation").length===1&&e.dataset.previousPosition&&(e.style.position=e.dataset.previousPosition,delete e.dataset.previousPosition),((y=n.parentNode)==null?void 0:y.parentNode)===e&&e.removeChild(n.parentNode)},300)},u)}};function Mp(e){return typeof e>"u"||!!e}function qa(e){const t={},n=e.currentTarget;if(!(!(n!=null&&n._ripple)||n._ripple.touched||e[Wc])){if(e[Wc]=!0,Yc(e))n._ripple.touched=!0,n._ripple.isTouch=!0;else if(n._ripple.isTouch)return;if(t.center=n._ripple.centered||_p(e),n._ripple.class&&(t.class=n._ripple.class),Yc(e)){if(n._ripple.showTimerCommit)return;n._ripple.showTimerCommit=()=>{zs.show(e,n,t)},n._ripple.showTimer=window.setTimeout(()=>{var i;(i=n==null?void 0:n._ripple)!=null&&i.showTimerCommit&&(n._ripple.showTimerCommit(),n._ripple.showTimerCommit=null)},Bw)}else zs.show(e,n,t)}}function bg(e){e[Wc]=!0}function Vn(e){const t=e.currentTarget;if(t!=null&&t._ripple){if(window.clearTimeout(t._ripple.showTimer),e.type==="touchend"&&t._ripple.showTimerCommit){t._ripple.showTimerCommit(),t._ripple.showTimerCommit=null,t._ripple.showTimer=window.setTimeout(()=>{Vn(e)});return}window.setTimeout(()=>{t._ripple&&(t._ripple.touched=!1)}),zs.hide(t)}}function Ep(e){const t=e.currentTarget;t!=null&&t._ripple&&(t._ripple.showTimerCommit&&(t._ripple.showTimerCommit=null),window.clearTimeout(t._ripple.showTimer))}let eo=!1;function wp(e){!eo&&(e.keyCode===Hd.enter||e.keyCode===Hd.space)&&(eo=!0,qa(e))}function Tp(e){eo=!1,Vn(e)}function Ap(e){eo&&(eo=!1,Vn(e))}function Op(e,t,n){const{value:i,modifiers:u}=t,b=Mp(i);if(b||zs.hide(e),e._ripple=e._ripple??{},e._ripple.enabled=b,e._ripple.centered=u.center,e._ripple.circle=u.circle,Fc(i)&&i.class&&(e._ripple.class=i.class),b&&!n){if(u.stop){e.addEventListener("touchstart",bg,{passive:!0}),e.addEventListener("mousedown",bg);return}e.addEventListener("touchstart",qa,{passive:!0}),e.addEventListener("touchend",Vn,{passive:!0}),e.addEventListener("touchmove",Ep,{passive:!0}),e.addEventListener("touchcancel",Vn),e.addEventListener("mousedown",qa),e.addEventListener("mouseup",Vn),e.addEventListener("mouseleave",Vn),e.addEventListener("keydown",wp),e.addEventListener("keyup",Tp),e.addEventListener("blur",Ap),e.addEventListener("dragstart",Vn,{passive:!0})}else!b&&n&&Dp(e)}function Dp(e){e.removeEventListener("mousedown",qa),e.removeEventListener("touchstart",qa),e.removeEventListener("touchend",Vn),e.removeEventListener("touchmove",Ep),e.removeEventListener("touchcancel",Vn),e.removeEventListener("mouseup",Vn),e.removeEventListener("mouseleave",Vn),e.removeEventListener("keydown",wp),e.removeEventListener("keyup",Tp),e.removeEventListener("dragstart",Vn),e.removeEventListener("blur",Ap)}function Hw(e,t){Op(e,t,!1)}function Uw(e){delete e._ripple,Dp(e)}function Ww(e,t){if(t.value===t.oldValue)return;const n=Mp(t.oldValue);Op(e,t,n)}const gl={mounted:Hw,unmounted:Uw,updated:Ww},Yw=Ke({active:{type:Boolean,default:void 0},activeColor:String,baseColor:String,symbol:{type:null,default:yp},flat:Boolean,icon:[Boolean,String,Function,Object],prependIcon:Ht,appendIcon:Ht,block:Boolean,readonly:Boolean,slim:Boolean,stacked:Boolean,ripple:{type:[Boolean,Object],default:!0},text:{type:[String,Number,Boolean],default:void 0},...$i(),...xt(),...Oi(),...ui(),...Qi(),...vp(),...Qu(),...ua(),...mo(),...Wn(),...dl(),...ho(),...$t({tag:"button"}),...on(),...Di({variant:"elevated"})},"VBtn"),Zn=ft()({name:"VBtn",props:Yw(),emits:{"group:selected":e=>!0},setup(e,t){let{attrs:n,slots:i}=t;const{themeClasses:u}=hn(e),{borderClasses:b}=Ki(e),{densityClasses:I}=er(e),{dimensionStyles:y}=fi(e),{elevationClasses:M}=qi(e),{loaderClasses:l}=qu(e),{locationStyles:r}=vo(e),{positionClasses:w}=po(e),{roundedClasses:A}=Yn(e),{sizeClasses:D,sizeStyles:O}=go(e),N=mp(e,e.symbol,!1),p=hl(e,n),a=Ae(()=>{var T;return e.active!==void 0?e.active:p.isLink.value?(T=p.isActive)==null?void 0:T.value:N==null?void 0:N.isSelected.value}),m=Ze(()=>a.value?e.activeColor??e.color:e.color),v=Ae(()=>{var k,L;return{color:(N==null?void 0:N.isSelected.value)&&(!p.isLink.value||((k=p.isActive)==null?void 0:k.value))||!N||((L=p.isActive)==null?void 0:L.value)?m.value??e.baseColor:e.baseColor,variant:e.variant}}),{colorClasses:o,colorStyles:c,variantClasses:s}=Hr(v),g=Ae(()=>(N==null?void 0:N.disabled.value)||e.disabled),x=Ze(()=>e.variant==="elevated"&&!(e.disabled||e.flat||e.border)),h=Ae(()=>{if(!(e.value===void 0||typeof e.value=="symbol"))return Object(e.value)===e.value?JSON.stringify(e.value,null,0):e.value});function E(T){var k;g.value||p.isLink.value&&(T.metaKey||T.ctrlKey||T.shiftKey||T.button!==0||n.target==="_blank")||((k=p.navigate)==null||k.call(p,T),N==null||N.toggle())}return Fw(p,N==null?void 0:N.select),Ct(()=>{const T=p.isLink.value?"a":e.tag,k=!!(e.prependIcon||i.prepend),L=!!(e.appendIcon||i.append),F=!!(e.icon&&e.icon!==!0);return ti($(T,It({type:T==="a"?void 0:"button",class:["v-btn",N==null?void 0:N.selectedClass.value,{"v-btn--active":a.value,"v-btn--block":e.block,"v-btn--disabled":g.value,"v-btn--elevated":x.value,"v-btn--flat":e.flat,"v-btn--icon":!!e.icon,"v-btn--loading":e.loading,"v-btn--readonly":e.readonly,"v-btn--slim":e.slim,"v-btn--stacked":e.stacked},u.value,b.value,o.value,I.value,M.value,l.value,w.value,A.value,D.value,s.value,e.class],style:[c.value,y.value,r.value,O.value,e.style],"aria-busy":e.loading?!0:void 0,disabled:g.value||void 0,tabindex:e.loading||e.readonly?-1:void 0,onClick:E,value:h.value},p.linkProps),{default:()=>{var U;return[zr(!0,"v-btn"),!e.icon&&k&&$("span",{key:"prepend",class:"v-btn__prepend"},[i.prepend?$(nn,{key:"prepend-defaults",disabled:!e.prependIcon,defaults:{VIcon:{icon:e.prependIcon}}},i.prepend):$(mn,{key:"prepend-icon",icon:e.prependIcon},null)]),$("span",{class:"v-btn__content","data-no-activator":""},[!i.default&&F?$(mn,{key:"content-icon",icon:e.icon},null):$(nn,{key:"content-defaults",disabled:!F,defaults:{VIcon:{icon:e.icon}}},{default:()=>{var G;return[((G=i.default)==null?void 0:G.call(i))??jn(e.text)]}})]),!e.icon&&L&&$("span",{key:"append",class:"v-btn__append"},[i.append?$(nn,{key:"append-defaults",disabled:!e.appendIcon,defaults:{VIcon:{icon:e.appendIcon}}},i.append):$(mn,{key:"append-icon",icon:e.appendIcon},null)]),!!e.loading&&$("span",{key:"loader",class:"v-btn__loader"},[((U=i.loader)==null?void 0:U.call(i))??$(kw,{color:typeof e.loading=="boolean"?void 0:e.loading,indeterminate:!0,width:"2"},null)])]}}),[[gl,!g.value&&e.ripple,"",{center:!!e.icon}]])}),{group:N}}}),Vw=Ke({start:Boolean,end:Boolean,icon:Ht,image:String,text:String,...$i(),...xt(),...Oi(),...Wn(),...ho(),...$t(),...on(),...Di({variant:"flat"})},"VAvatar"),Jn=ft()({name:"VAvatar",props:Vw(),setup(e,t){let{slots:n}=t;const{themeClasses:i}=hn(e),{borderClasses:u}=Ki(e),{colorClasses:b,colorStyles:I,variantClasses:y}=Hr(e),{densityClasses:M}=er(e),{roundedClasses:l}=Yn(e),{sizeClasses:r,sizeStyles:w}=go(e);return Ct(()=>$(e.tag,{class:["v-avatar",{"v-avatar--start":e.start,"v-avatar--end":e.end},i.value,u.value,b.value,M.value,l.value,r.value,y.value,e.class],style:[I.value,w.value,e.style]},{default:()=>[n.default?$(nn,{key:"content-defaults",defaults:{VImg:{cover:!0,src:e.image},VIcon:{icon:e.icon}}},{default:()=>[n.default()]}):e.image?$(_i,{key:"image",src:e.image,alt:"",cover:!0},null):e.icon?$(mn,{key:"icon",icon:e.icon},null):e.text,zr(!1,"v-avatar")]})),{}}}),Gw=Ke({fluid:{type:Boolean,default:!1},...xt(),...ui(),...$t()},"VContainer"),fa=ft()({name:"VContainer",props:Gw(),setup(e,t){let{slots:n}=t;const{rtlClasses:i}=Ai(),{dimensionStyles:u}=fi(e);return Ct(()=>$(e.tag,{class:["v-container",{"v-container--fluid":e.fluid},i.value,e.class],style:[u.value,e.style]},n)),{}}}),vl=["sm","md","lg","xl","xxl"],Vc=Symbol.for("vuetify:display"),Sg={mobileBreakpoint:"lg",thresholds:{xs:0,sm:600,md:960,lg:1280,xl:1920,xxl:2560}},Xw=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Sg;return Mn(Sg,e)};function Cg(e){return Vt&&!e?window.innerWidth:typeof e=="object"&&e.clientWidth||0}function xg(e){return Vt&&!e?window.innerHeight:typeof e=="object"&&e.clientHeight||0}function Ig(e){const t=Vt&&!e?window.navigator.userAgent:"ssr";function n(O){return!!t.match(O)}const i=n(/android/i),u=n(/iphone|ipad|ipod/i),b=n(/cordova/i),I=n(/electron/i),y=n(/chrome/i),M=n(/edge/i),l=n(/firefox/i),r=n(/opera/i),w=n(/win/i),A=n(/mac/i),D=n(/linux/i);return{android:i,ios:u,cordova:b,electron:I,chrome:y,edge:M,firefox:l,opera:r,win:w,mac:A,linux:D,touch:Z1,ssr:t==="ssr"}}function Zw(e,t){const{thresholds:n,mobileBreakpoint:i}=Xw(e),u=dt(xg(t)),b=dt(Ig(t)),I=un({}),y=dt(Cg(t));function M(){u.value=xg(),y.value=Cg()}function l(){M(),b.value=Ig()}return Ei(()=>{const r=y.value<n.sm,w=y.value<n.md&&!r,A=y.value<n.lg&&!(w||r),D=y.value<n.xl&&!(A||w||r),O=y.value<n.xxl&&!(D||A||w||r),N=y.value>=n.xxl,p=r?"xs":w?"sm":A?"md":D?"lg":O?"xl":"xxl",a=typeof i=="number"?i:n[i],m=y.value<a;I.xs=r,I.sm=w,I.md=A,I.lg=D,I.xl=O,I.xxl=N,I.smAndUp=!r,I.mdAndUp=!(r||w),I.lgAndUp=!(r||w||A),I.xlAndUp=!(r||w||A||D),I.smAndDown=!(A||D||O||N),I.mdAndDown=!(D||O||N),I.lgAndDown=!(O||N),I.xlAndDown=!N,I.name=p,I.height=u.value,I.width=y.value,I.mobile=m,I.mobileBreakpoint=i,I.platform=b.value,I.thresholds=n}),Vt&&(window.addEventListener("resize",M,{passive:!0}),Un(()=>{window.removeEventListener("resize",M)},!0)),{...Su(I),update:l,ssr:!!t}}const Jw=Ke({mobile:{type:Boolean,default:!1},mobileBreakpoint:[Number,String]},"display");function kp(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{mobile:null},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ti();const n=Ot(Vc);if(!n)throw new Error("Could not find Vuetify display injection");const i=Ae(()=>e.mobile?!0:typeof e.mobileBreakpoint=="number"?n.width.value<e.mobileBreakpoint:e.mobileBreakpoint?n.width.value<n.thresholds.value[e.mobileBreakpoint]:e.mobile===null?n.mobile.value:!1),u=Ze(()=>t?{[`${t}--mobile`]:i.value}:{});return{...n,displayClasses:u,mobile:i}}const Pp=vl.reduce((e,t)=>(e[t]={type:[Boolean,String,Number],default:!1},e),{}),Lp=vl.reduce((e,t)=>{const n="offset"+Xi(t);return e[n]={type:[String,Number],default:null},e},{}),Np=vl.reduce((e,t)=>{const n="order"+Xi(t);return e[n]={type:[String,Number],default:null},e},{}),_g={col:Object.keys(Pp),offset:Object.keys(Lp),order:Object.keys(Np)};function $w(e,t,n){let i=e;if(!(n==null||n===!1)){if(t){const u=t.replace(e,"");i+=`-${u}`}return e==="col"&&(i="v-"+i),e==="col"&&(n===""||n===!0)||(i+=`-${n}`),i.toLowerCase()}}const Kw=["auto","start","end","center","baseline","stretch"],Qw=Ke({cols:{type:[Boolean,String,Number],default:!1},...Pp,offset:{type:[String,Number],default:null},...Lp,order:{type:[String,Number],default:null},...Np,alignSelf:{type:String,default:null,validator:e=>Kw.includes(e)},...xt(),...$t()},"VCol"),ef=ft()({name:"VCol",props:Qw(),setup(e,t){let{slots:n}=t;const i=Ae(()=>{const u=[];let b;for(b in _g)_g[b].forEach(y=>{const M=e[y],l=$w(b,y,M);l&&u.push(l)});const I=u.some(y=>y.startsWith("v-col-"));return u.push({"v-col":!I||!e.cols,[`v-col-${e.cols}`]:e.cols,[`offset-${e.offset}`]:e.offset,[`order-${e.order}`]:e.order,[`align-self-${e.alignSelf}`]:e.alignSelf}),u});return()=>{var u;return wi(e.tag,{class:[i.value,e.class],style:e.style},(u=n.default)==null?void 0:u.call(n))}}}),tf=["start","end","center"],Rp=["space-between","space-around","space-evenly"];function nf(e,t){return vl.reduce((n,i)=>{const u=e+Xi(i);return n[u]=t(),n},{})}const qw=[...tf,"baseline","stretch"],jp=e=>qw.includes(e),Fp=nf("align",()=>({type:String,default:null,validator:jp})),eT=[...tf,...Rp],Bp=e=>eT.includes(e),zp=nf("justify",()=>({type:String,default:null,validator:Bp})),tT=[...tf,...Rp,"stretch"],Hp=e=>tT.includes(e),Up=nf("alignContent",()=>({type:String,default:null,validator:Hp})),Mg={align:Object.keys(Fp),justify:Object.keys(zp),alignContent:Object.keys(Up)},nT={align:"align",justify:"justify",alignContent:"align-content"};function iT(e,t,n){let i=nT[e];if(n!=null){if(t){const u=t.replace(e,"");i+=`-${u}`}return i+=`-${n}`,i.toLowerCase()}}const rT=Ke({dense:Boolean,noGutters:Boolean,align:{type:String,default:null,validator:jp},...Fp,justify:{type:String,default:null,validator:Bp},...zp,alignContent:{type:String,default:null,validator:Hp},...Up,...xt(),...$t()},"VRow"),ml=ft()({name:"VRow",props:rT(),setup(e,t){let{slots:n}=t;const i=Ae(()=>{const u=[];let b;for(b in Mg)Mg[b].forEach(I=>{const y=e[I],M=iT(b,I,y);M&&u.push(M)});return u.push({"v-row--no-gutters":e.noGutters,"v-row--dense":e.dense,[`align-${e.align}`]:e.align,[`justify-${e.justify}`]:e.justify,[`align-content-${e.alignContent}`]:e.alignContent}),u});return()=>{var u;return wi(e.tag,{class:["v-row",i.value,e.class],style:e.style},(u=n.default)==null?void 0:u.call(n))}}}),aT={__name:"Navbar",setup(e){return(t,n)=>(ei(),Mi(yw,{flat:"",color:"white",class:"rounded-t-lg elevation-2"},{default:qe(()=>[$(fa,{fluid:""},{default:qe(()=>[$(ml,{align:"center",justify:"space-between"},{default:qe(()=>[$(Zn,{text:"",to:"/feed",class:"no-bg-btn d-flex align-center pa-0 ms-6"},{default:qe(()=>[$(Jn,{size:"36",class:"rounded avatar-square"},{default:qe(()=>[$(_i,{src:"/pato-de-goma.png",alt:"QuackApp Logo"})]),_:1}),n[0]||(n[0]=Et("h1",{class:"title"},[kt("Quack"),Et("span",null,"App")],-1))]),_:1,__:[0]}),$(Zn,{to:"/new-quack",color:"yellow darken-1",class:"me-4",rounded:"",elevation:"1"},{default:qe(()=>[$(mn,{left:""},{default:qe(()=>n[1]||(n[1]=[kt("mdi-plus")])),_:1,__:[1]}),n[2]||(n[2]=kt(" New Quack "))]),_:1,__:[2]}),$(Zn,{to:"/profile",color:"yellow lighten-5",rounded:"",elevation:"0",class:"profile-btn d-flex align-center me-6"},{default:qe(()=>[$(Jn,{size:"30"},{default:qe(()=>[$(_i,{src:"/editar.png",alt:"QuackApp Logo"})]),_:1}),n[3]||(n[3]=kt(" My Profile "))]),_:1,__:[3]})]),_:1})]),_:1})]),_:1}))}},oT=Ke({...xt(),...uw({fullHeight:!0}),...on()},"VApp"),sT=ft()({name:"VApp",props:oT(),setup(e,t){let{slots:n}=t;const i=hn(e),{layoutClasses:u,getLayoutItem:b,items:I,layoutRef:y}=gw(e),{rtlClasses:M}=Ai();return Ct(()=>{var l;return $("div",{ref:y,class:["v-application",i.themeClasses.value,u.value,M.value,e.class],style:[e.style]},[$("div",{class:"v-application__wrap"},[(l=n.default)==null?void 0:l.call(n)])])}),{getLayoutItem:b,items:I,theme:i}}}),lT=Ke({scrollable:Boolean,...xt(),...ui(),...$t({tag:"main"})},"VMain"),cT=ft()({name:"VMain",props:lT(),setup(e,t){let{slots:n}=t;const{dimensionStyles:i}=fi(e),{mainStyles:u}=dp(),{ssrBootStyles:b}=Ju();return Ct(()=>$(e.tag,{class:["v-main",{"v-main--scrollable":e.scrollable},e.class],style:[u.value,b.value,i.value,e.style]},{default:()=>{var I,y;return[e.scrollable?$("div",{class:"v-main__scroller"},[(I=n.default)==null?void 0:I.call(n)]):(y=n.default)==null?void 0:y.call(n)]}})),{}}}),uT={__name:"App",setup(e){const t=X1(),n=sa(),i=Ae(()=>!(t.meta.hideNavbar===!0)&&n.isAuthenticated);return(u,b)=>{const I=nl("router-view");return ei(),Mi(sT,null,{default:qe(()=>[i.value?(ei(),Mi(aT,{key:0})):Tc("",!0),$(cT,null,{default:qe(()=>[$(I)]),_:1})]),_:1})}}},Gc=ft()({name:"VCardActions",props:xt(),setup(e,t){let{slots:n}=t;return la({VBtn:{slim:!0,variant:"text"}}),Ct(()=>{var i;return $("div",{class:["v-card-actions",e.class],style:e.style},[(i=n.default)==null?void 0:i.call(n)])}),{}}}),fT=Ke({opacity:[Number,String],...xt(),...$t()},"VCardSubtitle"),hT=ft()({name:"VCardSubtitle",props:fT(),setup(e,t){let{slots:n}=t;return Ct(()=>$(e.tag,{class:["v-card-subtitle",e.class],style:[{"--v-card-subtitle-opacity":e.opacity},e.style]},n)),{}}}),pl=Gu("v-card-title"),dT=Ke({appendAvatar:String,appendIcon:Ht,prependAvatar:String,prependIcon:Ht,subtitle:{type:[String,Number,Boolean],default:void 0},title:{type:[String,Number,Boolean],default:void 0},...xt(),...Oi()},"VCardItem"),gT=ft()({name:"VCardItem",props:dT(),setup(e,t){let{slots:n}=t;return Ct(()=>{var l;const i=!!(e.prependAvatar||e.prependIcon),u=!!(i||n.prepend),b=!!(e.appendAvatar||e.appendIcon),I=!!(b||n.append),y=!!(e.title!=null||n.title),M=!!(e.subtitle!=null||n.subtitle);return $("div",{class:["v-card-item",e.class],style:e.style},[u&&$("div",{key:"prepend",class:"v-card-item__prepend"},[n.prepend?$(nn,{key:"prepend-defaults",disabled:!i,defaults:{VAvatar:{density:e.density,image:e.prependAvatar},VIcon:{density:e.density,icon:e.prependIcon}}},n.prepend):$(Ut,null,[e.prependAvatar&&$(Jn,{key:"prepend-avatar",density:e.density,image:e.prependAvatar},null),e.prependIcon&&$(mn,{key:"prepend-icon",density:e.density,icon:e.prependIcon},null)])]),$("div",{class:"v-card-item__content"},[y&&$(pl,{key:"title"},{default:()=>{var r;return[((r=n.title)==null?void 0:r.call(n))??jn(e.title)]}}),M&&$(hT,{key:"subtitle"},{default:()=>{var r;return[((r=n.subtitle)==null?void 0:r.call(n))??jn(e.subtitle)]}}),(l=n.default)==null?void 0:l.call(n)]),I&&$("div",{key:"append",class:"v-card-item__append"},[n.append?$(nn,{key:"append-defaults",disabled:!b,defaults:{VAvatar:{density:e.density,image:e.appendAvatar},VIcon:{density:e.density,icon:e.appendIcon}}},n.append):$(Ut,null,[e.appendIcon&&$(mn,{key:"append-icon",density:e.density,icon:e.appendIcon},null),e.appendAvatar&&$(Jn,{key:"append-avatar",density:e.density,image:e.appendAvatar},null)])])])}),{}}}),vT=Ke({opacity:[Number,String],...xt(),...$t()},"VCardText"),yo=ft()({name:"VCardText",props:vT(),setup(e,t){let{slots:n}=t;return Ct(()=>$(e.tag,{class:["v-card-text",e.class],style:[{"--v-card-text-opacity":e.opacity},e.style]},n)),{}}}),mT=Ke({appendAvatar:String,appendIcon:Ht,disabled:Boolean,flat:Boolean,hover:Boolean,image:String,link:{type:Boolean,default:void 0},prependAvatar:String,prependIcon:Ht,ripple:{type:[Boolean,Object],default:!0},subtitle:{type:[String,Number,Boolean],default:void 0},text:{type:[String,Number,Boolean],default:void 0},title:{type:[String,Number,Boolean],default:void 0},...$i(),...xt(),...Oi(),...ui(),...Qi(),...Qu(),...ua(),...mo(),...Wn(),...dl(),...$t(),...on(),...Di({variant:"elevated"})},"VCard"),to=ft()({name:"VCard",directives:{Ripple:gl},props:mT(),setup(e,t){let{attrs:n,slots:i}=t;const{themeClasses:u}=hn(e),{borderClasses:b}=Ki(e),{colorClasses:I,colorStyles:y,variantClasses:M}=Hr(e),{densityClasses:l}=er(e),{dimensionStyles:r}=fi(e),{elevationClasses:w}=qi(e),{loaderClasses:A}=qu(e),{locationStyles:D}=vo(e),{positionClasses:O}=po(e),{roundedClasses:N}=Yn(e),p=hl(e,n);return Ct(()=>{const a=e.link!==!1&&p.isLink.value,m=!e.disabled&&e.link!==!1&&(e.link||p.isClickable.value),v=a?"a":e.tag,o=!!(i.title||e.title!=null),c=!!(i.subtitle||e.subtitle!=null),s=o||c,g=!!(i.append||e.appendAvatar||e.appendIcon),x=!!(i.prepend||e.prependAvatar||e.prependIcon),h=!!(i.image||e.image),E=s||x||g,T=!!(i.text||e.text!=null);return ti($(v,It({class:["v-card",{"v-card--disabled":e.disabled,"v-card--flat":e.flat,"v-card--hover":e.hover&&!(e.disabled||e.flat),"v-card--link":m},u.value,b.value,I.value,l.value,w.value,A.value,O.value,N.value,M.value,e.class],style:[y.value,r.value,D.value,e.style],onClick:m&&p.navigate,tabindex:e.disabled?-1:void 0},p.linkProps),{default:()=>{var k;return[h&&$("div",{key:"image",class:"v-card__image"},[i.image?$(nn,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{cover:!0,src:e.image}}},i.image):$(_i,{key:"image-img",cover:!0,src:e.image},null)]),$(Ip,{name:"v-card",active:!!e.loading,color:typeof e.loading=="boolean"?void 0:e.loading},{default:i.loader}),E&&$(gT,{key:"item",prependAvatar:e.prependAvatar,prependIcon:e.prependIcon,title:e.title,subtitle:e.subtitle,appendAvatar:e.appendAvatar,appendIcon:e.appendIcon},{default:i.item,prepend:i.prepend,title:i.title,subtitle:i.subtitle,append:i.append}),T&&$(yo,{key:"text"},{default:()=>{var L;return[((L=i.text)==null?void 0:L.call(i))??e.text]}}),(k=i.default)==null?void 0:k.call(i),i.actions&&$(Gc,null,{default:i.actions}),zr(m,"v-card")]}}),[[aa("ripple"),m&&e.ripple]])}),{}}}),Wp=Symbol.for("vuetify:form"),pT=Ke({disabled:Boolean,fastFail:Boolean,readonly:Boolean,modelValue:{type:Boolean,default:null},validateOn:{type:String,default:"input"}},"form");function yT(e){const t=yn(e,"modelValue"),n=Ze(()=>e.disabled),i=Ze(()=>e.readonly),u=dt(!1),b=$e([]),I=$e([]);async function y(){const r=[];let w=!0;I.value=[],u.value=!0;for(const A of b.value){const D=await A.validate();if(D.length>0&&(w=!1,r.push({id:A.id,errorMessages:D})),!w&&e.fastFail)break}return I.value=r,u.value=!1,{valid:w,errors:I.value}}function M(){b.value.forEach(r=>r.reset())}function l(){b.value.forEach(r=>r.resetValidation())}return ht(b,()=>{let r=0,w=0;const A=[];for(const D of b.value)D.isValid===!1?(w++,A.push({id:D.id,errorMessages:D.errorMessages})):D.isValid===!0&&r++;I.value=A,t.value=w>0?!1:r===b.value.length?!0:null},{deep:!0,flush:"post"}),pn(Wp,{register:r=>{let{id:w,vm:A,validate:D,reset:O,resetValidation:N}=r;b.value.some(p=>p.id===w),b.value.push({id:w,validate:D,reset:O,resetValidation:N,vm:Qs(A),isValid:null,errorMessages:[]})},unregister:r=>{b.value=b.value.filter(w=>w.id!==r)},update:(r,w,A)=>{const D=b.value.find(O=>O.id===r);D&&(D.isValid=w,D.errorMessages=A)},isDisabled:n,isReadonly:i,isValidating:u,isValid:t,items:b,validateOn:Ze(()=>e.validateOn)}),{errors:I,isDisabled:n,isReadonly:i,isValidating:u,isValid:t,items:b,validate:y,reset:M,resetValidation:l}}function bT(e){const t=Ot(Wp,null);return{...t,isReadonly:Ae(()=>!!((e==null?void 0:e.readonly)??(t==null?void 0:t.isReadonly.value))),isDisabled:Ae(()=>!!((e==null?void 0:e.disabled)??(t==null?void 0:t.isDisabled.value)))}}const cc=Symbol("Forwarded refs");function uc(e,t){let n=e;for(;n;){const i=Reflect.getOwnPropertyDescriptor(n,t);if(i)return i;n=Object.getPrototypeOf(n)}}function bo(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return e[cc]=n,new Proxy(e,{get(u,b){if(Reflect.has(u,b))return Reflect.get(u,b);if(!(typeof b=="symbol"||b.startsWith("$")||b.startsWith("__"))){for(const I of n)if(I.value&&Reflect.has(I.value,b)){const y=Reflect.get(I.value,b);return typeof y=="function"?y.bind(I.value):y}}},has(u,b){if(Reflect.has(u,b))return!0;if(typeof b=="symbol"||b.startsWith("$")||b.startsWith("__"))return!1;for(const I of n)if(I.value&&Reflect.has(I.value,b))return!0;return!1},set(u,b,I){if(Reflect.has(u,b))return Reflect.set(u,b,I);if(typeof b=="symbol"||b.startsWith("$")||b.startsWith("__"))return!1;for(const y of n)if(y.value&&Reflect.has(y.value,b))return Reflect.set(y.value,b,I);return!1},getOwnPropertyDescriptor(u,b){var y;const I=Reflect.getOwnPropertyDescriptor(u,b);if(I)return I;if(!(typeof b=="symbol"||b.startsWith("$")||b.startsWith("__"))){for(const M of n){if(!M.value)continue;const l=uc(M.value,b)??("_"in M.value?uc((y=M.value._)==null?void 0:y.setupState,b):void 0);if(l)return l}for(const M of n){const l=M.value&&M.value[cc];if(!l)continue;const r=l.slice();for(;r.length;){const w=r.shift(),A=uc(w.value,b);if(A)return A;const D=w.value&&w.value[cc];D&&r.push(...D)}}}}})}const ST=Ke({...xt(),...pT()},"VForm"),yl=ft()({name:"VForm",props:ST(),emits:{"update:modelValue":e=>!0,submit:e=>!0},setup(e,t){let{slots:n,emit:i}=t;const u=yT(e),b=$e();function I(M){M.preventDefault(),u.reset()}function y(M){const l=M,r=u.validate();l.then=r.then.bind(r),l.catch=r.catch.bind(r),l.finally=r.finally.bind(r),i("submit",l),l.defaultPrevented||r.then(w=>{var D;let{valid:A}=w;A&&((D=b.value)==null||D.submit())}),l.preventDefault()}return Ct(()=>{var M;return $("form",{ref:b,class:["v-form",e.class],style:e.style,novalidate:!0,onReset:I,onSubmit:y},[(M=n.default)==null?void 0:M.call(n,u)])}),bo(u,b)}});function fc(e,t){return{x:e.x+t.x,y:e.y+t.y}}function CT(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Eg(e,t){if(e.side==="top"||e.side==="bottom"){const{side:n,align:i}=e,u=i==="left"?0:i==="center"?t.width/2:i==="right"?t.width:i,b=n==="top"?0:n==="bottom"?t.height:n;return fc({x:u,y:b},t)}else if(e.side==="left"||e.side==="right"){const{side:n,align:i}=e,u=n==="left"?0:n==="right"?t.width:n,b=i==="top"?0:i==="center"?t.height/2:i==="bottom"?t.height:i;return fc({x:u,y:b},t)}return fc({x:t.width/2,y:t.height/2},t)}const Yp={static:_T,connected:ET},xT=Ke({locationStrategy:{type:[String,Function],default:"static",validator:e=>typeof e=="function"||e in Yp},location:{type:String,default:"bottom"},origin:{type:String,default:"auto"},offset:[Number,String,Array]},"VOverlay-location-strategies");function IT(e,t){const n=$e({}),i=$e();Vt&&mr(()=>!!(t.isActive.value&&e.locationStrategy),b=>{var I,y;ht(()=>e.locationStrategy,b),Un(()=>{window.removeEventListener("resize",u),i.value=void 0}),window.addEventListener("resize",u,{passive:!0}),typeof e.locationStrategy=="function"?i.value=(I=e.locationStrategy(t,e,n))==null?void 0:I.updateLocation:i.value=(y=Yp[e.locationStrategy](t,e,n))==null?void 0:y.updateLocation});function u(b){var I;(I=i.value)==null||I.call(i,b)}return{contentStyles:n,updateLocation:i}}function _T(){}function MT(e,t){const n=Wu(e);return t?n.x+=parseFloat(e.style.right||0):n.x-=parseFloat(e.style.left||0),n.y-=parseFloat(e.style.top||0),n}function ET(e,t,n){(Array.isArray(e.target.value)||FE(e.target.value))&&Object.assign(n.value,{position:"fixed",top:0,[e.isRtl.value?"right":"left"]:0});const{preferredAnchor:u,preferredOrigin:b}=zu(()=>{const a=zc(t.location,e.isRtl.value),m=t.origin==="overlap"?a:t.origin==="auto"?rc(a):zc(t.origin,e.isRtl.value);return a.side===m.side&&a.align===ac(m).align?{preferredAnchor:Zd(a),preferredOrigin:Zd(m)}:{preferredAnchor:a,preferredOrigin:m}}),[I,y,M,l]=["minWidth","minHeight","maxWidth","maxHeight"].map(a=>Ae(()=>{const m=parseFloat(t[a]);return isNaN(m)?1/0:m})),r=Ae(()=>{if(Array.isArray(t.offset))return t.offset;if(typeof t.offset=="string"){const a=t.offset.split(" ").map(parseFloat);return a.length<2&&a.push(0),a}return typeof t.offset=="number"?[t.offset,0]:[0,0]});let w=!1,A=-1;const D=new Q1(4),O=new ResizeObserver(()=>{if(!w)return;if(requestAnimationFrame(m=>{m!==A&&D.clear(),requestAnimationFrame(v=>{A=v})}),D.isFull){const m=D.values();if(fo(m.at(-1),m.at(-3)))return}const a=p();a&&D.push(a.flipped)});ht([e.target,e.contentEl],(a,m)=>{let[v,o]=a,[c,s]=m;c&&!Array.isArray(c)&&O.unobserve(c),v&&!Array.isArray(v)&&O.observe(v),s&&O.unobserve(s),o&&O.observe(o)},{immediate:!0}),Un(()=>{O.disconnect()});let N=new dr({x:0,y:0,width:0,height:0});function p(){if(w=!1,requestAnimationFrame(()=>w=!0),!e.target.value||!e.contentEl.value)return;(Array.isArray(e.target.value)||e.target.value.offsetParent||e.target.value.getClientRects().length)&&(N=Xm(e.target.value));const a=MT(e.contentEl.value,e.isRtl.value),m=js(e.contentEl.value),v=12;m.length||(m.push(document.documentElement),e.contentEl.value.style.top&&e.contentEl.value.style.left||(a.x-=parseFloat(document.documentElement.style.getPropertyValue("--v-body-scroll-x")||0),a.y-=parseFloat(document.documentElement.style.getPropertyValue("--v-body-scroll-y")||0)));const o=m.reduce((L,F)=>{const U=F.getBoundingClientRect(),G=new dr({x:F===document.documentElement?0:U.x,y:F===document.documentElement?0:U.y,width:F.clientWidth,height:F.clientHeight});return L?new dr({x:Math.max(L.left,G.left),y:Math.max(L.top,G.top),width:Math.min(L.right,G.right)-Math.max(L.left,G.left),height:Math.min(L.bottom,G.bottom)-Math.max(L.top,G.top)}):G},void 0);o.x+=v,o.y+=v,o.width-=v*2,o.height-=v*2;let c={anchor:u.value,origin:b.value};function s(L){const F=new dr(a),U=Eg(L.anchor,N),G=Eg(L.origin,F);let{x:Y,y:K}=CT(U,G);switch(L.anchor.side){case"top":K-=r.value[0];break;case"bottom":K+=r.value[0];break;case"left":Y-=r.value[0];break;case"right":Y+=r.value[0];break}switch(L.anchor.align){case"top":K-=r.value[1];break;case"bottom":K+=r.value[1];break;case"left":Y-=r.value[1];break;case"right":Y+=r.value[1];break}return F.x+=Y,F.y+=K,F.width=Math.min(F.width,M.value),F.height=Math.min(F.height,l.value),{overflows:$d(F,o),x:Y,y:K}}let g=0,x=0;const h={x:0,y:0},E={x:!1,y:!1};let T=-1;for(;!(T++>10);){const{x:L,y:F,overflows:U}=s(c);g+=L,x+=F,a.x+=L,a.y+=F;{const G=Jd(c.anchor),Y=U.x.before||U.x.after,K=U.y.before||U.y.after;let he=!1;if(["x","y"].forEach(oe=>{if(oe==="x"&&Y&&!E.x||oe==="y"&&K&&!E.y){const ve={anchor:{...c.anchor},origin:{...c.origin}},ee=oe==="x"?G==="y"?ac:rc:G==="y"?rc:ac;ve.anchor=ee(ve.anchor),ve.origin=ee(ve.origin);const{overflows:xe}=s(ve);(xe[oe].before<=U[oe].before&&xe[oe].after<=U[oe].after||xe[oe].before+xe[oe].after<(U[oe].before+U[oe].after)/2)&&(c=ve,he=E[oe]=!0)}}),he)continue}U.x.before&&(g+=U.x.before,a.x+=U.x.before),U.x.after&&(g-=U.x.after,a.x-=U.x.after),U.y.before&&(x+=U.y.before,a.y+=U.y.before),U.y.after&&(x-=U.y.after,a.y-=U.y.after);{const G=$d(a,o);h.x=o.width-G.x.before-G.x.after,h.y=o.height-G.y.before-G.y.after,g+=G.x.before,a.x+=G.x.before,x+=G.y.before,a.y+=G.y.before}break}const k=Jd(c.anchor);return Object.assign(n.value,{"--v-overlay-anchor-origin":`${c.anchor.side} ${c.anchor.align}`,transformOrigin:`${c.origin.side} ${c.origin.align}`,top:pt(hc(x)),left:e.isRtl.value?void 0:pt(hc(g)),right:e.isRtl.value?pt(hc(-g)):void 0,minWidth:pt(k==="y"?Math.min(I.value,N.width):I.value),maxWidth:pt(wg(jr(h.x,I.value===1/0?0:I.value,M.value))),maxHeight:pt(wg(jr(h.y,y.value===1/0?0:y.value,l.value)))}),{available:h,contentBox:a,flipped:E}}return ht(()=>[u.value,b.value,t.offset,t.minWidth,t.minHeight,t.maxWidth,t.maxHeight],()=>p()),bn(()=>{const a=p();if(!a)return;const{available:m,contentBox:v}=a;v.height>m.y&&requestAnimationFrame(()=>{p(),requestAnimationFrame(()=>{p()})})}),{updateLocation:p}}function hc(e){return Math.round(e*devicePixelRatio)/devicePixelRatio}function wg(e){return Math.ceil(e*devicePixelRatio)/devicePixelRatio}let Xc=!0;const Hs=[];function wT(e){!Xc||Hs.length?(Hs.push(e),Zc()):(Xc=!1,e(),Zc())}let Tg=-1;function Zc(){cancelAnimationFrame(Tg),Tg=requestAnimationFrame(()=>{const e=Hs.shift();e&&e(),Hs.length?Zc():Xc=!0})}const ps={none:null,close:OT,block:DT,reposition:kT},TT=Ke({scrollStrategy:{type:[String,Function],default:"block",validator:e=>typeof e=="function"||e in ps}},"VOverlay-scroll-strategies");function AT(e,t){if(!Vt)return;let n;Ei(async()=>{n==null||n.stop(),t.isActive.value&&e.scrollStrategy&&(n=Pr(),await new Promise(i=>setTimeout(i)),n.active&&n.run(()=>{var i;typeof e.scrollStrategy=="function"?e.scrollStrategy(t,e,n):(i=ps[e.scrollStrategy])==null||i.call(ps,t,e,n)}))}),Un(()=>{n==null||n.stop()})}function OT(e){function t(n){e.isActive.value=!1}Vp(e.targetEl.value??e.contentEl.value,t)}function DT(e,t){var I;const n=(I=e.root.value)==null?void 0:I.offsetParent,i=[...new Set([...js(e.targetEl.value,t.contained?n:void 0),...js(e.contentEl.value,t.contained?n:void 0)])].filter(y=>!y.classList.contains("v-overlay-scroll-blocked")),u=window.innerWidth-document.documentElement.offsetWidth,b=(y=>Xu(y)&&y)(n||document.documentElement);b&&e.root.value.classList.add("v-overlay--scroll-blocked"),i.forEach((y,M)=>{y.style.setProperty("--v-body-scroll-x",pt(-y.scrollLeft)),y.style.setProperty("--v-body-scroll-y",pt(-y.scrollTop)),y!==document.documentElement&&y.style.setProperty("--v-scrollbar-offset",pt(u)),y.classList.add("v-overlay-scroll-blocked")}),Un(()=>{i.forEach((y,M)=>{const l=parseFloat(y.style.getPropertyValue("--v-body-scroll-x")),r=parseFloat(y.style.getPropertyValue("--v-body-scroll-y")),w=y.style.scrollBehavior;y.style.scrollBehavior="auto",y.style.removeProperty("--v-body-scroll-x"),y.style.removeProperty("--v-body-scroll-y"),y.style.removeProperty("--v-scrollbar-offset"),y.classList.remove("v-overlay-scroll-blocked"),y.scrollLeft=-l,y.scrollTop=-r,y.style.scrollBehavior=w}),b&&e.root.value.classList.remove("v-overlay--scroll-blocked")})}function kT(e,t,n){let i=!1,u=-1,b=-1;function I(y){wT(()=>{var r,w;const M=performance.now();(w=(r=e.updateLocation).value)==null||w.call(r,y),i=(performance.now()-M)/(1e3/60)>2})}b=(typeof requestIdleCallback>"u"?y=>y():requestIdleCallback)(()=>{n.run(()=>{Vp(e.targetEl.value??e.contentEl.value,y=>{i?(cancelAnimationFrame(u),u=requestAnimationFrame(()=>{u=requestAnimationFrame(()=>{I(y)})})):I(y)})})}),Un(()=>{typeof cancelIdleCallback<"u"&&cancelIdleCallback(b),cancelAnimationFrame(u)})}function Vp(e,t){const n=[document,...js(e)];n.forEach(i=>{i.addEventListener("scroll",t,{passive:!0})}),Un(()=>{n.forEach(i=>{i.removeEventListener("scroll",t)})})}const PT=Symbol.for("vuetify:v-menu"),LT=Ke({closeDelay:[Number,String],openDelay:[Number,String]},"delay");function NT(e,t){let n=()=>{};function i(I){n==null||n();const y=Number(I?e.openDelay:e.closeDelay);return new Promise(M=>{n=tE(y,()=>{t==null||t(I),M(I)})})}function u(){return i(!0)}function b(){return i(!1)}return{clearDelay:n,runOpenDelay:u,runCloseDelay:b}}const RT=Ke({target:[String,Object],activator:[String,Object],activatorProps:{type:Object,default:()=>({})},openOnClick:{type:Boolean,default:void 0},openOnHover:Boolean,openOnFocus:{type:Boolean,default:void 0},closeOnContentClick:Boolean,...LT()},"VOverlay-activator");function jT(e,t){let{isActive:n,isTop:i,contentEl:u}=t;const b=cn("useActivator"),I=$e();let y=!1,M=!1,l=!0;const r=Ae(()=>e.openOnFocus||e.openOnFocus==null&&e.openOnHover),w=Ae(()=>e.openOnClick||e.openOnClick==null&&!e.openOnHover&&!r.value),{runOpenDelay:A,runCloseDelay:D}=NT(e,x=>{x===(e.openOnHover&&y||r.value&&M)&&!(e.openOnHover&&n.value&&!i.value)&&(n.value!==x&&(l=!0),n.value=x)}),O=$e(),N={onClick:x=>{x.stopPropagation(),I.value=x.currentTarget||x.target,n.value||(O.value=[x.clientX,x.clientY]),n.value=!n.value},onMouseenter:x=>{var h;(h=x.sourceCapabilities)!=null&&h.firesTouchEvents||(y=!0,I.value=x.currentTarget||x.target,A())},onMouseleave:x=>{y=!1,D()},onFocus:x=>{eE(x.target,":focus-visible")!==!1&&(M=!0,x.stopPropagation(),I.value=x.currentTarget||x.target,A())},onBlur:x=>{M=!1,x.stopPropagation(),D()}},p=Ae(()=>{const x={};return w.value&&(x.onClick=N.onClick),e.openOnHover&&(x.onMouseenter=N.onMouseenter,x.onMouseleave=N.onMouseleave),r.value&&(x.onFocus=N.onFocus,x.onBlur=N.onBlur),x}),a=Ae(()=>{const x={};if(e.openOnHover&&(x.onMouseenter=()=>{y=!0,A()},x.onMouseleave=()=>{y=!1,D()}),r.value&&(x.onFocusin=()=>{M=!0,A()},x.onFocusout=()=>{M=!1,D()}),e.closeOnContentClick){const h=Ot(PT,null);x.onClick=()=>{n.value=!1,h==null||h.closeParents()}}return x}),m=Ae(()=>{const x={};return e.openOnHover&&(x.onMouseenter=()=>{l&&(y=!0,l=!1,A())},x.onMouseleave=()=>{y=!1,D()}),x});ht(i,x=>{var h;x&&(e.openOnHover&&!y&&(!r.value||!M)||r.value&&!M&&(!e.openOnHover||!y))&&!((h=u.value)!=null&&h.contains(document.activeElement))&&(n.value=!1)}),ht(n,x=>{x||setTimeout(()=>{O.value=void 0})},{flush:"post"});const v=Bc();Ei(()=>{v.value&&bn(()=>{I.value=v.el})});const o=Bc(),c=Ae(()=>e.target==="cursor"&&O.value?O.value:o.value?o.el:Gp(e.target,b)||I.value),s=Ae(()=>Array.isArray(c.value)?void 0:c.value);let g;return ht(()=>!!e.activator,x=>{x&&Vt?(g=Pr(),g.run(()=>{FT(e,b,{activatorEl:I,activatorEvents:p})})):g&&g.stop()},{flush:"post",immediate:!0}),Un(()=>{g==null||g.stop()}),{activatorEl:I,activatorRef:v,target:c,targetEl:s,targetRef:o,activatorEvents:p,contentEvents:a,scrimEvents:m}}function FT(e,t,n){let{activatorEl:i,activatorEvents:u}=n;ht(()=>e.activator,(M,l)=>{if(l&&M!==l){const r=y(l);r&&I(r)}M&&bn(()=>b())},{immediate:!0}),ht(()=>e.activatorProps,()=>{b()}),Un(()=>{I()});function b(){let M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:y(),l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e.activatorProps;M&&rE(M,It(u.value,l))}function I(){let M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:y(),l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e.activatorProps;M&&aE(M,It(u.value,l))}function y(){let M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:e.activator;const l=Gp(M,t);return i.value=(l==null?void 0:l.nodeType)===Node.ELEMENT_NODE?l:void 0,i.value}}function Gp(e,t){var i,u;if(!e)return;let n;if(e==="parent"){let b=(u=(i=t==null?void 0:t.proxy)==null?void 0:i.$el)==null?void 0:u.parentNode;for(;b!=null&&b.hasAttribute("data-no-activator");)b=b.parentNode;n=b}else typeof e=="string"?n=document.querySelector(e):"$el"in e?n=e.$el:n=e;return n}function BT(){if(!Vt)return dt(!1);const{ssr:e}=kp();if(e){const t=dt(!1);return Ji(()=>{t.value=!0}),t}else return dt(!0)}const zT=Ke({eager:Boolean},"lazy");function HT(e,t){const n=dt(!1),i=Ze(()=>n.value||e.eager||t.value);ht(t,()=>n.value=!0);function u(){e.eager||(n.value=!1)}return{isBooted:n,hasContent:i,onAfterLeave:u}}function rf(){const t=cn("useScopeId").vnode.scopeId;return{scopeId:t?{[t]:""}:void 0}}const Ag=Symbol.for("vuetify:stack"),Ta=un([]);function UT(e,t,n){const i=cn("useStack"),u=!n,b=Ot(Ag,void 0),I=un({activeChildren:new Set});pn(Ag,I);const y=dt(Number(Yi(t)));mr(e,()=>{var w;const r=(w=Ta.at(-1))==null?void 0:w[1];y.value=r?r+10:Number(Yi(t)),u&&Ta.push([i.uid,y.value]),b==null||b.activeChildren.add(i.uid),Un(()=>{if(u){const A=ct(Ta).findIndex(D=>D[0]===i.uid);Ta.splice(A,1)}b==null||b.activeChildren.delete(i.uid)})});const M=dt(!0);u&&Ei(()=>{var w;const r=((w=Ta.at(-1))==null?void 0:w[0])===i.uid;setTimeout(()=>M.value=r)});const l=Ze(()=>!I.activeChildren.size);return{globalTop:ao(M),localTop:l,stackStyles:Ze(()=>({zIndex:y.value}))}}function WT(e){return{teleportTarget:Ae(()=>{const n=e();if(n===!0||!Vt)return;const i=n===!1?document.body:typeof n=="string"?document.querySelector(n):n;if(i==null)return;let u=[...i.children].find(b=>b.matches(".v-overlay-container"));return u||(u=document.createElement("div"),u.className="v-overlay-container",i.appendChild(u)),u})}}function YT(){return!0}function Xp(e,t,n){if(!e||Zp(e,n)===!1)return!1;const i=qm(t);if(typeof ShadowRoot<"u"&&i instanceof ShadowRoot&&i.host===e.target)return!1;const u=(typeof n.value=="object"&&n.value.include||(()=>[]))();return u.push(t),!u.some(b=>b==null?void 0:b.contains(e.target))}function Zp(e,t){return(typeof t.value=="object"&&t.value.closeConditional||YT)(e)}function VT(e,t,n){const i=typeof n.value=="function"?n.value:n.value.handler;e.shadowTarget=e.target,t._clickOutside.lastMousedownWasOutside&&Xp(e,t,n)&&setTimeout(()=>{Zp(e,n)&&i&&i(e)},0)}function Og(e,t){const n=qm(e);t(document),typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&t(n)}const GT={mounted(e,t){const n=u=>VT(u,e,t),i=u=>{e._clickOutside.lastMousedownWasOutside=Xp(u,e,t)};Og(e,u=>{u.addEventListener("click",n,!0),u.addEventListener("mousedown",i,!0)}),e._clickOutside||(e._clickOutside={lastMousedownWasOutside:!1}),e._clickOutside[t.instance.$.uid]={onClick:n,onMousedown:i}},beforeUnmount(e,t){e._clickOutside&&(Og(e,n=>{var b;if(!n||!((b=e._clickOutside)!=null&&b[t.instance.$.uid]))return;const{onClick:i,onMousedown:u}=e._clickOutside[t.instance.$.uid];n.removeEventListener("click",i,!0),n.removeEventListener("mousedown",u,!0)}),delete e._clickOutside[t.instance.$.uid])}};function XT(e){const{modelValue:t,color:n,...i}=e;return $(Rr,{name:"fade-transition",appear:!0},{default:()=>[e.modelValue&&$("div",It({class:["v-overlay__scrim",e.color.backgroundColorClasses.value],style:e.color.backgroundColorStyles.value},i),null)]})}const af=Ke({absolute:Boolean,attach:[Boolean,String,Object],closeOnBack:{type:Boolean,default:!0},contained:Boolean,contentClass:null,contentProps:null,disabled:Boolean,opacity:[Number,String],noClickAnimation:Boolean,modelValue:Boolean,persistent:Boolean,scrim:{type:[Boolean,String],default:!0},zIndex:{type:[Number,String],default:2e3},...RT(),...xt(),...ui(),...zT(),...xT(),...TT(),...on(),...cl()},"VOverlay"),Us=ft()({name:"VOverlay",directives:{ClickOutside:GT},inheritAttrs:!1,props:{_disableGlobalStack:Boolean,...af()},emits:{"click:outside":e=>!0,"update:modelValue":e=>!0,keydown:e=>!0,afterEnter:()=>!0,afterLeave:()=>!0},setup(e,t){let{slots:n,attrs:i,emit:u}=t;const b=cn("VOverlay"),I=$e(),y=$e(),M=$e(),l=yn(e,"modelValue"),r=Ae({get:()=>l.value,set:ge=>{ge&&e.disabled||(l.value=ge)}}),{themeClasses:w}=hn(e),{rtlClasses:A,isRtl:D}=Ai(),{hasContent:O,onAfterLeave:N}=HT(e,r),p=Hi(()=>typeof e.scrim=="string"?e.scrim:null),{globalTop:a,localTop:m,stackStyles:v}=UT(r,()=>e.zIndex,e._disableGlobalStack),{activatorEl:o,activatorRef:c,target:s,targetEl:g,targetRef:x,activatorEvents:h,contentEvents:E,scrimEvents:T}=jT(e,{isActive:r,isTop:m,contentEl:M}),{teleportTarget:k}=WT(()=>{var ae,ne,re;const ge=e.attach||e.contained;if(ge)return ge;const te=((ae=o==null?void 0:o.value)==null?void 0:ae.getRootNode())||((re=(ne=b.proxy)==null?void 0:ne.$el)==null?void 0:re.getRootNode());return te instanceof ShadowRoot?te:!1}),{dimensionStyles:L}=fi(e),F=BT(),{scopeId:U}=rf();ht(()=>e.disabled,ge=>{ge&&(r.value=!1)});const{contentStyles:G,updateLocation:Y}=IT(e,{isRtl:D,contentEl:M,target:s,isActive:r});AT(e,{root:I,contentEl:M,targetEl:g,isActive:r,updateLocation:Y});function K(ge){u("click:outside",ge),e.persistent?Z():r.value=!1}function he(ge){return r.value&&a.value&&(!e.scrim||ge.target===y.value||ge instanceof MouseEvent&&ge.shadowTarget===y.value)}Vt&&ht(r,ge=>{ge?window.addEventListener("keydown",oe):window.removeEventListener("keydown",oe)},{immediate:!0}),Pn(()=>{Vt&&window.removeEventListener("keydown",oe)});function oe(ge){var te,ae,ne;ge.key==="Escape"&&a.value&&((te=M.value)!=null&&te.contains(document.activeElement)||u("keydown",ge),e.persistent?Z():(r.value=!1,(ae=M.value)!=null&&ae.contains(document.activeElement)&&((ne=o.value)==null||ne.focus())))}function ve(ge){ge.key==="Escape"&&!a.value||u("keydown",ge)}const ee=Rw();mr(()=>e.closeOnBack,()=>{jw(ee,ge=>{a.value&&r.value?(ge(!1),e.persistent?Z():r.value=!1):ge()})});const xe=$e();ht(()=>r.value&&(e.absolute||e.contained)&&k.value==null,ge=>{if(ge){const te=RE(I.value);te&&te!==document.scrollingElement&&(xe.value=te.scrollTop)}});function Z(){e.noClickAnimation||M.value&&Kr(M.value,[{transformOrigin:"center"},{transform:"scale(1.03)"},{transformOrigin:"center"}],{duration:150,easing:Rs})}function Be(){u("afterEnter")}function we(){N(),u("afterLeave")}return Ct(()=>{var ge;return $(Ut,null,[(ge=n.activator)==null?void 0:ge.call(n,{isActive:r.value,targetRef:x,props:It({ref:c},h.value,e.activatorProps)}),F.value&&O.value&&$(i_,{disabled:!k.value,to:k.value},{default:()=>[$("div",It({class:["v-overlay",{"v-overlay--absolute":e.absolute||e.contained,"v-overlay--active":r.value,"v-overlay--contained":e.contained},w.value,A.value,e.class],style:[v.value,{"--v-overlay-opacity":e.opacity,top:pt(xe.value)},e.style],ref:I,onKeydown:ve},U,i),[$(XT,It({color:p,modelValue:r.value&&!!e.scrim,ref:y},T.value),null),$(gr,{appear:!0,persisted:!0,transition:e.transition,target:s.value,onAfterEnter:Be,onAfterLeave:we},{default:()=>{var te;return[ti($("div",It({ref:M,class:["v-overlay__content",e.contentClass],style:[L.value,G.value]},E.value,e.contentProps),[(te=n.default)==null?void 0:te.call(n,{isActive:r})]),[[oa,r.value],[aa("click-outside"),{handler:K,closeConditional:he,include:()=>[o.value]}]])]}})])]})])}),{activatorEl:o,scrimEl:y,target:s,animateClick:Z,contentEl:M,globalTop:a,localTop:m,updateLocation:Y}}});function So(e){const t=e.slice(-2).toUpperCase();switch(!0){case e==="GB-alt-variant":return{firstDay:0,firstWeekSize:4};case e==="001":return{firstDay:1,firstWeekSize:1};case`AG AS BD BR BS BT BW BZ CA CO DM DO ET GT GU HK HN ID IL IN JM JP KE
    KH KR LA MH MM MO MT MX MZ NI NP PA PE PH PK PR PY SA SG SV TH TT TW UM US
    VE VI WS YE ZA ZW`.includes(t):return{firstDay:0,firstWeekSize:1};case`AI AL AM AR AU AZ BA BM BN BY CL CM CN CR CY EC GE HR KG KZ LB LK LV
    MD ME MK MN MY NZ RO RS SI TJ TM TR UA UY UZ VN XK`.includes(t):return{firstDay:1,firstWeekSize:1};case`AD AN AT AX BE BG CH CZ DE DK EE ES FI FJ FO FR GB GF GP GR HU IE IS
    IT LI LT LU MC MQ NL NO PL RE RU SE SK SM VA`.includes(t):return{firstDay:1,firstWeekSize:4};case"AE AF BH DJ DZ EG IQ IR JO KW LY OM QA SD SY".includes(t):return{firstDay:6,firstWeekSize:1};case t==="MV":return{firstDay:5,firstWeekSize:1};case t==="PT":return{firstDay:0,firstWeekSize:4};default:return null}}function ZT(e,t,n){var r;const i=[];let u=[];const b=Jp(e),I=$p(e),y=n??((r=So(t))==null?void 0:r.firstDay)??0,M=(b.getDay()-y+7)%7,l=(I.getDay()-y+7)%7;for(let w=0;w<M;w++){const A=new Date(b);A.setDate(A.getDate()-(M-w)),u.push(A)}for(let w=1;w<=I.getDate();w++){const A=new Date(e.getFullYear(),e.getMonth(),w);u.push(A),u.length===7&&(i.push(u),u=[])}for(let w=1;w<7-l;w++){const A=new Date(I);A.setDate(A.getDate()+w),u.push(A)}return u.length>0&&i.push(u),i}function Jc(e,t,n){var b;const i=n??((b=So(t))==null?void 0:b.firstDay)??0,u=new Date(e);for(;u.getDay()!==i;)u.setDate(u.getDate()-1);return u}function JT(e,t){var u;const n=new Date(e),i=((((u=So(t))==null?void 0:u.firstDay)??0)+6)%7;for(;n.getDay()!==i;)n.setDate(n.getDate()+1);return n}function Jp(e){return new Date(e.getFullYear(),e.getMonth(),1)}function $p(e){return new Date(e.getFullYear(),e.getMonth()+1,0)}function $T(e){const t=e.split("-").map(Number);return new Date(t[0],t[1]-1,t[2])}const KT=/^([12]\d{3}-([1-9]|0[1-9]|1[0-2])-([1-9]|0[1-9]|[12]\d|3[01]))$/;function Kp(e){if(e==null)return new Date;if(e instanceof Date)return e;if(typeof e=="string"){let t;if(KT.test(e))return $T(e);if(t=Date.parse(e),!isNaN(t))return new Date(t)}return null}const Dg=new Date(2e3,0,2);function QT(e,t){var i;const n=t??((i=So(e))==null?void 0:i.firstDay)??0;return Fm(7).map(u=>{const b=new Date(Dg);return b.setDate(Dg.getDate()+n+u),new Intl.DateTimeFormat(e,{weekday:"narrow"}).format(b)})}function qT(e,t,n,i){const u=Kp(e)??new Date,b=i==null?void 0:i[t];if(typeof b=="function")return b(u,t,n);let I={};switch(t){case"fullDate":I={year:"numeric",month:"long",day:"numeric"};break;case"fullDateWithWeekday":I={weekday:"long",year:"numeric",month:"long",day:"numeric"};break;case"normalDate":const y=u.getDate(),M=new Intl.DateTimeFormat(n,{month:"long"}).format(u);return`${y} ${M}`;case"normalDateWithWeekday":I={weekday:"short",day:"numeric",month:"short"};break;case"shortDate":I={month:"short",day:"numeric"};break;case"year":I={year:"numeric"};break;case"month":I={month:"long"};break;case"monthShort":I={month:"short"};break;case"monthAndYear":I={month:"long",year:"numeric"};break;case"monthAndDate":I={month:"long",day:"numeric"};break;case"weekday":I={weekday:"long"};break;case"weekdayShort":I={weekday:"short"};break;case"dayOfMonth":return new Intl.NumberFormat(n).format(u.getDate());case"hours12h":I={hour:"numeric",hour12:!0};break;case"hours24h":I={hour:"numeric",hour12:!1};break;case"minutes":I={minute:"numeric"};break;case"seconds":I={second:"numeric"};break;case"fullTime":I={hour:"numeric",minute:"numeric"};break;case"fullTime12h":I={hour:"numeric",minute:"numeric",hour12:!0};break;case"fullTime24h":I={hour:"numeric",minute:"numeric",hour12:!1};break;case"fullDateTime":I={year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric"};break;case"fullDateTime12h":I={year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric",hour12:!0};break;case"fullDateTime24h":I={year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric",hour12:!1};break;case"keyboardDate":I={year:"numeric",month:"2-digit",day:"2-digit"};break;case"keyboardDateTime":return I={year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric"},new Intl.DateTimeFormat(n,I).format(u).replace(/, /g," ");case"keyboardDateTime12h":return I={year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric",hour12:!0},new Intl.DateTimeFormat(n,I).format(u).replace(/, /g," ");case"keyboardDateTime24h":return I={year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric",hour12:!1},new Intl.DateTimeFormat(n,I).format(u).replace(/, /g," ");default:I=b??{timeZone:"UTC",timeZoneName:"short"}}return new Intl.DateTimeFormat(n,I).format(u)}function eA(e,t){const n=e.toJsDate(t),i=n.getFullYear(),u=Yd(String(n.getMonth()+1),2,"0"),b=Yd(String(n.getDate()),2,"0");return`${i}-${u}-${b}`}function tA(e){const[t,n,i]=e.split("-").map(Number);return new Date(t,n-1,i)}function nA(e,t){const n=new Date(e);return n.setMinutes(n.getMinutes()+t),n}function iA(e,t){const n=new Date(e);return n.setHours(n.getHours()+t),n}function ys(e,t){const n=new Date(e);return n.setDate(n.getDate()+t),n}function rA(e,t){const n=new Date(e);return n.setDate(n.getDate()+t*7),n}function aA(e,t){const n=new Date(e);return n.setDate(1),n.setMonth(n.getMonth()+t),n}function $c(e){return e.getFullYear()}function oA(e){return e.getMonth()}function sA(e,t,n,i){const u=So(t),b=n??(u==null?void 0:u.firstDay)??0,I=i??(u==null?void 0:u.firstWeekSize)??1;function y(D){const O=new Date(D,0,1);return 7-Kc(O,Jc(O,t,b),"days")}let M=$c(e);const l=ys(Jc(e,t,b),6);M<$c(l)&&y(M+1)>=I&&M++;const r=new Date(M,0,1),w=y(M),A=w>=I?ys(r,w-7):ys(r,w);return 1+Kc(e,A,"weeks")}function lA(e){return e.getDate()}function cA(e){return new Date(e.getFullYear(),e.getMonth()+1,1)}function uA(e){return new Date(e.getFullYear(),e.getMonth()-1,1)}function fA(e){return e.getHours()}function hA(e){return e.getMinutes()}function dA(e){return new Date(e.getFullYear(),0,1)}function gA(e){return new Date(e.getFullYear(),11,31)}function vA(e,t){return Ws(e,t[0])&&yA(e,t[1])}function mA(e){const t=new Date(e);return t instanceof Date&&!isNaN(t.getTime())}function Ws(e,t){return e.getTime()>t.getTime()}function pA(e,t){return Ws(Qc(e),Qc(t))}function yA(e,t){return e.getTime()<t.getTime()}function kg(e,t){return e.getTime()===t.getTime()}function bA(e,t){return e.getDate()===t.getDate()&&e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear()}function SA(e,t){return e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear()}function CA(e,t){return e.getFullYear()===t.getFullYear()}function Kc(e,t,n){const i=new Date(e),u=new Date(t);switch(n){case"years":return i.getFullYear()-u.getFullYear();case"quarters":return Math.floor((i.getMonth()-u.getMonth()+(i.getFullYear()-u.getFullYear())*12)/4);case"months":return i.getMonth()-u.getMonth()+(i.getFullYear()-u.getFullYear())*12;case"weeks":return Math.floor((i.getTime()-u.getTime())/(1e3*60*60*24*7));case"days":return Math.floor((i.getTime()-u.getTime())/(1e3*60*60*24));case"hours":return Math.floor((i.getTime()-u.getTime())/(1e3*60*60));case"minutes":return Math.floor((i.getTime()-u.getTime())/(1e3*60));case"seconds":return Math.floor((i.getTime()-u.getTime())/1e3);default:return i.getTime()-u.getTime()}}function xA(e,t){const n=new Date(e);return n.setHours(t),n}function IA(e,t){const n=new Date(e);return n.setMinutes(t),n}function _A(e,t){const n=new Date(e);return n.setMonth(t),n}function MA(e,t){const n=new Date(e);return n.setDate(t),n}function EA(e,t){const n=new Date(e);return n.setFullYear(t),n}function Qc(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate(),0,0,0,0)}function wA(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate(),23,59,59,999)}class TA{constructor(t){this.locale=t.locale,this.formats=t.formats}date(t){return Kp(t)}toJsDate(t){return t}toISO(t){return eA(this,t)}parseISO(t){return tA(t)}addMinutes(t,n){return nA(t,n)}addHours(t,n){return iA(t,n)}addDays(t,n){return ys(t,n)}addWeeks(t,n){return rA(t,n)}addMonths(t,n){return aA(t,n)}getWeekArray(t,n){const i=n!==void 0?Number(n):void 0;return ZT(t,this.locale,i)}startOfWeek(t,n){const i=n!==void 0?Number(n):void 0;return Jc(t,this.locale,i)}endOfWeek(t){return JT(t,this.locale)}startOfMonth(t){return Jp(t)}endOfMonth(t){return $p(t)}format(t,n){return qT(t,n,this.locale,this.formats)}isEqual(t,n){return kg(t,n)}isValid(t){return mA(t)}isWithinRange(t,n){return vA(t,n)}isAfter(t,n){return Ws(t,n)}isAfterDay(t,n){return pA(t,n)}isBefore(t,n){return!Ws(t,n)&&!kg(t,n)}isSameDay(t,n){return bA(t,n)}isSameMonth(t,n){return SA(t,n)}isSameYear(t,n){return CA(t,n)}setMinutes(t,n){return IA(t,n)}setHours(t,n){return xA(t,n)}setMonth(t,n){return _A(t,n)}setDate(t,n){return MA(t,n)}setYear(t,n){return EA(t,n)}getDiff(t,n,i){return Kc(t,n,i)}getWeekdays(t){const n=t!==void 0?Number(t):void 0;return QT(this.locale,n)}getYear(t){return $c(t)}getMonth(t){return oA(t)}getWeek(t,n,i){const u=n!==void 0?Number(n):void 0;return sA(t,this.locale,u,i)}getDate(t){return lA(t)}getNextMonth(t){return cA(t)}getPreviousMonth(t){return uA(t)}getHours(t){return fA(t)}getMinutes(t){return hA(t)}startOfDay(t){return Qc(t)}endOfDay(t){return wA(t)}startOfYear(t){return dA(t)}endOfYear(t){return gA(t)}}const AA=Symbol.for("vuetify:date-options"),Pg=Symbol.for("vuetify:date-adapter");function OA(e,t){const n=Mn({adapter:TA,locale:{af:"af-ZA",bg:"bg-BG",ca:"ca-ES",ckb:"",cs:"cs-CZ",de:"de-DE",el:"el-GR",en:"en-US",et:"et-EE",fa:"fa-IR",fi:"fi-FI",hr:"hr-HR",hu:"hu-HU",he:"he-IL",id:"id-ID",it:"it-IT",ja:"ja-JP",ko:"ko-KR",lv:"lv-LV",lt:"lt-LT",nl:"nl-NL",no:"no-NO",pl:"pl-PL",pt:"pt-PT",ro:"ro-RO",ru:"ru-RU",sk:"sk-SK",sl:"sl-SI",srCyrl:"sr-SP",srLatn:"sr-SP",sv:"sv-SE",th:"th-TH",tr:"tr-TR",az:"az-AZ",uk:"uk-UA",vi:"vi-VN",zhHans:"zh-CN",zhHant:"zh-TW"}},e);return{options:n,instance:DA(n,t)}}function DA(e,t){const n=un(typeof e.adapter=="function"?new e.adapter({locale:e.locale[t.current.value]??t.current.value,formats:e.formats}):e.adapter);return ht(t.current,i=>{n.locale=e.locale[i]??i??n.locale}),n}const Qp=Symbol.for("vuetify:goto");function qp(){return{container:void 0,duration:300,layout:!1,offset:0,easing:"easeInOutCubic",patterns:{linear:e=>e,easeInQuad:e=>e**2,easeOutQuad:e=>e*(2-e),easeInOutQuad:e=>e<.5?2*e**2:-1+(4-2*e)*e,easeInCubic:e=>e**3,easeOutCubic:e=>--e**3+1,easeInOutCubic:e=>e<.5?4*e**3:(e-1)*(2*e-2)*(2*e-2)+1,easeInQuart:e=>e**4,easeOutQuart:e=>1- --e**4,easeInOutQuart:e=>e<.5?8*e**4:1-8*--e**4,easeInQuint:e=>e**5,easeOutQuint:e=>1+--e**5,easeInOutQuint:e=>e<.5?16*e**5:1+16*--e**5}}}function kA(e){return of(e)??(document.scrollingElement||document.body)}function of(e){return typeof e=="string"?document.querySelector(e):Fu(e)}function dc(e,t,n){if(typeof e=="number")return t&&n?-e:e;let i=of(e),u=0;for(;i;)u+=t?i.offsetLeft:i.offsetTop,i=i.offsetParent;return u}function PA(e,t){return{rtl:t.isRtl,options:Mn(qp(),e)}}async function Lg(e,t,n,i){const u=n?"scrollLeft":"scrollTop",b=Mn((i==null?void 0:i.options)??qp(),t),I=i==null?void 0:i.rtl.value,y=(typeof e=="number"?e:of(e))??0,M=b.container==="parent"&&y instanceof HTMLElement?y.parentElement:kA(b.container),l=typeof b.easing=="function"?b.easing:b.patterns[b.easing];if(!l)throw new TypeError(`Easing function "${b.easing}" not found.`);let r;if(typeof y=="number")r=dc(y,n,I);else if(r=dc(y,n,I)-dc(M,n,I),b.layout){const O=window.getComputedStyle(y).getPropertyValue("--v-layout-top");O&&(r-=parseInt(O,10))}r+=b.offset,r=NA(M,r,!!I,!!n);const w=M[u]??0;if(r===w)return Promise.resolve(r);const A=performance.now();return new Promise(D=>requestAnimationFrame(function O(N){const a=(N-A)/b.duration,m=Math.floor(w+(r-w)*l(jr(a,0,1)));if(M[u]=m,a>=1&&Math.abs(m-M[u])<10)return D(r);if(a>2)return D(M[u]);requestAnimationFrame(O)}))}function LA(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const t=Ot(Qp),{isRtl:n}=Ai();if(!t)throw new Error("[Vuetify] Could not find injected goto instance");const i={...t,rtl:Ze(()=>t.rtl.value||n.value)};async function u(b,I){return Lg(b,Mn(e,I),!1,i)}return u.horizontal=async(b,I)=>Lg(b,Mn(e,I),!0,i),u}function NA(e,t,n,i){const{scrollWidth:u,scrollHeight:b}=e,[I,y]=e===document.scrollingElement?[window.innerWidth,window.innerHeight]:[e.offsetWidth,e.offsetHeight];let M,l;return i?n?(M=-(u-I),l=0):(M=0,l=u-I):(M=0,l=b+-y),Math.max(Math.min(t,l),M)}function RA(e){const t=dt(e());let n=-1;function i(){clearInterval(n)}function u(){i(),bn(()=>t.value=e())}function b(I){const y=I?getComputedStyle(I):{transitionDuration:.2},M=parseFloat(y.transitionDuration)*1e3||200;if(i(),t.value<=0)return;const l=performance.now();n=window.setInterval(()=>{const r=performance.now()-l+M;t.value=Math.max(e()-r,0),t.value<=0&&i()},M)}return Un(i),{clear:i,time:t,start:b,reset:u}}const jA=Ke({multiLine:Boolean,text:String,timer:[Boolean,String],timeout:{type:[Number,String],default:5e3},vertical:Boolean,...ua({location:"bottom"}),...mo(),...Wn(),...Di(),...on(),...Bu(af({transition:"v-snackbar-transition"}),["persistent","noClickAnimation","scrim","scrollStrategy"])},"VSnackbar"),sf=ft()({name:"VSnackbar",props:jA(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const i=yn(e,"modelValue"),{positionClasses:u}=po(e),{scopeId:b}=rf(),{themeClasses:I}=hn(e),{colorClasses:y,colorStyles:M,variantClasses:l}=Hr(e),{roundedClasses:r}=Yn(e),w=RA(()=>Number(e.timeout)),A=$e(),D=$e(),O=dt(!1),N=dt(0),p=$e(),a=Ot(Qa,void 0);mr(()=>!!a,()=>{const T=dp();Ei(()=>{p.value=T.mainStyles.value})}),ht(i,v),ht(()=>e.timeout,v),Ji(()=>{i.value&&v()});let m=-1;function v(){w.reset(),window.clearTimeout(m);const T=Number(e.timeout);if(!i.value||T===-1)return;const k=Fu(D.value);w.start(k),m=window.setTimeout(()=>{i.value=!1},T)}function o(){w.reset(),window.clearTimeout(m)}function c(){O.value=!0,o()}function s(){O.value=!1,v()}function g(T){N.value=T.touches[0].clientY}function x(T){Math.abs(N.value-T.changedTouches[0].clientY)>50&&(i.value=!1)}function h(){O.value&&s()}const E=Ae(()=>e.location.split(" ").reduce((T,k)=>(T[`v-snackbar--${k}`]=!0,T),{}));return Ct(()=>{const T=Us.filterProps(e),k=!!(n.default||n.text||e.text);return $(Us,It({ref:A,class:["v-snackbar",{"v-snackbar--active":i.value,"v-snackbar--multi-line":e.multiLine&&!e.vertical,"v-snackbar--timer":!!e.timer,"v-snackbar--vertical":e.vertical},E.value,u.value,e.class],style:[p.value,e.style]},T,{modelValue:i.value,"onUpdate:modelValue":L=>i.value=L,contentProps:It({class:["v-snackbar__wrapper",I.value,y.value,r.value,l.value],style:[M.value],onPointerenter:c,onPointerleave:s},T.contentProps),persistent:!0,noClickAnimation:!0,scrim:!1,scrollStrategy:"none",_disableGlobalStack:!0,onTouchstartPassive:g,onTouchend:x,onAfterLeave:h},b),{default:()=>{var L,F;return[zr(!1,"v-snackbar"),e.timer&&!O.value&&$("div",{key:"timer",class:"v-snackbar__timer"},[$(xp,{ref:D,color:typeof e.timer=="string"?e.timer:"info",max:e.timeout,"model-value":w.time.value},null)]),k&&$("div",{key:"content",class:"v-snackbar__content",role:"status","aria-live":"polite"},[((L=n.text)==null?void 0:L.call(n))??e.text,(F=n.default)==null?void 0:F.call(n)]),n.actions&&$(nn,{defaults:{VBtn:{variant:"text",ripple:!1,slim:!0}}},{default:()=>[$("div",{class:"v-snackbar__actions"},[n.actions({isActive:i})])]})]},activator:n.activator})}),bo({},A)}}),FA=Ke({active:Boolean,disabled:Boolean,max:[Number,String],value:{type:[Number,String],default:0},...xt(),...cl({transition:{component:np}})},"VCounter"),ey=ft()({name:"VCounter",functional:!0,props:FA(),setup(e,t){let{slots:n}=t;const i=Ze(()=>e.max?`${e.value} / ${e.max}`:String(e.value));return Ct(()=>$(gr,{transition:e.transition},{default:()=>[ti($("div",{class:["v-counter",{"text-error":e.max&&!e.disabled&&parseFloat(e.value)>parseFloat(e.max)},e.class],style:e.style},[n.default?n.default({counter:i.value,max:e.max,value:e.value}):i.value]),[[oa,e.active]])]})),{}}}),BA=Ke({text:String,onClick:Fn(),...xt(),...on()},"VLabel"),zA=ft()({name:"VLabel",props:BA(),setup(e,t){let{slots:n}=t;return Ct(()=>{var i;return $("label",{class:["v-label",{"v-label--clickable":!!e.onClick},e.class],style:e.style,onClick:e.onClick},[e.text,(i=n.default)==null?void 0:i.call(n)])}),{}}}),HA=Ke({floating:Boolean,...xt()},"VFieldLabel"),hs=ft()({name:"VFieldLabel",props:HA(),setup(e,t){let{slots:n}=t;return Ct(()=>$(zA,{class:["v-field-label",{"v-field-label--floating":e.floating},e.class],style:e.style,"aria-hidden":e.floating||void 0},n)),{}}});function ty(e){const{t}=ul();function n(i){let{name:u,color:b}=i;const I={prepend:"prependAction",prependInner:"prependAction",append:"appendAction",appendInner:"appendAction",clear:"clear"}[u],y=e[`onClick:${u}`];function M(r){r.key!=="Enter"&&r.key!==" "||(r.preventDefault(),r.stopPropagation(),Hu(y,new PointerEvent("click",r)))}const l=y&&I?t(`$vuetify.input.${I}`,e.label??""):void 0;return $(mn,{icon:e[`${u}Icon`],"aria-label":l,onClick:y,onKeydown:M,color:b},null)}return{InputIcon:n}}const ny=Ke({focused:Boolean,"onUpdate:focused":Fn()},"focus");function lf(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ti();const n=yn(e,"focused"),i=Ze(()=>({[`${t}--focused`]:n.value}));function u(){n.value=!0}function b(){n.value=!1}return{focusClasses:i,isFocused:n,focus:u,blur:b}}const UA=["underlined","outlined","filled","solo","solo-inverted","solo-filled","plain"],cf=Ke({appendInnerIcon:Ht,bgColor:String,clearable:Boolean,clearIcon:{type:Ht,default:"$clear"},active:Boolean,centerAffix:{type:Boolean,default:void 0},color:String,baseColor:String,dirty:Boolean,disabled:{type:Boolean,default:null},glow:Boolean,error:Boolean,flat:Boolean,iconColor:[Boolean,String],label:String,persistentClear:Boolean,prependInnerIcon:Ht,reverse:Boolean,singleLine:Boolean,variant:{type:String,default:"filled",validator:e=>UA.includes(e)},"onClick:clear":Fn(),"onClick:appendInner":Fn(),"onClick:prependInner":Fn(),...xt(),...Qu(),...Wn(),...on()},"VField"),Ys=ft()({name:"VField",inheritAttrs:!1,props:{id:String,...ny(),...cf()},emits:{"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,t){let{attrs:n,emit:i,slots:u}=t;const{themeClasses:b}=hn(e),{loaderClasses:I}=qu(e),{focusClasses:y,isFocused:M,focus:l,blur:r}=lf(e),{InputIcon:w}=ty(e),{roundedClasses:A}=Yn(e),{rtlClasses:D}=Ai(),O=Ze(()=>e.dirty||e.active),N=Ze(()=>!!(e.label||u.label)),p=Ze(()=>!e.singleLine&&N.value),a=so(),m=Ae(()=>e.id||`input-${a}`),v=Ze(()=>`${m.value}-messages`),o=$e(),c=$e(),s=$e(),g=Ae(()=>["plain","underlined"].includes(e.variant)),x=Ae(()=>e.error||e.disabled?void 0:O.value&&M.value?e.color:e.baseColor),h=Ae(()=>{if(!(!e.iconColor||e.glow&&!M.value))return e.iconColor===!0?x.value:e.iconColor}),{backgroundColorClasses:E,backgroundColorStyles:T}=Hi(()=>e.bgColor),{textColorClasses:k,textColorStyles:L}=Gi(x);ht(O,G=>{if(p.value){const Y=o.value.$el,K=c.value.$el;requestAnimationFrame(()=>{const he=Wu(Y),oe=K.getBoundingClientRect(),ve=oe.x-he.x,ee=oe.y-he.y-(he.height/2-oe.height/2),xe=oe.width/.75,Z=Math.abs(xe-he.width)>1?{maxWidth:pt(xe)}:void 0,Be=getComputedStyle(Y),we=getComputedStyle(K),ge=parseFloat(Be.transitionDuration)*1e3||150,te=parseFloat(we.getPropertyValue("--v-field-label-scale")),ae=we.getPropertyValue("color");Y.style.visibility="visible",K.style.visibility="hidden",Kr(Y,{transform:`translate(${ve}px, ${ee}px) scale(${te})`,color:ae,...Z},{duration:ge,easing:Rs,direction:G?"normal":"reverse"}).finished.then(()=>{Y.style.removeProperty("visibility"),K.style.removeProperty("visibility")})})}},{flush:"post"});const F=Ae(()=>({isActive:O,isFocused:M,controlRef:s,blur:r,focus:l}));function U(G){G.target!==document.activeElement&&G.preventDefault()}return Ct(()=>{var ve,ee,xe;const G=e.variant==="outlined",Y=!!(u["prepend-inner"]||e.prependInnerIcon),K=!!(e.clearable||u.clear)&&!e.disabled,he=!!(u["append-inner"]||e.appendInnerIcon||K),oe=()=>u.label?u.label({...F.value,label:e.label,props:{for:m.value}}):e.label;return $("div",It({class:["v-field",{"v-field--active":O.value,"v-field--appended":he,"v-field--center-affix":e.centerAffix??!g.value,"v-field--disabled":e.disabled,"v-field--dirty":e.dirty,"v-field--error":e.error,"v-field--glow":e.glow,"v-field--flat":e.flat,"v-field--has-background":!!e.bgColor,"v-field--persistent-clear":e.persistentClear,"v-field--prepended":Y,"v-field--reverse":e.reverse,"v-field--single-line":e.singleLine,"v-field--no-label":!oe(),[`v-field--variant-${e.variant}`]:!0},b.value,E.value,y.value,I.value,A.value,D.value,e.class],style:[T.value,e.style],onClick:U},n),[$("div",{class:"v-field__overlay"},null),$(Ip,{name:"v-field",active:!!e.loading,color:e.error?"error":typeof e.loading=="string"?e.loading:e.color},{default:u.loader}),Y&&$("div",{key:"prepend",class:"v-field__prepend-inner"},[e.prependInnerIcon&&$(w,{key:"prepend-icon",name:"prependInner",color:h.value},null),(ve=u["prepend-inner"])==null?void 0:ve.call(u,F.value)]),$("div",{class:"v-field__field","data-no-activator":""},[["filled","solo","solo-inverted","solo-filled"].includes(e.variant)&&p.value&&$(hs,{key:"floating-label",ref:c,class:[k.value],floating:!0,for:m.value,style:L.value},{default:()=>[oe()]}),N.value&&$(hs,{key:"label",ref:o,for:m.value},{default:()=>[oe()]}),((ee=u.default)==null?void 0:ee.call(u,{...F.value,props:{id:m.value,class:"v-field__input","aria-describedby":v.value},focus:l,blur:r}))??$("div",{id:m.value,class:"v-field__input","aria-describedby":v.value},null)]),K&&$(rp,{key:"clear"},{default:()=>[ti($("div",{class:"v-field__clearable",onMousedown:Z=>{Z.preventDefault(),Z.stopPropagation()}},[$(nn,{defaults:{VIcon:{icon:e.clearIcon}}},{default:()=>[u.clear?u.clear({...F.value,props:{onFocus:l,onBlur:r,onClick:e["onClick:clear"]}}):$(w,{name:"clear",onFocus:l,onBlur:r},null)]})]),[[oa,e.dirty]])]}),he&&$("div",{key:"append",class:"v-field__append-inner"},[(xe=u["append-inner"])==null?void 0:xe.call(u,F.value),e.appendInnerIcon&&$(w,{key:"append-icon",name:"appendInner",color:h.value},null)]),$("div",{class:["v-field__outline",k.value],style:L.value},[G&&$(Ut,null,[$("div",{class:"v-field__outline__start"},null),p.value&&$("div",{class:"v-field__outline__notch"},[$(hs,{ref:c,floating:!0,for:m.value},{default:()=>[oe()]})]),$("div",{class:"v-field__outline__end"},null)]),g.value&&p.value&&$(hs,{ref:c,floating:!0,for:m.value},{default:()=>[oe()]})])])}),{controlRef:s,fieldIconColor:h}}}),WA=Ke({active:Boolean,color:String,messages:{type:[Array,String],default:()=>[]},...xt(),...cl({transition:{component:np,leaveAbsolute:!0,group:!0}})},"VMessages"),YA=ft()({name:"VMessages",props:WA(),setup(e,t){let{slots:n}=t;const i=Ae(()=>zi(e.messages)),{textColorClasses:u,textColorStyles:b}=Gi(()=>e.color);return Ct(()=>$(gr,{transition:e.transition,tag:"div",class:["v-messages",u.value,e.class],style:[b.value,e.style]},{default:()=>[e.active&&i.value.map((I,y)=>$("div",{class:"v-messages__message",key:`${y}-${i.value}`},[n.message?n.message({message:I}):I]))]})),{}}}),VA=Symbol.for("vuetify:rules");function GA(e){const t=Ot(VA,null);return t?t(e):Ze(e)}const XA=Ke({disabled:{type:Boolean,default:null},error:Boolean,errorMessages:{type:[Array,String],default:()=>[]},maxErrors:{type:[Number,String],default:1},name:String,label:String,readonly:{type:Boolean,default:null},rules:{type:Array,default:()=>[]},modelValue:null,validateOn:String,validationValue:null,...ny()},"validation");function ZA(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ti(),n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:so();const i=yn(e,"modelValue"),u=Ae(()=>e.validationValue===void 0?i.value:e.validationValue),b=bT(e),I=GA(()=>e.rules),y=$e([]),M=dt(!0),l=Ae(()=>!!(zi(i.value===""?null:i.value).length||zi(u.value===""?null:u.value).length)),r=Ae(()=>{var o;return(o=e.errorMessages)!=null&&o.length?zi(e.errorMessages).concat(y.value).slice(0,Math.max(0,Number(e.maxErrors))):y.value}),w=Ae(()=>{var s;let o=(e.validateOn??((s=b.validateOn)==null?void 0:s.value))||"input";o==="lazy"&&(o="input lazy"),o==="eager"&&(o="input eager");const c=new Set((o==null?void 0:o.split(" "))??[]);return{input:c.has("input"),blur:c.has("blur")||c.has("input")||c.has("invalid-input"),invalidInput:c.has("invalid-input"),lazy:c.has("lazy"),eager:c.has("eager")}}),A=Ae(()=>{var o;return e.error||(o=e.errorMessages)!=null&&o.length?!1:e.rules.length?M.value?y.value.length||w.value.lazy?null:!0:!y.value.length:!0}),D=dt(!1),O=Ae(()=>({[`${t}--error`]:A.value===!1,[`${t}--dirty`]:l.value,[`${t}--disabled`]:b.isDisabled.value,[`${t}--readonly`]:b.isReadonly.value})),N=cn("validation"),p=Ae(()=>e.name??Gn(n));lo(()=>{var o;(o=b.register)==null||o.call(b,{id:p.value,vm:N,validate:v,reset:a,resetValidation:m})}),Pn(()=>{var o;(o=b.unregister)==null||o.call(b,p.value)}),Ji(async()=>{var o;w.value.lazy||await v(!w.value.eager),(o=b.update)==null||o.call(b,p.value,A.value,r.value)}),mr(()=>w.value.input||w.value.invalidInput&&A.value===!1,()=>{ht(u,()=>{if(u.value!=null)v();else if(e.focused){const o=ht(()=>e.focused,c=>{c||v(),o()})}})}),mr(()=>w.value.blur,()=>{ht(()=>e.focused,o=>{o||v()})}),ht([A,r],()=>{var o;(o=b.update)==null||o.call(b,p.value,A.value,r.value)});async function a(){i.value=null,await bn(),await m()}async function m(){M.value=!0,w.value.lazy?y.value=[]:await v(!w.value.eager)}async function v(){let o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const c=[];D.value=!0;for(const s of I.value){if(c.length>=Number(e.maxErrors??1))break;const x=await(typeof s=="function"?s:()=>s)(u.value);if(x!==!0){if(x!==!1&&typeof x!="string"){console.warn(`${x} is not a valid value. Rule functions must return boolean true or a string.`);continue}c.push(x||"")}}return y.value=c,D.value=!1,M.value=o,y.value}return{errorMessages:r,isDirty:l,isDisabled:b.isDisabled,isReadonly:b.isReadonly,isPristine:M,isValid:A,isValidating:D,reset:a,resetValidation:m,validate:v,validationClasses:O}}const uf=Ke({id:String,appendIcon:Ht,baseColor:String,centerAffix:{type:Boolean,default:!0},color:String,glow:Boolean,iconColor:[Boolean,String],prependIcon:Ht,hideDetails:[Boolean,String],hideSpinButtons:Boolean,hint:String,persistentHint:Boolean,messages:{type:[Array,String],default:()=>[]},direction:{type:String,default:"horizontal",validator:e=>["horizontal","vertical"].includes(e)},"onClick:prepend":Fn(),"onClick:append":Fn(),...xt(),...Oi(),...Bm(ui(),["maxWidth","minWidth","width"]),...on(),...XA()},"VInput"),Vs=ft()({name:"VInput",props:{...uf()},emits:{"update:modelValue":e=>!0},setup(e,t){let{attrs:n,slots:i,emit:u}=t;const{densityClasses:b}=er(e),{dimensionStyles:I}=fi(e),{themeClasses:y}=hn(e),{rtlClasses:M}=Ai(),{InputIcon:l}=ty(e),r=so(),w=Ae(()=>e.id||`input-${r}`),A=Ae(()=>`${w.value}-messages`),{errorMessages:D,isDirty:O,isDisabled:N,isReadonly:p,isPristine:a,isValid:m,isValidating:v,reset:o,resetValidation:c,validate:s,validationClasses:g}=ZA(e,"v-input",w),x=Ae(()=>({id:w,messagesId:A,isDirty:O,isDisabled:N,isReadonly:p,isPristine:a,isValid:m,isValidating:v,reset:o,resetValidation:c,validate:s})),h=Ze(()=>e.error||e.disabled?void 0:e.focused?e.color:e.baseColor),E=Ze(()=>{if(e.iconColor)return e.iconColor===!0?h.value:e.iconColor}),T=Ae(()=>{var k;return(k=e.errorMessages)!=null&&k.length||!a.value&&D.value.length?D.value:e.hint&&(e.persistentHint||e.focused)?e.hint:e.messages});return Ct(()=>{var G,Y,K,he;const k=!!(i.prepend||e.prependIcon),L=!!(i.append||e.appendIcon),F=T.value.length>0,U=!e.hideDetails||e.hideDetails==="auto"&&(F||!!i.details);return $("div",{class:["v-input",`v-input--${e.direction}`,{"v-input--center-affix":e.centerAffix,"v-input--focused":e.focused,"v-input--glow":e.glow,"v-input--hide-spin-buttons":e.hideSpinButtons},b.value,y.value,M.value,g.value,e.class],style:[I.value,e.style]},[k&&$("div",{key:"prepend",class:"v-input__prepend"},[(G=i.prepend)==null?void 0:G.call(i,x.value),e.prependIcon&&$(l,{key:"prepend-icon",name:"prepend",color:E.value},null)]),i.default&&$("div",{class:"v-input__control"},[(Y=i.default)==null?void 0:Y.call(i,x.value)]),L&&$("div",{key:"append",class:"v-input__append"},[e.appendIcon&&$(l,{key:"append-icon",name:"append",color:E.value},null),(K=i.append)==null?void 0:K.call(i,x.value)]),U&&$("div",{id:A.value,class:"v-input__details",role:"alert","aria-live":"polite"},[$(YA,{active:F,messages:T.value},{message:i.message}),(he=i.details)==null?void 0:he.call(i,x.value)])])}),{reset:o,resetValidation:c,validate:s,isValid:m,errorMessages:D}}}),JA=["color","file","time","date","datetime-local","week","month"],$A=Ke({autofocus:Boolean,counter:[Boolean,Number,String],counterValue:[Number,Function],prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,suffix:String,role:String,type:{type:String,default:"text"},modelModifiers:Object,...uf(),...cf()},"VTextField"),xi=ft()({name:"VTextField",directives:{Intersect:sp},inheritAttrs:!1,props:$A(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,t){let{attrs:n,emit:i,slots:u}=t;const b=yn(e,"modelValue"),{isFocused:I,focus:y,blur:M}=lf(e),l=Ae(()=>typeof e.counterValue=="function"?e.counterValue(b.value):typeof e.counterValue=="number"?e.counterValue:(b.value??"").toString().length),r=Ae(()=>{if(n.maxlength)return n.maxlength;if(!(!e.counter||typeof e.counter!="number"&&typeof e.counter!="string"))return e.counter}),w=Ae(()=>["plain","underlined"].includes(e.variant));function A(s,g){var x,h;!e.autofocus||!s||(h=(x=g[0].target)==null?void 0:x.focus)==null||h.call(x)}const D=$e(),O=$e(),N=$e(),p=Ae(()=>JA.includes(e.type)||e.persistentPlaceholder||I.value||e.active);function a(){var s;N.value!==document.activeElement&&((s=N.value)==null||s.focus()),I.value||y()}function m(s){i("mousedown:control",s),s.target!==N.value&&(a(),s.preventDefault())}function v(s){a(),i("click:control",s)}function o(s,g){s.stopPropagation(),a(),bn(()=>{b.value=null,g(),Hu(e["onClick:clear"],s)})}function c(s){var x;const g=s.target;if(b.value=g.value,(x=e.modelModifiers)!=null&&x.trim&&["text","search","password","tel","url"].includes(e.type)){const h=[g.selectionStart,g.selectionEnd];bn(()=>{g.selectionStart=h[0],g.selectionEnd=h[1]})}}return Ct(()=>{const s=!!(u.counter||e.counter!==!1&&e.counter!=null),g=!!(s||u.details),[x,h]=Um(n),{modelValue:E,...T}=Vs.filterProps(e),k=Ys.filterProps(e);return $(Vs,It({ref:D,modelValue:b.value,"onUpdate:modelValue":L=>b.value=L,class:["v-text-field",{"v-text-field--prefixed":e.prefix,"v-text-field--suffixed":e.suffix,"v-input--plain-underlined":w.value},e.class],style:e.style},x,T,{centerAffix:!w.value,focused:I.value}),{...u,default:L=>{let{id:F,isDisabled:U,isDirty:G,isReadonly:Y,isValid:K,reset:he}=L;return $(Ys,It({ref:O,onMousedown:m,onClick:v,"onClick:clear":oe=>o(oe,he),"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"],role:e.role},k,{id:F.value,active:p.value||G.value,dirty:G.value||e.dirty,disabled:U.value,focused:I.value,error:K.value===!1}),{...u,default:oe=>{let{props:{class:ve,...ee}}=oe;const xe=ti($("input",It({ref:N,value:b.value,onInput:c,autofocus:e.autofocus,readonly:Y.value,disabled:U.value,name:e.name,placeholder:e.placeholder,size:1,type:e.type,onFocus:a,onBlur:M},ee,h),null),[[aa("intersect"),{handler:A},null,{once:!0}]]);return $(Ut,null,[e.prefix&&$("span",{class:"v-text-field__prefix"},[$("span",{class:"v-text-field__prefix__text"},[e.prefix])]),u.default?$("div",{class:ve,"data-no-activator":""},[u.default(),xe]):Vi(xe,{class:ve}),e.suffix&&$("span",{class:"v-text-field__suffix"},[$("span",{class:"v-text-field__suffix__text"},[e.suffix])])])}})},details:g?L=>{var F;return $(Ut,null,[(F=u.details)==null?void 0:F.call(u,L),s&&$(Ut,null,[$("span",null,null),$(ey,{active:e.persistentCounter||I.value,value:l.value,max:r.value,disabled:e.disabled},u.counter)])])}:void 0})}),bo({},D,O,N)}}),KA={class:"input-group mb-6"},QA={class:"input-group mb-6"},qA={class:"text-right mb-4"},eO={class:"footer-text"},tO={__name:"login",setup(e){const t=$e(""),n=$e(""),i=$e(!1),u=$e(""),b=$e("success"),I=sa(),y=Ru();async function M(){try{await I.login({email:t.value,password:n.value}),u.value="Logged in successfully!",b.value="success",i.value=!0,setTimeout(()=>y.push("/feed"),1e3)}catch(l){u.value=l.message||"Login failed",b.value="error",i.value=!0}}return(l,r)=>{const w=nl("router-link");return ei(),Mi(fa,{fluid:"",class:"login-page pa-0",color:"background"},{default:qe(()=>[$(ml,{class:"fill-height",align:"center",justify:"center"},{default:qe(()=>[$(ef,{cols:"12",sm:"8",md:"6",lg:"4"},{default:qe(()=>[r[10]||(r[10]=Et("div",{class:"pt-16"},null,-1)),$(to,{class:"auth-card-border pa-6"},{default:qe(()=>[$(pl,{class:"d-flex justify-center"},{default:qe(()=>[$(Jn,{size:"80",class:"rounded avatar-square"},{default:qe(()=>[$(_i,{src:"/pato-de-goma.png",alt:"Duck logo","aspect-ratio":"1",class:"w-100 h-100"})]),_:1})]),_:1}),$(yo,null,{default:qe(()=>[r[9]||(r[9]=Et("h2",{class:"text-h5 font-weight-bold text-center mb-6"}," Welcome Back! ",-1)),$(yl,{onSubmit:Pu(M,["prevent"])},{default:qe(()=>[Et("div",KA,[r[3]||(r[3]=Et("label",{class:"input-label"},"Email",-1)),$(xi,{modelValue:t.value,"onUpdate:modelValue":r[0]||(r[0]=A=>t.value=A),type:"email",class:"mb-4"},null,8,["modelValue"])]),Et("div",QA,[r[4]||(r[4]=Et("label",{class:"input-label"},"Password",-1)),$(xi,{modelValue:n.value,"onUpdate:modelValue":r[1]||(r[1]=A=>n.value=A),type:"password",class:"mb-4"},null,8,["modelValue"])]),Et("div",qA,[$(w,{to:"/forgot-password"},{default:qe(()=>r[5]||(r[5]=[kt("Forgot password?")])),_:1,__:[5]})]),$(Zn,{type:"submit",block:"",large:"",color:"yellow lighten-5",class:"mb-4"},{default:qe(()=>r[6]||(r[6]=[kt(" Log in ")])),_:1,__:[6]})]),_:1}),Et("div",eO,[r[8]||(r[8]=kt(" Dont have an account? ")),$(w,{to:"/signup"},{default:qe(()=>r[7]||(r[7]=[kt("Sign up")])),_:1,__:[7]})])]),_:1,__:[9]})]),_:1})]),_:1,__:[10]})]),_:1}),$(sf,{modelValue:i.value,"onUpdate:modelValue":r[2]||(r[2]=A=>i.value=A),color:b.value,timeout:"3000",top:""},{default:qe(()=>[kt(jn(u.value),1)]),_:1},8,["modelValue","color"])]),_:1})}}},nO=(e,t)=>{const n=e.__vccOpts||e;for(const[i,u]of t)n[i]=u;return n},iO=Ke({color:String,...$i(),...xt(),...ui(),...Qi(),...ua(),...mo(),...Wn(),...$t(),...on()},"VSheet"),rO=ft()({name:"VSheet",props:iO(),setup(e,t){let{slots:n}=t;const{themeClasses:i}=hn(e),{backgroundColorClasses:u,backgroundColorStyles:b}=Hi(()=>e.color),{borderClasses:I}=Ki(e),{dimensionStyles:y}=fi(e),{elevationClasses:M}=qi(e),{locationStyles:l}=vo(e),{positionClasses:r}=po(e),{roundedClasses:w}=Yn(e);return Ct(()=>$(e.tag,{class:["v-sheet",i.value,u.value,I.value,M.value,r.value,w.value,e.class],style:[b.value,y.value,l.value,e.style]},n)),{}}}),aO={};function oO(e,t){return ei(),Mi(fa,{fluid:"",class:"landing-container pa-0"},{default:qe(()=>[$(rO,{height:"100vh",color:"background",class:"d-flex flex-column align-center justify-center",elevation:"0"},{default:qe(()=>[t[4]||(t[4]=Et("div",{class:"text-center mb-8"},[Et("h1",{class:"title"},[kt("Quack"),Et("span",null,"App")]),Et("p",{class:"subtitle-1"}," Join our friendly flock! The perfect place for duck enthusiasts to connect and share. ")],-1)),$(to,null,{default:qe(()=>[$(yo,{class:"text-center"},{default:qe(()=>[t[2]||(t[2]=Et("h2",{class:"text-h5 font-weight-bold mb-6"},"Ready to Dive In?",-1)),$(Zn,{block:"",large:"",color:"yellow lighten-5",class:"mb-4",to:"/login"},{default:qe(()=>t[0]||(t[0]=[kt(" Log In ")])),_:1,__:[0]}),t[3]||(t[3]=Et("div",{class:"divider-text"},"OR",-1)),$(Zn,{block:"",large:"",color:"yellow lighten-5",class:"mt-4",to:"/signup"},{default:qe(()=>t[1]||(t[1]=[kt(" Sign Up ")])),_:1,__:[1]})]),_:1,__:[2,3]})]),_:1}),t[5]||(t[5]=Et("p",{class:"footer-text"}," By joining, you agree to our Duck Friendly Terms and Privacy Policy ",-1))]),_:1,__:[4,5]})]),_:1})}const sO=nO(aO,[["render",oO]]),lO={class:"input-group mb-4"},cO={class:"input-group mb-4"},uO={class:"input-group mb-4"},fO={class:"input-group mb-6"},hO={class:"text-center mt-4"},dO={__name:"signup",setup(e){const t=$e(""),n=$e(""),i=$e(""),u=$e(""),b=$e(null),I=$e(!1),y=$e(""),M=$e("success"),l=sa(),r=Ru(),w=[p=>!!p.trim()||"Full name is required"],A=[p=>!!p||"Email is required",p=>/^\S+@\S+\.\S+$/.test(p)||"E-mail must be valid"],D=[p=>!!p||"Password is required",p=>p.length>=6||"Password must be at least 6 characters"],O=[p=>!!p||"Please confirm password",p=>p===i.value||"Passwords do not match"];ht(i,()=>{u.value=""});async function N(){if(!(await b.value.validate()).valid){y.value="Please correct the errors before continuing.",M.value="error",I.value=!0;return}const a=t.value.trim().split(/\s+/),m=a.shift()||"",v=a.join(" ")||"";try{l.signup({firstName:m,lastName:v,email:n.value,password:i.value}),y.value="Account created successfully!",M.value="success",I.value=!0,setTimeout(()=>r.push("/feed"),1e3)}catch(o){y.value=o.message||"Signup failed",M.value="error",I.value=!0}}return(p,a)=>{const m=nl("router-link");return ei(),Mi(fa,{fluid:"",class:"signup-page pa-0",color:"background"},{default:qe(()=>[$(ml,{class:"fill-height",align:"center",justify:"center"},{default:qe(()=>[$(ef,{cols:"12",sm:"8",md:"6",lg:"4"},{default:qe(()=>[a[13]||(a[13]=Et("div",{class:"pt-16"},null,-1)),$(to,{class:"auth-card-border pa-6"},{default:qe(()=>[$(pl,{class:"d-flex justify-center"},{default:qe(()=>[$(Jn,{size:"80",class:"rounded avatar-square"},{default:qe(()=>[$(_i,{src:"/pato-de-goma.png",alt:"Duck logo","aspect-ratio":"1",class:"w-100 h-100"})]),_:1})]),_:1}),$(yo,null,{default:qe(()=>[a[12]||(a[12]=Et("h2",{class:"text-h5 font-weight-bold text-center mb-6"}," Join the Flock! ",-1)),$(yl,{ref_key:"formRef",ref:b,class:"custom-form",onSubmit:Pu(N,["prevent"])},{default:qe(()=>[Et("div",lO,[a[5]||(a[5]=Et("label",{class:"input-label"},"Full Name",-1)),$(xi,{modelValue:t.value,"onUpdate:modelValue":a[0]||(a[0]=v=>t.value=v),outlined:"",dense:"",required:"",rules:w,class:"custom-input",color:"primary","hide-details":"auto"},null,8,["modelValue"])]),Et("div",cO,[a[6]||(a[6]=Et("label",{class:"input-label"},"Email",-1)),$(xi,{modelValue:n.value,"onUpdate:modelValue":a[1]||(a[1]=v=>n.value=v),type:"email",outlined:"",density:"comfortable",rules:A,class:"custom-input",color:"primary","hide-details":"auto"},null,8,["modelValue"])]),Et("div",uO,[a[7]||(a[7]=Et("label",{class:"input-label"},"Password",-1)),$(xi,{modelValue:i.value,"onUpdate:modelValue":a[2]||(a[2]=v=>i.value=v),type:"password",outlined:"",dense:"",required:"",rules:D,class:"custom-input",color:"primary","hide-details":"auto"},null,8,["modelValue"])]),Et("div",fO,[a[8]||(a[8]=Et("label",{class:"input-label"},"Confirm Password",-1)),$(xi,{modelValue:u.value,"onUpdate:modelValue":a[3]||(a[3]=v=>u.value=v),type:"password",outlined:"",dense:"",required:"",rules:O,class:"custom-input",color:"primary","hide-details":"auto"},null,8,["modelValue"])]),$(Zn,{type:"submit",block:"",large:"",class:"custom-btn"},{default:qe(()=>a[9]||(a[9]=[kt(" Create Account ")])),_:1,__:[9]}),Et("div",hO,[a[11]||(a[11]=kt(" Already have an account? ")),$(m,{to:"/login"},{default:qe(()=>a[10]||(a[10]=[kt("Log in")])),_:1,__:[10]})])]),_:1},512)]),_:1,__:[12]})]),_:1}),$(sf,{modelValue:I.value,"onUpdate:modelValue":a[4]||(a[4]=v=>I.value=v),color:M.value,timeout:"3000",top:""},{default:qe(()=>[kt(jn(y.value),1)]),_:1},8,["modelValue","color"])]),_:1,__:[13]})]),_:1})]),_:1})}}},gO={class:"pa-8"},vO={__name:"feed",setup(e){return(t,n)=>(ei(),lm("div",gO,n[0]||(n[0]=[Et("h1",null,"Feed",-1)])))}},mO=Ke({fullscreen:Boolean,retainFocus:{type:Boolean,default:!0},scrollable:Boolean,...af({origin:"center center",scrollStrategy:"block",transition:{component:WE},zIndex:2400})},"VDialog"),pO=ft()({name:"VDialog",props:mO(),emits:{"update:modelValue":e=>!0,afterEnter:()=>!0,afterLeave:()=>!0},setup(e,t){let{emit:n,slots:i}=t;const u=yn(e,"modelValue"),{scopeId:b}=rf(),I=$e();function y(r){var D,O;const w=r.relatedTarget,A=r.target;if(w!==A&&((D=I.value)!=null&&D.contentEl)&&((O=I.value)!=null&&O.globalTop)&&![document,I.value.contentEl].includes(A)&&!I.value.contentEl.contains(A)){const N=Uu(I.value.contentEl);if(!N.length)return;const p=N[0],a=N[N.length-1];w===p?a.focus():p.focus()}}Pn(()=>{document.removeEventListener("focusin",y)}),Vt&&ht(()=>u.value&&e.retainFocus,r=>{r?document.addEventListener("focusin",y):document.removeEventListener("focusin",y)},{immediate:!0});function M(){var r;n("afterEnter"),(e.scrim||e.retainFocus)&&((r=I.value)!=null&&r.contentEl)&&!I.value.contentEl.contains(document.activeElement)&&I.value.contentEl.focus({preventScroll:!0})}function l(){n("afterLeave")}return ht(u,async r=>{var w;r||(await bn(),(w=I.value.activatorEl)==null||w.focus({preventScroll:!0}))}),Ct(()=>{const r=Us.filterProps(e),w=It({"aria-haspopup":"dialog"},e.activatorProps),A=It({tabindex:-1},e.contentProps);return $(Us,It({ref:I,class:["v-dialog",{"v-dialog--fullscreen":e.fullscreen,"v-dialog--scrollable":e.scrollable},e.class],style:e.style},r,{modelValue:u.value,"onUpdate:modelValue":D=>u.value=D,"aria-modal":"true",activatorProps:w,contentProps:A,height:e.fullscreen?void 0:e.height,width:e.fullscreen?void 0:e.width,maxHeight:e.fullscreen?void 0:e.maxHeight,maxWidth:e.fullscreen?void 0:e.maxWidth,role:"dialog",onAfterEnter:M,onAfterLeave:l},b),{activator:i.activator,default:function(){for(var D=arguments.length,O=new Array(D),N=0;N<D;N++)O[N]=arguments[N];return $(nn,{root:"VDialog"},{default:()=>{var p;return[(p=i.default)==null?void 0:p.call(i,...O)]}})}})}),bo({},I)}}),qc=Symbol.for("vuetify:list");function iy(){const e=Ot(qc,{hasPrepend:dt(!1),updateHasPrepend:()=>null}),t={hasPrepend:dt(!1),updateHasPrepend:n=>{n&&(t.hasPrepend.value=n)}};return pn(qc,t),e}function ry(){return Ot(qc,null)}const ff=e=>{const t={activate:n=>{let{id:i,value:u,activated:b}=n;return i=ct(i),e&&!u&&b.size===1&&b.has(i)||(u?b.add(i):b.delete(i)),b},in:(n,i,u)=>{let b=new Set;if(n!=null)for(const I of zi(n))b=t.activate({id:I,value:!0,activated:new Set(b),children:i,parents:u});return b},out:n=>Array.from(n)};return t},ay=e=>{const t=ff(e);return{activate:i=>{let{activated:u,id:b,...I}=i;b=ct(b);const y=u.has(b)?new Set([b]):new Set;return t.activate({...I,id:b,activated:y})},in:(i,u,b)=>{let I=new Set;if(i!=null){const y=zi(i);y.length&&(I=t.in(y.slice(0,1),u,b))}return I},out:(i,u,b)=>t.out(i,u,b)}},yO=e=>{const t=ff(e);return{activate:i=>{let{id:u,activated:b,children:I,...y}=i;return u=ct(u),I.has(u)?b:t.activate({id:u,activated:b,children:I,...y})},in:t.in,out:t.out}},bO=e=>{const t=ay(e);return{activate:i=>{let{id:u,activated:b,children:I,...y}=i;return u=ct(u),I.has(u)?b:t.activate({id:u,activated:b,children:I,...y})},in:t.in,out:t.out}},SO={open:e=>{let{id:t,value:n,opened:i,parents:u}=e;if(n){const b=new Set;b.add(t);let I=u.get(t);for(;I!=null;)b.add(I),I=u.get(I);return b}else return i.delete(t),i},select:()=>null},oy={open:e=>{let{id:t,value:n,opened:i,parents:u}=e;if(n){let b=u.get(t);for(i.add(t);b!=null&&b!==t;)i.add(b),b=u.get(b);return i}else i.delete(t);return i},select:()=>null},CO={open:oy.open,select:e=>{let{id:t,value:n,opened:i,parents:u}=e;if(!n)return i;const b=[];let I=u.get(t);for(;I!=null;)b.push(I),I=u.get(I);return new Set(b)}},hf=e=>{const t={select:n=>{let{id:i,value:u,selected:b}=n;if(i=ct(i),e&&!u){const I=Array.from(b.entries()).reduce((y,M)=>{let[l,r]=M;return r==="on"&&y.push(l),y},[]);if(I.length===1&&I[0]===i)return b}return b.set(i,u?"on":"off"),b},in:(n,i,u)=>{const b=new Map;for(const I of n||[])t.select({id:I,value:!0,selected:b,children:i,parents:u});return b},out:n=>{const i=[];for(const[u,b]of n.entries())b==="on"&&i.push(u);return i}};return t},sy=e=>{const t=hf(e);return{select:i=>{let{selected:u,id:b,...I}=i;b=ct(b);const y=u.has(b)?new Map([[b,u.get(b)]]):new Map;return t.select({...I,id:b,selected:y})},in:(i,u,b)=>i!=null&&i.length?t.in(i.slice(0,1),u,b):new Map,out:(i,u,b)=>t.out(i,u,b)}},xO=e=>{const t=hf(e);return{select:i=>{let{id:u,selected:b,children:I,...y}=i;return u=ct(u),I.has(u)?b:t.select({id:u,selected:b,children:I,...y})},in:t.in,out:t.out}},IO=e=>{const t=sy(e);return{select:i=>{let{id:u,selected:b,children:I,...y}=i;return u=ct(u),I.has(u)?b:t.select({id:u,selected:b,children:I,...y})},in:t.in,out:t.out}},ly=e=>{const t={select:n=>{let{id:i,value:u,selected:b,children:I,parents:y}=n;i=ct(i);const M=new Map(b),l=[i];for(;l.length;){const w=l.shift();b.set(ct(w),u?"on":"off"),I.has(w)&&l.push(...I.get(w))}let r=ct(y.get(i));for(;r;){const w=I.get(r),A=w.every(O=>b.get(ct(O))==="on"),D=w.every(O=>!b.has(ct(O))||b.get(ct(O))==="off");b.set(r,A?"on":D?"off":"indeterminate"),r=ct(y.get(r))}return e&&!u&&Array.from(b.entries()).reduce((A,D)=>{let[O,N]=D;return N==="on"&&A.push(O),A},[]).length===0?M:b},in:(n,i,u)=>{let b=new Map;for(const I of n||[])b=t.select({id:I,value:!0,selected:b,children:i,parents:u});return b},out:(n,i)=>{const u=[];for(const[b,I]of n.entries())I==="on"&&!i.has(b)&&u.push(b);return u}};return t},_O=e=>{const t=ly(e);return{select:t.select,in:t.in,out:(i,u,b)=>{const I=[];for(const[y,M]of i.entries())if(M==="on"){if(b.has(y)){const l=b.get(y);if(i.get(l)==="on")continue}I.push(y)}return I}}},no=Symbol.for("vuetify:nested"),cy={id:dt(),root:{register:()=>null,unregister:()=>null,parents:$e(new Map),children:$e(new Map),open:()=>null,openOnSelect:()=>null,activate:()=>null,select:()=>null,activatable:$e(!1),selectable:$e(!1),opened:$e(new Set),activated:$e(new Set),selected:$e(new Map),selectedValues:$e([]),getPath:()=>[]}},MO=Ke({activatable:Boolean,selectable:Boolean,activeStrategy:[String,Function,Object],selectStrategy:[String,Function,Object],openStrategy:[String,Object],opened:null,activated:null,selected:null,mandatory:Boolean},"nested"),EO=e=>{let t=!1;const n=$e(new Map),i=$e(new Map),u=yn(e,"opened",e.opened,O=>new Set(O),O=>[...O.values()]),b=Ae(()=>{if(typeof e.activeStrategy=="object")return e.activeStrategy;if(typeof e.activeStrategy=="function")return e.activeStrategy(e.mandatory);switch(e.activeStrategy){case"leaf":return yO(e.mandatory);case"single-leaf":return bO(e.mandatory);case"independent":return ff(e.mandatory);case"single-independent":default:return ay(e.mandatory)}}),I=Ae(()=>{if(typeof e.selectStrategy=="object")return e.selectStrategy;if(typeof e.selectStrategy=="function")return e.selectStrategy(e.mandatory);switch(e.selectStrategy){case"single-leaf":return IO(e.mandatory);case"leaf":return xO(e.mandatory);case"independent":return hf(e.mandatory);case"single-independent":return sy(e.mandatory);case"trunk":return _O(e.mandatory);case"classic":default:return ly(e.mandatory)}}),y=Ae(()=>{if(typeof e.openStrategy=="object")return e.openStrategy;switch(e.openStrategy){case"list":return CO;case"single":return SO;case"multiple":default:return oy}}),M=yn(e,"activated",e.activated,O=>b.value.in(O,n.value,i.value),O=>b.value.out(O,n.value,i.value)),l=yn(e,"selected",e.selected,O=>I.value.in(O,n.value,i.value),O=>I.value.out(O,n.value,i.value));Pn(()=>{t=!0});function r(O){const N=[];let p=O;for(;p!=null;)N.unshift(p),p=i.value.get(p);return N}const w=cn("nested"),A=new Set,D={id:dt(),root:{opened:u,activatable:Ze(()=>e.activatable),selectable:Ze(()=>e.selectable),activated:M,selected:l,selectedValues:Ae(()=>{const O=[];for(const[N,p]of l.value.entries())p==="on"&&O.push(N);return O}),register:(O,N,p)=>{if(A.has(O)){r(O).map(String).join(" -> "),r(N).concat(O).map(String).join(" -> ");return}else A.add(O);N&&O!==N&&i.value.set(O,N),p&&n.value.set(O,[]),N!=null&&n.value.set(N,[...n.value.get(N)||[],O])},unregister:O=>{if(t)return;A.delete(O),n.value.delete(O);const N=i.value.get(O);if(N){const p=n.value.get(N)??[];n.value.set(N,p.filter(a=>a!==O))}i.value.delete(O)},open:(O,N,p)=>{w.emit("click:open",{id:O,value:N,path:r(O),event:p});const a=y.value.open({id:O,value:N,opened:new Set(u.value),children:n.value,parents:i.value,event:p});a&&(u.value=a)},openOnSelect:(O,N,p)=>{const a=y.value.select({id:O,value:N,selected:new Map(l.value),opened:new Set(u.value),children:n.value,parents:i.value,event:p});a&&(u.value=a)},select:(O,N,p)=>{w.emit("click:select",{id:O,value:N,path:r(O),event:p});const a=I.value.select({id:O,value:N,selected:new Map(l.value),children:n.value,parents:i.value,event:p});a&&(l.value=a),D.root.openOnSelect(O,N,p)},activate:(O,N,p)=>{if(!e.activatable)return D.root.select(O,!0,p);w.emit("click:activate",{id:O,value:N,path:r(O),event:p});const a=b.value.activate({id:O,value:N,activated:new Set(M.value),children:n.value,parents:i.value,event:p});if(a.size!==M.value.size)M.value=a;else{for(const m of a)if(!M.value.has(m)){M.value=a;return}for(const m of M.value)if(!a.has(m)){M.value=a;return}}},children:n,parents:i,getPath:r}};return pn(no,D),D.root},uy=(e,t)=>{const n=Ot(no,cy),i=Symbol("nested item"),u=Ae(()=>Yi(e)??i),b={...n,id:u,open:(I,y)=>n.root.open(u.value,I,y),openOnSelect:(I,y)=>n.root.openOnSelect(u.value,I,y),isOpen:Ae(()=>n.root.opened.value.has(u.value)),parent:Ae(()=>n.root.parents.value.get(u.value)),activate:(I,y)=>n.root.activate(u.value,I,y),isActivated:Ae(()=>n.root.activated.value.has(ct(u.value))),select:(I,y)=>n.root.select(u.value,I,y),isSelected:Ae(()=>n.root.selected.value.get(ct(u.value))==="on"),isIndeterminate:Ae(()=>n.root.selected.value.get(ct(u.value))==="indeterminate"),isLeaf:Ae(()=>!n.root.children.value.get(u.value)),isGroupActivator:n.isGroupActivator};return lo(()=>{!n.isGroupActivator&&n.root.register(u.value,n.id.value,t)}),Pn(()=>{!n.isGroupActivator&&n.root.unregister(u.value)}),t&&pn(no,b),b},wO=()=>{const e=Ot(no,cy);pn(no,{...e,isGroupActivator:!0})},TO=ca({name:"VListGroupActivator",setup(e,t){let{slots:n}=t;return wO(),()=>{var i;return(i=n.default)==null?void 0:i.call(n)}}}),AO=Ke({activeColor:String,baseColor:String,color:String,collapseIcon:{type:Ht,default:"$collapse"},expandIcon:{type:Ht,default:"$expand"},prependIcon:Ht,appendIcon:Ht,fluid:Boolean,subgroup:Boolean,title:String,value:null,...xt(),...$t()},"VListGroup"),Ng=ft()({name:"VListGroup",props:AO(),setup(e,t){let{slots:n}=t;const{isOpen:i,open:u,id:b}=uy(()=>e.value,!0),I=Ae(()=>`v-list-group--id-${String(b.value)}`),y=ry(),{isBooted:M}=Ju();function l(D){var O;D.stopPropagation(),!["INPUT","TEXTAREA"].includes((O=D.target)==null?void 0:O.tagName)&&u(!i.value,D)}const r=Ae(()=>({onClick:l,class:"v-list-group__header",id:I.value})),w=Ae(()=>i.value?e.collapseIcon:e.expandIcon),A=Ae(()=>({VListItem:{active:i.value,activeColor:e.activeColor,baseColor:e.baseColor,color:e.color,prependIcon:e.prependIcon||e.subgroup&&w.value,appendIcon:e.appendIcon||!e.subgroup&&w.value,title:e.title,value:e.value}}));return Ct(()=>$(e.tag,{class:["v-list-group",{"v-list-group--prepend":y==null?void 0:y.hasPrepend.value,"v-list-group--fluid":e.fluid,"v-list-group--subgroup":e.subgroup,"v-list-group--open":i.value},e.class],style:e.style},{default:()=>[n.activator&&$(nn,{defaults:A.value},{default:()=>[$(TO,null,{default:()=>[n.activator({props:r.value,isOpen:i.value})]})]}),$(gr,{transition:{component:ip},disabled:!M.value},{default:()=>{var D;return[ti($("div",{class:"v-list-group__items",role:"group","aria-labelledby":I.value},[(D=n.default)==null?void 0:D.call(n)]),[[oa,i.value]])]}})]})),{isOpen:i}}}),OO=Ke({opacity:[Number,String],...xt(),...$t()},"VListItemSubtitle"),bs=ft()({name:"VListItemSubtitle",props:OO(),setup(e,t){let{slots:n}=t;return Ct(()=>$(e.tag,{class:["v-list-item-subtitle",e.class],style:[{"--v-list-item-subtitle-opacity":e.opacity},e.style]},n)),{}}}),Ss=Gu("v-list-item-title"),DO=Ke({active:{type:Boolean,default:void 0},activeClass:String,activeColor:String,appendAvatar:String,appendIcon:Ht,baseColor:String,disabled:Boolean,lines:[Boolean,String],link:{type:Boolean,default:void 0},nav:Boolean,prependAvatar:String,prependIcon:Ht,ripple:{type:[Boolean,Object],default:!0},slim:Boolean,subtitle:{type:[String,Number,Boolean],default:void 0},title:{type:[String,Number,Boolean],default:void 0},value:null,onClick:Fn(),onClickOnce:Fn(),...$i(),...xt(),...Oi(),...ui(),...Qi(),...Wn(),...dl(),...$t(),...on(),...Di({variant:"text"})},"VListItem"),Ha=ft()({name:"VListItem",directives:{Ripple:gl},props:DO(),emits:{click:e=>!0},setup(e,t){let{attrs:n,slots:i,emit:u}=t;const b=hl(e,n),I=Ae(()=>e.value===void 0?b.href.value:e.value),{activate:y,isActivated:M,select:l,isOpen:r,isSelected:w,isIndeterminate:A,isGroupActivator:D,root:O,parent:N,openOnSelect:p,id:a}=uy(I,!1),m=ry(),v=Ae(()=>{var Z;return e.active!==!1&&(e.active||((Z=b.isActive)==null?void 0:Z.value)||(O.activatable.value?M.value:w.value))}),o=Ze(()=>e.link!==!1&&b.isLink.value),c=Ae(()=>!!m&&(O.selectable.value||O.activatable.value||e.value!=null)),s=Ae(()=>!e.disabled&&e.link!==!1&&(e.link||b.isClickable.value||c.value)),g=Ze(()=>e.rounded||e.nav),x=Ze(()=>e.color??e.activeColor),h=Ze(()=>({color:v.value?x.value??e.baseColor:e.baseColor,variant:e.variant}));ht(()=>{var Z;return(Z=b.isActive)==null?void 0:Z.value},Z=>{Z&&E()}),lo(()=>{var Z;(Z=b.isActive)!=null&&Z.value&&E()});function E(){N.value!=null&&O.open(N.value,!0),p(!0)}const{themeClasses:T}=hn(e),{borderClasses:k}=Ki(e),{colorClasses:L,colorStyles:F,variantClasses:U}=Hr(h),{densityClasses:G}=er(e),{dimensionStyles:Y}=fi(e),{elevationClasses:K}=qi(e),{roundedClasses:he}=Yn(g),oe=Ze(()=>e.lines?`v-list-item--${e.lines}-line`:void 0),ve=Ae(()=>({isActive:v.value,select:l,isOpen:r.value,isSelected:w.value,isIndeterminate:A.value}));function ee(Z){var Be,we;u("click",Z),!["INPUT","TEXTAREA"].includes((Be=Z.target)==null?void 0:Be.tagName)&&s.value&&((we=b.navigate)==null||we.call(b,Z),!D&&(O.activatable.value?y(!M.value,Z):(O.selectable.value||e.value!=null)&&l(!w.value,Z)))}function xe(Z){const Be=Z.target;["INPUT","TEXTAREA"].includes(Be.tagName)||(Z.key==="Enter"||Z.key===" ")&&(Z.preventDefault(),Z.target.dispatchEvent(new MouseEvent("click",Z)))}return Ct(()=>{const Z=o.value?"a":e.tag,Be=i.title||e.title!=null,we=i.subtitle||e.subtitle!=null,ge=!!(e.appendAvatar||e.appendIcon),te=!!(ge||i.append),ae=!!(e.prependAvatar||e.prependIcon),ne=!!(ae||i.prepend);return m==null||m.updateHasPrepend(ne),e.activeColor&&vE("active-color",["color","base-color"]),ti($(Z,It({class:["v-list-item",{"v-list-item--active":v.value,"v-list-item--disabled":e.disabled,"v-list-item--link":s.value,"v-list-item--nav":e.nav,"v-list-item--prepend":!ne&&(m==null?void 0:m.hasPrepend.value),"v-list-item--slim":e.slim,[`${e.activeClass}`]:e.activeClass&&v.value},T.value,k.value,L.value,G.value,K.value,oe.value,he.value,U.value,e.class],style:[F.value,Y.value,e.style],tabindex:s.value?m?-2:0:void 0,"aria-selected":c.value?O.activatable.value?M.value:O.selectable.value?w.value:v.value:void 0,onClick:ee,onKeydown:s.value&&!o.value&&xe},b.linkProps),{default:()=>{var re;return[zr(s.value||v.value,"v-list-item"),ne&&$("div",{key:"prepend",class:"v-list-item__prepend"},[i.prepend?$(nn,{key:"prepend-defaults",disabled:!ae,defaults:{VAvatar:{density:e.density,image:e.prependAvatar},VIcon:{density:e.density,icon:e.prependIcon},VListItemAction:{start:!0}}},{default:()=>{var V;return[(V=i.prepend)==null?void 0:V.call(i,ve.value)]}}):$(Ut,null,[e.prependAvatar&&$(Jn,{key:"prepend-avatar",density:e.density,image:e.prependAvatar},null),e.prependIcon&&$(mn,{key:"prepend-icon",density:e.density,icon:e.prependIcon},null)]),$("div",{class:"v-list-item__spacer"},null)]),$("div",{class:"v-list-item__content","data-no-activator":""},[Be&&$(Ss,{key:"title"},{default:()=>{var V;return[((V=i.title)==null?void 0:V.call(i,{title:e.title}))??jn(e.title)]}}),we&&$(bs,{key:"subtitle"},{default:()=>{var V;return[((V=i.subtitle)==null?void 0:V.call(i,{subtitle:e.subtitle}))??jn(e.subtitle)]}}),(re=i.default)==null?void 0:re.call(i,ve.value)]),te&&$("div",{key:"append",class:"v-list-item__append"},[i.append?$(nn,{key:"append-defaults",disabled:!ge,defaults:{VAvatar:{density:e.density,image:e.appendAvatar},VIcon:{density:e.density,icon:e.appendIcon},VListItemAction:{end:!0}}},{default:()=>{var V;return[(V=i.append)==null?void 0:V.call(i,ve.value)]}}):$(Ut,null,[e.appendIcon&&$(mn,{key:"append-icon",density:e.density,icon:e.appendIcon},null),e.appendAvatar&&$(Jn,{key:"append-avatar",density:e.density,image:e.appendAvatar},null)]),$("div",{class:"v-list-item__spacer"},null)])]}}),[[aa("ripple"),s.value&&e.ripple]])}),{activate:y,isActivated:M,isGroupActivator:D,isSelected:w,list:m,select:l,root:O,id:a,link:b}}}),kO=Ke({color:String,inset:Boolean,sticky:Boolean,title:String,...xt(),...$t()},"VListSubheader"),PO=ft()({name:"VListSubheader",props:kO(),setup(e,t){let{slots:n}=t;const{textColorClasses:i,textColorStyles:u}=Gi(()=>e.color);return Ct(()=>{const b=!!(n.default||e.title);return $(e.tag,{class:["v-list-subheader",{"v-list-subheader--inset":e.inset,"v-list-subheader--sticky":e.sticky},i.value,e.class],style:[{textColorStyles:u},e.style]},{default:()=>{var I;return[b&&$("div",{class:"v-list-subheader__text"},[((I=n.default)==null?void 0:I.call(n))??e.title])]}})}),{}}}),LO=Ke({color:String,inset:Boolean,length:[Number,String],opacity:[Number,String],thickness:[Number,String],vertical:Boolean,...xt(),...on()},"VDivider"),NO=ft()({name:"VDivider",props:LO(),setup(e,t){let{attrs:n,slots:i}=t;const{themeClasses:u}=hn(e),{textColorClasses:b,textColorStyles:I}=Gi(()=>e.color),y=Ae(()=>{const M={};return e.length&&(M[e.vertical?"height":"width"]=pt(e.length)),e.thickness&&(M[e.vertical?"borderRightWidth":"borderTopWidth"]=pt(e.thickness)),M});return Ct(()=>{const M=$("hr",{class:[{"v-divider":!0,"v-divider--inset":e.inset,"v-divider--vertical":e.vertical},u.value,b.value,e.class],style:[y.value,I.value,{"--v-border-opacity":e.opacity},e.style],"aria-orientation":!n.role||n.role==="separator"?e.vertical?"vertical":"horizontal":void 0,role:`${n.role||"separator"}`},null);return i.default?$("div",{class:["v-divider__wrapper",{"v-divider__wrapper--vertical":e.vertical,"v-divider__wrapper--inset":e.inset}]},[M,$("div",{class:"v-divider__content"},[i.default()]),M]):M}),{}}}),RO=Ke({items:Array,returnObject:Boolean},"VListChildren"),fy=ft()({name:"VListChildren",props:RO(),setup(e,t){let{slots:n}=t;return iy(),()=>{var i,u;return((i=n.default)==null?void 0:i.call(n))??((u=e.items)==null?void 0:u.map(b=>{var A,D;let{children:I,props:y,type:M,raw:l}=b;if(M==="divider")return((A=n.divider)==null?void 0:A.call(n,{props:y}))??$(NO,y,null);if(M==="subheader")return((D=n.subheader)==null?void 0:D.call(n,{props:y}))??$(PO,y,null);const r={subtitle:n.subtitle?O=>{var N;return(N=n.subtitle)==null?void 0:N.call(n,{...O,item:l})}:void 0,prepend:n.prepend?O=>{var N;return(N=n.prepend)==null?void 0:N.call(n,{...O,item:l})}:void 0,append:n.append?O=>{var N;return(N=n.append)==null?void 0:N.call(n,{...O,item:l})}:void 0,title:n.title?O=>{var N;return(N=n.title)==null?void 0:N.call(n,{...O,item:l})}:void 0},w=Ng.filterProps(y);return I?$(Ng,It({value:y==null?void 0:y.value},w),{activator:O=>{let{props:N}=O;const p={...y,...N,value:e.returnObject?l:y.value};return n.header?n.header({props:p}):$(Ha,p,r)},default:()=>$(fy,{items:I,returnObject:e.returnObject},n)}):n.item?n.item({props:y}):$(Ha,It(y,{value:e.returnObject?l:y.value}),r)}))}}}),jO=Ke({items:{type:Array,default:()=>[]},itemTitle:{type:[String,Array,Function],default:"title"},itemValue:{type:[String,Array,Function],default:"value"},itemChildren:{type:[Boolean,String,Array,Function],default:"children"},itemProps:{type:[Boolean,String,Array,Function],default:"props"},returnObject:Boolean,valueComparator:Function},"list-items");function FO(e,t){const n=wa(t,e.itemType,"item"),i=nE(t)?t:wa(t,e.itemTitle),u=wa(t,e.itemValue,void 0),b=wa(t,e.itemChildren),I=e.itemProps===!0?Bu(t,["children"]):wa(t,e.itemProps),y={title:i,value:u,...I};return{type:n,title:y.title,value:y.value,props:y,children:n==="item"&&b?hy(e,b):void 0,raw:t}}function hy(e,t){const n=[];for(const i of t)n.push(FO(e,i));return n}function BO(e){return{items:Ae(()=>hy(e,e.items))}}const zO=Ke({baseColor:String,activeColor:String,activeClass:String,bgColor:String,disabled:Boolean,expandIcon:Ht,collapseIcon:Ht,lines:{type:[Boolean,String],default:"one"},slim:Boolean,nav:Boolean,"onClick:open":Fn(),"onClick:select":Fn(),"onUpdate:opened":Fn(),...MO({selectStrategy:"single-leaf",openStrategy:"list"}),...$i(),...xt(),...Oi(),...ui(),...Qi(),itemType:{type:String,default:"type"},...jO(),...Wn(),...$t(),...on(),...Di({variant:"text"})},"VList"),HO=ft()({name:"VList",props:zO(),emits:{"update:selected":e=>!0,"update:activated":e=>!0,"update:opened":e=>!0,"click:open":e=>!0,"click:activate":e=>!0,"click:select":e=>!0},setup(e,t){let{slots:n}=t;const{items:i}=BO(e),{themeClasses:u}=hn(e),{backgroundColorClasses:b,backgroundColorStyles:I}=Hi(()=>e.bgColor),{borderClasses:y}=Ki(e),{densityClasses:M}=er(e),{dimensionStyles:l}=fi(e),{elevationClasses:r}=qi(e),{roundedClasses:w}=Yn(e),{children:A,open:D,parents:O,select:N,getPath:p}=EO(e),a=Ze(()=>e.lines?`v-list--${e.lines}-line`:void 0),m=Ze(()=>e.activeColor),v=Ze(()=>e.baseColor),o=Ze(()=>e.color);iy(),la({VListGroup:{activeColor:m,baseColor:v,color:o,expandIcon:Ze(()=>e.expandIcon),collapseIcon:Ze(()=>e.collapseIcon)},VListItem:{activeClass:Ze(()=>e.activeClass),activeColor:m,baseColor:v,color:o,density:Ze(()=>e.density),disabled:Ze(()=>e.disabled),lines:Ze(()=>e.lines),nav:Ze(()=>e.nav),slim:Ze(()=>e.slim),variant:Ze(()=>e.variant)}});const c=dt(!1),s=$e();function g(L){c.value=!0}function x(L){c.value=!1}function h(L){var F;!c.value&&!(L.relatedTarget&&((F=s.value)!=null&&F.contains(L.relatedTarget)))&&k()}function E(L){const F=L.target;if(!(!s.value||["INPUT","TEXTAREA"].includes(F.tagName))){if(L.key==="ArrowDown")k("next");else if(L.key==="ArrowUp")k("prev");else if(L.key==="Home")k("first");else if(L.key==="End")k("last");else return;L.preventDefault()}}function T(L){c.value=!0}function k(L){if(s.value)return Vm(s.value,L)}return Ct(()=>$(e.tag,{ref:s,class:["v-list",{"v-list--disabled":e.disabled,"v-list--nav":e.nav,"v-list--slim":e.slim},u.value,b.value,y.value,M.value,r.value,a.value,w.value,e.class],style:[I.value,l.value,e.style],tabindex:e.disabled?-1:0,role:"listbox","aria-activedescendant":void 0,onFocusin:g,onFocusout:x,onFocus:h,onKeydown:E,onMousedown:T},{default:()=>[$(fy,{items:i.value,returnObject:e.returnObject},n)]})),{open:D,select:N,focus:k,children:A,parents:O,getPath:p}}}),UO={class:"text-center mb-4"},WO={__name:"profile",setup(e){const t=Ru(),n=sa(),i=Ae(()=>n.fullName),u=Ae(()=>n.user.email),b=Ae(()=>n.memberSince),I=$e(!1),y=$e(null),M=$e(""),l=$e(""),r=$e(""),w=$e(""),A=$e(!1),D=$e(""),O=$e("success"),N=[v=>!!v||"Email is required",v=>/^\S+@\S+\.\S+$/.test(v)||"Must be a valid email"],p=[v=>!v||v.length>=6||"Password must be at least 6 characters"];ht(I,v=>{v&&(M.value=n.user.firstName,l.value=n.user.lastName,r.value=n.user.email,w.value="")});function a(){t.push("/login")}function m(){y.value.validate()&&(n.updateUser({firstName:M.value,lastName:l.value,email:r.value,...w.value?{password:w.value}:{}}),D.value="Profile updated",O.value="success",A.value=!0,I.value=!1)}return(v,o)=>{const c=nl("router-link");return ei(),Mi(fa,{fluid:"",class:"profile-page pa-0"},{default:qe(()=>[$(ml,{class:"fill-height",align:"center",justify:"center"},{default:qe(()=>[$(ef,{cols:"12",sm:"8",md:"6",lg:"5"},{default:qe(()=>[o[15]||(o[15]=Et("div",{class:"pt-16"},null,-1)),$(to,{class:"pa-6",elevation:"2",shaped:""},{default:qe(()=>[Et("div",UO,[$(Jn,{size:"80",class:"rounded avatar-square"},{default:qe(()=>[$(_i,{src:"/pato.png",alt:"Duck logo","aspect-ratio":"1",class:"w-100 h-100"})]),_:1})]),o[14]||(o[14]=Et("h2",{class:"text-h5 font-weight-bold text-center mb-6"}," My Profile ",-1)),$(HO,{dense:""},{default:qe(()=>[$(Ha,null,{default:qe(()=>[$(Ss,{class:"subtitle-2"},{default:qe(()=>o[8]||(o[8]=[kt("Name")])),_:1,__:[8]}),$(bs,null,{default:qe(()=>[kt(jn(i.value),1)]),_:1})]),_:1}),$(Ha,null,{default:qe(()=>[$(Ss,{class:"subtitle-2"},{default:qe(()=>o[9]||(o[9]=[kt("Email")])),_:1,__:[9]}),$(bs,null,{default:qe(()=>[kt(jn(u.value),1)]),_:1})]),_:1}),$(Ha,null,{default:qe(()=>[$(Ss,{class:"subtitle-2"},{default:qe(()=>o[10]||(o[10]=[kt("Member Since")])),_:1,__:[10]}),$(bs,null,{default:qe(()=>[kt(jn(b.value),1)]),_:1})]),_:1})]),_:1}),$(Gc,{class:"flex-column"},{default:qe(()=>[$(Zn,{block:"",large:"",color:"yellow lighten-5",class:"mb-4",onClick:o[0]||(o[0]=s=>I.value=!0)},{default:qe(()=>[$(Jn,{size:"20",class:"rounded avatar-square"},{default:qe(()=>[$(_i,{src:"/editar-texto.png","aspect-ratio":"1",class:"w-100 h-100",alt:"QuackApp Logo"})]),_:1}),o[11]||(o[11]=kt(" Edit Profile "))]),_:1,__:[11]}),$(Zn,{block:"",large:"",color:"red lighten-5",class:"mb-4",onClick:a},{default:qe(()=>[$(Jn,{size:"20",class:"rounded avatar-square"},{default:qe(()=>[$(_i,{src:"/cerrar-sesion-alt.png","aspect-ratio":"1",class:"w-100 h-100",alt:"QuackApp Logo"})]),_:1}),o[12]||(o[12]=kt(" Sign Out "))]),_:1,__:[12]}),$(c,{to:"/feed",class:"mt-2 text-decoration-none"},{default:qe(()=>o[13]||(o[13]=[kt(" Return to Home ")])),_:1,__:[13]})]),_:1})]),_:1,__:[14]})]),_:1,__:[15]})]),_:1}),$(pO,{modelValue:I.value,"onUpdate:modelValue":o[6]||(o[6]=s=>I.value=s),"max-width":"800",persistent:""},{default:qe(()=>[$(to,{class:"pa-6",style:{width:"100%"}},{default:qe(()=>[$(pl,{class:"text-h5 mb-4 text-center justify-center"},{default:qe(()=>o[16]||(o[16]=[kt("Edit Profile")])),_:1,__:[16]}),$(yo,{class:"pa-4"},{default:qe(()=>[$(yl,{ref_key:"editForm",ref:y},{default:qe(()=>[$(xi,{class:"mb-4 text-base",modelValue:M.value,"onUpdate:modelValue":o[1]||(o[1]=s=>M.value=s),label:"First Name",outlined:"",dense:"",required:"",rules:[s=>!!s||"First name is required"]},null,8,["modelValue","rules"]),$(xi,{class:"mb-4 text-base",modelValue:l.value,"onUpdate:modelValue":o[2]||(o[2]=s=>l.value=s),label:"Last Name",outlined:"",dense:"",required:"",rules:[s=>!!s||"Last name is required"]},null,8,["modelValue","rules"]),$(xi,{class:"mb-4 text-base",modelValue:r.value,"onUpdate:modelValue":o[3]||(o[3]=s=>r.value=s),label:"Email",type:"email",outlined:"",dense:"",required:"",rules:N},null,8,["modelValue"]),$(xi,{class:"mb-4 text-base",modelValue:w.value,"onUpdate:modelValue":o[4]||(o[4]=s=>w.value=s),label:"New Password",type:"password",outlined:"",dense:"",rules:p},null,8,["modelValue"])]),_:1},512)]),_:1}),$(Gc,{class:"justify-center"},{default:qe(()=>[$(Zn,{class:"custom-btn me-2 px-6 py-3",onClick:o[5]||(o[5]=s=>I.value=!1)},{default:qe(()=>o[17]||(o[17]=[kt(" Cancel ")])),_:1,__:[17]}),$(Zn,{color:"primary",class:"custom-btn px-6 py-3",onClick:m},{default:qe(()=>o[18]||(o[18]=[kt(" Save ")])),_:1,__:[18]})]),_:1})]),_:1})]),_:1},8,["modelValue"]),$(sf,{modelValue:A.value,"onUpdate:modelValue":o[7]||(o[7]=s=>A.value=s),color:O.value,timeout:"3000",top:""},{default:qe(()=>[kt(jn(D.value),1)]),_:1},8,["modelValue","color"])]),_:1})}}};function YO(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var gc={exports:{}},vc={exports:{}};/*!
 * TOAST UI Color Picker
 * @version 2.2.8
 * @author NHN Cloud FE Development Team <dl_javascript@nhn.com>
 * @license MIT
 */var Rg;function VO(){return Rg||(Rg=1,function(e,t){(function(i,u){e.exports=u()})(window,function(){return function(n){var i={};function u(b){if(i[b])return i[b].exports;var I=i[b]={i:b,l:!1,exports:{}};return n[b].call(I.exports,I,I.exports,u),I.l=!0,I.exports}return u.m=n,u.c=i,u.d=function(b,I,y){u.o(b,I)||Object.defineProperty(b,I,{enumerable:!0,get:y})},u.r=function(b){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(b,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(b,"__esModule",{value:!0})},u.t=function(b,I){if(I&1&&(b=u(b)),I&8||I&4&&typeof b=="object"&&b&&b.__esModule)return b;var y=Object.create(null);if(u.r(y),Object.defineProperty(y,"default",{enumerable:!0,value:b}),I&2&&typeof b!="string")for(var M in b)u.d(y,M,(function(l){return b[l]}).bind(null,M));return y},u.n=function(b){var I=b&&b.__esModule?function(){return b.default}:function(){return b};return u.d(I,"a",I),I},u.o=function(b,I){return Object.prototype.hasOwnProperty.call(b,I)},u.p="dist",u(u.s=33)}([function(n,i,u){function b(I,y){var M=Object.prototype.hasOwnProperty,l,r,w,A;for(w=1,A=arguments.length;w<A;w+=1){l=arguments[w];for(r in l)M.call(l,r)&&(I[r]=l[r])}return I}n.exports=b},function(n,i,u){function b(I){return I instanceof Array}n.exports=b},function(n,i,u){var b=u(1),I=u(6),y=u(7);function M(l,r,w){b(l)?I(l,r,w):y(l,r,w)}n.exports=M},function(n,i,u){function b(I){return I===void 0}n.exports=b},function(n,i,u){var b=u(22),I=u(2),y=u(6),M=u(7),l=u(37),r=0,w={getLength:function(A){var D=0;return M(A,function(){D+=1}),D},map:function(A,D,O){var N=[];return I(A,function(){N.push(D.apply(O||null,arguments))}),N},filter:function(A,D,O){var N=[];return y(A,function(p){D.apply(O||null,arguments)&&N.push(p)}),N},generateId:function(){return r+=1,r},isOldBrowser:function(){return b.msie&&b.version<9}(),sendHostName:function(){l("color-picker","UA-129987462-1")}};n.exports=w},function(n,i,u){var b=u(1);function I(y,M,l){var r,w;if(l=l||0,!b(M))return-1;if(Array.prototype.indexOf)return Array.prototype.indexOf.call(M,y,l);for(w=M.length,r=l;l>=0&&r<w;r+=1)if(M[r]===y)return r;return-1}n.exports=I},function(n,i,u){function b(I,y,M){var l=0,r=I.length;for(M=M||null;l<r&&y.call(M,I[l],l,I)!==!1;l+=1);}n.exports=b},function(n,i,u){function b(I,y,M){var l;M=M||null;for(l in I)if(I.hasOwnProperty(l)&&y.call(M,I[l],l,I)===!1)break}n.exports=b},function(n,i,u){var b=u(39),I=u(13),y=u(41),M=u(3),l=u(9),r=u(19),w=u(4);function A(D,O){var N=w.generateId();M(O)&&(O=l.appendHTMLElement("div")),b(O,"tui-view-"+N),this.id=N,this.container=O,this.childs=new r(function(p){return p.id}),this.parent=null}A.prototype.addChild=function(D,O){O&&O.call(D,this),D.parent=this,this.childs.add(D)},A.prototype.removeChild=function(D,O){var N=y(D)?this.childs.items[D]:D;O&&O.call(N,this),this.childs.remove(N.id)},A.prototype.render=function(){this.childs.each(function(D){D.render()})},A.prototype.recursive=function(D,O){I(D)&&(O||D(this),this.childs.each(function(N){N.recursive(D)}))},A.prototype.resize=function(){for(var D=Array.prototype.slice.call(arguments),O=this.parent;O;)I(O._onResize)&&O._onResize.apply(O,D),O=O.parent},A.prototype._beforeDestroy=function(){},A.prototype._destroy=function(){this._beforeDestroy(),this.container.innerHTML="",this.id=this.parent=this.childs=this.container=null},A.prototype.destroy=function(D){this.childs&&(this.childs.each(function(O){O.destroy(!0),O._destroy()}),this.childs.clear()),!D&&this._destroy()},A.prototype.getViewBound=function(){var D=this.container.getBoundingClientRect();return{x:D.left,y:D.top,width:D.right-D.left,height:D.bottom-D.top}},n.exports=A},function(n,i,u){var b={appendHTMLElement:function(I,y,M){var l=document.createElement(I);return l.className=M||"",y?y.appendChild(l):document.body.appendChild(l),l}};n.exports=b},function(n,i,u){var b=u(0),I=u(20),y=u(11),M=u(21),l=u(1),r=u(13),w=u(2),A=/\s+/g;function D(){this.events=null,this.contexts=null}D.mixin=function(O){b(O.prototype,D.prototype)},D.prototype._getHandlerItem=function(O,N){var p={handler:O};return N&&(p.context=N),p},D.prototype._safeEvent=function(O){var N=this.events,p;return N||(N=this.events={}),O&&(p=N[O],p||(p=[],N[O]=p),N=p),N},D.prototype._safeContext=function(){var O=this.contexts;return O||(O=this.contexts=[]),O},D.prototype._indexOfContext=function(O){for(var N=this._safeContext(),p=0;N[p];){if(O===N[p][0])return p;p+=1}return-1},D.prototype._memorizeContext=function(O){var N,p;I(O)&&(N=this._safeContext(),p=this._indexOfContext(O),p>-1?N[p][1]+=1:N.push([O,1]))},D.prototype._forgetContext=function(O){var N,p;I(O)&&(N=this._safeContext(),p=this._indexOfContext(O),p>-1&&(N[p][1]-=1,N[p][1]<=0&&N.splice(p,1)))},D.prototype._bindEvent=function(O,N,p){var a=this._safeEvent(O);this._memorizeContext(p),a.push(this._getHandlerItem(N,p))},D.prototype.on=function(O,N,p){var a=this;y(O)?(O=O.split(A),w(O,function(m){a._bindEvent(m,N,p)})):M(O)&&(p=N,w(O,function(m,v){a.on(v,m,p)}))},D.prototype.once=function(O,N,p){var a=this;if(M(O)){p=N,w(O,function(v,o){a.once(o,v,p)});return}function m(){N.apply(p,arguments),a.off(O,m,p)}this.on(O,m,p)},D.prototype._spliceMatches=function(O,N){var p=0,a;if(l(O))for(a=O.length;p<a;p+=1)N(O[p])===!0&&(O.splice(p,1),a-=1,p-=1)},D.prototype._matchHandler=function(O){var N=this;return function(p){var a=O===p.handler;return a&&N._forgetContext(p.context),a}},D.prototype._matchContext=function(O){var N=this;return function(p){var a=O===p.context;return a&&N._forgetContext(p.context),a}},D.prototype._matchHandlerAndContext=function(O,N){var p=this;return function(a){var m=O===a.handler,v=N===a.context,o=m&&v;return o&&p._forgetContext(a.context),o}},D.prototype._offByEventName=function(O,N){var p=this,a=r(N),m=p._matchHandler(N);O=O.split(A),w(O,function(v){var o=p._safeEvent(v);a?p._spliceMatches(o,m):(w(o,function(c){p._forgetContext(c.context)}),p.events[v]=[])})},D.prototype._offByHandler=function(O){var N=this,p=this._matchHandler(O);w(this._safeEvent(),function(a){N._spliceMatches(a,p)})},D.prototype._offByObject=function(O,N){var p=this,a;this._indexOfContext(O)<0?w(O,function(m,v){p.off(v,m)}):y(N)?(a=this._matchContext(O),p._spliceMatches(this._safeEvent(N),a)):r(N)?(a=this._matchHandlerAndContext(N,O),w(this._safeEvent(),function(m){p._spliceMatches(m,a)})):(a=this._matchContext(O),w(this._safeEvent(),function(m){p._spliceMatches(m,a)}))},D.prototype.off=function(O,N){y(O)?this._offByEventName(O,N):arguments.length?r(O)?this._offByHandler(O):M(O)&&this._offByObject(O,N):(this.events={},this.contexts=[])},D.prototype.fire=function(O){this.invoke.apply(this,arguments)},D.prototype.invoke=function(O){var N,p,a,m;if(!this.hasListener(O))return!0;for(N=this._safeEvent(O),p=Array.prototype.slice.call(arguments,1),a=0;N[a];){if(m=N[a],m.handler.apply(m.context,p)===!1)return!1;a+=1}return!0},D.prototype.hasListener=function(O){return this.getListenerLength(O)>0},D.prototype.getListenerLength=function(O){var N=this._safeEvent(O);return N.length},n.exports=D},function(n,i,u){function b(I){return typeof I=="string"||I instanceof String}n.exports=b},function(n,i,u){var b=/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i,I={leadingZero:function(y,M){var l="",r=0;if((y+"").length>M)return y+"";for(;r<M-1;r+=1)l+="0";return(l+y).slice(M*-1)},isValidRGB:function(y){return b.test(y)},hexToRGB:function(y){var M,l,r;return I.isValidRGB(y)?(y=y.substring(1),M=parseInt(y.substr(0,2),16),l=parseInt(y.substr(2,2),16),r=parseInt(y.substr(4,2),16),[M,l,r]):!1},rgbToHEX:function(y,M,l){var r="#"+I.leadingZero(y.toString(16),2)+I.leadingZero(M.toString(16),2)+I.leadingZero(l.toString(16),2);return I.isValidRGB(r)?r:!1},rgbToHSV:function(y,M,l){var r,w,A,D,O,N;if(y/=255,M/=255,l/=255,r=Math.max(y,M,l),w=Math.min(y,M,l),O=r,N=r-w,D=r===0?0:N/r,r===w)A=0;else{switch(r){case y:A=(M-l)/N+(M<l?6:0);break;case M:A=(l-y)/N+2;break;case l:A=(y-M)/N+4;break}A/=6}return[Math.round(A*360),Math.round(D*100),Math.round(O*100)]},hsvToRGB:function(y,M,l){var r,w,A,D,O,N,p,a;if(y=Math.max(0,Math.min(360,y)),M=Math.max(0,Math.min(100,M)),l=Math.max(0,Math.min(100,l)),M/=100,l/=100,M===0)return r=w=A=l,[Math.round(r*255),Math.round(w*255),Math.round(A*255)];switch(y/=60,D=Math.floor(y),O=y-D,N=l*(1-M),p=l*(1-M*O),a=l*(1-M*(1-O)),D){case 0:r=l,w=a,A=N;break;case 1:r=p,w=l,A=N;break;case 2:r=N,w=l,A=a;break;case 3:r=N,w=p,A=l;break;case 4:r=a,w=N,A=l;break;default:r=l,w=N,A=p;break}return[Math.round(r*255),Math.round(w*255),Math.round(A*255)]}};n.exports=I},function(n,i,u){function b(I){return I instanceof Function}n.exports=b},function(n,i,u){var b=u(11),I=u(2),y=u(26);function M(w,A,D,O){if(b(A)){I(A.split(/\s+/g),function(N){l(w,N,D,O)});return}I(A,function(N,p){l(w,p,N,D)})}function l(w,A,D,O){function N(p){D.call(O||w,p||window.event)}"addEventListener"in w?w.addEventListener(A,N):"attachEvent"in w&&w.attachEvent("on"+A,N),r(w,A,D,N)}function r(w,A,D,O){var N=y(w,A),p=!1;I(N,function(a){return a.handler===D?(p=!0,!1):!0}),p||N.push({handler:D,wrappedHandler:O})}n.exports=M},function(n,i,u){function b(I){if(I.preventDefault){I.preventDefault();return}I.returnValue=!1}n.exports=b},function(n,i,u){function b(I){return I.replace(/([A-Z])/g,function(y){return"-"+y.toLowerCase()})}n.exports=b},function(n,i,u){var b=u(11),I=u(2),y=u(26);function M(w,A,D){if(b(A)){I(A.split(/\s+/g),function(O){l(w,O,D)});return}I(A,function(O,N){l(w,N,O)})}function l(w,A,D){var O=y(w,A),N;D?(I(O,function(p,a){return D===p.handler?(r(w,A,p.wrappedHandler),N=a,!1):!0}),O.splice(N,1)):(I(O,function(p){r(w,A,p.wrappedHandler)}),O.splice(0,O.length))}function r(w,A,D){"removeEventListener"in w?w.removeEventListener(A,D):"detachEvent"in w&&w.detachEvent("on"+A,D)}n.exports=M},function(n,i,u){var b=u(50);function I(y,M){var l=b(M.prototype);l.constructor=y,y.prototype=l}n.exports=I},function(n,i,u){var b=u(6),I=u(7),y=u(0),M=u(1),l=u(20),r=u(13),w=u(21),A=u(4),D=Array.prototype.slice;function O(N){this.items={},this.length=0,r(N)&&(this.getItemID=N)}O.and=function(N){var p;return N=D.call(arguments),p=N.length,function(a){for(var m=0;m<p;m+=1)if(!N[m].call(null,a))return!1;return!0}},O.or=function(N){var p;return N=D.call(arguments),p=N.length,function(a){for(var m=1,v=N[0].call(null,a);m<p;m+=1)v=v||N[m].call(null,a);return v}},O.merge=function(N){var p={},a=new O(N.getItemID);return b(arguments,function(m){y(p,m.items)}),a.items=p,a.length=A.getLength(a.items),a},O.prototype.getItemID=function(N){return N._id+""},O.prototype.add=function(N){var p,a;if(arguments.length>1){b(D.call(arguments),function(m){this.add(m)},this);return}p=this.getItemID(N),a=this.items,a[p]||(this.length+=1),a[p]=N},O.prototype.remove=function(N){var p=[],a,m;return this.length?arguments.length>1?(p=A.map(D.call(arguments),function(v){return this.remove(v)},this),p):(a=this.items,w(N)&&(N=this.getItemID(N)),a[N]?(this.length-=1,m=a[N],delete a[N],m):p):p},O.prototype.clear=function(){this.items={},this.length=0},O.prototype.has=function(N){var p,a;return this.length?(p=r(N),a=!1,p?this.each(function(m){return N(m)===!0?(a=!0,!1):!0}):(N=w(N)?this.getItemID(N):N,a=l(this.items[N])),a):!1},O.prototype.doWhenHas=function(N,p,a){var m=this.items[N];l(m)&&p.call(a||this,m)},O.prototype.find=function(N){var p=new O;return this.hasOwnProperty("getItemID")&&(p.getItemID=this.getItemID),this.each(function(a){N(a)===!0&&p.add(a)}),p},O.prototype.groupBy=function(N,p){var a={},m=r(N),v=this.getItemID,o,c;if(M(N)){if(b(N,function(s){a[s+""]=new O(v)}),!p)return a;N=p,m=!0}return this.each(function(s){m?c=N(s):(c=s[N],r(c)&&(c=c.apply(s))),o=a[c],o||(o=a[c]=new O(v)),o.add(s)}),a},O.prototype.single=function(){var N;return this.each(function(p){return N=p,!1},this),N},O.prototype.sort=function(N){var p=[];return this.each(function(a){p.push(a)}),r(N)&&(p=p.sort(N)),p},O.prototype.each=function(N,p){I(this.items,N,p||this)},O.prototype.toArray=function(){return this.length?A.map(this.items,function(N){return N}):[]},n.exports=O},function(n,i,u){var b=u(3),I=u(36);function y(M){return!b(M)&&!I(M)}n.exports=y},function(n,i,u){function b(I){return I===Object(I)}n.exports=b},function(n,i,u){var b={chrome:!1,firefox:!1,safari:!1,msie:!1,edge:!1,others:!1,version:0};typeof window<"u"&&window.navigator&&I();function I(){var y=window.navigator,M=y.appName.replace(/\s/g,"_"),l=y.userAgent,r=/MSIE\s([0-9]+[.0-9]*)/,w=/Trident.*rv:11\./,A=/Edge\/(\d+)\./,D={firefox:/Firefox\/(\d+)\./,chrome:/Chrome\/(\d+)\./,safari:/Version\/([\d.]+).*Safari\/(\d+)/},O,N,p={Microsoft_Internet_Explorer:function(){var m=l.match(r);m?(b.msie=!0,b.version=parseFloat(m[1])):b.others=!0},Netscape:function(){var m=!1;if(w.exec(l))b.msie=!0,b.version=11,m=!0;else if(A.exec(l))b.edge=!0,b.version=l.match(A)[1],m=!0;else for(O in D)if(D.hasOwnProperty(O)&&(N=l.match(D[O]),N&&N.length>1)){b[O]=m=!0,b.version=parseFloat(N[1]||0);break}m||(b.others=!0)}},a=p[M];a&&p[M]()}n.exports=b},function(n,i,u){var b=u(3);function I(y){return!y||!y.className?"":b(y.className.baseVal)?y.className:y.className.baseVal}n.exports=I},function(n,i,u){(function(b){var I=u(10),y=u(42),M=u(44),l=u(47),r=u(28),w=u(17),A=u(14),D=u(15),O=u(0);function N(p,a){A(a,"mousedown",this._onMouseDown,this),this.options=O({distance:10},p),this.container=a,this._isMoved=!1,this._distance=0,this._dragStartFired=!1,this._dragStartEventData=null}N.prototype.destroy=function(){w(this.container,"mousedown",this._onMouseDown),this.options=this.container=this._isMoved=this._distance=this._dragStartFired=this._dragStartEventData=null},N.prototype._toggleDragEvent=function(p){var a=this.container;p?(y(a),A(window,"dragstart",D),A(b.document,{mousemove:this._onMouseMove,mouseup:this._onMouseUp},this)):(M(a),w(window,"dragstart",D),w(b.document,{mousemove:this._onMouseMove,mouseup:this._onMouseUp}))},N.prototype._getEventData=function(p){return{target:r(p),originEvent:p}},N.prototype._onMouseDown=function(p){l(p)===0&&(this._distance=0,this._dragStartFired=!1,this._dragStartEventData=this._getEventData(p),this._toggleDragEvent(!0))},N.prototype._onMouseMove=function(p){var a=this.options.distance;if(D(p),this._isMoved=!0,this._distance<a){this._distance+=1;return}if(!this._dragStartFired&&(this._dragStartFired=!0,!this.invoke("dragStart",this._dragStartEventData))){this._toggleDragEvent(!1);return}this.fire("drag",this._getEventData(p))},N.prototype._onMouseUp=function(p){if(this._toggleDragEvent(!1),this._isMoved){this._isMoved=!1,this.fire("dragEnd",this._getEventData(p));return}this.fire("click",this._getEventData(p))},I.mixin(N),n.exports=N}).call(this,u(25))},function(n,i){var u;u=function(){return this}();try{u=u||new Function("return this")()}catch{typeof window=="object"&&(u=window)}n.exports=u},function(n,i,u){var b="_feEventKey";function I(y,M){var l=y[b],r;return l||(l=y[b]={}),r=l[M],r||(r=l[M]=[]),r}n.exports=I},function(n,i,u){function b(I){var y=document.documentElement.style,M,l;for(M=0,l=I.length;M<l;M+=1)if(I[M]in y)return I[M];return!1}n.exports=b},function(n,i,u){function b(I){return I.target||I.srcElement}n.exports=b},function(n,i,u){var b=u(10),I=u(28),y=u(17),M=u(14),l=u(30),r=u(0),w=u(18),A=u(9),D=u(12),O=u(8),N=u(51);function p(a,m){this.options=r({cssPrefix:"tui-colorpicker-",preset:["#181818","#282828","#383838","#585858","#B8B8B8","#D8D8D8","#E8E8E8","#F8F8F8","#AB4642","#DC9656","#F7CA88","#A1B56C","#86C1B9","#7CAFC2","#BA8BAF","#A16946"],detailTxt:"Detail"},a),m=A.appendHTMLElement("div",m,this.options.cssPrefix+"palette-container"),O.call(this,a,m)}w(p,O),p.prototype._onClick=function(a){var m=this.options,v=I(a),o={};if(l(v,m.cssPrefix+"palette-button")){o.color=v.value,this.fire("_selectColor",o);return}l(v,m.cssPrefix+"palette-toggle-slider")&&this.fire("_toggleSlider")},p.prototype._onChange=function(a){var m=this.options,v=I(a),o={};l(v,m.cssPrefix+"palette-hex")&&(o.color=v.value,this.fire("_selectColor",o))},p.prototype._beforeDestroy=function(){this._toggleEvent(!1)},p.prototype._toggleEvent=function(a){var m=this.options,v=this.container,o=a?M:y,c;o(v,"click",this._onClick,this),c=v.querySelector("."+m.cssPrefix+"palette-hex",v),c&&o(c,"change",this._onChange,this)},p.prototype.render=function(a){var m=this.options,v="";this._toggleEvent(!1),v=N({cssPrefix:m.cssPrefix,preset:m.preset,detailTxt:m.detailTxt,color:a,isValidRGB:D.isValidRGB,getItemClass:function(o){return o?"":" "+m.cssPrefix+"color-transparent"},isSelected:function(o){return o===a?" "+m.cssPrefix+"selected":""}}),this.container.innerHTML=v,this._toggleEvent(!0)},b.mixin(p),n.exports=p},function(n,i,u){var b=u(5),I=u(23);function y(M,l){var r;return M.classList?M.classList.contains(l):(r=I(M).split(/\s+/),b(l,r)>-1)}n.exports=y},function(n,i,u){var b=u(10),I=u(53),y=u(54),M=u(30),l=u(0),r=u(18),w=u(9),A=u(32),D=u(12),O=u(8),N=u(24),p=u(57),a=-7,m=112,v=-3,o=115,c=359.99;function s(g,x){x=w.appendHTMLElement("div",x,g.cssPrefix+"slider-container"),x.style.display="none",O.call(this,g,x),this.options=l({color:"#f8f8f8",cssPrefix:"tui-colorpicker-"},g),this._dragDataCache={},this.sliderHandleElement=null,this.huebarHandleElement=null,this.baseColorElement=null,this.drag=new N({distance:0},x),this.colorSliderPosLimitRange=[a,m],this.huebarPosLimitRange=[v,o],this.drag.on({dragStart:this._onDragStart,drag:this._onDrag,dragEnd:this._onDragEnd,click:this._onClick},this)}r(s,O),s.prototype._beforeDestroy=function(){this.drag.off(),this.drag=this.options=this._dragDataCache=this.sliderHandleElement=this.huebarHandleElement=this.baseColorElement=null},s.prototype.toggle=function(g){this.container.style.display=g?"block":"none"},s.prototype.isVisible=function(){return this.container.style.display==="block"},s.prototype.render=function(g){var x=this.container,h=this.options,E=p.layout,T,k;D.isValidRGB(g)&&(E=E.replace(/{{slider}}/,p.slider),E=E.replace(/{{huebar}}/,p.huebar),E=E.replace(/{{cssPrefix}}/g,h.cssPrefix),E=E.replace(/{{id}}/g,h.id),this.container.innerHTML=E,this.sliderSvgElement=x.querySelector("."+h.cssPrefix+"svg-slider"),this.huebarSvgElement=x.querySelector("."+h.cssPrefix+"svg-huebar"),this.sliderHandleElement=x.querySelector("."+h.cssPrefix+"slider-handle"),this.huebarHandleElement=x.querySelector("."+h.cssPrefix+"huebar-handle"),this.baseColorElement=x.querySelector("."+h.cssPrefix+"slider-basecolor"),T=D.hexToRGB(g),k=D.rgbToHSV.apply(null,T),this.moveHue(k[0],!0),this.moveSaturationAndValue(k[1],k[2],!0))},s.prototype._setColorSliderPosMax=function(){var g=this.sliderSvgElement.getClientRects()[0];g&&(this.colorSliderPosLimitRange[1]=g.height-10)},s.prototype._moveColorSliderHandle=function(g,x,h){var E=this.sliderHandleElement,T;x=Math.max(this.colorSliderPosLimitRange[0],x),x=Math.min(this.colorSliderPosLimitRange[1],x),g=Math.max(this.colorSliderPosLimitRange[0],g),g=Math.min(this.colorSliderPosLimitRange[1],g),A.setTranslateXY(E,g,x),T=x>50?"white":"black",A.setStrokeColor(E,T),h||this.fire("_selectColor",{color:D.rgbToHEX.apply(null,this.getRGB())})},s.prototype.moveSaturationAndValue=function(g,x,h){var E,T,k,L;g=g||0,x=x||0,E=Math.abs(this.colorSliderPosLimitRange[0]),T=this.colorSliderPosLimitRange[1],k=g*T/100-E,L=T-x*T/100-E,this._moveColorSliderHandle(k,L,h)},s.prototype._moveColorSliderByPosition=function(g,x){var h=this.colorSliderPosLimitRange[0];this._moveColorSliderHandle(g+h,x+h)},s.prototype.getSaturationAndValue=function(){var g=Math.abs(this.colorSliderPosLimitRange[0]),x=g+this.colorSliderPosLimitRange[1],h=A.getTranslateXY(this.sliderHandleElement),E,T;return E=(h[1]+g)/x*100,T=100-(h[0]+g)/x*100,[E,T]},s.prototype._setHueBarPosMax=function(){var g=this.huebarSvgElement.getClientRects()[0];g&&(this.huebarPosLimitRange[1]=g.height-7)},s.prototype._moveHueHandle=function(g,x){var h=this.huebarHandleElement,E=this.baseColorElement,T,k;g=Math.max(this.huebarPosLimitRange[0],g),g=Math.min(this.huebarPosLimitRange[1],g),A.setTranslateY(h,g),T=D.hsvToRGB(this.getHue(),100,100),k=D.rgbToHEX.apply(null,T),A.setGradientColorStop(E,k),x||this.fire("_selectColor",{color:D.rgbToHEX.apply(null,this.getRGB())})},s.prototype.moveHue=function(g,x){var h=0,E,T;E=Math.abs(this.huebarPosLimitRange[0]),T=E+this.huebarPosLimitRange[1],g=g||0,h=T*g/c-E,this._moveHueHandle(h,x)},s.prototype._moveHueByPosition=function(g){var x=this.huebarPosLimitRange[0];this._moveHueHandle(g+x)},s.prototype.getHue=function(){var g=this.huebarHandleElement,x=A.getTranslateXY(g),h,E;return h=Math.abs(this.huebarPosLimitRange[0]),E=h+this.huebarPosLimitRange[1],(x[0]+h)*c/E},s.prototype.getHSV=function(){var g=this.getSaturationAndValue(),x=this.getHue();return[x].concat(g)},s.prototype.getRGB=function(){return D.hsvToRGB.apply(null,this.getHSV())},s.prototype._prepareColorSliderForMouseEvent=function(g){var x=this.options,h=y(g.target,"."+x.cssPrefix+"slider-part"),E;return E=this._dragDataCache={isColorSlider:M(h,x.cssPrefix+"slider-left"),parentElement:h},E},s.prototype._onClick=function(g){var x=this._prepareColorSliderForMouseEvent(g),h=I(g.originEvent,x.parentElement);x.isColorSlider?this._moveColorSliderByPosition(h[0],h[1]):this._moveHueByPosition(h[1]),this._dragDataCache=null},s.prototype._onDragStart=function(g){this._setColorSliderPosMax(),this._setHueBarPosMax(),this._prepareColorSliderForMouseEvent(g)},s.prototype._onDrag=function(g){var x=this._dragDataCache,h=I(g.originEvent,x.parentElement);x.isColorSlider?this._moveColorSliderByPosition(h[0],h[1]):this._moveHueByPosition(h[1])},s.prototype._onDragEnd=function(){this._dragDataCache=null},b.mixin(s),n.exports=s},function(n,i,u){var b=u(4).isOldBrowser,I=/[\.\-0-9]+/g,y=-6,M={getTranslateXY:function(l){var r;return b?(r=l.style,[parseFloat(r.top),parseFloat(r.left)]):(r=l.getAttribute("transform"),r?(r=r.match(I),[parseFloat(r[1]),parseFloat(r[0])]):[0,0])},setTranslateXY:function(l,r,w){b?(l.style.left=r+"px",l.style.top=w+"px"):l.setAttribute("transform","translate("+r+","+w+")")},setTranslateY:function(l,r){b?l.style.top=r+"px":l.setAttribute("transform","translate("+y+","+r+")")},setStrokeColor:function(l,r){b?l.strokecolor=r:l.setAttribute("stroke",r)},setGradientColorStop:function(l,r){b?l.color=r:l.setAttribute("stop-color",r)}};n.exports=M},function(n,i,u){u(34),n.exports=u(35)},function(n,i,u){},function(n,i,u){var b=u(19),I=u(8),y=u(24),M=u(48),l=u(29),r=u(31),w=u(12),A=u(32),D={Collection:b,View:I,Drag:y,create:M,Palette:l,Slider:r,colorutil:w,svgvml:A};n.exports=D},function(n,i,u){function b(I){return I===null}n.exports=b},function(n,i,u){var b=u(3),I=u(38),y=7*24*60*60*1e3;function M(r){var w=new Date().getTime();return w-r>y}function l(r,w){var A="https://www.google-analytics.com/collect",D=location.hostname,O="event",N="use",p="TOAST UI "+r+" for "+D+": Statistics",a=window.localStorage.getItem(p);!b(window.tui)&&window.tui.usageStatistics===!1||a&&!M(a)||(window.localStorage.setItem(p,new Date().getTime()),setTimeout(function(){(document.readyState==="interactive"||document.readyState==="complete")&&I(A,{v:1,t:O,tid:w,cid:D,dp:D,dh:r,el:r,ec:N})},1e3))}n.exports=l},function(n,i,u){var b=u(7);function I(y,M){var l=document.createElement("img"),r="";return b(M,function(w,A){r+="&"+A+"="+w}),r=r.substring(1),l.src=y+"?"+r,l.style.display="none",document.body.appendChild(l),document.body.removeChild(l),l}n.exports=I},function(n,i,u){var b=u(2),I=u(5),y=u(23),M=u(40);function l(r){var w=Array.prototype.slice.call(arguments,1),A=r.classList,D=[],O;if(A){b(w,function(N){r.classList.add(N)});return}O=y(r),O&&(w=[].concat(O.split(/\s+/),w)),b(w,function(N){I(N,D)<0&&D.push(N)}),M(r,D)}n.exports=l},function(n,i,u){var b=u(1),I=u(3);function y(M,l){if(l=b(l)?l.join(" "):l,l=l.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),I(M.className.baseVal)){M.className=l;return}M.className.baseVal=l}n.exports=y},function(n,i,u){function b(I){return typeof I=="number"||I instanceof Number}n.exports=b},function(n,i,u){var b=u(14),I=u(15),y=u(43),M=u(27),l="onselectstart"in document,r="prevUserSelect",w=M(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);function A(D){D||(D=document),l?b(D,"selectstart",I):(D=D===document?document.documentElement:D,y(D,r,D.style[w]),D.style[w]="none")}n.exports=A},function(n,i,u){var b=u(16);function I(y,M,l){if(y.dataset){y.dataset[M]=l;return}y.setAttribute("data-"+b(M),l)}n.exports=I},function(n,i,u){var b=u(17),I=u(15),y=u(45),M=u(46),l=u(27),r="onselectstart"in document,w="prevUserSelect",A=l(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);function D(O){O||(O=document),r?b(O,"selectstart",I):(O=O===document?document.documentElement:O,O.style[A]=y(O,w)||"auto",M(O,w))}n.exports=D},function(n,i,u){var b=u(16);function I(y,M){return y.dataset?y.dataset[M]:y.getAttribute("data-"+b(M))}n.exports=I},function(n,i,u){var b=u(16);function I(y,M){if(y.dataset){delete y.dataset[M];return}y.removeAttribute("data-"+b(M))}n.exports=I},function(n,i,u){var b=u(22),I=u(5),y=["0","1","3","5","7"],M=["2","6"],l=["4"];function r(A){return b.msie&&b.version<=8?w(A):A.button}function w(A){var D=String(A.button);return I(D,y)>-1?0:I(D,M)>-1?2:I(D,l)>-1?1:null}n.exports=r},function(n,i,u){var b=u(10),I=u(0),y=u(4),M=u(12),l=u(49),r=u(29),w=u(31),A=0;function D(){return A+=1,A}function O(N){var p;if(!(this instanceof O))return new O(N);if(N=this.options=I({container:null,color:"#f8f8f8",preset:["#181818","#282828","#383838","#585858","#b8b8b8","#d8d8d8","#e8e8e8","#f8f8f8","#ab4642","#dc9656","#f7ca88","#a1b56c","#86c1b9","#7cafc2","#ba8baf","#a16946"],cssPrefix:"tui-colorpicker-",detailTxt:"Detail",id:D(),usageStatistics:!0},N),!N.container)throw new Error("ColorPicker(): need container option.");p=this.layout=new l(N,N.container),this.palette=new r(N,p.container),this.palette.on({_selectColor:this._onSelectColorInPalette,_toggleSlider:this._onToggleSlider},this),this.slider=new w(N,p.container),this.slider.on("_selectColor",this._onSelectColorInSlider,this),p.addChild(this.palette),p.addChild(this.slider),this.render(N.color),N.usageStatistics&&y.sendHostName()}O.prototype._onSelectColorInPalette=function(N){var p=N.color,a=this.options;if(!M.isValidRGB(p)&&p!==""){this.render();return}this.fire("selectColor",{color:p,origin:"palette"}),a.color!==p&&(a.color=p,this.render(p))},O.prototype._onToggleSlider=function(){this.slider.toggle(!this.slider.isVisible())},O.prototype._onSelectColorInSlider=function(N){var p=N.color,a=this.options;this.fire("selectColor",{color:p,origin:"slider"}),a.color!==p&&(a.color=p,this.palette.render(p))},O.prototype.setColor=function(N){if(!M.isValidRGB(N))throw new Error("ColorPicker#setColor(): need valid hex string color value");this.options.color=N,this.render(N)},O.prototype.getColor=function(){return this.options.color},O.prototype.toggle=function(N){this.layout.container.style.display=N?"block":"none"},O.prototype.render=function(N){this.layout.render(N||this.options.color)},O.prototype.destroy=function(){this.layout.destroy(),this.options.container.innerHTML="",this.layout=this.slider=this.palette=this.options=null},b.mixin(O),n.exports=O},function(n,i,u){var b=u(0),I=u(18),y=u(9),M=u(8);function l(r,w){this.options=b({cssPrefix:"tui-colorpicker-"},r),w=y.appendHTMLElement("div",w,this.options.cssPrefix+"container"),M.call(this,r,w),this.render()}I(l,M),l.prototype.render=function(r){this.recursive(function(w){w.render(r)},!0)},n.exports=l},function(n,i,u){function b(I){function y(){}return y.prototype=I,new y}n.exports=b},function(n,i,u){var b=u(52);n.exports=function(I){var y=['<li><input class="{{cssPrefix}}palette-button{{isSelected @this}}{{getItemClass @this}}" type="button"',"{{if isValidRGB @this}}",' style="background-color:{{@this}};color:{{@this}}"',"{{/if}}",' title="{{@this}}" value="{{@this}}" /></li>'].join(""),M=['<ul class="{{cssPrefix}}clearfix">',"{{each preset}}",y,"{{/each}}","</ul>",'<div class="{{cssPrefix}}clearfix" style="overflow:hidden">','<input type="button" class="{{cssPrefix}}palette-toggle-slider" value="{{detailTxt}}" />','<input type="text" class="{{cssPrefix}}palette-hex" value="{{color}}" maxlength="7" />','<span class="{{cssPrefix}}palette-preview" style="background-color:{{color}};color:{{color}}">{{color}}</span>',"</div>"].join(`
`);return b(M,I)}},function(n,i,u){var b=u(5),I=u(2),y=u(1),M=u(11),l=u(0),r=/{{\s?|\s?}}/g,w=/^[a-zA-Z0-9_@]+\[[a-zA-Z0-9_@"']+\]$/,A=/\[\s?|\s?\]/,D=/^[a-zA-Z_]+\.[a-zA-Z_]+$/,O=/\./,N=/^["']\w+["']$/,p=/"|'/g,a=/^-?\d+\.?\d*$/,m=2,v={if:x,each:h,with:E},o="a".split(/a/).length===3,c=function(){return o?function(Y,K){return Y.split(K)}:function(Y,K){var he=[],oe=0,ve,ee;for(K.global||(K=new RegExp(K,"g")),ve=K.exec(Y);ve!==null;)ee=ve.index,he.push(Y.slice(oe,ee)),oe=ee+ve[0].length,ve=K.exec(Y);return he.push(Y.slice(oe)),he}}();function s(Y,K){var he,oe=K[Y];return Y==="true"?oe=!0:Y==="false"?oe=!1:N.test(Y)?oe=Y.replace(p,""):w.test(Y)?(he=Y.split(A),oe=s(he[0],K)[s(he[1],K)]):D.test(Y)?(he=Y.split(O),oe=s(he[0],K)[he[1]]):a.test(Y)&&(oe=parseFloat(Y)),oe}function g(Y,K){var he=[Y],oe=[],ve=0,ee=0;return I(K,function(xe,Z){xe.indexOf("if")===0?ve+=1:xe==="/if"?ve-=1:!ve&&(xe.indexOf("elseif")===0||xe==="else")&&(he.push(xe==="else"?["true"]:xe.split(" ").slice(1)),oe.push(K.slice(ee,Z)),ee=Z+1)}),oe.push(K.slice(ee)),{exps:he,sourcesInsideIf:oe}}function x(Y,K,he){var oe=g(Y,K),ve=!1,ee="";return I(oe.exps,function(xe,Z){return ve=L(xe,he),ve&&(ee=U(oe.sourcesInsideIf[Z],he)),!ve}),ee}function h(Y,K,he){var oe=L(Y,he),ve=y(oe)?"@index":"@key",ee={},xe="";return I(oe,function(Z,Be){ee[ve]=Be,ee["@this"]=Z,l(he,ee),xe+=U(K.slice(),he)}),xe}function E(Y,K,he){var oe=b("as",Y),ve=Y[oe+1],ee=L(Y.slice(0,oe),he),xe={};return xe[ve]=ee,U(K,l(he,xe))||""}function T(Y,K,he){var oe=Y.splice(K+1,he-K);return oe.pop(),oe}function k(Y,K,he){for(var oe=v[Y],ve=1,ee=0,xe,Z=ee+m,Be=K[Z];ve&&M(Be);)Be.indexOf(Y)===0?ve+=1:Be.indexOf("/"+Y)===0&&(ve-=1,xe=Z),Z+=m,Be=K[Z];if(ve)throw Error(Y+" needs {{/"+Y+"}} expression.");return K[ee]=oe(K[ee].split(" ").slice(1),T(K,ee,xe),he),K}function L(Y,K){var he=s(Y[0],K);return he instanceof Function?F(he,Y.slice(1),K):he}function F(Y,K,he){var oe=[];return I(K,function(ve){oe.push(s(ve,he))}),Y.apply(null,oe)}function U(Y,K){for(var he=1,oe=Y[he],ve,ee,xe;M(oe);)ve=oe.split(" "),ee=ve[0],v[ee]?(xe=k(ee,Y.splice(he,Y.length-he),K),Y=Y.concat(xe)):Y[he]=L(ve,K),he+=m,oe=Y[he];return Y.join("")}function G(Y,K){return U(c(Y,r),K)}n.exports=G},function(n,i,u){var b=u(1);function I(y,M){var l=b(y),r=l?y[0]:y.clientX,w=l?y[1]:y.clientY,A;return M?(A=M.getBoundingClientRect(),[r-A.left-M.clientLeft,w-A.top-M.clientTop]):[r,w]}n.exports=I},function(n,i,u){var b=u(55);function I(y,M){var l=y.parentNode;if(b(y,M))return y;for(;l&&l!==document;){if(b(l,M))return l;l=l.parentNode}return null}n.exports=I},function(n,i,u){var b=u(5),I=u(56),y=Element.prototype,M=y.matches||y.webkitMatchesSelector||y.mozMatchesSelector||y.msMatchesSelector||function(r){var w=this.document||this.ownerDocument;return b(this,I(w.querySelectorAll(r)))>-1};function l(r,w){return M.call(r,w)}n.exports=l},function(n,i,u){var b=u(6);function I(y){var M;try{M=Array.prototype.slice.call(y)}catch{M=[],b(y,function(r){M.push(r)})}return M}n.exports=I},function(n,i,u){(function(b){var I=u(4).isOldBrowser,y=['<div class="{{cssPrefix}}slider-left {{cssPrefix}}slider-part">{{slider}}</div>','<div class="{{cssPrefix}}slider-right {{cssPrefix}}slider-part">{{huebar}}</div>'].join(`
`),M=['<svg class="{{cssPrefix}}svg {{cssPrefix}}svg-slider">',"<defs>",'<linearGradient id="{{cssPrefix}}svg-fill-color-{{id}}" x1="0%" y1="0%" x2="100%" y2="0%">','<stop offset="0%" stop-color="rgb(255,255,255)" />','<stop class="{{cssPrefix}}slider-basecolor" offset="100%" stop-color="rgb(255,0,0)" />',"</linearGradient>",'<linearGradient id="{{cssPrefix}}svn-fill-black-{{id}}" x1="0%" y1="0%" x2="0%" y2="100%">','<stop offset="0%" style="stop-color:rgb(0,0,0);stop-opacity:0" />','<stop offset="100%" style="stop-color:rgb(0,0,0);stop-opacity:1" />',"</linearGradient>","</defs>",'<rect width="100%" height="100%" fill="url(#{{cssPrefix}}svg-fill-color-{{id}})"></rect>','<rect width="100%" height="100%" fill="url(#{{cssPrefix}}svn-fill-black-{{id}})"></rect>','<path transform="translate(0,0)" class="{{cssPrefix}}slider-handle" d="M0 7.5 L15 7.5 M7.5 15 L7.5 0 M2 7 a5.5 5.5 0 1 1 0 1 Z" stroke="black" stroke-width="0.75" fill="none" />',"</svg>"].join(`
`),l=['<div class="{{cssPrefix}}vml-slider">','<v:rect strokecolor="none" class="{{cssPrefix}}vml {{cssPrefix}}vml-slider-bg">','<v:fill class="{{cssPrefix}}vml {{cssPrefix}}slider-basecolor" type="gradient" method="none" color="#ff0000" color2="#fff" angle="90" />',"</v:rect>",'<v:rect strokecolor="#ccc" class="{{cssPrefix}}vml {{cssPrefix}}vml-slider-bg">','<v:fill type="gradient" method="none" color="black" color2="white" o:opacity2="0%" class="{{cssPrefix}}vml" />',"</v:rect>",'<v:shape class="{{cssPrefix}}vml {{cssPrefix}}slider-handle" coordsize="1 1" style="width:1px;height:1px;"path="m 0,7 l 14,7 m 7,14 l 7,0 ar 12,12 2,2 z" filled="false" stroked="true" />',"</div>"].join(`
`),r=['<svg class="{{cssPrefix}}svg {{cssPrefix}}svg-huebar">',"<defs>",'<linearGradient id="g-{{id}}" x1="0%" y1="0%" x2="0%" y2="100%">','<stop offset="0%" stop-color="rgb(255,0,0)" />','<stop offset="16.666%" stop-color="rgb(255,255,0)" />','<stop offset="33.333%" stop-color="rgb(0,255,0)" />','<stop offset="50%" stop-color="rgb(0,255,255)" />','<stop offset="66.666%" stop-color="rgb(0,0,255)" />','<stop offset="83.333%" stop-color="rgb(255,0,255)" />','<stop offset="100%" stop-color="rgb(255,0,0)" />',"</linearGradient>","</defs>",'<rect width="18px" height="100%" fill="url(#g-{{id}})"></rect>','<path transform="translate(-6,-3)" class="{{cssPrefix}}huebar-handle" d="M0 0 L4 4 L0 8 L0 0 Z" fill="black" stroke="none" />',"</svg>"].join(`
`),w=['<div class="{{cssPrefix}}vml-huebar">','<v:rect strokecolor="#ccc" class="{{cssPrefix}}vml {{cssPrefix}}vml-huebar-bg">','<v:fill type="gradient" method="none" colors="0% rgb(255,0,0), 16.666% rgb(255,255,0), 33.333% rgb(0,255,0), 50% rgb(0,255,255), 66.666% rgb(0,0,255), 83.333% rgb(255,0,255), 100% rgb(255,0,0)" angle="180" class="{{cssPrefix}}vml" />',"</v:rect>",'<v:shape class="{{cssPrefix}}vml {{cssPrefix}}huebar-handle" coordsize="1 1" style="width:1px;height:1px;position:absolute;z-index:1;right:22px;top:-3px;"path="m 0,0 l 4,4 l 0,8 l 0,0 z" filled="true" fillcolor="black" stroked="false" />',"</div>"].join(`
`);I&&b.document.namespaces.add("v","urn:schemas-microsoft-com:vml"),n.exports={layout:y,slider:I?l:M,huebar:I?w:r}}).call(this,u(25))}])})}(vc)),vc.exports}/*!
 * TOAST UI ImageEditor
 * @version 3.15.3
 * @license MIT
 */var jg;function GO(){return jg||(jg=1,function(e,t){(function(i,u){e.exports=u(VO())})(self,function(n){return function(){var i={2777:function(y,M,l){/*! Fabric.js Copyright 2008-2015, Printio (Juriy Zaytsev, Maxim Chernyak) */var r=r||{version:"4.6.0"};if(M.fabric=r,typeof document<"u"&&typeof window<"u")document instanceof(typeof HTMLDocument<"u"?HTMLDocument:Document)?r.document=document:r.document=document.implementation.createHTMLDocument(""),r.window=window;else{var w=l(4960),A=new w.JSDOM(decodeURIComponent("%3C!DOCTYPE%20html%3E%3Chtml%3E%3Chead%3E%3C%2Fhead%3E%3Cbody%3E%3C%2Fbody%3E%3C%2Fhtml%3E"),{features:{FetchExternalResources:["img"]},resources:"usable"}).window;r.document=A.document,r.jsdomImplForWrapper=l(6759).implForWrapper,r.nodeCanvas=l(6272).Canvas,r.window=A,DOMParser=r.window.DOMParser}r.isTouchSupported="ontouchstart"in r.window||"ontouchstart"in r.document||r.window&&r.window.navigator&&r.window.navigator.maxTouchPoints>0,r.isLikelyNode=typeof Buffer<"u"&&typeof window>"u",r.SHARED_ATTRIBUTES=["display","transform","fill","fill-opacity","fill-rule","opacity","stroke","stroke-dasharray","stroke-linecap","stroke-dashoffset","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","id","paint-order","vector-effect","instantiated_by_use","clip-path"],r.DPI=96,r.reNum="(?:[-+]?(?:\\d+|\\d*\\.\\d+)(?:[eE][-+]?\\d+)?)",r.commaWsp="(?:\\s+,?\\s*|,\\s*)",r.rePathCommand=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:[eE][-+]?\d+)?)/ig,r.reNonWord=/[ \n\.,;!\?\-]/,r.fontPaths={},r.iMatrix=[1,0,0,1,0,0],r.svgNS="http://www.w3.org/2000/svg",r.perfLimitSizeTotal=2097152,r.maxCacheSideLimit=4096,r.minCacheSideLimit=256,r.charWidthsCache={},r.textureSize=2048,r.disableStyleCopyPaste=!1,r.enableGLFiltering=!0,r.devicePixelRatio=r.window.devicePixelRatio||r.window.webkitDevicePixelRatio||r.window.mozDevicePixelRatio||1,r.browserShadowBlurConstant=1,r.arcToSegmentsCache={},r.boundsOfCurveCache={},r.cachesBoundsOfCurve=!0,r.forceGLPutImageData=!1,r.initFilterBackend=function(){if(r.enableGLFiltering&&r.isWebglSupported&&r.isWebglSupported(r.textureSize))return console.log("max texture size: "+r.maxTextureSize),new r.WebglFilterBackend({tileSize:r.textureSize});if(r.Canvas2dFilterBackend)return new r.Canvas2dFilterBackend},typeof document<"u"&&typeof window<"u"&&(window.fabric=r),function(){function p(s,g){if(this.__eventListeners[s]){var x=this.__eventListeners[s];g?x[x.indexOf(g)]=!1:r.util.array.fill(x,!1)}}function a(s,g){if(this.__eventListeners||(this.__eventListeners={}),arguments.length===1)for(var x in s)this.on(x,s[x]);else this.__eventListeners[s]||(this.__eventListeners[s]=[]),this.__eventListeners[s].push(g);return this}function m(s,g){var x=(function(){g.apply(this,arguments),this.off(s,x)}).bind(this);this.on(s,x)}function v(s,g){if(arguments.length===1)for(var x in s)m.call(this,x,s[x]);else m.call(this,s,g);return this}function o(s,g){if(!this.__eventListeners)return this;if(arguments.length===0)for(s in this.__eventListeners)p.call(this,s);else if(arguments.length===1&&typeof arguments[0]=="object")for(var x in s)p.call(this,x,s[x]);else p.call(this,s,g);return this}function c(s,g){if(!this.__eventListeners)return this;var x=this.__eventListeners[s];if(!x)return this;for(var h=0,E=x.length;h<E;h++)x[h]&&x[h].call(this,g||{});return this.__eventListeners[s]=x.filter(function(T){return T!==!1}),this}r.Observable={fire:c,on:a,once:v,off:o}}(),r.Collection={_objects:[],add:function(){if(this._objects.push.apply(this._objects,arguments),this._onObjectAdded)for(var p=0,a=arguments.length;p<a;p++)this._onObjectAdded(arguments[p]);return this.renderOnAddRemove&&this.requestRenderAll(),this},insertAt:function(p,a,m){var v=this._objects;return m?v[a]=p:v.splice(a,0,p),this._onObjectAdded&&this._onObjectAdded(p),this.renderOnAddRemove&&this.requestRenderAll(),this},remove:function(){for(var p=this._objects,a,m=!1,v=0,o=arguments.length;v<o;v++)a=p.indexOf(arguments[v]),a!==-1&&(m=!0,p.splice(a,1),this._onObjectRemoved&&this._onObjectRemoved(arguments[v]));return this.renderOnAddRemove&&m&&this.requestRenderAll(),this},forEachObject:function(p,a){for(var m=this.getObjects(),v=0,o=m.length;v<o;v++)p.call(a,m[v],v,m);return this},getObjects:function(p){return typeof p>"u"?this._objects.concat():this._objects.filter(function(a){return a.type===p})},item:function(p){return this._objects[p]},isEmpty:function(){return this._objects.length===0},size:function(){return this._objects.length},contains:function(p,a){return this._objects.indexOf(p)>-1?!0:a?this._objects.some(function(m){return typeof m.contains=="function"&&m.contains(p,!0)}):!1},complexity:function(){return this._objects.reduce(function(p,a){return p+=a.complexity?a.complexity():0,p},0)}},r.CommonMethods={_setOptions:function(p){for(var a in p)this.set(a,p[a])},_initGradient:function(p,a){p&&p.colorStops&&!(p instanceof r.Gradient)&&this.set(a,new r.Gradient(p))},_initPattern:function(p,a,m){p&&p.source&&!(p instanceof r.Pattern)?this.set(a,new r.Pattern(p,m)):m&&m()},_setObject:function(p){for(var a in p)this._set(a,p[a])},set:function(p,a){return typeof p=="object"?this._setObject(p):this._set(p,a),this},_set:function(p,a){this[p]=a},toggle:function(p){var a=this.get(p);return typeof a=="boolean"&&this.set(p,!a),this},get:function(p){return this[p]}},function(p){var a=Math.sqrt,m=Math.atan2,v=Math.pow,o=Math.PI/180,c=Math.PI/2;r.util={cos:function(s){if(s===0)return 1;s<0&&(s=-s);var g=s/c;switch(g){case 1:case 3:return 0;case 2:return-1}return Math.cos(s)},sin:function(s){if(s===0)return 0;var g=s/c,x=1;switch(s<0&&(x=-1),g){case 1:return x;case 2:return 0;case 3:return-x}return Math.sin(s)},removeFromArray:function(s,g){var x=s.indexOf(g);return x!==-1&&s.splice(x,1),s},getRandomInt:function(s,g){return Math.floor(Math.random()*(g-s+1))+s},degreesToRadians:function(s){return s*o},radiansToDegrees:function(s){return s/o},rotatePoint:function(s,g,x){var h=new r.Point(s.x-g.x,s.y-g.y),E=r.util.rotateVector(h,x);return new r.Point(E.x,E.y).addEquals(g)},rotateVector:function(s,g){var x=r.util.sin(g),h=r.util.cos(g),E=s.x*h-s.y*x,T=s.x*x+s.y*h;return{x:E,y:T}},transformPoint:function(s,g,x){return x?new r.Point(g[0]*s.x+g[2]*s.y,g[1]*s.x+g[3]*s.y):new r.Point(g[0]*s.x+g[2]*s.y+g[4],g[1]*s.x+g[3]*s.y+g[5])},makeBoundingBoxFromPoints:function(s,g){if(g)for(var x=0;x<s.length;x++)s[x]=r.util.transformPoint(s[x],g);var h=[s[0].x,s[1].x,s[2].x,s[3].x],E=r.util.array.min(h),T=r.util.array.max(h),k=T-E,L=[s[0].y,s[1].y,s[2].y,s[3].y],F=r.util.array.min(L),U=r.util.array.max(L),G=U-F;return{left:E,top:F,width:k,height:G}},invertTransform:function(s){var g=1/(s[0]*s[3]-s[1]*s[2]),x=[g*s[3],-g*s[1],-g*s[2],g*s[0]],h=r.util.transformPoint({x:s[4],y:s[5]},x,!0);return x[4]=-h.x,x[5]=-h.y,x},toFixed:function(s,g){return parseFloat(Number(s).toFixed(g))},parseUnit:function(s,g){var x=/\D{0,2}$/.exec(s),h=parseFloat(s);switch(g||(g=r.Text.DEFAULT_SVG_FONT_SIZE),x[0]){case"mm":return h*r.DPI/25.4;case"cm":return h*r.DPI/2.54;case"in":return h*r.DPI;case"pt":return h*r.DPI/72;case"pc":return h*r.DPI/72*12;case"em":return h*g;default:return h}},falseFunction:function(){return!1},getKlass:function(s,g){return s=r.util.string.camelize(s.charAt(0).toUpperCase()+s.slice(1)),r.util.resolveNamespace(g)[s]},getSvgAttributes:function(s){var g=["instantiated_by_use","style","id","class"];switch(s){case"linearGradient":g=g.concat(["x1","y1","x2","y2","gradientUnits","gradientTransform"]);break;case"radialGradient":g=g.concat(["gradientUnits","gradientTransform","cx","cy","r","fx","fy","fr"]);break;case"stop":g=g.concat(["offset","stop-color","stop-opacity"]);break}return g},resolveNamespace:function(s){if(!s)return r;var g=s.split("."),x=g.length,h,E=p||r.window;for(h=0;h<x;++h)E=E[g[h]];return E},loadImage:function(s,g,x,h){if(!s){g&&g.call(x,s);return}var E=r.util.createImage(),T=function(){g&&g.call(x,E,!1),E=E.onload=E.onerror=null};E.onload=T,E.onerror=function(){r.log("Error loading "+E.src),g&&g.call(x,null,!0),E=E.onload=E.onerror=null},s.indexOf("data")!==0&&h!==void 0&&h!==null&&(E.crossOrigin=h),s.substring(0,14)==="data:image/svg"&&(E.onload=null,r.util.loadImageInDom(E,T)),E.src=s},loadImageInDom:function(s,g){var x=r.document.createElement("div");x.style.width=x.style.height="1px",x.style.left=x.style.top="-100%",x.style.position="absolute",x.appendChild(s),r.document.querySelector("body").appendChild(x),s.onload=function(){g(),x.parentNode.removeChild(x),x=null}},enlivenObjects:function(s,g,x,h){s=s||[];var E=[],T=0,k=s.length;function L(){++T===k&&g&&g(E.filter(function(F){return F}))}if(!k){g&&g(E);return}s.forEach(function(F,U){if(!F||!F.type){L();return}var G=r.util.getKlass(F.type,x);G.fromObject(F,function(Y,K){K||(E[U]=Y),h&&h(F,Y,K),L()})})},enlivenPatterns:function(s,g){s=s||[];function x(){++E===T&&g&&g(h)}var h=[],E=0,T=s.length;if(!T){g&&g(h);return}s.forEach(function(k,L){k&&k.source?new r.Pattern(k,function(F){h[L]=F,x()}):(h[L]=k,x())})},groupSVGElements:function(s,g,x){var h;return s&&s.length===1?s[0]:(g&&(g.width&&g.height?g.centerPoint={x:g.width/2,y:g.height/2}:(delete g.width,delete g.height)),h=new r.Group(s,g),typeof x<"u"&&(h.sourcePath=x),h)},populateWithProperties:function(s,g,x){if(x&&Object.prototype.toString.call(x)==="[object Array]")for(var h=0,E=x.length;h<E;h++)x[h]in s&&(g[x[h]]=s[x[h]])},drawDashedLine:function(s,g,x,h,E,T){var k=h-g,L=E-x,F=a(k*k+L*L),U=m(L,k),G=T.length,Y=0,K=!0;for(s.save(),s.translate(g,x),s.moveTo(0,0),s.rotate(U),g=0;F>g;)g+=T[Y++%G],g>F&&(g=F),s[K?"lineTo":"moveTo"](g,0),K=!K;s.restore()},createCanvasElement:function(){return r.document.createElement("canvas")},copyCanvasElement:function(s){var g=r.util.createCanvasElement();return g.width=s.width,g.height=s.height,g.getContext("2d").drawImage(s,0,0),g},toDataURL:function(s,g,x){return s.toDataURL("image/"+g,x)},createImage:function(){return r.document.createElement("img")},multiplyTransformMatrices:function(s,g,x){return[s[0]*g[0]+s[2]*g[1],s[1]*g[0]+s[3]*g[1],s[0]*g[2]+s[2]*g[3],s[1]*g[2]+s[3]*g[3],x?0:s[0]*g[4]+s[2]*g[5]+s[4],x?0:s[1]*g[4]+s[3]*g[5]+s[5]]},qrDecompose:function(s){var g=m(s[1],s[0]),x=v(s[0],2)+v(s[1],2),h=a(x),E=(s[0]*s[3]-s[2]*s[1])/h,T=m(s[0]*s[2]+s[1]*s[3],x);return{angle:g/o,scaleX:h,scaleY:E,skewX:T/o,skewY:0,translateX:s[4],translateY:s[5]}},calcRotateMatrix:function(s){if(!s.angle)return r.iMatrix.concat();var g=r.util.degreesToRadians(s.angle),x=r.util.cos(g),h=r.util.sin(g);return[x,h,-h,x,0,0]},calcDimensionsMatrix:function(s){var g=typeof s.scaleX>"u"?1:s.scaleX,x=typeof s.scaleY>"u"?1:s.scaleY,h=[s.flipX?-g:g,0,0,s.flipY?-x:x,0,0],E=r.util.multiplyTransformMatrices,T=r.util.degreesToRadians;return s.skewX&&(h=E(h,[1,0,Math.tan(T(s.skewX)),1],!0)),s.skewY&&(h=E(h,[1,Math.tan(T(s.skewY)),0,1],!0)),h},composeMatrix:function(s){var g=[1,0,0,1,s.translateX||0,s.translateY||0],x=r.util.multiplyTransformMatrices;return s.angle&&(g=x(g,r.util.calcRotateMatrix(s))),(s.scaleX!==1||s.scaleY!==1||s.skewX||s.skewY||s.flipX||s.flipY)&&(g=x(g,r.util.calcDimensionsMatrix(s))),g},resetObjectTransform:function(s){s.scaleX=1,s.scaleY=1,s.skewX=0,s.skewY=0,s.flipX=!1,s.flipY=!1,s.rotate(0)},saveObjectTransform:function(s){return{scaleX:s.scaleX,scaleY:s.scaleY,skewX:s.skewX,skewY:s.skewY,angle:s.angle,left:s.left,flipX:s.flipX,flipY:s.flipY,top:s.top}},isTransparent:function(s,g,x,h){h>0&&(g>h?g-=h:g=0,x>h?x-=h:x=0);var E=!0,T,k,L=s.getImageData(g,x,h*2||1,h*2||1),F=L.data.length;for(T=3;T<F&&(k=L.data[T],E=k<=0,E!==!1);T+=4);return L=null,E},parsePreserveAspectRatioAttribute:function(s){var g="meet",x="Mid",h="Mid",E=s.split(" "),T;return E&&E.length&&(g=E.pop(),g!=="meet"&&g!=="slice"?(T=g,g="meet"):E.length&&(T=E.pop())),x=T!=="none"?T.slice(1,4):"none",h=T!=="none"?T.slice(5,8):"none",{meetOrSlice:g,alignX:x,alignY:h}},clearFabricFontCache:function(s){s=(s||"").toLowerCase(),s?r.charWidthsCache[s]&&delete r.charWidthsCache[s]:r.charWidthsCache={}},limitDimsByArea:function(s,g){var x=Math.sqrt(g*s),h=Math.floor(g/x);return{x:Math.floor(x),y:h}},capValue:function(s,g,x){return Math.max(s,Math.min(g,x))},findScaleToFit:function(s,g){return Math.min(g.width/s.width,g.height/s.height)},findScaleToCover:function(s,g){return Math.max(g.width/s.width,g.height/s.height)},matrixToSVG:function(s){return"matrix("+s.map(function(g){return r.util.toFixed(g,r.Object.NUM_FRACTION_DIGITS)}).join(" ")+")"},removeTransformFromObject:function(s,g){var x=r.util.invertTransform(g),h=r.util.multiplyTransformMatrices(x,s.calcOwnMatrix());r.util.applyTransformToObject(s,h)},addTransformToObject:function(s,g){r.util.applyTransformToObject(s,r.util.multiplyTransformMatrices(g,s.calcOwnMatrix()))},applyTransformToObject:function(s,g){var x=r.util.qrDecompose(g),h=new r.Point(x.translateX,x.translateY);s.flipX=!1,s.flipY=!1,s.set("scaleX",x.scaleX),s.set("scaleY",x.scaleY),s.skewX=x.skewX,s.skewY=x.skewY,s.angle=x.angle,s.setPositionByOrigin(h,"center","center")},sizeAfterTransform:function(s,g,x){var h=s/2,E=g/2,T=[{x:-h,y:-E},{x:h,y:-E},{x:-h,y:E},{x:h,y:E}],k=r.util.calcDimensionsMatrix(x),L=r.util.makeBoundingBoxFromPoints(T,k);return{x:L.width,y:L.height}}}}(M),function(){var p=Array.prototype.join,a={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},m={m:"l",M:"L"};function v(ne,re,V,H,W,J,Q,se,fe,ye,Se){var me=r.util.cos(ne),ue=r.util.sin(ne),ie=r.util.cos(re),le=r.util.sin(re),de=V*W*ie-H*J*le+Q,pe=H*W*ie+V*J*le+se,_e=ye+fe*(-V*W*ue-H*J*me),Oe=Se+fe*(-H*W*ue+V*J*me),Ge=de+fe*(V*W*le+H*J*ie),Ye=pe+fe*(H*W*le-V*J*ie);return["C",_e,Oe,Ge,Ye,de,pe]}function o(ne,re,V,H,W,J,Q){var se=Math.PI,fe=Q*se/180,ye=r.util.sin(fe),Se=r.util.cos(fe),me=0,ue=0;V=Math.abs(V),H=Math.abs(H);var ie=-Se*ne*.5-ye*re*.5,le=-Se*re*.5+ye*ne*.5,de=V*V,pe=H*H,_e=le*le,Oe=ie*ie,Ge=de*pe-de*_e-pe*Oe,Ye=0;if(Ge<0){var Te=Math.sqrt(1-Ge/(de*pe));V*=Te,H*=Te}else Ye=(W===J?-1:1)*Math.sqrt(Ge/(de*_e+pe*Oe));var Je=Ye*V*le/H,et=-Ye*H*ie/V,ut=Se*Je-ye*et+ne*.5,St=ye*Je+Se*et+re*.5,mt=c(1,0,(ie-Je)/V,(le-et)/H),wt=c((ie-Je)/V,(le-et)/H,(-ie-Je)/V,(-le-et)/H);J===0&&wt>0?wt-=2*se:J===1&&wt<0&&(wt+=2*se);for(var yt=Math.ceil(Math.abs(wt/se*2)),Pt=[],Kt=wt/yt,sn=8/3*Math.sin(Kt/4)*Math.sin(Kt/4)/Math.sin(Kt/2),Ne=mt+Kt,je=0;je<yt;je++)Pt[je]=v(mt,Ne,Se,ye,V,H,ut,St,sn,me,ue),me=Pt[je][5],ue=Pt[je][6],mt=Ne,Ne+=Kt;return Pt}function c(ne,re,V,H){var W=Math.atan2(re,ne),J=Math.atan2(H,V);return J>=W?J-W:2*Math.PI-(W-J)}function s(ne,re,V,H,W,J,Q,se){var fe;if(r.cachesBoundsOfCurve&&(fe=p.call(arguments),r.boundsOfCurveCache[fe]))return r.boundsOfCurveCache[fe];var ye=Math.sqrt,Se=Math.min,me=Math.max,ue=Math.abs,ie=[],le=[[],[]],de,pe,_e,Oe,Ge,Ye,Te,Je;pe=6*ne-12*V+6*W,de=-3*ne+9*V-9*W+3*Q,_e=3*V-3*ne;for(var et=0;et<2;++et){if(et>0&&(pe=6*re-12*H+6*J,de=-3*re+9*H-9*J+3*se,_e=3*H-3*re),ue(de)<1e-12){if(ue(pe)<1e-12)continue;Oe=-_e/pe,0<Oe&&Oe<1&&ie.push(Oe);continue}Te=pe*pe-4*_e*de,!(Te<0)&&(Je=ye(Te),Ge=(-pe+Je)/(2*de),0<Ge&&Ge<1&&ie.push(Ge),Ye=(-pe-Je)/(2*de),0<Ye&&Ye<1&&ie.push(Ye))}for(var ut,St,mt=ie.length,wt=mt,yt;mt--;)Oe=ie[mt],yt=1-Oe,ut=yt*yt*yt*ne+3*yt*yt*Oe*V+3*yt*Oe*Oe*W+Oe*Oe*Oe*Q,le[0][mt]=ut,St=yt*yt*yt*re+3*yt*yt*Oe*H+3*yt*Oe*Oe*J+Oe*Oe*Oe*se,le[1][mt]=St;le[0][wt]=ne,le[1][wt]=re,le[0][wt+1]=Q,le[1][wt+1]=se;var Pt=[{x:Se.apply(null,le[0]),y:Se.apply(null,le[1])},{x:me.apply(null,le[0]),y:me.apply(null,le[1])}];return r.cachesBoundsOfCurve&&(r.boundsOfCurveCache[fe]=Pt),Pt}function g(ne,re,V){for(var H=V[1],W=V[2],J=V[3],Q=V[4],se=V[5],fe=V[6],ye=V[7],Se=o(fe-ne,ye-re,H,W,Q,se,J),me=0,ue=Se.length;me<ue;me++)Se[me][1]+=ne,Se[me][2]+=re,Se[me][3]+=ne,Se[me][4]+=re,Se[me][5]+=ne,Se[me][6]+=re;return Se}function x(ne){var re=0,V=0,H=ne.length,W=0,J=0,Q,se,fe,ye=[],Se,me,ue;for(se=0;se<H;++se){switch(fe=!1,Q=ne[se].slice(0),Q[0]){case"l":Q[0]="L",Q[1]+=re,Q[2]+=V;case"L":re=Q[1],V=Q[2];break;case"h":Q[1]+=re;case"H":Q[0]="L",Q[2]=V,re=Q[1];break;case"v":Q[1]+=V;case"V":Q[0]="L",V=Q[1],Q[1]=re,Q[2]=V;break;case"m":Q[0]="M",Q[1]+=re,Q[2]+=V;case"M":re=Q[1],V=Q[2],W=Q[1],J=Q[2];break;case"c":Q[0]="C",Q[1]+=re,Q[2]+=V,Q[3]+=re,Q[4]+=V,Q[5]+=re,Q[6]+=V;case"C":me=Q[3],ue=Q[4],re=Q[5],V=Q[6];break;case"s":Q[0]="S",Q[1]+=re,Q[2]+=V,Q[3]+=re,Q[4]+=V;case"S":Se==="C"?(me=2*re-me,ue=2*V-ue):(me=re,ue=V),re=Q[3],V=Q[4],Q[0]="C",Q[5]=Q[3],Q[6]=Q[4],Q[3]=Q[1],Q[4]=Q[2],Q[1]=me,Q[2]=ue,me=Q[3],ue=Q[4];break;case"q":Q[0]="Q",Q[1]+=re,Q[2]+=V,Q[3]+=re,Q[4]+=V;case"Q":me=Q[1],ue=Q[2],re=Q[3],V=Q[4];break;case"t":Q[0]="T",Q[1]+=re,Q[2]+=V;case"T":Se==="Q"?(me=2*re-me,ue=2*V-ue):(me=re,ue=V),Q[0]="Q",re=Q[1],V=Q[2],Q[1]=me,Q[2]=ue,Q[3]=re,Q[4]=V;break;case"a":Q[0]="A",Q[6]+=re,Q[7]+=V;case"A":fe=!0,ye=ye.concat(g(re,V,Q)),re=Q[6],V=Q[7];break;case"z":case"Z":re=W,V=J;break}fe||ye.push(Q),Se=Q[0]}return ye}function h(ne,re,V,H){return Math.sqrt((V-ne)*(V-ne)+(H-re)*(H-re))}function E(ne){return ne*ne*ne}function T(ne){return 3*ne*ne*(1-ne)}function k(ne){return 3*ne*(1-ne)*(1-ne)}function L(ne){return(1-ne)*(1-ne)*(1-ne)}function F(ne,re,V,H,W,J,Q,se){return function(fe){var ye=E(fe),Se=T(fe),me=k(fe),ue=L(fe);return{x:Q*ye+W*Se+V*me+ne*ue,y:se*ye+J*Se+H*me+re*ue}}}function U(ne,re,V,H,W,J,Q,se){return function(fe){var ye=1-fe,Se=3*ye*ye*(V-ne)+6*ye*fe*(W-V)+3*fe*fe*(Q-W),me=3*ye*ye*(H-re)+6*ye*fe*(J-H)+3*fe*fe*(se-J);return Math.atan2(me,Se)}}function G(ne){return ne*ne}function Y(ne){return 2*ne*(1-ne)}function K(ne){return(1-ne)*(1-ne)}function he(ne,re,V,H,W,J){return function(Q){var se=G(Q),fe=Y(Q),ye=K(Q);return{x:W*se+V*fe+ne*ye,y:J*se+H*fe+re*ye}}}function oe(ne,re,V,H,W,J){return function(Q){var se=1-Q,fe=2*se*(V-ne)+2*Q*(W-V),ye=2*se*(H-re)+2*Q*(J-H);return Math.atan2(ye,fe)}}function ve(ne,re,V){var H={x:re,y:V},W,J=0,Q;for(Q=1;Q<=100;Q+=1)W=ne(Q/100),J+=h(H.x,H.y,W.x,W.y),H=W;return J}function ee(ne,re){for(var V=0,H=0,W=ne.iterator,J={x:ne.x,y:ne.y},Q,se,fe=.01,ye=ne.angleFinder,Se;H<re&&V<=1&&fe>1e-4;)Q=W(V),Se=V,se=h(J.x,J.y,Q.x,Q.y),se+H>re?(fe/=2,V-=fe):(J=Q,V+=fe,H+=se);return Q.angle=ye(Se),Q}function xe(ne){for(var re=0,V=ne.length,H,W=0,J=0,Q=0,se=0,fe=[],ye,Se,me,ue=0;ue<V;ue++){switch(H=ne[ue],Se={x:W,y:J,command:H[0]},H[0]){case"M":Se.length=0,Q=W=H[1],se=J=H[2];break;case"L":Se.length=h(W,J,H[1],H[2]),W=H[1],J=H[2];break;case"C":ye=F(W,J,H[1],H[2],H[3],H[4],H[5],H[6]),me=U(W,J,H[1],H[2],H[3],H[4],H[5],H[6]),Se.iterator=ye,Se.angleFinder=me,Se.length=ve(ye,W,J),W=H[5],J=H[6];break;case"Q":ye=he(W,J,H[1],H[2],H[3],H[4]),me=oe(W,J,H[1],H[2],H[3],H[4]),Se.iterator=ye,Se.angleFinder=me,Se.length=ve(ye,W,J),W=H[3],J=H[4];break;case"Z":case"z":Se.destX=Q,Se.destY=se,Se.length=h(W,J,Q,se),W=Q,J=se;break}re+=Se.length,fe.push(Se)}return fe.push({length:re,x:W,y:J}),fe}function Z(ne,re,V){V||(V=xe(ne));for(var H=0;re-V[H].length>0&&H<V.length-2;)re-=V[H].length,H++;var W=V[H],J=re/W.length,Q=W.command,se=ne[H],fe;switch(Q){case"M":return{x:W.x,y:W.y,angle:0};case"Z":case"z":return fe=new r.Point(W.x,W.y).lerp(new r.Point(W.destX,W.destY),J),fe.angle=Math.atan2(W.destY-W.y,W.destX-W.x),fe;case"L":return fe=new r.Point(W.x,W.y).lerp(new r.Point(se[1],se[2]),J),fe.angle=Math.atan2(se[2]-W.y,se[1]-W.x),fe;case"C":return ee(W,re);case"Q":return ee(W,re)}}function Be(ne){var re=[],V=[],H,W,J=r.rePathCommand,Q="[-+]?(?:\\d*\\.\\d+|\\d+\\.?)(?:[eE][-+]?\\d+)?\\s*",se="("+Q+")"+r.commaWsp,fe="([01])"+r.commaWsp+"?",ye=se+"?"+se+"?"+se+fe+fe+se+"?("+Q+")",Se=new RegExp(ye,"g"),me,ue,ie;if(!ne||!ne.match)return re;ie=ne.match(/[mzlhvcsqta][^mzlhvcsqta]*/gi);for(var le=0,de,pe=ie.length;le<pe;le++){H=ie[le],ue=H.slice(1).trim(),V.length=0;var _e=H.charAt(0);if(de=[_e],_e.toLowerCase()==="a")for(var Oe;Oe=Se.exec(ue);)for(var Ge=1;Ge<Oe.length;Ge++)V.push(Oe[Ge]);else for(;me=J.exec(ue);)V.push(me[0]);for(var Ge=0,Ye=V.length;Ge<Ye;Ge++)W=parseFloat(V[Ge]),isNaN(W)||de.push(W);var Te=a[_e.toLowerCase()],Je=m[_e]||_e;if(de.length-1>Te)for(var et=1,ut=de.length;et<ut;et+=Te)re.push([_e].concat(de.slice(et,et+Te))),_e=Je;else re.push(de)}return re}function we(ne,re){var V=[],H,W=new r.Point(ne[0].x,ne[0].y),J=new r.Point(ne[1].x,ne[1].y),Q=ne.length,se=1,fe=0,ye=Q>2;for(re=re||0,ye&&(se=ne[2].x<J.x?-1:ne[2].x===J.x?0:1,fe=ne[2].y<J.y?-1:ne[2].y===J.y?0:1),V.push(["M",W.x-se*re,W.y-fe*re]),H=1;H<Q;H++){if(!W.eq(J)){var Se=W.midPointFrom(J);V.push(["Q",W.x,W.y,Se.x,Se.y])}W=ne[H],H+1<ne.length&&(J=ne[H+1])}return ye&&(se=W.x>ne[H-2].x?1:W.x===ne[H-2].x?0:-1,fe=W.y>ne[H-2].y?1:W.y===ne[H-2].y?0:-1),V.push(["L",W.x+se*re,W.y+fe*re]),V}function ge(ne,re,V){return V&&(re=r.util.multiplyTransformMatrices(re,[1,0,0,1,-V.x,-V.y])),ne.map(function(H){for(var W=H.slice(0),J={},Q=1;Q<H.length-1;Q+=2)J.x=H[Q],J.y=H[Q+1],J=r.util.transformPoint(J,re),W[Q]=J.x,W[Q+1]=J.y;return W})}function te(ne,re,V,H,W,J,Q,se,fe){for(var ye=0,Se=0,me,ue=[],ie=o(se-ne,fe-re,V,H,J,Q,W),le=0,de=ie.length;le<de;le++)me=s(ye,Se,ie[le][1],ie[le][2],ie[le][3],ie[le][4],ie[le][5],ie[le][6]),ue.push({x:me[0].x+ne,y:me[0].y+re}),ue.push({x:me[1].x+ne,y:me[1].y+re}),ye=ie[le][5],Se=ie[le][6];return ue}function ae(ne,re,V,H){H=H.slice(0).unshift("X");var W=g(re,V,H);W.forEach(function(J){ne.bezierCurveTo.apply(ne,J.slice(1))})}r.util.joinPath=function(ne){return ne.map(function(re){return re.join(" ")}).join(" ")},r.util.parsePath=Be,r.util.makePathSimpler=x,r.util.getSmoothPathFromPoints=we,r.util.getPathSegmentsInfo=xe,r.util.getBoundsOfCurve=s,r.util.getPointOnPath=Z,r.util.transformPath=ge,r.util.fromArcToBeizers=g,r.util.getBoundsOfArc=te,r.util.drawArc=ae}(),function(){var p=Array.prototype.slice;function a(s,g){for(var x=p.call(arguments,2),h=[],E=0,T=s.length;E<T;E++)h[E]=x.length?s[E][g].apply(s[E],x):s[E][g].call(s[E]);return h}function m(s,g){return c(s,g,function(x,h){return x>=h})}function v(s,g){return c(s,g,function(x,h){return x<h})}function o(s,g){for(var x=s.length;x--;)s[x]=g;return s}function c(s,g,x){if(!(!s||s.length===0)){var h=s.length-1,E=g?s[h][g]:s[h];if(g)for(;h--;)x(s[h][g],E)&&(E=s[h][g]);else for(;h--;)x(s[h],E)&&(E=s[h]);return E}}r.util.array={fill:o,invoke:a,min:v,max:m}}(),function(){function p(m,v,o){if(o)if(!r.isLikelyNode&&v instanceof Element)m=v;else if(v instanceof Array){m=[];for(var c=0,s=v.length;c<s;c++)m[c]=p({},v[c],o)}else if(v&&typeof v=="object")for(var g in v)g==="canvas"||g==="group"?m[g]=null:v.hasOwnProperty(g)&&(m[g]=p({},v[g],o));else m=v;else for(var g in v)m[g]=v[g];return m}function a(m,v){return p({},m,v)}r.util.object={extend:p,clone:a},r.util.object.extend(r.util,r.Observable)}(),function(){function p(c){return c.replace(/-+(.)?/g,function(s,g){return g?g.toUpperCase():""})}function a(c,s){return c.charAt(0).toUpperCase()+(s?c.slice(1):c.slice(1).toLowerCase())}function m(c){return c.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function v(c){var s=0,g,x=[];for(s=0,g;s<c.length;s++)(g=o(c,s))!==!1&&x.push(g);return x}function o(c,s){var g=c.charCodeAt(s);if(isNaN(g))return"";if(g<55296||g>57343)return c.charAt(s);if(55296<=g&&g<=56319){if(c.length<=s+1)throw"High surrogate without following low surrogate";var x=c.charCodeAt(s+1);if(56320>x||x>57343)throw"High surrogate without following low surrogate";return c.charAt(s)+c.charAt(s+1)}if(s===0)throw"Low surrogate without preceding high surrogate";var h=c.charCodeAt(s-1);if(55296>h||h>56319)throw"Low surrogate without preceding high surrogate";return!1}r.util.string={camelize:p,capitalize:a,escapeXml:m,graphemeSplit:v}}(),function(){var p=Array.prototype.slice,a=function(){},m=function(){for(var g in{toString:1})if(g==="toString")return!1;return!0}(),v=function(g,x,h){for(var E in x)E in g.prototype&&typeof g.prototype[E]=="function"&&(x[E]+"").indexOf("callSuper")>-1?g.prototype[E]=function(T){return function(){var k=this.constructor.superclass;this.constructor.superclass=h;var L=x[T].apply(this,arguments);if(this.constructor.superclass=k,T!=="initialize")return L}}(E):g.prototype[E]=x[E],m&&(x.toString!==Object.prototype.toString&&(g.prototype.toString=x.toString),x.valueOf!==Object.prototype.valueOf&&(g.prototype.valueOf=x.valueOf))};function o(){}function c(g){for(var x=null,h=this;h.constructor.superclass;){var E=h.constructor.superclass.prototype[g];if(h[g]!==E){x=E;break}h=h.constructor.superclass.prototype}return x?arguments.length>1?x.apply(this,p.call(arguments,1)):x.call(this):console.log("tried to callSuper "+g+", method not found in prototype chain",this)}function s(){var g=null,x=p.call(arguments,0);typeof x[0]=="function"&&(g=x.shift());function h(){this.initialize.apply(this,arguments)}h.superclass=g,h.subclasses=[],g&&(o.prototype=g.prototype,h.prototype=new o,g.subclasses.push(h));for(var E=0,T=x.length;E<T;E++)v(h,x[E],g);return h.prototype.initialize||(h.prototype.initialize=a),h.prototype.constructor=h,h.prototype.callSuper=c,h}r.util.createClass=s}(),function(){var p=!!r.document.createElement("div").attachEvent,a=["touchstart","touchmove","touchend"];r.util.addListener=function(v,o,c,s){v&&v.addEventListener(o,c,p?!1:s)},r.util.removeListener=function(v,o,c,s){v&&v.removeEventListener(o,c,p?!1:s)};function m(v){var o=v.changedTouches;return o&&o[0]?o[0]:v}r.util.getPointer=function(v){var o=v.target,c=r.util.getScrollLeftTop(o),s=m(v);return{x:s.clientX+c.left,y:s.clientY+c.top}},r.util.isTouchEvent=function(v){return a.indexOf(v.type)>-1||v.pointerType==="touch"}}(),function(){function p(s,g){var x=s.style;if(!x)return s;if(typeof g=="string")return s.style.cssText+=";"+g,g.indexOf("opacity")>-1?c(s,g.match(/opacity:\s*(\d?\.?\d*)/)[1]):s;for(var h in g)if(h==="opacity")c(s,g[h]);else{var E=h==="float"||h==="cssFloat"?typeof x.styleFloat>"u"?"cssFloat":"styleFloat":h;x[E]=g[h]}return s}var a=r.document.createElement("div"),m=typeof a.style.opacity=="string",v=typeof a.style.filter=="string",o=/alpha\s*\(\s*opacity\s*=\s*([^\)]+)\)/,c=function(s){return s};m?c=function(s,g){return s.style.opacity=g,s}:v&&(c=function(s,g){var x=s.style;return s.currentStyle&&!s.currentStyle.hasLayout&&(x.zoom=1),o.test(x.filter)?(g=g>=.9999?"":"alpha(opacity="+g*100+")",x.filter=x.filter.replace(o,g)):x.filter+=" alpha(opacity="+g*100+")",s}),r.util.setStyle=p}(),function(){var p=Array.prototype.slice;function a(L){return typeof L=="string"?r.document.getElementById(L):L}var m,v=function(L){return p.call(L,0)};try{m=v(r.document.childNodes)instanceof Array}catch{}m||(v=function(L){for(var F=new Array(L.length),U=L.length;U--;)F[U]=L[U];return F});function o(L,F){var U=r.document.createElement(L);for(var G in F)G==="class"?U.className=F[G]:G==="for"?U.htmlFor=F[G]:U.setAttribute(G,F[G]);return U}function c(L,F){L&&(" "+L.className+" ").indexOf(" "+F+" ")===-1&&(L.className+=(L.className?" ":"")+F)}function s(L,F,U){return typeof F=="string"&&(F=o(F,U)),L.parentNode&&L.parentNode.replaceChild(F,L),F.appendChild(L),F}function g(L){for(var F=0,U=0,G=r.document.documentElement,Y=r.document.body||{scrollLeft:0,scrollTop:0};L&&(L.parentNode||L.host)&&(L=L.parentNode||L.host,L===r.document?(F=Y.scrollLeft||G.scrollLeft||0,U=Y.scrollTop||G.scrollTop||0):(F+=L.scrollLeft||0,U+=L.scrollTop||0),!(L.nodeType===1&&L.style.position==="fixed")););return{left:F,top:U}}function x(L){var F,U=L&&L.ownerDocument,G={left:0,top:0},Y={left:0,top:0},K,he={borderLeftWidth:"left",borderTopWidth:"top",paddingLeft:"left",paddingTop:"top"};if(!U)return Y;for(var oe in he)Y[he[oe]]+=parseInt(h(L,oe),10)||0;return F=U.documentElement,typeof L.getBoundingClientRect<"u"&&(G=L.getBoundingClientRect()),K=g(L),{left:G.left+K.left-(F.clientLeft||0)+Y.left,top:G.top+K.top-(F.clientTop||0)+Y.top}}var h;r.document.defaultView&&r.document.defaultView.getComputedStyle?h=function(L,F){var U=r.document.defaultView.getComputedStyle(L,null);return U?U[F]:void 0}:h=function(L,F){var U=L.style[F];return!U&&L.currentStyle&&(U=L.currentStyle[F]),U},function(){var L=r.document.documentElement.style,F="userSelect"in L?"userSelect":"MozUserSelect"in L?"MozUserSelect":"WebkitUserSelect"in L?"WebkitUserSelect":"KhtmlUserSelect"in L?"KhtmlUserSelect":"";function U(Y){return typeof Y.onselectstart<"u"&&(Y.onselectstart=r.util.falseFunction),F?Y.style[F]="none":typeof Y.unselectable=="string"&&(Y.unselectable="on"),Y}function G(Y){return typeof Y.onselectstart<"u"&&(Y.onselectstart=null),F?Y.style[F]="":typeof Y.unselectable=="string"&&(Y.unselectable=""),Y}r.util.makeElementUnselectable=U,r.util.makeElementSelectable=G}();function E(L){var F=r.jsdomImplForWrapper(L);return F._canvas||F._image}function T(L){if(r.isLikelyNode){var F=r.jsdomImplForWrapper(L);F&&(F._image=null,F._canvas=null,F._currentSrc=null,F._attributes=null,F._classList=null)}}function k(L,F){L.imageSmoothingEnabled=L.imageSmoothingEnabled||L.webkitImageSmoothingEnabled||L.mozImageSmoothingEnabled||L.msImageSmoothingEnabled||L.oImageSmoothingEnabled,L.imageSmoothingEnabled=F}r.util.setImageSmoothing=k,r.util.getById=a,r.util.toArray=v,r.util.addClass=c,r.util.makeElement=o,r.util.wrapElement=s,r.util.getScrollLeftTop=g,r.util.getElementOffset=x,r.util.getNodeCanvas=E,r.util.cleanUpJsdomNode=T}(),function(){function p(v,o){return v+(/\?/.test(v)?"&":"?")+o}function a(){}function m(v,o){o||(o={});var c=o.method?o.method.toUpperCase():"GET",s=o.onComplete||function(){},g=new r.window.XMLHttpRequest,x=o.body||o.parameters;return g.onreadystatechange=function(){g.readyState===4&&(s(g),g.onreadystatechange=a)},c==="GET"&&(x=null,typeof o.parameters=="string"&&(v=p(v,o.parameters))),g.open(c,v,!0),(c==="POST"||c==="PUT")&&g.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),g.send(x),g}r.util.request=m}(),r.log=console.log,r.warn=console.warn,function(){function p(){return!1}function a(g,x,h,E){return-h*Math.cos(g/E*(Math.PI/2))+h+x}function m(g){var x=!1;return c(function(h){g||(g={});var E=h||+new Date,T=g.duration||500,k=E+T,L,F=g.onChange||p,U=g.abort||p,G=g.onComplete||p,Y=g.easing||a,K="startValue"in g?g.startValue:0,he="endValue"in g?g.endValue:100,oe=g.byValue||he-K;g.onStart&&g.onStart(),function ve(ee){L=ee||+new Date;var xe=L>k?T:L-E,Z=xe/T,Be=Y(xe,K,oe,T),we=Math.abs((Be-K)/oe);if(!x){if(U(Be,we,Z)){G(he,1,1);return}if(L>k){F(he,1,1),G(he,1,1);return}else F(Be,we,Z),c(ve)}}(E)}),function(){x=!0}}var v=r.window.requestAnimationFrame||r.window.webkitRequestAnimationFrame||r.window.mozRequestAnimationFrame||r.window.oRequestAnimationFrame||r.window.msRequestAnimationFrame||function(g){return r.window.setTimeout(g,1e3/60)},o=r.window.cancelAnimationFrame||r.window.clearTimeout;function c(){return v.apply(r.window,arguments)}function s(){return o.apply(r.window,arguments)}r.util.animate=m,r.util.requestAnimFrame=c,r.util.cancelAnimFrame=s}(),function(){function p(m,v,o){var c="rgba("+parseInt(m[0]+o*(v[0]-m[0]),10)+","+parseInt(m[1]+o*(v[1]-m[1]),10)+","+parseInt(m[2]+o*(v[2]-m[2]),10);return c+=","+(m&&v?parseFloat(m[3]+o*(v[3]-m[3])):1),c+=")",c}function a(m,v,o,c){var s=new r.Color(m).getSource(),g=new r.Color(v).getSource(),x=c.onComplete,h=c.onChange;return c=c||{},r.util.animate(r.util.object.extend(c,{duration:o||500,startValue:s,endValue:g,byValue:g,easing:function(E,T,k,L){var F=c.colorEasing?c.colorEasing(E,L):1-Math.cos(E/L*(Math.PI/2));return p(T,k,F)},onComplete:function(E,T,k){if(x)return x(p(g,g,0),T,k)},onChange:function(E,T,k){if(h){if(Array.isArray(E))return h(p(E,E,0),T,k);h(E,T,k)}}}))}r.util.animateColor=a}(),function(){function p(te,ae,ne,re){return te<Math.abs(ae)?(te=ae,re=ne/4):ae===0&&te===0?re=ne/(2*Math.PI)*Math.asin(1):re=ne/(2*Math.PI)*Math.asin(ae/te),{a:te,c:ae,p:ne,s:re}}function a(te,ae,ne){return te.a*Math.pow(2,10*(ae-=1))*Math.sin((ae*ne-te.s)*(2*Math.PI)/te.p)}function m(te,ae,ne,re){return ne*((te=te/re-1)*te*te+1)+ae}function v(te,ae,ne,re){return te/=re/2,te<1?ne/2*te*te*te+ae:ne/2*((te-=2)*te*te+2)+ae}function o(te,ae,ne,re){return ne*(te/=re)*te*te*te+ae}function c(te,ae,ne,re){return-ne*((te=te/re-1)*te*te*te-1)+ae}function s(te,ae,ne,re){return te/=re/2,te<1?ne/2*te*te*te*te+ae:-ne/2*((te-=2)*te*te*te-2)+ae}function g(te,ae,ne,re){return ne*(te/=re)*te*te*te*te+ae}function x(te,ae,ne,re){return ne*((te=te/re-1)*te*te*te*te+1)+ae}function h(te,ae,ne,re){return te/=re/2,te<1?ne/2*te*te*te*te*te+ae:ne/2*((te-=2)*te*te*te*te+2)+ae}function E(te,ae,ne,re){return-ne*Math.cos(te/re*(Math.PI/2))+ne+ae}function T(te,ae,ne,re){return ne*Math.sin(te/re*(Math.PI/2))+ae}function k(te,ae,ne,re){return-ne/2*(Math.cos(Math.PI*te/re)-1)+ae}function L(te,ae,ne,re){return te===0?ae:ne*Math.pow(2,10*(te/re-1))+ae}function F(te,ae,ne,re){return te===re?ae+ne:ne*(-Math.pow(2,-10*te/re)+1)+ae}function U(te,ae,ne,re){return te===0?ae:te===re?ae+ne:(te/=re/2,te<1?ne/2*Math.pow(2,10*(te-1))+ae:ne/2*(-Math.pow(2,-10*--te)+2)+ae)}function G(te,ae,ne,re){return-ne*(Math.sqrt(1-(te/=re)*te)-1)+ae}function Y(te,ae,ne,re){return ne*Math.sqrt(1-(te=te/re-1)*te)+ae}function K(te,ae,ne,re){return te/=re/2,te<1?-ne/2*(Math.sqrt(1-te*te)-1)+ae:ne/2*(Math.sqrt(1-(te-=2)*te)+1)+ae}function he(te,ae,ne,re){var V=1.70158,H=0,W=ne;if(te===0)return ae;if(te/=re,te===1)return ae+ne;H||(H=re*.3);var J=p(W,ne,H,V);return-a(J,te,re)+ae}function oe(te,ae,ne,re){var V=1.70158,H=0,W=ne;if(te===0)return ae;if(te/=re,te===1)return ae+ne;H||(H=re*.3);var J=p(W,ne,H,V);return J.a*Math.pow(2,-10*te)*Math.sin((te*re-J.s)*(2*Math.PI)/J.p)+J.c+ae}function ve(te,ae,ne,re){var V=1.70158,H=0,W=ne;if(te===0)return ae;if(te/=re/2,te===2)return ae+ne;H||(H=re*.44999999999999996);var J=p(W,ne,H,V);return te<1?-.5*a(J,te,re)+ae:J.a*Math.pow(2,-10*(te-=1))*Math.sin((te*re-J.s)*(2*Math.PI)/J.p)*.5+J.c+ae}function ee(te,ae,ne,re,V){return V===void 0&&(V=1.70158),ne*(te/=re)*te*((V+1)*te-V)+ae}function xe(te,ae,ne,re,V){return V===void 0&&(V=1.70158),ne*((te=te/re-1)*te*((V+1)*te+V)+1)+ae}function Z(te,ae,ne,re,V){return V===void 0&&(V=1.70158),te/=re/2,te<1?ne/2*(te*te*(((V*=1.525)+1)*te-V))+ae:ne/2*((te-=2)*te*(((V*=1.525)+1)*te+V)+2)+ae}function Be(te,ae,ne,re){return ne-we(re-te,0,ne,re)+ae}function we(te,ae,ne,re){return(te/=re)<.36363636363636365?ne*(7.5625*te*te)+ae:te<.7272727272727273?ne*(7.5625*(te-=.5454545454545454)*te+.75)+ae:te<.9090909090909091?ne*(7.5625*(te-=.8181818181818182)*te+.9375)+ae:ne*(7.5625*(te-=.9545454545454546)*te+.984375)+ae}function ge(te,ae,ne,re){return te<re/2?Be(te*2,0,ne,re)*.5+ae:we(te*2-re,0,ne,re)*.5+ne*.5+ae}r.util.ease={easeInQuad:function(te,ae,ne,re){return ne*(te/=re)*te+ae},easeOutQuad:function(te,ae,ne,re){return-ne*(te/=re)*(te-2)+ae},easeInOutQuad:function(te,ae,ne,re){return te/=re/2,te<1?ne/2*te*te+ae:-ne/2*(--te*(te-2)-1)+ae},easeInCubic:function(te,ae,ne,re){return ne*(te/=re)*te*te+ae},easeOutCubic:m,easeInOutCubic:v,easeInQuart:o,easeOutQuart:c,easeInOutQuart:s,easeInQuint:g,easeOutQuint:x,easeInOutQuint:h,easeInSine:E,easeOutSine:T,easeInOutSine:k,easeInExpo:L,easeOutExpo:F,easeInOutExpo:U,easeInCirc:G,easeOutCirc:Y,easeInOutCirc:K,easeInElastic:he,easeOutElastic:oe,easeInOutElastic:ve,easeInBack:ee,easeOutBack:xe,easeInOutBack:Z,easeInBounce:Be,easeOutBounce:we,easeInOutBounce:ge}}(),function(p){var a=p.fabric||(p.fabric={}),m=a.util.object.extend,v=a.util.object.clone,o=a.util.toFixed,c=a.util.parseUnit,s=a.util.multiplyTransformMatrices,g=["path","circle","polygon","polyline","ellipse","rect","line","image","text"],x=["symbol","image","marker","pattern","view","svg"],h=["pattern","defs","symbol","metadata","clipPath","mask","desc"],E=["symbol","g","a","svg","clipPath","defs"],T={cx:"left",x:"left",r:"radius",cy:"top",y:"top",display:"visible",visibility:"visible",transform:"transformMatrix","fill-opacity":"fillOpacity","fill-rule":"fillRule","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","letter-spacing":"charSpacing","paint-order":"paintFirst","stroke-dasharray":"strokeDashArray","stroke-dashoffset":"strokeDashOffset","stroke-linecap":"strokeLineCap","stroke-linejoin":"strokeLineJoin","stroke-miterlimit":"strokeMiterLimit","stroke-opacity":"strokeOpacity","stroke-width":"strokeWidth","text-decoration":"textDecoration","text-anchor":"textAnchor",opacity:"opacity","clip-path":"clipPath","clip-rule":"clipRule","vector-effect":"strokeUniform","image-rendering":"imageSmoothing"},k={stroke:"strokeOpacity",fill:"fillOpacity"},L="font-size",F="clip-path";a.svgValidTagNamesRegEx=Y(g),a.svgViewBoxElementsRegEx=Y(x),a.svgInvalidAncestorsRegEx=Y(h),a.svgValidParentsRegEx=Y(E),a.cssRules={},a.gradientDefs={},a.clipPaths={};function U(H){return H in T?T[H]:H}function G(H,W,J,Q){var se=Object.prototype.toString.call(W)==="[object Array]",fe;if((H==="fill"||H==="stroke")&&W==="none")W="";else{if(H==="strokeUniform")return W==="non-scaling-stroke";if(H==="strokeDashArray")W==="none"?W=null:W=W.replace(/,/g," ").split(/\s+/).map(parseFloat);else if(H==="transformMatrix")J&&J.transformMatrix?W=s(J.transformMatrix,a.parseTransformAttribute(W)):W=a.parseTransformAttribute(W);else if(H==="visible")W=W!=="none"&&W!=="hidden",J&&J.visible===!1&&(W=!1);else if(H==="opacity")W=parseFloat(W),J&&typeof J.opacity<"u"&&(W*=J.opacity);else if(H==="textAnchor")W=W==="start"?"left":W==="end"?"right":"center";else if(H==="charSpacing")fe=c(W,Q)/Q*1e3;else if(H==="paintFirst"){var ye=W.indexOf("fill"),Se=W.indexOf("stroke"),W="fill";(ye>-1&&Se>-1&&Se<ye||ye===-1&&Se>-1)&&(W="stroke")}else{if(H==="href"||H==="xlink:href"||H==="font")return W;if(H==="imageSmoothing")return W==="optimizeQuality";fe=se?W.map(c):c(W,Q)}}return!se&&isNaN(fe)?W:fe}function Y(H){return new RegExp("^("+H.join("|")+")\\b","i")}function K(H){for(var W in k)if(!(typeof H[k[W]]>"u"||H[W]==="")){if(typeof H[W]>"u"){if(!a.Object.prototype[W])continue;H[W]=a.Object.prototype[W]}if(H[W].indexOf("url(")!==0){var J=new a.Color(H[W]);H[W]=J.setAlpha(o(J.getAlpha()*H[k[W]],2)).toRgba()}}return H}function he(H,W){var J,Q=[],se,fe,ye;for(fe=0,ye=W.length;fe<ye;fe++)J=W[fe],se=H.getElementsByTagName(J),Q=Q.concat(Array.prototype.slice.call(se));return Q}a.parseTransformAttribute=function(){function H(Te,Je){var et=a.util.cos(Je[0]),ut=a.util.sin(Je[0]),St=0,mt=0;Je.length===3&&(St=Je[1],mt=Je[2]),Te[0]=et,Te[1]=ut,Te[2]=-ut,Te[3]=et,Te[4]=St-(et*St-ut*mt),Te[5]=mt-(ut*St+et*mt)}function W(Te,Je){var et=Je[0],ut=Je.length===2?Je[1]:Je[0];Te[0]=et,Te[3]=ut}function J(Te,Je,et){Te[et]=Math.tan(a.util.degreesToRadians(Je[0]))}function Q(Te,Je){Te[4]=Je[0],Je.length===2&&(Te[5]=Je[1])}var se=a.iMatrix,fe=a.reNum,ye=a.commaWsp,Se="(?:(skewX)\\s*\\(\\s*("+fe+")\\s*\\))",me="(?:(skewY)\\s*\\(\\s*("+fe+")\\s*\\))",ue="(?:(rotate)\\s*\\(\\s*("+fe+")(?:"+ye+"("+fe+")"+ye+"("+fe+"))?\\s*\\))",ie="(?:(scale)\\s*\\(\\s*("+fe+")(?:"+ye+"("+fe+"))?\\s*\\))",le="(?:(translate)\\s*\\(\\s*("+fe+")(?:"+ye+"("+fe+"))?\\s*\\))",de="(?:(matrix)\\s*\\(\\s*("+fe+")"+ye+"("+fe+")"+ye+"("+fe+")"+ye+"("+fe+")"+ye+"("+fe+")"+ye+"("+fe+")\\s*\\))",pe="(?:"+de+"|"+le+"|"+ie+"|"+ue+"|"+Se+"|"+me+")",_e="(?:"+pe+"(?:"+ye+"*"+pe+")*)",Oe="^\\s*(?:"+_e+"?)\\s*$",Ge=new RegExp(Oe),Ye=new RegExp(pe,"g");return function(Te){var Je=se.concat(),et=[];if(!Te||Te&&!Ge.test(Te))return Je;Te.replace(Ye,function(St){var mt=new RegExp(pe).exec(St).filter(function(Pt){return!!Pt}),wt=mt[1],yt=mt.slice(2).map(parseFloat);switch(wt){case"translate":Q(Je,yt);break;case"rotate":yt[0]=a.util.degreesToRadians(yt[0]),H(Je,yt);break;case"scale":W(Je,yt);break;case"skewX":J(Je,yt,2);break;case"skewY":J(Je,yt,1);break;case"matrix":Je=yt;break}et.push(Je.concat()),Je=se.concat()});for(var ut=et[0];et.length>1;)et.shift(),ut=a.util.multiplyTransformMatrices(ut,et[0]);return ut}}();function oe(H,W){var J,Q;H.replace(/;\s*$/,"").split(";").forEach(function(se){var fe=se.split(":");J=fe[0].trim().toLowerCase(),Q=fe[1].trim(),W[J]=Q})}function ve(H,W){var J,Q;for(var se in H)typeof H[se]>"u"||(J=se.toLowerCase(),Q=H[se],W[J]=Q)}function ee(H,W){var J={};for(var Q in a.cssRules[W])if(xe(H,Q.split(" ")))for(var se in a.cssRules[W][Q])J[se]=a.cssRules[W][Q][se];return J}function xe(H,W){var J,Q=!0;return J=Be(H,W.pop()),J&&W.length&&(Q=Z(H,W)),J&&Q&&W.length===0}function Z(H,W){for(var J,Q=!0;H.parentNode&&H.parentNode.nodeType===1&&W.length;)Q&&(J=W.pop()),H=H.parentNode,Q=Be(H,J);return W.length===0}function Be(H,W){var J=H.nodeName,Q=H.getAttribute("class"),se=H.getAttribute("id"),fe,ye;if(fe=new RegExp("^"+J,"i"),W=W.replace(fe,""),se&&W.length&&(fe=new RegExp("#"+se+"(?![a-zA-Z\\-]+)","i"),W=W.replace(fe,"")),Q&&W.length)for(Q=Q.split(" "),ye=Q.length;ye--;)fe=new RegExp("\\."+Q[ye]+"(?![a-zA-Z\\-]+)","i"),W=W.replace(fe,"");return W.length===0}function we(H,W){var J;if(H.getElementById&&(J=H.getElementById(W)),J)return J;var Q,se,fe,ye=H.getElementsByTagName("*");for(se=0,fe=ye.length;se<fe;se++)if(Q=ye[se],W===Q.getAttribute("id"))return Q}function ge(H){for(var W=he(H,["use","svg:use"]),J=0;W.length&&J<W.length;){var Q=W[J],se=Q.getAttribute("xlink:href")||Q.getAttribute("href");if(se===null)return;var fe=se.substr(1),ye=Q.getAttribute("x")||0,Se=Q.getAttribute("y")||0,me=we(H,fe).cloneNode(!0),ue=(me.getAttribute("transform")||"")+" translate("+ye+", "+Se+")",ie,le=W.length,de,pe,_e,Oe,Ge=a.svgNS;if(ae(me),/^svg$/i.test(me.nodeName)){var Ye=me.ownerDocument.createElementNS(Ge,"g");for(pe=0,_e=me.attributes,Oe=_e.length;pe<Oe;pe++)de=_e.item(pe),Ye.setAttributeNS(Ge,de.nodeName,de.nodeValue);for(;me.firstChild;)Ye.appendChild(me.firstChild);me=Ye}for(pe=0,_e=Q.attributes,Oe=_e.length;pe<Oe;pe++)de=_e.item(pe),!(de.nodeName==="x"||de.nodeName==="y"||de.nodeName==="xlink:href"||de.nodeName==="href")&&(de.nodeName==="transform"?ue=de.nodeValue+" "+ue:me.setAttribute(de.nodeName,de.nodeValue));me.setAttribute("transform",ue),me.setAttribute("instantiated_by_use","1"),me.removeAttribute("id"),ie=Q.parentNode,ie.replaceChild(me,Q),W.length===le&&J++}}var te=new RegExp("^\\s*("+a.reNum+"+)\\s*,?\\s*("+a.reNum+"+)\\s*,?\\s*("+a.reNum+"+)\\s*,?\\s*("+a.reNum+"+)\\s*$");function ae(H){if(!a.svgViewBoxElementsRegEx.test(H.nodeName))return{};var W=H.getAttribute("viewBox"),J=1,Q=1,se=0,fe=0,ye,Se,me,ue,ie=H.getAttribute("width"),le=H.getAttribute("height"),de=H.getAttribute("x")||0,pe=H.getAttribute("y")||0,_e=H.getAttribute("preserveAspectRatio")||"",Oe=!W||!(W=W.match(te)),Ge=!ie||!le||ie==="100%"||le==="100%",Ye=Oe&&Ge,Te={},Je="",et=0,ut=0;if(Te.width=0,Te.height=0,Te.toBeParsed=Ye,Oe&&(de||pe)&&H.parentNode&&H.parentNode.nodeName!=="#document"&&(Je=" translate("+c(de)+" "+c(pe)+") ",me=(H.getAttribute("transform")||"")+Je,H.setAttribute("transform",me),H.removeAttribute("x"),H.removeAttribute("y")),Ye)return Te;if(Oe)return Te.width=c(ie),Te.height=c(le),Te;if(se=-parseFloat(W[1]),fe=-parseFloat(W[2]),ye=parseFloat(W[3]),Se=parseFloat(W[4]),Te.minX=se,Te.minY=fe,Te.viewBoxWidth=ye,Te.viewBoxHeight=Se,Ge?(Te.width=ye,Te.height=Se):(Te.width=c(ie),Te.height=c(le),J=Te.width/ye,Q=Te.height/Se),_e=a.util.parsePreserveAspectRatioAttribute(_e),_e.alignX!=="none"&&(_e.meetOrSlice==="meet"&&(Q=J=J>Q?Q:J),_e.meetOrSlice==="slice"&&(Q=J=J>Q?J:Q),et=Te.width-ye*J,ut=Te.height-Se*J,_e.alignX==="Mid"&&(et/=2),_e.alignY==="Mid"&&(ut/=2),_e.alignX==="Min"&&(et=0),_e.alignY==="Min"&&(ut=0)),J===1&&Q===1&&se===0&&fe===0&&de===0&&pe===0)return Te;if((de||pe)&&H.parentNode.nodeName!=="#document"&&(Je=" translate("+c(de)+" "+c(pe)+") "),me=Je+" matrix("+J+" 0 0 "+Q+" "+(se*J+et)+" "+(fe*Q+ut)+") ",H.nodeName==="svg"){for(ue=H.ownerDocument.createElementNS(a.svgNS,"g");H.firstChild;)ue.appendChild(H.firstChild);H.appendChild(ue)}else ue=H,ue.removeAttribute("x"),ue.removeAttribute("y"),me=ue.getAttribute("transform")+me;return ue.setAttribute("transform",me),Te}function ne(H,W){for(;H&&(H=H.parentNode);)if(H.nodeName&&W.test(H.nodeName.replace("svg:",""))&&!H.getAttribute("instantiated_by_use"))return!0;return!1}a.parseSVGDocument=function(H,W,J,Q){if(H){ge(H);var se=a.Object.__uid++,fe,ye,Se=ae(H),me=a.util.toArray(H.getElementsByTagName("*"));if(Se.crossOrigin=Q&&Q.crossOrigin,Se.svgUid=se,me.length===0&&a.isLikelyNode){me=H.selectNodes('//*[name(.)!="svg"]');var ue=[];for(fe=0,ye=me.length;fe<ye;fe++)ue[fe]=me[fe];me=ue}var ie=me.filter(function(de){return ae(de),a.svgValidTagNamesRegEx.test(de.nodeName.replace("svg:",""))&&!ne(de,a.svgInvalidAncestorsRegEx)});if(!ie||ie&&!ie.length){W&&W([],{});return}var le={};me.filter(function(de){return de.nodeName.replace("svg:","")==="clipPath"}).forEach(function(de){var pe=de.getAttribute("id");le[pe]=a.util.toArray(de.getElementsByTagName("*")).filter(function(_e){return a.svgValidTagNamesRegEx.test(_e.nodeName.replace("svg:",""))})}),a.gradientDefs[se]=a.getGradientDefs(H),a.cssRules[se]=a.getCSSRules(H),a.clipPaths[se]=le,a.parseElements(ie,function(de,pe){W&&(W(de,Se,pe,me),delete a.gradientDefs[se],delete a.cssRules[se],delete a.clipPaths[se])},v(Se),J,Q)}};function re(H,W){var J=["gradientTransform","x1","x2","y1","y2","gradientUnits","cx","cy","r","fx","fy"],Q="xlink:href",se=W.getAttribute(Q).substr(1),fe=we(H,se);if(fe&&fe.getAttribute(Q)&&re(H,fe),J.forEach(function(Se){fe&&!W.hasAttribute(Se)&&fe.hasAttribute(Se)&&W.setAttribute(Se,fe.getAttribute(Se))}),!W.children.length)for(var ye=fe.cloneNode(!0);ye.firstChild;)W.appendChild(ye.firstChild);W.removeAttribute(Q)}var V=new RegExp("(normal|italic)?\\s*(normal|small-caps)?\\s*(normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900)?\\s*("+a.reNum+"(?:px|cm|mm|em|pt|pc|in)*)(?:\\/(normal|"+a.reNum+"))?\\s+(.*)");m(a,{parseFontDeclaration:function(H,W){var J=H.match(V);if(J){var Q=J[1],se=J[3],fe=J[4],ye=J[5],Se=J[6];Q&&(W.fontStyle=Q),se&&(W.fontWeight=isNaN(parseFloat(se))?se:parseFloat(se)),fe&&(W.fontSize=c(fe)),Se&&(W.fontFamily=Se),ye&&(W.lineHeight=ye==="normal"?1:ye)}},getGradientDefs:function(H){var W=["linearGradient","radialGradient","svg:linearGradient","svg:radialGradient"],J=he(H,W),Q,se=0,fe={};for(se=J.length;se--;)Q=J[se],Q.getAttribute("xlink:href")&&re(H,Q),fe[Q.getAttribute("id")]=Q;return fe},parseAttributes:function(H,W,J){if(H){var Q,se={},fe,ye;typeof J>"u"&&(J=H.getAttribute("svgUid")),H.parentNode&&a.svgValidParentsRegEx.test(H.parentNode.nodeName)&&(se=a.parseAttributes(H.parentNode,W,J));var Se=W.reduce(function(_e,Oe){return Q=H.getAttribute(Oe),Q&&(_e[Oe]=Q),_e},{}),me=m(ee(H,J),a.parseStyleAttribute(H));Se=m(Se,me),me[F]&&H.setAttribute(F,me[F]),fe=ye=se.fontSize||a.Text.DEFAULT_SVG_FONT_SIZE,Se[L]&&(Se[L]=fe=c(Se[L],ye));var ue,ie,le={};for(var de in Se)ue=U(de),ie=G(ue,Se[de],se,fe),le[ue]=ie;le&&le.font&&a.parseFontDeclaration(le.font,le);var pe=m(se,le);return a.svgValidParentsRegEx.test(H.nodeName)?pe:K(pe)}},parseElements:function(H,W,J,Q,se){new a.ElementsParser(H,W,J,Q,se).parse()},parseStyleAttribute:function(H){var W={},J=H.getAttribute("style");return J&&(typeof J=="string"?oe(J,W):ve(J,W)),W},parsePointsAttribute:function(H){if(!H)return null;H=H.replace(/,/g," ").trim(),H=H.split(/\s+/);var W=[],J,Q;for(J=0,Q=H.length;J<Q;J+=2)W.push({x:parseFloat(H[J]),y:parseFloat(H[J+1])});return W},getCSSRules:function(H){var W=H.getElementsByTagName("style"),J,Q,se={},fe;for(J=0,Q=W.length;J<Q;J++){var ye=W[J].textContent;ye=ye.replace(/\/\*[\s\S]*?\*\//g,""),ye.trim()!==""&&(fe=ye.match(/[^{]*\{[\s\S]*?\}/g),fe=fe.map(function(Se){return Se.trim()}),fe.forEach(function(Se){var me=Se.match(/([\s\S]*?)\s*\{([^}]*)\}/),ue={},ie=me[2].trim(),le=ie.replace(/;$/,"").split(/\s*;\s*/);for(J=0,Q=le.length;J<Q;J++){var de=le[J].split(/\s*:\s*/),pe=de[0],_e=de[1];ue[pe]=_e}Se=me[1],Se.split(",").forEach(function(Oe){Oe=Oe.replace(/^svg/i,"").trim(),Oe!==""&&(se[Oe]?a.util.object.extend(se[Oe],ue):se[Oe]=a.util.object.clone(ue))})}))}return se},loadSVGFromURL:function(H,W,J,Q){H=H.replace(/^\n\s*/,"").trim(),new a.util.request(H,{method:"get",onComplete:se});function se(fe){var ye=fe.responseXML;if(!ye||!ye.documentElement)return W&&W(null),!1;a.parseSVGDocument(ye.documentElement,function(Se,me,ue,ie){W&&W(Se,me,ue,ie)},J,Q)}},loadSVGFromString:function(H,W,J,Q){var se=new a.window.DOMParser,fe=se.parseFromString(H.trim(),"text/xml");a.parseSVGDocument(fe.documentElement,function(ye,Se,me,ue){W(ye,Se,me,ue)},J,Q)}})}(M),r.ElementsParser=function(p,a,m,v,o,c){this.elements=p,this.callback=a,this.options=m,this.reviver=v,this.svgUid=m&&m.svgUid||0,this.parsingOptions=o,this.regexUrl=/^url\(['"]?#([^'"]+)['"]?\)/g,this.doc=c},function(p){p.parse=function(){this.instances=new Array(this.elements.length),this.numElements=this.elements.length,this.createObjects()},p.createObjects=function(){var a=this;this.elements.forEach(function(m,v){m.setAttribute("svgUid",a.svgUid),a.createObject(m,v)})},p.findTag=function(a){return r[r.util.string.capitalize(a.tagName.replace("svg:",""))]},p.createObject=function(a,m){var v=this.findTag(a);if(v&&v.fromElement)try{v.fromElement(a,this.createCallback(m,a),this.options)}catch(o){r.log(o)}else this.checkIfDone()},p.createCallback=function(a,m){var v=this;return function(o){var c;v.resolveGradient(o,m,"fill"),v.resolveGradient(o,m,"stroke"),o instanceof r.Image&&o._originalElement&&(c=o.parsePreserveAspectRatioAttribute(m)),o._removeTransformMatrix(c),v.resolveClipPath(o,m),v.reviver&&v.reviver(m,o),v.instances[a]=o,v.checkIfDone()}},p.extractPropertyDefinition=function(a,m,v){var o=a[m],c=this.regexUrl;if(c.test(o)){c.lastIndex=0;var s=c.exec(o)[1];return c.lastIndex=0,r[v][this.svgUid][s]}},p.resolveGradient=function(a,m,v){var o=this.extractPropertyDefinition(a,v,"gradientDefs");if(o){var c=m.getAttribute(v+"-opacity"),s=r.Gradient.fromElement(o,a,c,this.options);a.set(v,s)}},p.createClipPathCallback=function(a,m){return function(v){v._removeTransformMatrix(),v.fillRule=v.clipRule,m.push(v)}},p.resolveClipPath=function(a,m){var v=this.extractPropertyDefinition(a,"clipPath","clipPaths"),o,c,s,g,x,h;if(v){g=[],s=r.util.invertTransform(a.calcTransformMatrix());for(var E=v[0].parentNode,T=m;T.parentNode&&T.getAttribute("clip-path")!==a.clipPath;)T=T.parentNode;T.parentNode.appendChild(E);for(var k=0;k<v.length;k++)o=v[k],c=this.findTag(o),c.fromElement(o,this.createClipPathCallback(a,g),this.options);g.length===1?v=g[0]:v=new r.Group(g),x=r.util.multiplyTransformMatrices(s,v.calcTransformMatrix()),v.clipPath&&this.resolveClipPath(v,T);var h=r.util.qrDecompose(x);v.flipX=!1,v.flipY=!1,v.set("scaleX",h.scaleX),v.set("scaleY",h.scaleY),v.angle=h.angle,v.skewX=h.skewX,v.skewY=0,v.setPositionByOrigin({x:h.translateX,y:h.translateY},"center","center"),a.clipPath=v}else delete a.clipPath},p.checkIfDone=function(){--this.numElements===0&&(this.instances=this.instances.filter(function(a){return a!=null}),this.callback(this.instances,this.elements))}}(r.ElementsParser.prototype),function(p){var a=p.fabric||(p.fabric={});if(a.Point){a.warn("fabric.Point is already defined");return}a.Point=m;function m(v,o){this.x=v,this.y=o}m.prototype={type:"point",constructor:m,add:function(v){return new m(this.x+v.x,this.y+v.y)},addEquals:function(v){return this.x+=v.x,this.y+=v.y,this},scalarAdd:function(v){return new m(this.x+v,this.y+v)},scalarAddEquals:function(v){return this.x+=v,this.y+=v,this},subtract:function(v){return new m(this.x-v.x,this.y-v.y)},subtractEquals:function(v){return this.x-=v.x,this.y-=v.y,this},scalarSubtract:function(v){return new m(this.x-v,this.y-v)},scalarSubtractEquals:function(v){return this.x-=v,this.y-=v,this},multiply:function(v){return new m(this.x*v,this.y*v)},multiplyEquals:function(v){return this.x*=v,this.y*=v,this},divide:function(v){return new m(this.x/v,this.y/v)},divideEquals:function(v){return this.x/=v,this.y/=v,this},eq:function(v){return this.x===v.x&&this.y===v.y},lt:function(v){return this.x<v.x&&this.y<v.y},lte:function(v){return this.x<=v.x&&this.y<=v.y},gt:function(v){return this.x>v.x&&this.y>v.y},gte:function(v){return this.x>=v.x&&this.y>=v.y},lerp:function(v,o){return typeof o>"u"&&(o=.5),o=Math.max(Math.min(1,o),0),new m(this.x+(v.x-this.x)*o,this.y+(v.y-this.y)*o)},distanceFrom:function(v){var o=this.x-v.x,c=this.y-v.y;return Math.sqrt(o*o+c*c)},midPointFrom:function(v){return this.lerp(v)},min:function(v){return new m(Math.min(this.x,v.x),Math.min(this.y,v.y))},max:function(v){return new m(Math.max(this.x,v.x),Math.max(this.y,v.y))},toString:function(){return this.x+","+this.y},setXY:function(v,o){return this.x=v,this.y=o,this},setX:function(v){return this.x=v,this},setY:function(v){return this.y=v,this},setFromPoint:function(v){return this.x=v.x,this.y=v.y,this},swap:function(v){var o=this.x,c=this.y;this.x=v.x,this.y=v.y,v.x=o,v.y=c},clone:function(){return new m(this.x,this.y)}}}(M),function(p){var a=p.fabric||(p.fabric={});if(a.Intersection){a.warn("fabric.Intersection is already defined");return}function m(v){this.status=v,this.points=[]}a.Intersection=m,a.Intersection.prototype={constructor:m,appendPoint:function(v){return this.points.push(v),this},appendPoints:function(v){return this.points=this.points.concat(v),this}},a.Intersection.intersectLineLine=function(v,o,c,s){var g,x=(s.x-c.x)*(v.y-c.y)-(s.y-c.y)*(v.x-c.x),h=(o.x-v.x)*(v.y-c.y)-(o.y-v.y)*(v.x-c.x),E=(s.y-c.y)*(o.x-v.x)-(s.x-c.x)*(o.y-v.y);if(E!==0){var T=x/E,k=h/E;0<=T&&T<=1&&0<=k&&k<=1?(g=new m("Intersection"),g.appendPoint(new a.Point(v.x+T*(o.x-v.x),v.y+T*(o.y-v.y)))):g=new m}else x===0||h===0?g=new m("Coincident"):g=new m("Parallel");return g},a.Intersection.intersectLinePolygon=function(v,o,c){var s=new m,g=c.length,x,h,E,T;for(T=0;T<g;T++)x=c[T],h=c[(T+1)%g],E=m.intersectLineLine(v,o,x,h),s.appendPoints(E.points);return s.points.length>0&&(s.status="Intersection"),s},a.Intersection.intersectPolygonPolygon=function(v,o){var c=new m,s=v.length,g;for(g=0;g<s;g++){var x=v[g],h=v[(g+1)%s],E=m.intersectLinePolygon(x,h,o);c.appendPoints(E.points)}return c.points.length>0&&(c.status="Intersection"),c},a.Intersection.intersectPolygonRectangle=function(v,o,c){var s=o.min(c),g=o.max(c),x=new a.Point(g.x,s.y),h=new a.Point(s.x,g.y),E=m.intersectLinePolygon(s,x,v),T=m.intersectLinePolygon(x,g,v),k=m.intersectLinePolygon(g,h,v),L=m.intersectLinePolygon(h,s,v),F=new m;return F.appendPoints(E.points),F.appendPoints(T.points),F.appendPoints(k.points),F.appendPoints(L.points),F.points.length>0&&(F.status="Intersection"),F}}(M),function(p){var a=p.fabric||(p.fabric={});if(a.Color){a.warn("fabric.Color is already defined.");return}function m(o){o?this._tryParsingColor(o):this.setSource([0,0,0,1])}a.Color=m,a.Color.prototype={_tryParsingColor:function(o){var c;o in m.colorNameMap&&(o=m.colorNameMap[o]),o==="transparent"&&(c=[255,255,255,0]),c||(c=m.sourceFromHex(o)),c||(c=m.sourceFromRgb(o)),c||(c=m.sourceFromHsl(o)),c||(c=[0,0,0,1]),c&&this.setSource(c)},_rgbToHsl:function(o,c,s){o/=255,c/=255,s/=255;var g,x,h,E=a.util.array.max([o,c,s]),T=a.util.array.min([o,c,s]);if(h=(E+T)/2,E===T)g=x=0;else{var k=E-T;switch(x=h>.5?k/(2-E-T):k/(E+T),E){case o:g=(c-s)/k+(c<s?6:0);break;case c:g=(s-o)/k+2;break;case s:g=(o-c)/k+4;break}g/=6}return[Math.round(g*360),Math.round(x*100),Math.round(h*100)]},getSource:function(){return this._source},setSource:function(o){this._source=o},toRgb:function(){var o=this.getSource();return"rgb("+o[0]+","+o[1]+","+o[2]+")"},toRgba:function(){var o=this.getSource();return"rgba("+o[0]+","+o[1]+","+o[2]+","+o[3]+")"},toHsl:function(){var o=this.getSource(),c=this._rgbToHsl(o[0],o[1],o[2]);return"hsl("+c[0]+","+c[1]+"%,"+c[2]+"%)"},toHsla:function(){var o=this.getSource(),c=this._rgbToHsl(o[0],o[1],o[2]);return"hsla("+c[0]+","+c[1]+"%,"+c[2]+"%,"+o[3]+")"},toHex:function(){var o=this.getSource(),c,s,g;return c=o[0].toString(16),c=c.length===1?"0"+c:c,s=o[1].toString(16),s=s.length===1?"0"+s:s,g=o[2].toString(16),g=g.length===1?"0"+g:g,c.toUpperCase()+s.toUpperCase()+g.toUpperCase()},toHexa:function(){var o=this.getSource(),c;return c=Math.round(o[3]*255),c=c.toString(16),c=c.length===1?"0"+c:c,this.toHex()+c.toUpperCase()},getAlpha:function(){return this.getSource()[3]},setAlpha:function(o){var c=this.getSource();return c[3]=o,this.setSource(c),this},toGrayscale:function(){var o=this.getSource(),c=parseInt((o[0]*.3+o[1]*.59+o[2]*.11).toFixed(0),10),s=o[3];return this.setSource([c,c,c,s]),this},toBlackWhite:function(o){var c=this.getSource(),s=(c[0]*.3+c[1]*.59+c[2]*.11).toFixed(0),g=c[3];return o=o||127,s=Number(s)<Number(o)?0:255,this.setSource([s,s,s,g]),this},overlayWith:function(o){o instanceof m||(o=new m(o));var c=[],s=this.getAlpha(),g=.5,x=this.getSource(),h=o.getSource(),E;for(E=0;E<3;E++)c.push(Math.round(x[E]*(1-g)+h[E]*g));return c[3]=s,this.setSource(c),this}},a.Color.reRGBa=/^rgba?\(\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*(?:\s*,\s*((?:\d*\.?\d+)?)\s*)?\)$/i,a.Color.reHSLa=/^hsla?\(\s*(\d{1,3})\s*,\s*(\d{1,3}\%)\s*,\s*(\d{1,3}\%)\s*(?:\s*,\s*(\d+(?:\.\d+)?)\s*)?\)$/i,a.Color.reHex=/^#?([0-9a-f]{8}|[0-9a-f]{6}|[0-9a-f]{4}|[0-9a-f]{3})$/i,a.Color.colorNameMap={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgrey:"#A9A9A9",darkgreen:"#006400",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgrey:"#D3D3D3",lightgreen:"#90EE90",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"};function v(o,c,s){return s<0&&(s+=1),s>1&&(s-=1),s<.16666666666666666?o+(c-o)*6*s:s<.5?c:s<.6666666666666666?o+(c-o)*(.6666666666666666-s)*6:o}a.Color.fromRgb=function(o){return m.fromSource(m.sourceFromRgb(o))},a.Color.sourceFromRgb=function(o){var c=o.match(m.reRGBa);if(c){var s=parseInt(c[1],10)/(/%$/.test(c[1])?100:1)*(/%$/.test(c[1])?255:1),g=parseInt(c[2],10)/(/%$/.test(c[2])?100:1)*(/%$/.test(c[2])?255:1),x=parseInt(c[3],10)/(/%$/.test(c[3])?100:1)*(/%$/.test(c[3])?255:1);return[parseInt(s,10),parseInt(g,10),parseInt(x,10),c[4]?parseFloat(c[4]):1]}},a.Color.fromRgba=m.fromRgb,a.Color.fromHsl=function(o){return m.fromSource(m.sourceFromHsl(o))},a.Color.sourceFromHsl=function(o){var c=o.match(m.reHSLa);if(c){var s=(parseFloat(c[1])%360+360)%360/360,g=parseFloat(c[2])/(/%$/.test(c[2])?100:1),x=parseFloat(c[3])/(/%$/.test(c[3])?100:1),h,E,T;if(g===0)h=E=T=x;else{var k=x<=.5?x*(g+1):x+g-x*g,L=x*2-k;h=v(L,k,s+.3333333333333333),E=v(L,k,s),T=v(L,k,s-.3333333333333333)}return[Math.round(h*255),Math.round(E*255),Math.round(T*255),c[4]?parseFloat(c[4]):1]}},a.Color.fromHsla=m.fromHsl,a.Color.fromHex=function(o){return m.fromSource(m.sourceFromHex(o))},a.Color.sourceFromHex=function(o){if(o.match(m.reHex)){var c=o.slice(o.indexOf("#")+1),s=c.length===3||c.length===4,g=c.length===8||c.length===4,x=s?c.charAt(0)+c.charAt(0):c.substring(0,2),h=s?c.charAt(1)+c.charAt(1):c.substring(2,4),E=s?c.charAt(2)+c.charAt(2):c.substring(4,6),T=g?s?c.charAt(3)+c.charAt(3):c.substring(6,8):"FF";return[parseInt(x,16),parseInt(h,16),parseInt(E,16),parseFloat((parseInt(T,16)/255).toFixed(2))]}},a.Color.fromSource=function(o){var c=new m;return c.setSource(o),c}}(M),function(p){var a=p.fabric||(p.fabric={}),m=["e","se","s","sw","w","nw","n","ne","e"],v=["ns","nesw","ew","nwse"],o={},c="left",s="top",g="right",x="bottom",h="center",E={top:x,bottom:s,left:g,right:c,center:h},T=a.util.radiansToDegrees,k=Math.sign||function(ue){return(ue>0)-(ue<0)||+ue};function L(ue,ie){var le=ue.angle+T(Math.atan2(ie.y,ie.x))+360;return Math.round(le%360/45)}function F(ue,ie){var le=ie.transform.target,de=le.canvas,pe=a.util.object.clone(ie);pe.target=le,de&&de.fire("object:"+ue,pe),le.fire(ue,ie)}function U(ue,ie){var le=ie.canvas,de=le.uniScaleKey,pe=ue[de];return le.uniformScaling&&!pe||!le.uniformScaling&&pe}function G(ue){return ue.originX===h&&ue.originY===h}function Y(ue,ie,le){var de=ue.lockScalingX,pe=ue.lockScalingY;return!!(de&&pe||!ie&&(de||pe)&&le||de&&ie==="x"||pe&&ie==="y")}function K(ue,ie,le){var de="not-allowed",pe=U(ue,le),_e="";if(ie.x!==0&&ie.y===0?_e="x":ie.x===0&&ie.y!==0&&(_e="y"),Y(le,_e,pe))return de;var Oe=L(le,ie);return m[Oe]+"-resize"}function he(ue,ie,le){var de="not-allowed";if(ie.x!==0&&le.lockSkewingY||ie.y!==0&&le.lockSkewingX)return de;var pe=L(le,ie)%4;return v[pe]+"-resize"}function oe(ue,ie,le){return ue[le.canvas.altActionKey]?o.skewCursorStyleHandler(ue,ie,le):o.scaleCursorStyleHandler(ue,ie,le)}function ve(ue,ie,le){var de=ue[le.canvas.altActionKey];if(ie.x===0)return de?"skewX":"scaleY";if(ie.y===0)return de?"skewY":"scaleX"}function ee(ue,ie,le){return le.lockRotation?"not-allowed":ie.cursorStyle}function xe(ue,ie,le,de){return{e:ue,transform:ie,pointer:{x:le,y:de}}}function Z(ue){return function(ie,le,de,pe){var _e=le.target,Oe=_e.getCenterPoint(),Ge=_e.translateToOriginPoint(Oe,le.originX,le.originY),Ye=ue(ie,le,de,pe);return _e.setPositionByOrigin(Ge,le.originX,le.originY),Ye}}function Be(ue,ie){return function(le,de,pe,_e){var Oe=ie(le,de,pe,_e);return Oe&&F(ue,xe(le,de,pe,_e)),Oe}}function we(ue,ie,le,de,pe){var _e=ue.target,Oe=_e.controls[ue.corner],Ge=_e.canvas.getZoom(),Ye=_e.padding/Ge,Te=_e.toLocalPoint(new a.Point(de,pe),ie,le);return Te.x>=Ye&&(Te.x-=Ye),Te.x<=-Ye&&(Te.x+=Ye),Te.y>=Ye&&(Te.y-=Ye),Te.y<=Ye&&(Te.y+=Ye),Te.x-=Oe.offsetX,Te.y-=Oe.offsetY,Te}function ge(ue){return ue.flipX!==ue.flipY}function te(ue,ie,le,de,pe){if(ue[ie]!==0){var _e=ue._getTransformedDimensions()[de],Oe=pe/_e*ue[le];ue.set(le,Oe)}}function ae(ue,ie,le,de){var pe=ie.target,_e=pe._getTransformedDimensions(0,pe.skewY),Oe=we(ie,ie.originX,ie.originY,le,de),Ge=Math.abs(Oe.x*2)-_e.x,Ye=pe.skewX,Te;Ge<2?Te=0:(Te=T(Math.atan2(Ge/pe.scaleX,_e.y/pe.scaleY)),ie.originX===c&&ie.originY===x&&(Te=-Te),ie.originX===g&&ie.originY===s&&(Te=-Te),ge(pe)&&(Te=-Te));var Je=Ye!==Te;if(Je){var et=pe._getTransformedDimensions().y;pe.set("skewX",Te),te(pe,"skewY","scaleY","y",et)}return Je}function ne(ue,ie,le,de){var pe=ie.target,_e=pe._getTransformedDimensions(pe.skewX,0),Oe=we(ie,ie.originX,ie.originY,le,de),Ge=Math.abs(Oe.y*2)-_e.y,Ye=pe.skewY,Te;Ge<2?Te=0:(Te=T(Math.atan2(Ge/pe.scaleY,_e.x/pe.scaleX)),ie.originX===c&&ie.originY===x&&(Te=-Te),ie.originX===g&&ie.originY===s&&(Te=-Te),ge(pe)&&(Te=-Te));var Je=Ye!==Te;if(Je){var et=pe._getTransformedDimensions().x;pe.set("skewY",Te),te(pe,"skewX","scaleX","x",et)}return Je}function re(ue,ie,le,de){var pe=ie.target,_e=pe.skewX,Oe,Ge=ie.originY;if(pe.lockSkewingX)return!1;if(_e===0){var Ye=we(ie,h,h,le,de);Ye.x>0?Oe=c:Oe=g}else _e>0&&(Oe=Ge===s?c:g),_e<0&&(Oe=Ge===s?g:c),ge(pe)&&(Oe=Oe===c?g:c);ie.originX=Oe;var Te=Be("skewing",Z(ae));return Te(ue,ie,le,de)}function V(ue,ie,le,de){var pe=ie.target,_e=pe.skewY,Oe,Ge=ie.originX;if(pe.lockSkewingY)return!1;if(_e===0){var Ye=we(ie,h,h,le,de);Ye.y>0?Oe=s:Oe=x}else _e>0&&(Oe=Ge===c?s:x),_e<0&&(Oe=Ge===c?x:s),ge(pe)&&(Oe=Oe===s?x:s);ie.originY=Oe;var Te=Be("skewing",Z(ne));return Te(ue,ie,le,de)}function H(ue,ie,le,de){var pe=ie,_e=pe.target,Oe=_e.translateToOriginPoint(_e.getCenterPoint(),pe.originX,pe.originY);if(_e.lockRotation)return!1;var Ge=Math.atan2(pe.ey-Oe.y,pe.ex-Oe.x),Ye=Math.atan2(de-Oe.y,le-Oe.x),Te=T(Ye-Ge+pe.theta),Je=!0;if(_e.snapAngle>0){var et=_e.snapAngle,ut=_e.snapThreshold||et,St=Math.ceil(Te/et)*et,mt=Math.floor(Te/et)*et;Math.abs(Te-mt)<ut?Te=mt:Math.abs(Te-St)<ut&&(Te=St)}return Te<0&&(Te=360+Te),Te%=360,Je=_e.angle!==Te,_e.angle=Te,Je}function W(ue,ie,le,de,pe){pe=pe||{};var _e=ie.target,Oe=_e.lockScalingX,Ge=_e.lockScalingY,Ye=pe.by,Te,Je,et,ut,St=U(ue,_e),mt=Y(_e,Ye,St),wt,yt,Pt=ie.gestureScale;if(mt)return!1;if(Pt)Je=ie.scaleX*Pt,et=ie.scaleY*Pt;else{if(Te=we(ie,ie.originX,ie.originY,le,de),wt=Ye!=="y"?k(Te.x):1,yt=Ye!=="x"?k(Te.y):1,ie.signX||(ie.signX=wt),ie.signY||(ie.signY=yt),_e.lockScalingFlip&&(ie.signX!==wt||ie.signY!==yt))return!1;if(ut=_e._getTransformedDimensions(),St&&!Ye){var Kt=Math.abs(Te.x)+Math.abs(Te.y),sn=ie.original,Ne=Math.abs(ut.x*sn.scaleX/_e.scaleX)+Math.abs(ut.y*sn.scaleY/_e.scaleY),je=Kt/Ne;Je=sn.scaleX*je,et=sn.scaleY*je}else Je=Math.abs(Te.x*_e.scaleX/ut.x),et=Math.abs(Te.y*_e.scaleY/ut.y);G(ie)&&(Je*=2,et*=2),ie.signX!==wt&&Ye!=="y"&&(ie.originX=E[ie.originX],Je*=-1,ie.signX=wt),ie.signY!==yt&&Ye!=="x"&&(ie.originY=E[ie.originY],et*=-1,ie.signY=yt)}var Ve=_e.scaleX,Qe=_e.scaleY;return Ye?(Ye==="x"&&_e.set("scaleX",Je),Ye==="y"&&_e.set("scaleY",et)):(!Oe&&_e.set("scaleX",Je),!Ge&&_e.set("scaleY",et)),Ve!==_e.scaleX||Qe!==_e.scaleY}function J(ue,ie,le,de){return W(ue,ie,le,de)}function Q(ue,ie,le,de){return W(ue,ie,le,de,{by:"x"})}function se(ue,ie,le,de){return W(ue,ie,le,de,{by:"y"})}function fe(ue,ie,le,de){return ue[ie.target.canvas.altActionKey]?o.skewHandlerX(ue,ie,le,de):o.scalingY(ue,ie,le,de)}function ye(ue,ie,le,de){return ue[ie.target.canvas.altActionKey]?o.skewHandlerY(ue,ie,le,de):o.scalingX(ue,ie,le,de)}function Se(ue,ie,le,de){var pe=ie.target,_e=we(ie,ie.originX,ie.originY,le,de),Oe=pe.strokeWidth/(pe.strokeUniform?pe.scaleX:1),Ge=G(ie)?2:1,Ye=pe.width,Te=Math.abs(_e.x*Ge/pe.scaleX)-Oe;return pe.set("width",Math.max(Te,0)),Ye!==Te}function me(ue,ie,le,de){var pe=ie.target,_e=le-ie.offsetX,Oe=de-ie.offsetY,Ge=!pe.get("lockMovementX")&&pe.left!==_e,Ye=!pe.get("lockMovementY")&&pe.top!==Oe;return Ge&&pe.set("left",_e),Ye&&pe.set("top",Oe),(Ge||Ye)&&F("moving",xe(ue,ie,le,de)),Ge||Ye}o.scaleCursorStyleHandler=K,o.skewCursorStyleHandler=he,o.scaleSkewCursorStyleHandler=oe,o.rotationWithSnapping=Be("rotating",Z(H)),o.scalingEqually=Be("scaling",Z(J)),o.scalingX=Be("scaling",Z(Q)),o.scalingY=Be("scaling",Z(se)),o.scalingYOrSkewingX=fe,o.scalingXOrSkewingY=ye,o.changeWidth=Be("resizing",Z(Se)),o.skewHandlerX=re,o.skewHandlerY=V,o.dragHandler=me,o.scaleOrSkewActionName=ve,o.rotationStyleHandler=ee,o.fireEvent=F,o.wrapWithFixedAnchor=Z,o.wrapWithFireEvent=Be,o.getLocalPoint=we,a.controlsUtils=o}(M),function(p){var a=p.fabric||(p.fabric={}),m=a.util.degreesToRadians,v=a.controlsUtils;function o(s,g,x,h,E){h=h||{};var T=this.sizeX||h.cornerSize||E.cornerSize,k=this.sizeY||h.cornerSize||E.cornerSize,L=typeof h.transparentCorners<"u"?h.transparentCorners:E.transparentCorners,F=L?"stroke":"fill",U=!L&&(h.cornerStrokeColor||E.cornerStrokeColor),G=g,Y=x,K;s.save(),s.fillStyle=h.cornerColor||E.cornerColor,s.strokeStyle=h.cornerStrokeColor||E.cornerStrokeColor,T>k?(K=T,s.scale(1,k/T),Y=x*T/k):k>T?(K=k,s.scale(T/k,1),G=g*k/T):K=T,s.lineWidth=1,s.beginPath(),s.arc(G,Y,K/2,0,2*Math.PI,!1),s[F](),U&&s.stroke(),s.restore()}function c(s,g,x,h,E){h=h||{};var T=this.sizeX||h.cornerSize||E.cornerSize,k=this.sizeY||h.cornerSize||E.cornerSize,L=typeof h.transparentCorners<"u"?h.transparentCorners:E.transparentCorners,F=L?"stroke":"fill",U=!L&&(h.cornerStrokeColor||E.cornerStrokeColor),G=T/2,Y=k/2;s.save(),s.fillStyle=h.cornerColor||E.cornerColor,s.strokeStyle=h.cornerStrokeColor||E.cornerStrokeColor,s.lineWidth=1,s.translate(g,x),s.rotate(m(E.angle)),s[F+"Rect"](-G,-Y,T,k),U&&s.strokeRect(-G,-Y,T,k),s.restore()}v.renderCircleControl=o,v.renderSquareControl=c}(M),function(p){var a=p.fabric||(p.fabric={});function m(v){for(var o in v)this[o]=v[o]}a.Control=m,a.Control.prototype={visible:!0,actionName:"scale",angle:0,x:0,y:0,offsetX:0,offsetY:0,sizeX:null,sizeY:null,touchSizeX:null,touchSizeY:null,cursorStyle:"crosshair",withConnection:!1,actionHandler:function(){},mouseDownHandler:function(){},mouseUpHandler:function(){},getActionHandler:function(){return this.actionHandler},getMouseDownHandler:function(){return this.mouseDownHandler},getMouseUpHandler:function(){return this.mouseUpHandler},cursorStyleHandler:function(v,o){return o.cursorStyle},getActionName:function(v,o){return o.actionName},getVisibility:function(v,o){var c=v._controlsVisibility;return c&&typeof c[o]<"u"?c[o]:this.visible},setVisibility:function(v){this.visible=v},positionHandler:function(v,o){var c=a.util.transformPoint({x:this.x*v.x+this.offsetX,y:this.y*v.y+this.offsetY},o);return c},calcCornerCoords:function(v,o,c,s,g){var x,h,E,T,k=g?this.touchSizeX:this.sizeX,L=g?this.touchSizeY:this.sizeY;if(k&&L&&k!==L){var F=Math.atan2(L,k),U=Math.sqrt(k*k+L*L)/2,G=F-a.util.degreesToRadians(v),Y=Math.PI/2-F-a.util.degreesToRadians(v);x=U*a.util.cos(G),h=U*a.util.sin(G),E=U*a.util.cos(Y),T=U*a.util.sin(Y)}else{var K=k&&L?k:o;U=K*.7071067812;var G=a.util.degreesToRadians(45-v);x=E=U*a.util.cos(G),h=T=U*a.util.sin(G)}return{tl:{x:c-T,y:s-E},tr:{x:c+x,y:s-h},bl:{x:c-x,y:s+h},br:{x:c+T,y:s+E}}},render:function(v,o,c,s,g){switch(s=s||{},s.cornerStyle||g.cornerStyle){case"circle":a.controlsUtils.renderCircleControl.call(this,v,o,c,s,g);break;default:a.controlsUtils.renderSquareControl.call(this,v,o,c,s,g)}}}}(M),function(){function p(c,s){var g=c.getAttribute("style"),x=c.getAttribute("offset")||0,h,E,T,k;if(x=parseFloat(x)/(/%$/.test(x)?100:1),x=x<0?0:x>1?1:x,g){var L=g.split(/\s*;\s*/);for(L[L.length-1]===""&&L.pop(),k=L.length;k--;){var F=L[k].split(/\s*:\s*/),U=F[0].trim(),G=F[1].trim();U==="stop-color"?h=G:U==="stop-opacity"&&(T=G)}}return h||(h=c.getAttribute("stop-color")||"rgb(0,0,0)"),T||(T=c.getAttribute("stop-opacity")),h=new r.Color(h),E=h.getAlpha(),T=isNaN(parseFloat(T))?1:parseFloat(T),T*=E*s,{offset:x,color:h.toRgb(),opacity:T}}function a(c){return{x1:c.getAttribute("x1")||0,y1:c.getAttribute("y1")||0,x2:c.getAttribute("x2")||"100%",y2:c.getAttribute("y2")||0}}function m(c){return{x1:c.getAttribute("fx")||c.getAttribute("cx")||"50%",y1:c.getAttribute("fy")||c.getAttribute("cy")||"50%",r1:0,x2:c.getAttribute("cx")||"50%",y2:c.getAttribute("cy")||"50%",r2:c.getAttribute("r")||"50%"}}var v=r.util.object.clone;r.Gradient=r.util.createClass({offsetX:0,offsetY:0,gradientTransform:null,gradientUnits:"pixels",type:"linear",initialize:function(c){c||(c={}),c.coords||(c.coords={});var s,g=this;Object.keys(c).forEach(function(x){g[x]=c[x]}),this.id?this.id+="_"+r.Object.__uid++:this.id=r.Object.__uid++,s={x1:c.coords.x1||0,y1:c.coords.y1||0,x2:c.coords.x2||0,y2:c.coords.y2||0},this.type==="radial"&&(s.r1=c.coords.r1||0,s.r2=c.coords.r2||0),this.coords=s,this.colorStops=c.colorStops.slice()},addColorStop:function(c){for(var s in c){var g=new r.Color(c[s]);this.colorStops.push({offset:parseFloat(s),color:g.toRgb(),opacity:g.getAlpha()})}return this},toObject:function(c){var s={type:this.type,coords:this.coords,colorStops:this.colorStops,offsetX:this.offsetX,offsetY:this.offsetY,gradientUnits:this.gradientUnits,gradientTransform:this.gradientTransform?this.gradientTransform.concat():this.gradientTransform};return r.util.populateWithProperties(this,s,c),s},toSVG:function(c,E){var g=v(this.coords,!0),x,h,E=E||{},T,k,L=v(this.colorStops,!0),F=g.r1>g.r2,U=this.gradientTransform?this.gradientTransform.concat():r.iMatrix.concat(),G=-this.offsetX,Y=-this.offsetY,K=!!E.additionalTransform,he=this.gradientUnits==="pixels"?"userSpaceOnUse":"objectBoundingBox";if(L.sort(function(Z,Be){return Z.offset-Be.offset}),he==="objectBoundingBox"?(G/=c.width,Y/=c.height):(G+=c.width/2,Y+=c.height/2),c.type==="path"&&this.gradientUnits!=="percentage"&&(G-=c.pathOffset.x,Y-=c.pathOffset.y),U[4]-=G,U[5]-=Y,k='id="SVGID_'+this.id+'" gradientUnits="'+he+'"',k+=' gradientTransform="'+(K?E.additionalTransform+" ":"")+r.util.matrixToSVG(U)+'" ',this.type==="linear"?T=["<linearGradient ",k,' x1="',g.x1,'" y1="',g.y1,'" x2="',g.x2,'" y2="',g.y2,`">
`]:this.type==="radial"&&(T=["<radialGradient ",k,' cx="',F?g.x1:g.x2,'" cy="',F?g.y1:g.y2,'" r="',F?g.r1:g.r2,'" fx="',F?g.x2:g.x1,'" fy="',F?g.y2:g.y1,`">
`]),this.type==="radial"){if(F)for(L=L.concat(),L.reverse(),x=0,h=L.length;x<h;x++)L[x].offset=1-L[x].offset;var oe=Math.min(g.r1,g.r2);if(oe>0){var ve=Math.max(g.r1,g.r2),ee=oe/ve;for(x=0,h=L.length;x<h;x++)L[x].offset+=ee*(1-L[x].offset)}}for(x=0,h=L.length;x<h;x++){var xe=L[x];T.push("<stop ",'offset="',xe.offset*100+"%",'" style="stop-color:',xe.color,typeof xe.opacity<"u"?";stop-opacity: "+xe.opacity:";",`"/>
`)}return T.push(this.type==="linear"?`</linearGradient>
`:`</radialGradient>
`),T.join("")},toLive:function(c){var s,g=r.util.object.clone(this.coords),x,h;if(this.type){for(this.type==="linear"?s=c.createLinearGradient(g.x1,g.y1,g.x2,g.y2):this.type==="radial"&&(s=c.createRadialGradient(g.x1,g.y1,g.r1,g.x2,g.y2,g.r2)),x=0,h=this.colorStops.length;x<h;x++){var E=this.colorStops[x].color,T=this.colorStops[x].opacity,k=this.colorStops[x].offset;typeof T<"u"&&(E=new r.Color(E).setAlpha(T).toRgba()),s.addColorStop(k,E)}return s}}}),r.util.object.extend(r.Gradient,{fromElement:function(c,s,g,x){var h=parseFloat(g)/(/%$/.test(g)?100:1);h=h<0?0:h>1?1:h,isNaN(h)&&(h=1);var E=c.getElementsByTagName("stop"),T,k=c.getAttribute("gradientUnits")==="userSpaceOnUse"?"pixels":"percentage",L=c.getAttribute("gradientTransform")||"",F=[],U,G,Y=0,K=0,he;for(c.nodeName==="linearGradient"||c.nodeName==="LINEARGRADIENT"?(T="linear",U=a(c)):(T="radial",U=m(c)),G=E.length;G--;)F.push(p(E[G],h));he=r.parseTransformAttribute(L),o(s,U,x,k),k==="pixels"&&(Y=-s.left,K=-s.top);var oe=new r.Gradient({id:c.getAttribute("id"),type:T,coords:U,colorStops:F,gradientUnits:k,gradientTransform:he,offsetX:Y,offsetY:K});return oe}});function o(c,s,g,x){var h,E;Object.keys(s).forEach(function(T){h=s[T],h==="Infinity"?E=1:h==="-Infinity"?E=0:(E=parseFloat(s[T],10),typeof h=="string"&&/^(\d+\.\d+)%|(\d+)%$/.test(h)&&(E*=.01,x==="pixels"&&((T==="x1"||T==="x2"||T==="r2")&&(E*=g.viewBoxWidth||g.width),(T==="y1"||T==="y2")&&(E*=g.viewBoxHeight||g.height)))),s[T]=E})}}(),function(){var p=r.util.toFixed;r.Pattern=r.util.createClass({repeat:"repeat",offsetX:0,offsetY:0,crossOrigin:"",patternTransform:null,initialize:function(a,m){if(a||(a={}),this.id=r.Object.__uid++,this.setOptions(a),!a.source||a.source&&typeof a.source!="string"){m&&m(this);return}else{var v=this;this.source=r.util.createImage(),r.util.loadImage(a.source,function(o,c){v.source=o,m&&m(v,c)},null,this.crossOrigin)}},toObject:function(a){var m=r.Object.NUM_FRACTION_DIGITS,v,o;return typeof this.source.src=="string"?v=this.source.src:typeof this.source=="object"&&this.source.toDataURL&&(v=this.source.toDataURL()),o={type:"pattern",source:v,repeat:this.repeat,crossOrigin:this.crossOrigin,offsetX:p(this.offsetX,m),offsetY:p(this.offsetY,m),patternTransform:this.patternTransform?this.patternTransform.concat():null},r.util.populateWithProperties(this,o,a),o},toSVG:function(a){var m=typeof this.source=="function"?this.source():this.source,v=m.width/a.width,o=m.height/a.height,c=this.offsetX/a.width,s=this.offsetY/a.height,g="";return(this.repeat==="repeat-x"||this.repeat==="no-repeat")&&(o=1,s&&(o+=Math.abs(s))),(this.repeat==="repeat-y"||this.repeat==="no-repeat")&&(v=1,c&&(v+=Math.abs(c))),m.src?g=m.src:m.toDataURL&&(g=m.toDataURL()),'<pattern id="SVGID_'+this.id+'" x="'+c+'" y="'+s+'" width="'+v+'" height="'+o+`">
<image x="0" y="0" width="`+m.width+'" height="'+m.height+'" xlink:href="'+g+`"></image>
</pattern>
`},setOptions:function(a){for(var m in a)this[m]=a[m]},toLive:function(a){var m=this.source;return!m||typeof m.src<"u"&&(!m.complete||m.naturalWidth===0||m.naturalHeight===0)?"":a.createPattern(m,this.repeat)}})}(),function(p){var a=p.fabric||(p.fabric={}),m=a.util.toFixed;if(a.Shadow){a.warn("fabric.Shadow is already defined.");return}a.Shadow=a.util.createClass({color:"rgb(0,0,0)",blur:0,offsetX:0,offsetY:0,affectStroke:!1,includeDefaultValues:!0,nonScaling:!1,initialize:function(v){typeof v=="string"&&(v=this._parseShadow(v));for(var o in v)this[o]=v[o];this.id=a.Object.__uid++},_parseShadow:function(v){var o=v.trim(),c=a.Shadow.reOffsetsAndBlur.exec(o)||[],s=o.replace(a.Shadow.reOffsetsAndBlur,"")||"rgb(0,0,0)";return{color:s.trim(),offsetX:parseFloat(c[1],10)||0,offsetY:parseFloat(c[2],10)||0,blur:parseFloat(c[3],10)||0}},toString:function(){return[this.offsetX,this.offsetY,this.blur,this.color].join("px ")},toSVG:function(v){var o=40,c=40,s=a.Object.NUM_FRACTION_DIGITS,g=a.util.rotateVector({x:this.offsetX,y:this.offsetY},a.util.degreesToRadians(-v.angle)),x=20,h=new a.Color(this.color);return v.width&&v.height&&(o=m((Math.abs(g.x)+this.blur)/v.width,s)*100+x,c=m((Math.abs(g.y)+this.blur)/v.height,s)*100+x),v.flipX&&(g.x*=-1),v.flipY&&(g.y*=-1),'<filter id="SVGID_'+this.id+'" y="-'+c+'%" height="'+(100+2*c)+'%" x="-'+o+'%" width="'+(100+2*o)+`%" >
	<feGaussianBlur in="SourceAlpha" stdDeviation="`+m(this.blur?this.blur/2:0,s)+`"></feGaussianBlur>
	<feOffset dx="`+m(g.x,s)+'" dy="'+m(g.y,s)+`" result="oBlur" ></feOffset>
	<feFlood flood-color="`+h.toRgb()+'" flood-opacity="'+h.getAlpha()+`"/>
	<feComposite in2="oBlur" operator="in" />
	<feMerge>
		<feMergeNode></feMergeNode>
		<feMergeNode in="SourceGraphic"></feMergeNode>
	</feMerge>
</filter>
`},toObject:function(){if(this.includeDefaultValues)return{color:this.color,blur:this.blur,offsetX:this.offsetX,offsetY:this.offsetY,affectStroke:this.affectStroke,nonScaling:this.nonScaling};var v={},o=a.Shadow.prototype;return["color","blur","offsetX","offsetY","affectStroke","nonScaling"].forEach(function(c){this[c]!==o[c]&&(v[c]=this[c])},this),v}}),a.Shadow.reOffsetsAndBlur=/(?:\s|^)(-?\d+(?:\.\d*)?(?:px)?(?:\s?|$))?(-?\d+(?:\.\d*)?(?:px)?(?:\s?|$))?(\d+(?:\.\d*)?(?:px)?)?(?:\s?|$)(?:$|\s)/}(M),function(){if(r.StaticCanvas){r.warn("fabric.StaticCanvas is already defined.");return}var p=r.util.object.extend,a=r.util.getElementOffset,m=r.util.removeFromArray,v=r.util.toFixed,o=r.util.transformPoint,c=r.util.invertTransform,s=r.util.getNodeCanvas,g=r.util.createCanvasElement,x=new Error("Could not initialize `canvas` element");r.StaticCanvas=r.util.createClass(r.CommonMethods,{initialize:function(h,E){E||(E={}),this.renderAndResetBound=this.renderAndReset.bind(this),this.requestRenderAllBound=this.requestRenderAll.bind(this),this._initStatic(h,E)},backgroundColor:"",backgroundImage:null,overlayColor:"",overlayImage:null,includeDefaultValues:!0,stateful:!1,renderOnAddRemove:!0,controlsAboveOverlay:!1,allowTouchScrolling:!1,imageSmoothingEnabled:!0,viewportTransform:r.iMatrix.concat(),backgroundVpt:!0,overlayVpt:!0,enableRetinaScaling:!0,vptCoords:{},skipOffscreen:!0,clipPath:void 0,_initStatic:function(h,E){var T=this.requestRenderAllBound;this._objects=[],this._createLowerCanvas(h),this._initOptions(E),this.interactive||this._initRetinaScaling(),E.overlayImage&&this.setOverlayImage(E.overlayImage,T),E.backgroundImage&&this.setBackgroundImage(E.backgroundImage,T),E.backgroundColor&&this.setBackgroundColor(E.backgroundColor,T),E.overlayColor&&this.setOverlayColor(E.overlayColor,T),this.calcOffset()},_isRetinaScaling:function(){return r.devicePixelRatio!==1&&this.enableRetinaScaling},getRetinaScaling:function(){return this._isRetinaScaling()?r.devicePixelRatio:1},_initRetinaScaling:function(){if(this._isRetinaScaling()){var h=r.devicePixelRatio;this.__initRetinaScaling(h,this.lowerCanvasEl,this.contextContainer),this.upperCanvasEl&&this.__initRetinaScaling(h,this.upperCanvasEl,this.contextTop)}},__initRetinaScaling:function(h,E,T){E.setAttribute("width",this.width*h),E.setAttribute("height",this.height*h),T.scale(h,h)},calcOffset:function(){return this._offset=a(this.lowerCanvasEl),this},setOverlayImage:function(h,E,T){return this.__setBgOverlayImage("overlayImage",h,E,T)},setBackgroundImage:function(h,E,T){return this.__setBgOverlayImage("backgroundImage",h,E,T)},setOverlayColor:function(h,E){return this.__setBgOverlayColor("overlayColor",h,E)},setBackgroundColor:function(h,E){return this.__setBgOverlayColor("backgroundColor",h,E)},__setBgOverlayImage:function(h,E,T,k){return typeof E=="string"?r.util.loadImage(E,function(L,F){if(L){var U=new r.Image(L,k);this[h]=U,U.canvas=this}T&&T(L,F)},this,k&&k.crossOrigin):(k&&E.setOptions(k),this[h]=E,E&&(E.canvas=this),T&&T(E,!1)),this},__setBgOverlayColor:function(h,E,T){return this[h]=E,this._initGradient(E,h),this._initPattern(E,h,T),this},_createCanvasElement:function(){var h=g();if(!h||(h.style||(h.style={}),typeof h.getContext>"u"))throw x;return h},_initOptions:function(h){var E=this.lowerCanvasEl;this._setOptions(h),this.width=this.width||parseInt(E.width,10)||0,this.height=this.height||parseInt(E.height,10)||0,this.lowerCanvasEl.style&&(E.width=this.width,E.height=this.height,E.style.width=this.width+"px",E.style.height=this.height+"px",this.viewportTransform=this.viewportTransform.slice())},_createLowerCanvas:function(h){h&&h.getContext?this.lowerCanvasEl=h:this.lowerCanvasEl=r.util.getById(h)||this._createCanvasElement(),r.util.addClass(this.lowerCanvasEl,"lower-canvas"),this._originalCanvasStyle=this.lowerCanvasEl.style,this.interactive&&this._applyCanvasStyle(this.lowerCanvasEl),this.contextContainer=this.lowerCanvasEl.getContext("2d")},getWidth:function(){return this.width},getHeight:function(){return this.height},setWidth:function(h,E){return this.setDimensions({width:h},E)},setHeight:function(h,E){return this.setDimensions({height:h},E)},setDimensions:function(h,E){var T;E=E||{};for(var k in h)T=h[k],E.cssOnly||(this._setBackstoreDimension(k,h[k]),T+="px",this.hasLostContext=!0),E.backstoreOnly||this._setCssDimension(k,T);return this._isCurrentlyDrawing&&this.freeDrawingBrush&&this.freeDrawingBrush._setBrushStyles(),this._initRetinaScaling(),this.calcOffset(),E.cssOnly||this.requestRenderAll(),this},_setBackstoreDimension:function(h,E){return this.lowerCanvasEl[h]=E,this.upperCanvasEl&&(this.upperCanvasEl[h]=E),this.cacheCanvasEl&&(this.cacheCanvasEl[h]=E),this[h]=E,this},_setCssDimension:function(h,E){return this.lowerCanvasEl.style[h]=E,this.upperCanvasEl&&(this.upperCanvasEl.style[h]=E),this.wrapperEl&&(this.wrapperEl.style[h]=E),this},getZoom:function(){return this.viewportTransform[0]},setViewportTransform:function(h){var E=this._activeObject,T=this.backgroundImage,k=this.overlayImage,L,F,U;for(this.viewportTransform=h,F=0,U=this._objects.length;F<U;F++)L=this._objects[F],L.group||L.setCoords(!0);return E&&E.setCoords(),T&&T.setCoords(!0),k&&k.setCoords(!0),this.calcViewportBoundaries(),this.renderOnAddRemove&&this.requestRenderAll(),this},zoomToPoint:function(h,E){var T=h,k=this.viewportTransform.slice(0);h=o(h,c(this.viewportTransform)),k[0]=E,k[3]=E;var L=o(h,k);return k[4]+=T.x-L.x,k[5]+=T.y-L.y,this.setViewportTransform(k)},setZoom:function(h){return this.zoomToPoint(new r.Point(0,0),h),this},absolutePan:function(h){var E=this.viewportTransform.slice(0);return E[4]=-h.x,E[5]=-h.y,this.setViewportTransform(E)},relativePan:function(h){return this.absolutePan(new r.Point(-h.x-this.viewportTransform[4],-h.y-this.viewportTransform[5]))},getElement:function(){return this.lowerCanvasEl},_onObjectAdded:function(h){this.stateful&&h.setupState(),h._set("canvas",this),h.setCoords(),this.fire("object:added",{target:h}),h.fire("added")},_onObjectRemoved:function(h){this.fire("object:removed",{target:h}),h.fire("removed"),delete h.canvas},clearContext:function(h){return h.clearRect(0,0,this.width,this.height),this},getContext:function(){return this.contextContainer},clear:function(){return this.remove.apply(this,this.getObjects()),this.backgroundImage=null,this.overlayImage=null,this.backgroundColor="",this.overlayColor="",this._hasITextHandlers&&(this.off("mouse:up",this._mouseUpITextHandler),this._iTextInstances=null,this._hasITextHandlers=!1),this.clearContext(this.contextContainer),this.fire("canvas:cleared"),this.renderOnAddRemove&&this.requestRenderAll(),this},renderAll:function(){var h=this.contextContainer;return this.renderCanvas(h,this._objects),this},renderAndReset:function(){this.isRendering=0,this.renderAll()},requestRenderAll:function(){return this.isRendering||(this.isRendering=r.util.requestAnimFrame(this.renderAndResetBound)),this},calcViewportBoundaries:function(){var h={},E=this.width,T=this.height,k=c(this.viewportTransform);return h.tl=o({x:0,y:0},k),h.br=o({x:E,y:T},k),h.tr=new r.Point(h.br.x,h.tl.y),h.bl=new r.Point(h.tl.x,h.br.y),this.vptCoords=h,h},cancelRequestedRender:function(){this.isRendering&&(r.util.cancelAnimFrame(this.isRendering),this.isRendering=0)},renderCanvas:function(h,E){var T=this.viewportTransform,k=this.clipPath;this.cancelRequestedRender(),this.calcViewportBoundaries(),this.clearContext(h),r.util.setImageSmoothing(h,this.imageSmoothingEnabled),this.fire("before:render",{ctx:h}),this._renderBackground(h),h.save(),h.transform(T[0],T[1],T[2],T[3],T[4],T[5]),this._renderObjects(h,E),h.restore(),!this.controlsAboveOverlay&&this.interactive&&this.drawControls(h),k&&(k.canvas=this,k.shouldCache(),k._transformDone=!0,k.renderCache({forClipping:!0}),this.drawClipPathOnCanvas(h)),this._renderOverlay(h),this.controlsAboveOverlay&&this.interactive&&this.drawControls(h),this.fire("after:render",{ctx:h})},drawClipPathOnCanvas:function(h){var E=this.viewportTransform,T=this.clipPath;h.save(),h.transform(E[0],E[1],E[2],E[3],E[4],E[5]),h.globalCompositeOperation="destination-in",T.transform(h),h.scale(1/T.zoomX,1/T.zoomY),h.drawImage(T._cacheCanvas,-T.cacheTranslationX,-T.cacheTranslationY),h.restore()},_renderObjects:function(h,E){var T,k;for(T=0,k=E.length;T<k;++T)E[T]&&E[T].render(h)},_renderBackgroundOrOverlay:function(h,E){var T=this[E+"Color"],k=this[E+"Image"],L=this.viewportTransform,F=this[E+"Vpt"];if(!(!T&&!k)){if(T){h.save(),h.beginPath(),h.moveTo(0,0),h.lineTo(this.width,0),h.lineTo(this.width,this.height),h.lineTo(0,this.height),h.closePath(),h.fillStyle=T.toLive?T.toLive(h,this):T,F&&h.transform(L[0],L[1],L[2],L[3],L[4],L[5]),h.transform(1,0,0,1,T.offsetX||0,T.offsetY||0);var U=T.gradientTransform||T.patternTransform;U&&h.transform(U[0],U[1],U[2],U[3],U[4],U[5]),h.fill(),h.restore()}k&&(h.save(),F&&h.transform(L[0],L[1],L[2],L[3],L[4],L[5]),k.render(h),h.restore())}},_renderBackground:function(h){this._renderBackgroundOrOverlay(h,"background")},_renderOverlay:function(h){this._renderBackgroundOrOverlay(h,"overlay")},getCenter:function(){return{top:this.height/2,left:this.width/2}},centerObjectH:function(h){return this._centerObject(h,new r.Point(this.getCenter().left,h.getCenterPoint().y))},centerObjectV:function(h){return this._centerObject(h,new r.Point(h.getCenterPoint().x,this.getCenter().top))},centerObject:function(h){var E=this.getCenter();return this._centerObject(h,new r.Point(E.left,E.top))},viewportCenterObject:function(h){var E=this.getVpCenter();return this._centerObject(h,E)},viewportCenterObjectH:function(h){var E=this.getVpCenter();return this._centerObject(h,new r.Point(E.x,h.getCenterPoint().y)),this},viewportCenterObjectV:function(h){var E=this.getVpCenter();return this._centerObject(h,new r.Point(h.getCenterPoint().x,E.y))},getVpCenter:function(){var h=this.getCenter(),E=c(this.viewportTransform);return o({x:h.left,y:h.top},E)},_centerObject:function(h,E){return h.setPositionByOrigin(E,"center","center"),h.setCoords(),this.renderOnAddRemove&&this.requestRenderAll(),this},toDatalessJSON:function(h){return this.toDatalessObject(h)},toObject:function(h){return this._toObjectMethod("toObject",h)},toDatalessObject:function(h){return this._toObjectMethod("toDatalessObject",h)},_toObjectMethod:function(h,E){var T=this.clipPath,k={version:r.version,objects:this._toObjects(h,E)};return T&&!T.excludeFromExport&&(k.clipPath=this._toObject(this.clipPath,h,E)),p(k,this.__serializeBgOverlay(h,E)),r.util.populateWithProperties(this,k,E),k},_toObjects:function(h,E){return this._objects.filter(function(T){return!T.excludeFromExport}).map(function(T){return this._toObject(T,h,E)},this)},_toObject:function(h,E,T){var k;this.includeDefaultValues||(k=h.includeDefaultValues,h.includeDefaultValues=!1);var L=h[E](T);return this.includeDefaultValues||(h.includeDefaultValues=k),L},__serializeBgOverlay:function(h,E){var T={},k=this.backgroundImage,L=this.overlayImage,F=this.backgroundColor,U=this.overlayColor;return F&&F.toObject?F.excludeFromExport||(T.background=F.toObject(E)):F&&(T.background=F),U&&U.toObject?U.excludeFromExport||(T.overlay=U.toObject(E)):U&&(T.overlay=U),k&&!k.excludeFromExport&&(T.backgroundImage=this._toObject(k,h,E)),L&&!L.excludeFromExport&&(T.overlayImage=this._toObject(L,h,E)),T},svgViewportTransformation:!0,toSVG:function(h,E){h||(h={}),h.reviver=E;var T=[];return this._setSVGPreamble(T,h),this._setSVGHeader(T,h),this.clipPath&&T.push('<g clip-path="url(#'+this.clipPath.clipPathId+`)" >
`),this._setSVGBgOverlayColor(T,"background"),this._setSVGBgOverlayImage(T,"backgroundImage",E),this._setSVGObjects(T,E),this.clipPath&&T.push(`</g>
`),this._setSVGBgOverlayColor(T,"overlay"),this._setSVGBgOverlayImage(T,"overlayImage",E),T.push("</svg>"),T.join("")},_setSVGPreamble:function(h,E){E.suppressPreamble||h.push('<?xml version="1.0" encoding="',E.encoding||"UTF-8",`" standalone="no" ?>
`,'<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" ',`"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
`)},_setSVGHeader:function(h,E){var T=E.width||this.width,k=E.height||this.height,L,F='viewBox="0 0 '+this.width+" "+this.height+'" ',U=r.Object.NUM_FRACTION_DIGITS;E.viewBox?F='viewBox="'+E.viewBox.x+" "+E.viewBox.y+" "+E.viewBox.width+" "+E.viewBox.height+'" ':this.svgViewportTransformation&&(L=this.viewportTransform,F='viewBox="'+v(-L[4]/L[0],U)+" "+v(-L[5]/L[3],U)+" "+v(this.width/L[0],U)+" "+v(this.height/L[3],U)+'" '),h.push("<svg ",'xmlns="http://www.w3.org/2000/svg" ','xmlns:xlink="http://www.w3.org/1999/xlink" ','version="1.1" ','width="',T,'" ','height="',k,'" ',F,`xml:space="preserve">
`,"<desc>Created with Fabric.js ",r.version,`</desc>
`,`<defs>
`,this.createSVGFontFacesMarkup(),this.createSVGRefElementsMarkup(),this.createSVGClipPathMarkup(E),`</defs>
`)},createSVGClipPathMarkup:function(h){var E=this.clipPath;return E?(E.clipPathId="CLIPPATH_"+r.Object.__uid++,'<clipPath id="'+E.clipPathId+`" >
`+this.clipPath.toClipPathSVG(h.reviver)+`</clipPath>
`):""},createSVGRefElementsMarkup:function(){var h=this,E=["background","overlay"].map(function(T){var k=h[T+"Color"];if(k&&k.toLive){var L=h[T+"Vpt"],F=h.viewportTransform,U={width:h.width/(L?F[0]:1),height:h.height/(L?F[3]:1)};return k.toSVG(U,{additionalTransform:L?r.util.matrixToSVG(F):""})}});return E.join("")},createSVGFontFacesMarkup:function(){var h="",E={},T,k,L,F,U,G,Y,K,he,oe=r.fontPaths,ve=[];for(this._objects.forEach(function xe(Z){ve.push(Z),Z._objects&&Z._objects.forEach(xe)}),K=0,he=ve.length;K<he;K++)if(T=ve[K],k=T.fontFamily,!(T.type.indexOf("text")===-1||E[k]||!oe[k])&&(E[k]=!0,!!T.styles)){L=T.styles;for(U in L){F=L[U];for(Y in F)G=F[Y],k=G.fontFamily,!E[k]&&oe[k]&&(E[k]=!0)}}for(var ee in E)h+=[`		@font-face {
`,"			font-family: '",ee,`';
`,"			src: url('",oe[ee],`');
`,`		}
`].join("");return h&&(h=['	<style type="text/css">',`<![CDATA[
`,h,"]]>",`</style>
`].join("")),h},_setSVGObjects:function(h,E){var T,k,L,F=this._objects;for(k=0,L=F.length;k<L;k++)T=F[k],!T.excludeFromExport&&this._setSVGObject(h,T,E)},_setSVGObject:function(h,E,T){h.push(E.toSVG(T))},_setSVGBgOverlayImage:function(h,E,T){this[E]&&!this[E].excludeFromExport&&this[E].toSVG&&h.push(this[E].toSVG(T))},_setSVGBgOverlayColor:function(h,E){var T=this[E+"Color"],k=this.viewportTransform,L=this.width,F=this.height;if(T)if(T.toLive){var U=T.repeat,G=r.util.invertTransform(k),Y=this[E+"Vpt"],K=Y?r.util.matrixToSVG(G):"";h.push('<rect transform="'+K+" translate(",L/2,",",F/2,')"',' x="',T.offsetX-L/2,'" y="',T.offsetY-F/2,'" ','width="',U==="repeat-y"||U==="no-repeat"?T.source.width:L,'" height="',U==="repeat-x"||U==="no-repeat"?T.source.height:F,'" fill="url(#SVGID_'+T.id+')"',`></rect>
`)}else h.push('<rect x="0" y="0" width="100%" height="100%" ','fill="',T,'"',`></rect>
`)},sendToBack:function(h){if(!h)return this;var E=this._activeObject,T,k,L;if(h===E&&h.type==="activeSelection")for(L=E._objects,T=L.length;T--;)k=L[T],m(this._objects,k),this._objects.unshift(k);else m(this._objects,h),this._objects.unshift(h);return this.renderOnAddRemove&&this.requestRenderAll(),this},bringToFront:function(h){if(!h)return this;var E=this._activeObject,T,k,L;if(h===E&&h.type==="activeSelection")for(L=E._objects,T=0;T<L.length;T++)k=L[T],m(this._objects,k),this._objects.push(k);else m(this._objects,h),this._objects.push(h);return this.renderOnAddRemove&&this.requestRenderAll(),this},sendBackwards:function(h,E){if(!h)return this;var T=this._activeObject,k,L,F,U,G,Y=0;if(h===T&&h.type==="activeSelection")for(G=T._objects,k=0;k<G.length;k++)L=G[k],F=this._objects.indexOf(L),F>0+Y&&(U=F-1,m(this._objects,L),this._objects.splice(U,0,L)),Y++;else F=this._objects.indexOf(h),F!==0&&(U=this._findNewLowerIndex(h,F,E),m(this._objects,h),this._objects.splice(U,0,h));return this.renderOnAddRemove&&this.requestRenderAll(),this},_findNewLowerIndex:function(h,E,T){var k,L;if(T)for(k=E,L=E-1;L>=0;--L){var F=h.intersectsWithObject(this._objects[L])||h.isContainedWithinObject(this._objects[L])||this._objects[L].isContainedWithinObject(h);if(F){k=L;break}}else k=E-1;return k},bringForward:function(h,E){if(!h)return this;var T=this._activeObject,k,L,F,U,G,Y=0;if(h===T&&h.type==="activeSelection")for(G=T._objects,k=G.length;k--;)L=G[k],F=this._objects.indexOf(L),F<this._objects.length-1-Y&&(U=F+1,m(this._objects,L),this._objects.splice(U,0,L)),Y++;else F=this._objects.indexOf(h),F!==this._objects.length-1&&(U=this._findNewUpperIndex(h,F,E),m(this._objects,h),this._objects.splice(U,0,h));return this.renderOnAddRemove&&this.requestRenderAll(),this},_findNewUpperIndex:function(h,E,T){var k,L,F;if(T)for(k=E,L=E+1,F=this._objects.length;L<F;++L){var U=h.intersectsWithObject(this._objects[L])||h.isContainedWithinObject(this._objects[L])||this._objects[L].isContainedWithinObject(h);if(U){k=L;break}}else k=E+1;return k},moveTo:function(h,E){return m(this._objects,h),this._objects.splice(E,0,h),this.renderOnAddRemove&&this.requestRenderAll()},dispose:function(){return this.isRendering&&(r.util.cancelAnimFrame(this.isRendering),this.isRendering=0),this.forEachObject(function(h){h.dispose&&h.dispose()}),this._objects=[],this.backgroundImage&&this.backgroundImage.dispose&&this.backgroundImage.dispose(),this.backgroundImage=null,this.overlayImage&&this.overlayImage.dispose&&this.overlayImage.dispose(),this.overlayImage=null,this._iTextInstances=null,this.contextContainer=null,this.lowerCanvasEl.classList.remove("lower-canvas"),this.lowerCanvasEl.style=this._originalCanvasStyle,delete this._originalCanvasStyle,this.lowerCanvasEl.setAttribute("width",this.width),this.lowerCanvasEl.setAttribute("height",this.height),r.util.cleanUpJsdomNode(this.lowerCanvasEl),this.lowerCanvasEl=void 0,this},toString:function(){return"#<fabric.Canvas ("+this.complexity()+"): { objects: "+this._objects.length+" }>"}}),p(r.StaticCanvas.prototype,r.Observable),p(r.StaticCanvas.prototype,r.Collection),p(r.StaticCanvas.prototype,r.DataURLExporter),p(r.StaticCanvas,{EMPTY_JSON:'{"objects": [], "background": "white"}',supports:function(h){var E=g();if(!E||!E.getContext)return null;var T=E.getContext("2d");if(!T)return null;switch(h){case"setLineDash":return typeof T.setLineDash<"u";default:return null}}}),r.StaticCanvas.prototype.toJSON=r.StaticCanvas.prototype.toObject,r.isLikelyNode&&(r.StaticCanvas.prototype.createPNGStream=function(){var h=s(this.lowerCanvasEl);return h&&h.createPNGStream()},r.StaticCanvas.prototype.createJPEGStream=function(h){var E=s(this.lowerCanvasEl);return E&&E.createJPEGStream(h)})}(),r.BaseBrush=r.util.createClass({color:"rgb(0, 0, 0)",width:1,shadow:null,strokeLineCap:"round",strokeLineJoin:"round",strokeMiterLimit:10,strokeDashArray:null,limitedToCanvasSize:!1,_setBrushStyles:function(){var p=this.canvas.contextTop;p.strokeStyle=this.color,p.lineWidth=this.width,p.lineCap=this.strokeLineCap,p.miterLimit=this.strokeMiterLimit,p.lineJoin=this.strokeLineJoin,p.setLineDash(this.strokeDashArray||[])},_saveAndTransform:function(p){var a=this.canvas.viewportTransform;p.save(),p.transform(a[0],a[1],a[2],a[3],a[4],a[5])},_setShadow:function(){if(this.shadow){var p=this.canvas,a=this.shadow,m=p.contextTop,v=p.getZoom();p&&p._isRetinaScaling()&&(v*=r.devicePixelRatio),m.shadowColor=a.color,m.shadowBlur=a.blur*v,m.shadowOffsetX=a.offsetX*v,m.shadowOffsetY=a.offsetY*v}},needsFullRender:function(){var p=new r.Color(this.color);return p.getAlpha()<1||!!this.shadow},_resetShadow:function(){var p=this.canvas.contextTop;p.shadowColor="",p.shadowBlur=p.shadowOffsetX=p.shadowOffsetY=0},_isOutSideCanvas:function(p){return p.x<0||p.x>this.canvas.getWidth()||p.y<0||p.y>this.canvas.getHeight()}}),function(){r.PencilBrush=r.util.createClass(r.BaseBrush,{decimate:.4,initialize:function(p){this.canvas=p,this._points=[]},_drawSegment:function(p,a,m){var v=a.midPointFrom(m);return p.quadraticCurveTo(a.x,a.y,v.x,v.y),v},onMouseDown:function(p,a){this.canvas._isMainEvent(a.e)&&(this._prepareForDrawing(p),this._captureDrawingPath(p),this._render())},onMouseMove:function(p,a){if(this.canvas._isMainEvent(a.e)&&!(this.limitedToCanvasSize===!0&&this._isOutSideCanvas(p))&&this._captureDrawingPath(p)&&this._points.length>1)if(this.needsFullRender())this.canvas.clearContext(this.canvas.contextTop),this._render();else{var m=this._points,v=m.length,o=this.canvas.contextTop;this._saveAndTransform(o),this.oldEnd&&(o.beginPath(),o.moveTo(this.oldEnd.x,this.oldEnd.y)),this.oldEnd=this._drawSegment(o,m[v-2],m[v-1],!0),o.stroke(),o.restore()}},onMouseUp:function(p){return this.canvas._isMainEvent(p.e)?(this.oldEnd=void 0,this._finalizeAndAddPath(),!1):!0},_prepareForDrawing:function(p){var a=new r.Point(p.x,p.y);this._reset(),this._addPoint(a),this.canvas.contextTop.moveTo(a.x,a.y)},_addPoint:function(p){return this._points.length>1&&p.eq(this._points[this._points.length-1])?!1:(this._points.push(p),!0)},_reset:function(){this._points=[],this._setBrushStyles(),this._setShadow()},_captureDrawingPath:function(p){var a=new r.Point(p.x,p.y);return this._addPoint(a)},_render:function(){var p=this.canvas.contextTop,a,m,v=this._points[0],o=this._points[1];if(this._saveAndTransform(p),p.beginPath(),this._points.length===2&&v.x===o.x&&v.y===o.y){var c=this.width/1e3;v=new r.Point(v.x,v.y),o=new r.Point(o.x,o.y),v.x-=c,o.x+=c}for(p.moveTo(v.x,v.y),a=1,m=this._points.length;a<m;a++)this._drawSegment(p,v,o),v=this._points[a],o=this._points[a+1];p.lineTo(v.x,v.y),p.stroke(),p.restore()},convertPointsToSVGPath:function(p){var a=this.width/1e3;return r.util.getSmoothPathFromPoints(p,a)},_isEmptySVGPath:function(p){var a=r.util.joinPath(p);return a==="M 0 0 Q 0 0 0 0 L 0 0"},createPath:function(p){var a=new r.Path(p,{fill:null,stroke:this.color,strokeWidth:this.width,strokeLineCap:this.strokeLineCap,strokeMiterLimit:this.strokeMiterLimit,strokeLineJoin:this.strokeLineJoin,strokeDashArray:this.strokeDashArray});return this.shadow&&(this.shadow.affectStroke=!0,a.shadow=new r.Shadow(this.shadow)),a},decimatePoints:function(p,a){if(p.length<=2)return p;var m=this.canvas.getZoom(),v=Math.pow(a/m,2),o,c=p.length-1,s=p[0],g=[s],x;for(o=1;o<c-1;o++)x=Math.pow(s.x-p[o].x,2)+Math.pow(s.y-p[o].y,2),x>=v&&(s=p[o],g.push(s));return g.push(p[c]),g},_finalizeAndAddPath:function(){var p=this.canvas.contextTop;p.closePath(),this.decimate&&(this._points=this.decimatePoints(this._points,this.decimate));var a=this.convertPointsToSVGPath(this._points);if(this._isEmptySVGPath(a)){this.canvas.requestRenderAll();return}var m=this.createPath(a);this.canvas.clearContext(this.canvas.contextTop),this.canvas.fire("before:path:created",{path:m}),this.canvas.add(m),this.canvas.requestRenderAll(),m.setCoords(),this._resetShadow(),this.canvas.fire("path:created",{path:m})}})}(),r.CircleBrush=r.util.createClass(r.BaseBrush,{width:10,initialize:function(p){this.canvas=p,this.points=[]},drawDot:function(p){var a=this.addPoint(p),m=this.canvas.contextTop;this._saveAndTransform(m),this.dot(m,a),m.restore()},dot:function(p,a){p.fillStyle=a.fill,p.beginPath(),p.arc(a.x,a.y,a.radius,0,Math.PI*2,!1),p.closePath(),p.fill()},onMouseDown:function(p){this.points.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.drawDot(p)},_render:function(){var p=this.canvas.contextTop,a,m,v=this.points;for(this._saveAndTransform(p),a=0,m=v.length;a<m;a++)this.dot(p,v[a]);p.restore()},onMouseMove:function(p){this.limitedToCanvasSize===!0&&this._isOutSideCanvas(p)||(this.needsFullRender()?(this.canvas.clearContext(this.canvas.contextTop),this.addPoint(p),this._render()):this.drawDot(p))},onMouseUp:function(){var p=this.canvas.renderOnAddRemove,a,m;this.canvas.renderOnAddRemove=!1;var v=[];for(a=0,m=this.points.length;a<m;a++){var o=this.points[a],c=new r.Circle({radius:o.radius,left:o.x,top:o.y,originX:"center",originY:"center",fill:o.fill});this.shadow&&(c.shadow=new r.Shadow(this.shadow)),v.push(c)}var s=new r.Group(v);s.canvas=this.canvas,this.canvas.fire("before:path:created",{path:s}),this.canvas.add(s),this.canvas.fire("path:created",{path:s}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=p,this.canvas.requestRenderAll()},addPoint:function(p){var a=new r.Point(p.x,p.y),m=r.util.getRandomInt(Math.max(0,this.width-20),this.width+20)/2,v=new r.Color(this.color).setAlpha(r.util.getRandomInt(0,100)/100).toRgba();return a.radius=m,a.fill=v,this.points.push(a),a}}),r.SprayBrush=r.util.createClass(r.BaseBrush,{width:10,density:20,dotWidth:1,dotWidthVariance:1,randomOpacity:!1,optimizeOverlapping:!0,initialize:function(p){this.canvas=p,this.sprayChunks=[]},onMouseDown:function(p){this.sprayChunks.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.addSprayChunk(p),this.render(this.sprayChunkPoints)},onMouseMove:function(p){this.limitedToCanvasSize===!0&&this._isOutSideCanvas(p)||(this.addSprayChunk(p),this.render(this.sprayChunkPoints))},onMouseUp:function(){var p=this.canvas.renderOnAddRemove;this.canvas.renderOnAddRemove=!1;for(var a=[],m=0,v=this.sprayChunks.length;m<v;m++)for(var o=this.sprayChunks[m],c=0,s=o.length;c<s;c++){var g=new r.Rect({width:o[c].width,height:o[c].width,left:o[c].x+1,top:o[c].y+1,originX:"center",originY:"center",fill:this.color});a.push(g)}this.optimizeOverlapping&&(a=this._getOptimizedRects(a));var x=new r.Group(a);this.shadow&&x.set("shadow",new r.Shadow(this.shadow)),this.canvas.fire("before:path:created",{path:x}),this.canvas.add(x),this.canvas.fire("path:created",{path:x}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=p,this.canvas.requestRenderAll()},_getOptimizedRects:function(p){var a={},m,v,o;for(v=0,o=p.length;v<o;v++)m=p[v].left+""+p[v].top,a[m]||(a[m]=p[v]);var c=[];for(m in a)c.push(a[m]);return c},render:function(p){var a=this.canvas.contextTop,m,v;for(a.fillStyle=this.color,this._saveAndTransform(a),m=0,v=p.length;m<v;m++){var o=p[m];typeof o.opacity<"u"&&(a.globalAlpha=o.opacity),a.fillRect(o.x,o.y,o.width,o.width)}a.restore()},_render:function(){var p=this.canvas.contextTop,a,m;for(p.fillStyle=this.color,this._saveAndTransform(p),a=0,m=this.sprayChunks.length;a<m;a++)this.render(this.sprayChunks[a]);p.restore()},addSprayChunk:function(p){this.sprayChunkPoints=[];var a,m,v,o=this.width/2,c;for(c=0;c<this.density;c++){a=r.util.getRandomInt(p.x-o,p.x+o),m=r.util.getRandomInt(p.y-o,p.y+o),this.dotWidthVariance?v=r.util.getRandomInt(Math.max(1,this.dotWidth-this.dotWidthVariance),this.dotWidth+this.dotWidthVariance):v=this.dotWidth;var s=new r.Point(a,m);s.width=v,this.randomOpacity&&(s.opacity=r.util.getRandomInt(0,100)/100),this.sprayChunkPoints.push(s)}this.sprayChunks.push(this.sprayChunkPoints)}}),r.PatternBrush=r.util.createClass(r.PencilBrush,{getPatternSrc:function(){var p=20,a=5,m=r.util.createCanvasElement(),v=m.getContext("2d");return m.width=m.height=p+a,v.fillStyle=this.color,v.beginPath(),v.arc(p/2,p/2,p/2,0,Math.PI*2,!1),v.closePath(),v.fill(),m},getPatternSrcFunction:function(){return String(this.getPatternSrc).replace("this.color",'"'+this.color+'"')},getPattern:function(){return this.canvas.contextTop.createPattern(this.source||this.getPatternSrc(),"repeat")},_setBrushStyles:function(){this.callSuper("_setBrushStyles"),this.canvas.contextTop.strokeStyle=this.getPattern()},createPath:function(p){var a=this.callSuper("createPath",p),m=a._getLeftTopCoords().scalarAdd(a.strokeWidth/2);return a.stroke=new r.Pattern({source:this.source||this.getPatternSrcFunction(),offsetX:-m.x,offsetY:-m.y}),a}}),function(){var p=r.util.getPointer,a=r.util.degreesToRadians,m=r.util.isTouchEvent;r.Canvas=r.util.createClass(r.StaticCanvas,{initialize:function(o,c){c||(c={}),this.renderAndResetBound=this.renderAndReset.bind(this),this.requestRenderAllBound=this.requestRenderAll.bind(this),this._initStatic(o,c),this._initInteractive(),this._createCacheCanvas()},uniformScaling:!0,uniScaleKey:"shiftKey",centeredScaling:!1,centeredRotation:!1,centeredKey:"altKey",altActionKey:"shiftKey",interactive:!0,selection:!0,selectionKey:"shiftKey",altSelectionKey:null,selectionColor:"rgba(100, 100, 255, 0.3)",selectionDashArray:[],selectionBorderColor:"rgba(255, 255, 255, 0.3)",selectionLineWidth:1,selectionFullyContained:!1,hoverCursor:"move",moveCursor:"move",defaultCursor:"default",freeDrawingCursor:"crosshair",rotationCursor:"crosshair",notAllowedCursor:"not-allowed",containerClass:"canvas-container",perPixelTargetFind:!1,targetFindTolerance:0,skipTargetFind:!1,isDrawingMode:!1,preserveObjectStacking:!1,snapAngle:0,snapThreshold:null,stopContextMenu:!1,fireRightClick:!1,fireMiddleClick:!1,targets:[],_hoveredTarget:null,_hoveredTargets:[],_initInteractive:function(){this._currentTransform=null,this._groupSelector=null,this._initWrapperElement(),this._createUpperCanvas(),this._initEventListeners(),this._initRetinaScaling(),this.freeDrawingBrush=r.PencilBrush&&new r.PencilBrush(this),this.calcOffset()},_chooseObjectsToRender:function(){var o=this.getActiveObjects(),c,s,g;if(o.length>0&&!this.preserveObjectStacking){s=[],g=[];for(var x=0,h=this._objects.length;x<h;x++)c=this._objects[x],o.indexOf(c)===-1?s.push(c):g.push(c);o.length>1&&(this._activeObject._objects=g),s.push.apply(s,g)}else s=this._objects;return s},renderAll:function(){this.contextTopDirty&&!this._groupSelector&&!this.isDrawingMode&&(this.clearContext(this.contextTop),this.contextTopDirty=!1),this.hasLostContext&&this.renderTopLayer(this.contextTop);var o=this.contextContainer;return this.renderCanvas(o,this._chooseObjectsToRender()),this},renderTopLayer:function(o){o.save(),this.isDrawingMode&&this._isCurrentlyDrawing&&(this.freeDrawingBrush&&this.freeDrawingBrush._render(),this.contextTopDirty=!0),this.selection&&this._groupSelector&&(this._drawSelection(o),this.contextTopDirty=!0),o.restore()},renderTop:function(){var o=this.contextTop;return this.clearContext(o),this.renderTopLayer(o),this.fire("after:render"),this},_normalizePointer:function(o,c){var s=o.calcTransformMatrix(),g=r.util.invertTransform(s),x=this.restorePointerVpt(c);return r.util.transformPoint(x,g)},isTargetTransparent:function(o,c,s){if(o.shouldCache()&&o._cacheCanvas&&o!==this._activeObject){var g=this._normalizePointer(o,{x:c,y:s}),x=Math.max(o.cacheTranslationX+g.x*o.zoomX,0),h=Math.max(o.cacheTranslationY+g.y*o.zoomY,0),L=r.util.isTransparent(o._cacheContext,Math.round(x),Math.round(h),this.targetFindTolerance);return L}var E=this.contextCache,T=o.selectionBackgroundColor,k=this.viewportTransform;o.selectionBackgroundColor="",this.clearContext(E),E.save(),E.transform(k[0],k[1],k[2],k[3],k[4],k[5]),o.render(E),E.restore(),o.selectionBackgroundColor=T;var L=r.util.isTransparent(E,c,s,this.targetFindTolerance);return L},_isSelectionKeyPressed:function(o){var c=!1;return Object.prototype.toString.call(this.selectionKey)==="[object Array]"?c=!!this.selectionKey.find(function(s){return o[s]===!0}):c=o[this.selectionKey],c},_shouldClearSelection:function(o,c){var s=this.getActiveObjects(),g=this._activeObject;return!c||c&&g&&s.length>1&&s.indexOf(c)===-1&&g!==c&&!this._isSelectionKeyPressed(o)||c&&!c.evented||c&&!c.selectable&&g&&g!==c},_shouldCenterTransform:function(o,c,s){if(o){var g;return c==="scale"||c==="scaleX"||c==="scaleY"||c==="resizing"?g=this.centeredScaling||o.centeredScaling:c==="rotate"&&(g=this.centeredRotation||o.centeredRotation),g?!s:s}},_getOriginFromCorner:function(o,c){var s={x:o.originX,y:o.originY};return c==="ml"||c==="tl"||c==="bl"?s.x="right":(c==="mr"||c==="tr"||c==="br")&&(s.x="left"),c==="tl"||c==="mt"||c==="tr"?s.y="bottom":(c==="bl"||c==="mb"||c==="br")&&(s.y="top"),s},_getActionFromCorner:function(o,c,s,g){if(!c||!o)return"drag";var x=g.controls[c];return x.getActionName(s,x,g)},_setupCurrentTransform:function(o,c,s){if(c){var g=this.getPointer(o),x=c.__corner,h=c.controls[x],E=s&&x?h.getActionHandler(o,c,h):r.controlsUtils.dragHandler,T=this._getActionFromCorner(s,x,o,c),k=this._getOriginFromCorner(c,x),L=o[this.centeredKey],F={target:c,action:T,actionHandler:E,corner:x,scaleX:c.scaleX,scaleY:c.scaleY,skewX:c.skewX,skewY:c.skewY,offsetX:g.x-c.left,offsetY:g.y-c.top,originX:k.x,originY:k.y,ex:g.x,ey:g.y,lastX:g.x,lastY:g.y,theta:a(c.angle),width:c.width*c.scaleX,shiftKey:o.shiftKey,altKey:L,original:r.util.saveObjectTransform(c)};this._shouldCenterTransform(c,T,L)&&(F.originX="center",F.originY="center"),F.original.originX=k.x,F.original.originY=k.y,this._currentTransform=F,this._beforeTransform(o)}},setCursor:function(o){this.upperCanvasEl.style.cursor=o},_drawSelection:function(o){var c=this._groupSelector,s=new r.Point(c.ex,c.ey),g=r.util.transformPoint(s,this.viewportTransform),x=new r.Point(c.ex+c.left,c.ey+c.top),h=r.util.transformPoint(x,this.viewportTransform),E=Math.min(g.x,h.x),T=Math.min(g.y,h.y),k=Math.max(g.x,h.x),L=Math.max(g.y,h.y),F=this.selectionLineWidth/2;this.selectionColor&&(o.fillStyle=this.selectionColor,o.fillRect(E,T,k-E,L-T)),!(!this.selectionLineWidth||!this.selectionBorderColor)&&(o.lineWidth=this.selectionLineWidth,o.strokeStyle=this.selectionBorderColor,E+=F,T+=F,k-=F,L-=F,r.Object.prototype._setLineDash.call(this,o,this.selectionDashArray),o.strokeRect(E,T,k-E,L-T))},findTarget:function(o,c){if(!this.skipTargetFind){var s=!0,g=this.getPointer(o,s),x=this._activeObject,h=this.getActiveObjects(),E,T,k=m(o),L=h.length>1&&!c||h.length===1;if(this.targets=[],L&&x._findTargetCorner(g,k)||h.length>1&&!c&&x===this._searchPossibleTargets([x],g))return x;if(h.length===1&&x===this._searchPossibleTargets([x],g))if(this.preserveObjectStacking)E=x,T=this.targets,this.targets=[];else return x;var F=this._searchPossibleTargets(this._objects,g);return o[this.altSelectionKey]&&F&&E&&F!==E&&(F=E,this.targets=T),F}},_checkTarget:function(o,c,s){if(c&&c.visible&&c.evented&&c.containsPoint(o))if((this.perPixelTargetFind||c.perPixelTargetFind)&&!c.isEditing){var g=this.isTargetTransparent(c,s.x,s.y);if(!g)return!0}else return!0},_searchPossibleTargets:function(o,c){for(var s,g=o.length,x;g--;){var h=o[g],E=h.group?this._normalizePointer(h.group,c):c;if(this._checkTarget(E,h,c)){s=o[g],s.subTargetCheck&&s instanceof r.Group&&(x=this._searchPossibleTargets(s._objects,c),x&&this.targets.push(x));break}}return s},restorePointerVpt:function(o){return r.util.transformPoint(o,r.util.invertTransform(this.viewportTransform))},getPointer:function(o,c){if(this._absolutePointer&&!c)return this._absolutePointer;if(this._pointer&&c)return this._pointer;var s=p(o),g=this.upperCanvasEl,x=g.getBoundingClientRect(),h=x.width||0,E=x.height||0,T;(!h||!E)&&("top"in x&&"bottom"in x&&(E=Math.abs(x.top-x.bottom)),"right"in x&&"left"in x&&(h=Math.abs(x.right-x.left))),this.calcOffset(),s.x=s.x-this._offset.left,s.y=s.y-this._offset.top,c||(s=this.restorePointerVpt(s));var k=this.getRetinaScaling();return k!==1&&(s.x/=k,s.y/=k),h===0||E===0?T={width:1,height:1}:T={width:g.width/h,height:g.height/E},{x:s.x*T.width,y:s.y*T.height}},_createUpperCanvas:function(){var o=this.lowerCanvasEl.className.replace(/\s*lower-canvas\s*/,""),c=this.lowerCanvasEl,s=this.upperCanvasEl;s?s.className="":(s=this._createCanvasElement(),this.upperCanvasEl=s),r.util.addClass(s,"upper-canvas "+o),this.wrapperEl.appendChild(s),this._copyCanvasStyle(c,s),this._applyCanvasStyle(s),this.contextTop=s.getContext("2d")},_createCacheCanvas:function(){this.cacheCanvasEl=this._createCanvasElement(),this.cacheCanvasEl.setAttribute("width",this.width),this.cacheCanvasEl.setAttribute("height",this.height),this.contextCache=this.cacheCanvasEl.getContext("2d")},_initWrapperElement:function(){this.wrapperEl=r.util.wrapElement(this.lowerCanvasEl,"div",{class:this.containerClass}),r.util.setStyle(this.wrapperEl,{width:this.width+"px",height:this.height+"px",position:"relative"}),r.util.makeElementUnselectable(this.wrapperEl)},_applyCanvasStyle:function(o){var c=this.width||o.width,s=this.height||o.height;r.util.setStyle(o,{position:"absolute",width:c+"px",height:s+"px",left:0,top:0,"touch-action":this.allowTouchScrolling?"manipulation":"none","-ms-touch-action":this.allowTouchScrolling?"manipulation":"none"}),o.width=c,o.height=s,r.util.makeElementUnselectable(o)},_copyCanvasStyle:function(o,c){c.style.cssText=o.style.cssText},getSelectionContext:function(){return this.contextTop},getSelectionElement:function(){return this.upperCanvasEl},getActiveObject:function(){return this._activeObject},getActiveObjects:function(){var o=this._activeObject;return o?o.type==="activeSelection"&&o._objects?o._objects.slice(0):[o]:[]},_onObjectRemoved:function(o){o===this._activeObject&&(this.fire("before:selection:cleared",{target:o}),this._discardActiveObject(),this.fire("selection:cleared",{target:o}),o.fire("deselected")),o===this._hoveredTarget&&(this._hoveredTarget=null,this._hoveredTargets=[]),this.callSuper("_onObjectRemoved",o)},_fireSelectionEvents:function(o,c){var s=!1,g=this.getActiveObjects(),x=[],h=[];o.forEach(function(E){g.indexOf(E)===-1&&(s=!0,E.fire("deselected",{e:c,target:E}),h.push(E))}),g.forEach(function(E){o.indexOf(E)===-1&&(s=!0,E.fire("selected",{e:c,target:E}),x.push(E))}),o.length>0&&g.length>0?s&&this.fire("selection:updated",{e:c,selected:x,deselected:h,updated:x[0]||h[0],target:this._activeObject}):g.length>0?this.fire("selection:created",{e:c,selected:x,target:this._activeObject}):o.length>0&&this.fire("selection:cleared",{e:c,deselected:h})},setActiveObject:function(o,c){var s=this.getActiveObjects();return this._setActiveObject(o,c),this._fireSelectionEvents(s,c),this},_setActiveObject:function(o,c){return this._activeObject===o||!this._discardActiveObject(c,o)||o.onSelect({e:c})?!1:(this._activeObject=o,!0)},_discardActiveObject:function(o,c){var s=this._activeObject;if(s){if(s.onDeselect({e:o,object:c}))return!1;this._activeObject=null}return!0},discardActiveObject:function(o){var c=this.getActiveObjects(),s=this.getActiveObject();return c.length&&this.fire("before:selection:cleared",{target:s,e:o}),this._discardActiveObject(o),this._fireSelectionEvents(c,o),this},dispose:function(){var o=this.wrapperEl;return this.removeListeners(),o.removeChild(this.upperCanvasEl),o.removeChild(this.lowerCanvasEl),this.contextCache=null,this.contextTop=null,["upperCanvasEl","cacheCanvasEl"].forEach((function(c){r.util.cleanUpJsdomNode(this[c]),this[c]=void 0}).bind(this)),o.parentNode&&o.parentNode.replaceChild(this.lowerCanvasEl,this.wrapperEl),delete this.wrapperEl,r.StaticCanvas.prototype.dispose.call(this),this},clear:function(){return this.discardActiveObject(),this.clearContext(this.contextTop),this.callSuper("clear")},drawControls:function(o){var c=this._activeObject;c&&c._renderControls(o)},_toObject:function(o,c,s){var g=this._realizeGroupTransformOnObject(o),x=this.callSuper("_toObject",o,c,s);return this._unwindGroupTransformOnObject(o,g),x},_realizeGroupTransformOnObject:function(o){if(o.group&&o.group.type==="activeSelection"&&this._activeObject===o.group){var c=["angle","flipX","flipY","left","scaleX","scaleY","skewX","skewY","top"],s={};return c.forEach(function(g){s[g]=o[g]}),r.util.addTransformToObject(o,this._activeObject.calcOwnMatrix()),s}else return null},_unwindGroupTransformOnObject:function(o,c){c&&o.set(c)},_setSVGObject:function(o,c,s){var g=this._realizeGroupTransformOnObject(c);this.callSuper("_setSVGObject",o,c,s),this._unwindGroupTransformOnObject(c,g)},setViewportTransform:function(o){this.renderOnAddRemove&&this._activeObject&&this._activeObject.isEditing&&this._activeObject.clearContextTop(),r.StaticCanvas.prototype.setViewportTransform.call(this,o)}});for(var v in r.StaticCanvas)v!=="prototype"&&(r.Canvas[v]=r.StaticCanvas[v])}(),function(){var p=r.util.addListener,a=r.util.removeListener,m=3,v=2,o=1,c={passive:!1};function s(g,x){return g.button&&g.button===x-1}r.util.object.extend(r.Canvas.prototype,{mainTouchId:null,_initEventListeners:function(){this.removeListeners(),this._bindEvents(),this.addOrRemove(p,"add")},_getEventPrefix:function(){return this.enablePointerEvents?"pointer":"mouse"},addOrRemove:function(g,x){var h=this.upperCanvasEl,E=this._getEventPrefix();g(r.window,"resize",this._onResize),g(h,E+"down",this._onMouseDown),g(h,E+"move",this._onMouseMove,c),g(h,E+"out",this._onMouseOut),g(h,E+"enter",this._onMouseEnter),g(h,"wheel",this._onMouseWheel),g(h,"contextmenu",this._onContextMenu),g(h,"dblclick",this._onDoubleClick),g(h,"dragover",this._onDragOver),g(h,"dragenter",this._onDragEnter),g(h,"dragleave",this._onDragLeave),g(h,"drop",this._onDrop),this.enablePointerEvents||g(h,"touchstart",this._onTouchStart,c),typeof eventjs<"u"&&x in eventjs&&(eventjs[x](h,"gesture",this._onGesture),eventjs[x](h,"drag",this._onDrag),eventjs[x](h,"orientation",this._onOrientationChange),eventjs[x](h,"shake",this._onShake),eventjs[x](h,"longpress",this._onLongPress))},removeListeners:function(){this.addOrRemove(a,"remove");var g=this._getEventPrefix();a(r.document,g+"up",this._onMouseUp),a(r.document,"touchend",this._onTouchEnd,c),a(r.document,g+"move",this._onMouseMove,c),a(r.document,"touchmove",this._onMouseMove,c)},_bindEvents:function(){this.eventsBound||(this._onMouseDown=this._onMouseDown.bind(this),this._onTouchStart=this._onTouchStart.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this._onMouseUp=this._onMouseUp.bind(this),this._onTouchEnd=this._onTouchEnd.bind(this),this._onResize=this._onResize.bind(this),this._onGesture=this._onGesture.bind(this),this._onDrag=this._onDrag.bind(this),this._onShake=this._onShake.bind(this),this._onLongPress=this._onLongPress.bind(this),this._onOrientationChange=this._onOrientationChange.bind(this),this._onMouseWheel=this._onMouseWheel.bind(this),this._onMouseOut=this._onMouseOut.bind(this),this._onMouseEnter=this._onMouseEnter.bind(this),this._onContextMenu=this._onContextMenu.bind(this),this._onDoubleClick=this._onDoubleClick.bind(this),this._onDragOver=this._onDragOver.bind(this),this._onDragEnter=this._simpleEventHandler.bind(this,"dragenter"),this._onDragLeave=this._simpleEventHandler.bind(this,"dragleave"),this._onDrop=this._simpleEventHandler.bind(this,"drop"),this.eventsBound=!0)},_onGesture:function(g,x){this.__onTransformGesture&&this.__onTransformGesture(g,x)},_onDrag:function(g,x){this.__onDrag&&this.__onDrag(g,x)},_onMouseWheel:function(g){this.__onMouseWheel(g)},_onMouseOut:function(g){var x=this._hoveredTarget;this.fire("mouse:out",{target:x,e:g}),this._hoveredTarget=null,x&&x.fire("mouseout",{e:g});var h=this;this._hoveredTargets.forEach(function(E){h.fire("mouse:out",{target:x,e:g}),E&&x.fire("mouseout",{e:g})}),this._hoveredTargets=[],this._iTextInstances&&this._iTextInstances.forEach(function(E){E.isEditing&&E.hiddenTextarea.focus()})},_onMouseEnter:function(g){!this._currentTransform&&!this.findTarget(g)&&(this.fire("mouse:over",{target:null,e:g}),this._hoveredTarget=null,this._hoveredTargets=[])},_onOrientationChange:function(g,x){this.__onOrientationChange&&this.__onOrientationChange(g,x)},_onShake:function(g,x){this.__onShake&&this.__onShake(g,x)},_onLongPress:function(g,x){this.__onLongPress&&this.__onLongPress(g,x)},_onDragOver:function(g){g.preventDefault();var x=this._simpleEventHandler("dragover",g);this._fireEnterLeaveEvents(x,g)},_onContextMenu:function(g){return this.stopContextMenu&&(g.stopPropagation(),g.preventDefault()),!1},_onDoubleClick:function(g){this._cacheTransformEventData(g),this._handleEvent(g,"dblclick"),this._resetTransformEventData(g)},getPointerId:function(g){var x=g.changedTouches;return x?x[0]&&x[0].identifier:this.enablePointerEvents?g.pointerId:-1},_isMainEvent:function(g){return g.isPrimary===!0?!0:g.isPrimary===!1?!1:g.type==="touchend"&&g.touches.length===0?!0:g.changedTouches?g.changedTouches[0].identifier===this.mainTouchId:!0},_onTouchStart:function(g){g.preventDefault(),this.mainTouchId===null&&(this.mainTouchId=this.getPointerId(g)),this.__onMouseDown(g),this._resetTransformEventData();var x=this.upperCanvasEl,h=this._getEventPrefix();p(r.document,"touchend",this._onTouchEnd,c),p(r.document,"touchmove",this._onMouseMove,c),a(x,h+"down",this._onMouseDown)},_onMouseDown:function(g){this.__onMouseDown(g),this._resetTransformEventData();var x=this.upperCanvasEl,h=this._getEventPrefix();a(x,h+"move",this._onMouseMove,c),p(r.document,h+"up",this._onMouseUp),p(r.document,h+"move",this._onMouseMove,c)},_onTouchEnd:function(g){if(!(g.touches.length>0)){this.__onMouseUp(g),this._resetTransformEventData(),this.mainTouchId=null;var x=this._getEventPrefix();a(r.document,"touchend",this._onTouchEnd,c),a(r.document,"touchmove",this._onMouseMove,c);var h=this;this._willAddMouseDown&&clearTimeout(this._willAddMouseDown),this._willAddMouseDown=setTimeout(function(){p(h.upperCanvasEl,x+"down",h._onMouseDown),h._willAddMouseDown=0},400)}},_onMouseUp:function(g){this.__onMouseUp(g),this._resetTransformEventData();var x=this.upperCanvasEl,h=this._getEventPrefix();this._isMainEvent(g)&&(a(r.document,h+"up",this._onMouseUp),a(r.document,h+"move",this._onMouseMove,c),p(x,h+"move",this._onMouseMove,c))},_onMouseMove:function(g){!this.allowTouchScrolling&&g.preventDefault&&g.preventDefault(),this.__onMouseMove(g)},_onResize:function(){this.calcOffset()},_shouldRender:function(g){var x=this._activeObject;return!!x!=!!g||x&&g&&x!==g?!0:(x&&x.isEditing,!1)},__onMouseUp:function(g){var x,h=this._currentTransform,E=this._groupSelector,T=!1,k=!E||E.left===0&&E.top===0;if(this._cacheTransformEventData(g),x=this._target,this._handleEvent(g,"up:before"),s(g,m)){this.fireRightClick&&this._handleEvent(g,"up",m,k);return}if(s(g,v)){this.fireMiddleClick&&this._handleEvent(g,"up",v,k),this._resetTransformEventData();return}if(this.isDrawingMode&&this._isCurrentlyDrawing){this._onMouseUpInDrawingMode(g);return}if(this._isMainEvent(g)){if(h&&(this._finalizeCurrentTransform(g),T=h.actionPerformed),!k){var L=x===this._activeObject;this._maybeGroupObjects(g),T||(T=this._shouldRender(x)||!L&&x===this._activeObject)}if(x){if(x.selectable&&x!==this._activeObject&&x.activeOn==="up")this.setActiveObject(x,g),T=!0;else{var F=x._findTargetCorner(this.getPointer(g,!0),r.util.isTouchEvent(g)),U=x.controls[F],G=U&&U.getMouseUpHandler(g,x,U);if(G){var Y=this.getPointer(g);G(g,h,Y.x,Y.y)}}x.isMoving=!1}this._setCursorFromEvent(g,x),this._handleEvent(g,"up",o,k),this._groupSelector=null,this._currentTransform=null,x&&(x.__corner=0),T?this.requestRenderAll():k||this.renderTop()}},_simpleEventHandler:function(g,x){var h=this.findTarget(x),E=this.targets,T={e:x,target:h,subTargets:E};if(this.fire(g,T),h&&h.fire(g,T),!E)return h;for(var k=0;k<E.length;k++)E[k].fire(g,T);return h},_handleEvent:function(g,x,h,E){var T=this._target,k=this.targets||[],L={e:g,target:T,subTargets:k,button:h||o,isClick:E||!1,pointer:this._pointer,absolutePointer:this._absolutePointer,transform:this._currentTransform};x==="up"&&(L.currentTarget=this.findTarget(g),L.currentSubTargets=this.targets),this.fire("mouse:"+x,L),T&&T.fire("mouse"+x,L);for(var F=0;F<k.length;F++)k[F].fire("mouse"+x,L)},_finalizeCurrentTransform:function(g){var x=this._currentTransform,h=x.target,E,T={e:g,target:h,transform:x,action:x.action};h._scaling&&(h._scaling=!1),h.setCoords(),(x.actionPerformed||this.stateful&&h.hasStateChanged())&&(x.actionPerformed&&(E=this._addEventOptions(T,x),this._fire(E,T)),this._fire("modified",T))},_addEventOptions:function(g,x){var h,E;switch(x.action){case"scaleX":h="scaled",E="x";break;case"scaleY":h="scaled",E="y";break;case"skewX":h="skewed",E="x";break;case"skewY":h="skewed",E="y";break;case"scale":h="scaled",E="equally";break;case"rotate":h="rotated";break;case"drag":h="moved";break}return g.by=E,h},_onMouseDownInDrawingMode:function(g){this._isCurrentlyDrawing=!0,this.getActiveObject()&&this.discardActiveObject(g).requestRenderAll();var x=this.getPointer(g);this.freeDrawingBrush.onMouseDown(x,{e:g,pointer:x}),this._handleEvent(g,"down")},_onMouseMoveInDrawingMode:function(g){if(this._isCurrentlyDrawing){var x=this.getPointer(g);this.freeDrawingBrush.onMouseMove(x,{e:g,pointer:x})}this.setCursor(this.freeDrawingCursor),this._handleEvent(g,"move")},_onMouseUpInDrawingMode:function(g){var x=this.getPointer(g);this._isCurrentlyDrawing=this.freeDrawingBrush.onMouseUp({e:g,pointer:x}),this._handleEvent(g,"up")},__onMouseDown:function(g){this._cacheTransformEventData(g),this._handleEvent(g,"down:before");var x=this._target;if(s(g,m)){this.fireRightClick&&this._handleEvent(g,"down",m);return}if(s(g,v)){this.fireMiddleClick&&this._handleEvent(g,"down",v);return}if(this.isDrawingMode){this._onMouseDownInDrawingMode(g);return}if(this._isMainEvent(g)&&!this._currentTransform){var h=this._pointer;this._previousPointer=h;var E=this._shouldRender(x),T=this._shouldGroup(g,x);if(this._shouldClearSelection(g,x)?this.discardActiveObject(g):T&&(this._handleGrouping(g,x),x=this._activeObject),this.selection&&(!x||!x.selectable&&!x.isEditing&&x!==this._activeObject)&&(this._groupSelector={ex:this._absolutePointer.x,ey:this._absolutePointer.y,top:0,left:0}),x){var k=x===this._activeObject;x.selectable&&x.activeOn==="down"&&this.setActiveObject(x,g);var L=x._findTargetCorner(this.getPointer(g,!0),r.util.isTouchEvent(g));if(x.__corner=L,x===this._activeObject&&(L||!T)){this._setupCurrentTransform(g,x,k);var F=x.controls[L],h=this.getPointer(g),U=F&&F.getMouseDownHandler(g,x,F);U&&U(g,this._currentTransform,h.x,h.y)}}this._handleEvent(g,"down"),(E||T)&&this.requestRenderAll()}},_resetTransformEventData:function(){this._target=null,this._pointer=null,this._absolutePointer=null},_cacheTransformEventData:function(g){this._resetTransformEventData(),this._pointer=this.getPointer(g,!0),this._absolutePointer=this.restorePointerVpt(this._pointer),this._target=this._currentTransform?this._currentTransform.target:this.findTarget(g)||null},_beforeTransform:function(g){var x=this._currentTransform;this.stateful&&x.target.saveState(),this.fire("before:transform",{e:g,transform:x})},__onMouseMove:function(g){this._handleEvent(g,"move:before"),this._cacheTransformEventData(g);var x,h;if(this.isDrawingMode){this._onMouseMoveInDrawingMode(g);return}if(this._isMainEvent(g)){var E=this._groupSelector;E?(h=this._absolutePointer,E.left=h.x-E.ex,E.top=h.y-E.ey,this.renderTop()):this._currentTransform?this._transformObject(g):(x=this.findTarget(g)||null,this._setCursorFromEvent(g,x),this._fireOverOutEvents(x,g)),this._handleEvent(g,"move"),this._resetTransformEventData()}},_fireOverOutEvents:function(g,x){var h=this._hoveredTarget,E=this._hoveredTargets,T=this.targets,k=Math.max(E.length,T.length);this.fireSyntheticInOutEvents(g,x,{oldTarget:h,evtOut:"mouseout",canvasEvtOut:"mouse:out",evtIn:"mouseover",canvasEvtIn:"mouse:over"});for(var L=0;L<k;L++)this.fireSyntheticInOutEvents(T[L],x,{oldTarget:E[L],evtOut:"mouseout",evtIn:"mouseover"});this._hoveredTarget=g,this._hoveredTargets=this.targets.concat()},_fireEnterLeaveEvents:function(g,x){var h=this._draggedoverTarget,E=this._hoveredTargets,T=this.targets,k=Math.max(E.length,T.length);this.fireSyntheticInOutEvents(g,x,{oldTarget:h,evtOut:"dragleave",evtIn:"dragenter"});for(var L=0;L<k;L++)this.fireSyntheticInOutEvents(T[L],x,{oldTarget:E[L],evtOut:"dragleave",evtIn:"dragenter"});this._draggedoverTarget=g},fireSyntheticInOutEvents:function(g,x,h){var E,T,k=h.oldTarget,L,F,U=k!==g,G=h.canvasEvtIn,Y=h.canvasEvtOut;U&&(E={e:x,target:g,previousTarget:k},T={e:x,target:k,nextTarget:g}),F=g&&U,L=k&&U,L&&(Y&&this.fire(Y,T),k.fire(h.evtOut,T)),F&&(G&&this.fire(G,E),g.fire(h.evtIn,E))},__onMouseWheel:function(g){this._cacheTransformEventData(g),this._handleEvent(g,"wheel"),this._resetTransformEventData()},_transformObject:function(g){var x=this.getPointer(g),h=this._currentTransform;h.reset=!1,h.shiftKey=g.shiftKey,h.altKey=g[this.centeredKey],this._performTransformAction(g,h,x),h.actionPerformed&&this.requestRenderAll()},_performTransformAction:function(g,x,h){var E=h.x,T=h.y,k=x.action,L=!1,F=x.actionHandler;F&&(L=F(g,x,E,T)),k==="drag"&&L&&(x.target.isMoving=!0,this.setCursor(x.target.moveCursor||this.moveCursor)),x.actionPerformed=x.actionPerformed||L},_fire:r.controlsUtils.fireEvent,_setCursorFromEvent:function(g,x){if(!x)return this.setCursor(this.defaultCursor),!1;var h=x.hoverCursor||this.hoverCursor,E=this._activeObject&&this._activeObject.type==="activeSelection"?this._activeObject:null,T=(!E||!E.contains(x))&&x._findTargetCorner(this.getPointer(g,!0));T?this.setCursor(this.getCornerCursor(T,x,g)):(x.subTargetCheck&&this.targets.concat().reverse().map(function(k){h=k.hoverCursor||h}),this.setCursor(h))},getCornerCursor:function(g,x,h){var E=x.controls[g];return E.cursorStyleHandler(h,E,x)}})}(),function(){var p=Math.min,a=Math.max;r.util.object.extend(r.Canvas.prototype,{_shouldGroup:function(m,v){var o=this._activeObject;return o&&this._isSelectionKeyPressed(m)&&v&&v.selectable&&this.selection&&(o!==v||o.type==="activeSelection")&&!v.onSelect({e:m})},_handleGrouping:function(m,v){var o=this._activeObject;o.__corner||v===o&&(v=this.findTarget(m,!0),!v||!v.selectable)||(o&&o.type==="activeSelection"?this._updateActiveSelection(v,m):this._createActiveSelection(v,m))},_updateActiveSelection:function(m,v){var o=this._activeObject,c=o._objects.slice(0);o.contains(m)?(o.removeWithUpdate(m),this._hoveredTarget=m,this._hoveredTargets=this.targets.concat(),o.size()===1&&this._setActiveObject(o.item(0),v)):(o.addWithUpdate(m),this._hoveredTarget=o,this._hoveredTargets=this.targets.concat()),this._fireSelectionEvents(c,v)},_createActiveSelection:function(m,v){var o=this.getActiveObjects(),c=this._createGroup(m);this._hoveredTarget=c,this._setActiveObject(c,v),this._fireSelectionEvents(o,v)},_createGroup:function(m){var v=this._objects,o=v.indexOf(this._activeObject)<v.indexOf(m),c=o?[this._activeObject,m]:[m,this._activeObject];return this._activeObject.isEditing&&this._activeObject.exitEditing(),new r.ActiveSelection(c,{canvas:this})},_groupSelectedObjects:function(m){var v=this._collectObjects(m),o;v.length===1?this.setActiveObject(v[0],m):v.length>1&&(o=new r.ActiveSelection(v.reverse(),{canvas:this}),this.setActiveObject(o,m))},_collectObjects:function(m){for(var v=[],o,c=this._groupSelector.ex,s=this._groupSelector.ey,g=c+this._groupSelector.left,x=s+this._groupSelector.top,h=new r.Point(p(c,g),p(s,x)),E=new r.Point(a(c,g),a(s,x)),T=!this.selectionFullyContained,k=c===g&&s===x,L=this._objects.length;L--&&(o=this._objects[L],!(!(!o||!o.selectable||!o.visible)&&(T&&o.intersectsWithRect(h,E,!0)||o.isContainedWithinRect(h,E,!0)||T&&o.containsPoint(h,null,!0)||T&&o.containsPoint(E,null,!0))&&(v.push(o),k))););return v.length>1&&(v=v.filter(function(F){return!F.onSelect({e:m})})),v},_maybeGroupObjects:function(m){this.selection&&this._groupSelector&&this._groupSelectedObjects(m),this.setCursor(this.defaultCursor),this._groupSelector=null}})}(),function(){r.util.object.extend(r.StaticCanvas.prototype,{toDataURL:function(p){p||(p={});var a=p.format||"png",m=p.quality||1,v=(p.multiplier||1)*(p.enableRetinaScaling?this.getRetinaScaling():1),o=this.toCanvasElement(v,p);return r.util.toDataURL(o,a,m)},toCanvasElement:function(p,a){p=p||1,a=a||{};var m=(a.width||this.width)*p,v=(a.height||this.height)*p,o=this.getZoom(),c=this.width,s=this.height,g=o*p,x=this.viewportTransform,h=(x[4]-(a.left||0))*p,E=(x[5]-(a.top||0))*p,T=this.interactive,k=[g,0,0,g,h,E],L=this.enableRetinaScaling,F=r.util.createCanvasElement(),U=this.contextTop;return F.width=m,F.height=v,this.contextTop=null,this.enableRetinaScaling=!1,this.interactive=!1,this.viewportTransform=k,this.width=m,this.height=v,this.calcViewportBoundaries(),this.renderCanvas(F.getContext("2d"),this._objects),this.viewportTransform=x,this.width=c,this.height=s,this.calcViewportBoundaries(),this.interactive=T,this.enableRetinaScaling=L,this.contextTop=U,F}})}(),r.util.object.extend(r.StaticCanvas.prototype,{loadFromJSON:function(p,a,m){if(p){var v=typeof p=="string"?JSON.parse(p):r.util.object.clone(p),o=this,c=v.clipPath,s=this.renderOnAddRemove;return this.renderOnAddRemove=!1,delete v.clipPath,this._enlivenObjects(v.objects,function(g){o.clear(),o._setBgOverlay(v,function(){c?o._enlivenObjects([c],function(x){o.clipPath=x[0],o.__setupCanvas.call(o,v,g,s,a)}):o.__setupCanvas.call(o,v,g,s,a)})},m),this}},__setupCanvas:function(p,a,m,v){var o=this;a.forEach(function(c,s){o.insertAt(c,s)}),this.renderOnAddRemove=m,delete p.objects,delete p.backgroundImage,delete p.overlayImage,delete p.background,delete p.overlay,this._setOptions(p),this.renderAll(),v&&v()},_setBgOverlay:function(p,a){var m={backgroundColor:!1,overlayColor:!1,backgroundImage:!1,overlayImage:!1};if(!p.backgroundImage&&!p.overlayImage&&!p.background&&!p.overlay){a&&a();return}var v=function(){m.backgroundImage&&m.overlayImage&&m.backgroundColor&&m.overlayColor&&a&&a()};this.__setBgOverlay("backgroundImage",p.backgroundImage,m,v),this.__setBgOverlay("overlayImage",p.overlayImage,m,v),this.__setBgOverlay("backgroundColor",p.background,m,v),this.__setBgOverlay("overlayColor",p.overlay,m,v)},__setBgOverlay:function(p,a,m,v){var o=this;if(!a){m[p]=!0,v&&v();return}p==="backgroundImage"||p==="overlayImage"?r.util.enlivenObjects([a],function(c){o[p]=c[0],m[p]=!0,v&&v()}):this["set"+r.util.string.capitalize(p,!0)](a,function(){m[p]=!0,v&&v()})},_enlivenObjects:function(p,a,m){if(!p||p.length===0){a&&a([]);return}r.util.enlivenObjects(p,function(v){a&&a(v)},null,m)},_toDataURL:function(p,a){this.clone(function(m){a(m.toDataURL(p))})},_toDataURLWithMultiplier:function(p,a,m){this.clone(function(v){m(v.toDataURLWithMultiplier(p,a))})},clone:function(p,a){var m=JSON.stringify(this.toJSON(a));this.cloneWithoutData(function(v){v.loadFromJSON(m,function(){p&&p(v)})})},cloneWithoutData:function(p){var a=r.util.createCanvasElement();a.width=this.width,a.height=this.height;var m=new r.Canvas(a);this.backgroundImage?(m.setBackgroundImage(this.backgroundImage.src,function(){m.renderAll(),p&&p(m)}),m.backgroundImageOpacity=this.backgroundImageOpacity,m.backgroundImageStretch=this.backgroundImageStretch):p&&p(m)}}),function(p){var a=p.fabric||(p.fabric={}),m=a.util.object.extend,v=a.util.object.clone,o=a.util.toFixed,c=a.util.string.capitalize,s=a.util.degreesToRadians,g=!a.isLikelyNode,x=2;a.Object||(a.Object=a.util.createClass(a.CommonMethods,{type:"object",originX:"left",originY:"top",top:0,left:0,width:0,height:0,scaleX:1,scaleY:1,flipX:!1,flipY:!1,opacity:1,angle:0,skewX:0,skewY:0,cornerSize:13,touchCornerSize:24,transparentCorners:!0,hoverCursor:null,moveCursor:null,padding:0,borderColor:"rgb(178,204,255)",borderDashArray:null,cornerColor:"rgb(178,204,255)",cornerStrokeColor:null,cornerStyle:"rect",cornerDashArray:null,centeredScaling:!1,centeredRotation:!0,fill:"rgb(0,0,0)",fillRule:"nonzero",globalCompositeOperation:"source-over",backgroundColor:"",selectionBackgroundColor:"",stroke:null,strokeWidth:1,strokeDashArray:null,strokeDashOffset:0,strokeLineCap:"butt",strokeLineJoin:"miter",strokeMiterLimit:4,shadow:null,borderOpacityWhenMoving:.4,borderScaleFactor:1,minScaleLimit:0,selectable:!0,evented:!0,visible:!0,hasControls:!0,hasBorders:!0,perPixelTargetFind:!1,includeDefaultValues:!0,lockMovementX:!1,lockMovementY:!1,lockRotation:!1,lockScalingX:!1,lockScalingY:!1,lockSkewingX:!1,lockSkewingY:!1,lockScalingFlip:!1,excludeFromExport:!1,objectCaching:g,statefullCache:!1,noScaleCache:!0,strokeUniform:!1,dirty:!0,__corner:0,paintFirst:"fill",activeOn:"down",stateProperties:"top left width height scaleX scaleY flipX flipY originX originY transformMatrix stroke strokeWidth strokeDashArray strokeLineCap strokeDashOffset strokeLineJoin strokeMiterLimit angle opacity fill globalCompositeOperation shadow visible backgroundColor skewX skewY fillRule paintFirst clipPath strokeUniform".split(" "),cacheProperties:"fill stroke strokeWidth strokeDashArray width height paintFirst strokeUniform strokeLineCap strokeDashOffset strokeLineJoin strokeMiterLimit backgroundColor clipPath".split(" "),colorProperties:"fill stroke backgroundColor".split(" "),clipPath:void 0,inverted:!1,absolutePositioned:!1,initialize:function(h){h&&this.setOptions(h)},_createCacheCanvas:function(){this._cacheProperties={},this._cacheCanvas=a.util.createCanvasElement(),this._cacheContext=this._cacheCanvas.getContext("2d"),this._updateCacheCanvas(),this.dirty=!0},_limitCacheSize:function(h){var E=a.perfLimitSizeTotal,T=h.width,k=h.height,L=a.maxCacheSideLimit,F=a.minCacheSideLimit;if(T<=L&&k<=L&&T*k<=E)return T<F&&(h.width=F),k<F&&(h.height=F),h;var U=T/k,G=a.util.limitDimsByArea(U,E),Y=a.util.capValue,K=Y(F,G.x,L),he=Y(F,G.y,L);return T>K&&(h.zoomX/=T/K,h.width=K,h.capped=!0),k>he&&(h.zoomY/=k/he,h.height=he,h.capped=!0),h},_getCacheCanvasDimensions:function(){var h=this.getTotalObjectScaling(),E=this._getTransformedDimensions(0,0),T=E.x*h.scaleX/this.scaleX,k=E.y*h.scaleY/this.scaleY;return{width:T+x,height:k+x,zoomX:h.scaleX,zoomY:h.scaleY,x:T,y:k}},_updateCacheCanvas:function(){var h=this.canvas;if(this.noScaleCache&&h&&h._currentTransform){var E=h._currentTransform.target,T=h._currentTransform.action;if(this===E&&T.slice&&T.slice(0,5)==="scale")return!1}var k=this._cacheCanvas,L=this._limitCacheSize(this._getCacheCanvasDimensions()),F=a.minCacheSideLimit,U=L.width,G=L.height,Y,K,he=L.zoomX,oe=L.zoomY,ve=U!==this.cacheWidth||G!==this.cacheHeight,ee=this.zoomX!==he||this.zoomY!==oe,xe=ve||ee,Z=0,Be=0,we=!1;if(ve){var ge=this._cacheCanvas.width,te=this._cacheCanvas.height,ae=U>ge||G>te,ne=(U<ge*.9||G<te*.9)&&ge>F&&te>F;we=ae||ne,ae&&!L.capped&&(U>F||G>F)&&(Z=U*.1,Be=G*.1)}return this instanceof a.Text&&this.path&&(xe=!0,we=!0,Z+=this.getHeightOfLine(0)*this.zoomX,Be+=this.getHeightOfLine(0)*this.zoomY),xe?(we?(k.width=Math.ceil(U+Z),k.height=Math.ceil(G+Be)):(this._cacheContext.setTransform(1,0,0,1,0,0),this._cacheContext.clearRect(0,0,k.width,k.height)),Y=L.x/2,K=L.y/2,this.cacheTranslationX=Math.round(k.width/2-Y)+Y,this.cacheTranslationY=Math.round(k.height/2-K)+K,this.cacheWidth=U,this.cacheHeight=G,this._cacheContext.translate(this.cacheTranslationX,this.cacheTranslationY),this._cacheContext.scale(he,oe),this.zoomX=he,this.zoomY=oe,!0):!1},setOptions:function(h){this._setOptions(h),this._initGradient(h.fill,"fill"),this._initGradient(h.stroke,"stroke"),this._initPattern(h.fill,"fill"),this._initPattern(h.stroke,"stroke")},transform:function(h){var E=this.group&&!this.group._transformDone||this.group&&this.canvas&&h===this.canvas.contextTop,T=this.calcTransformMatrix(!E);h.transform(T[0],T[1],T[2],T[3],T[4],T[5])},toObject:function(h){var E=a.Object.NUM_FRACTION_DIGITS,T={type:this.type,version:a.version,originX:this.originX,originY:this.originY,left:o(this.left,E),top:o(this.top,E),width:o(this.width,E),height:o(this.height,E),fill:this.fill&&this.fill.toObject?this.fill.toObject():this.fill,stroke:this.stroke&&this.stroke.toObject?this.stroke.toObject():this.stroke,strokeWidth:o(this.strokeWidth,E),strokeDashArray:this.strokeDashArray?this.strokeDashArray.concat():this.strokeDashArray,strokeLineCap:this.strokeLineCap,strokeDashOffset:this.strokeDashOffset,strokeLineJoin:this.strokeLineJoin,strokeUniform:this.strokeUniform,strokeMiterLimit:o(this.strokeMiterLimit,E),scaleX:o(this.scaleX,E),scaleY:o(this.scaleY,E),angle:o(this.angle,E),flipX:this.flipX,flipY:this.flipY,opacity:o(this.opacity,E),shadow:this.shadow&&this.shadow.toObject?this.shadow.toObject():this.shadow,visible:this.visible,backgroundColor:this.backgroundColor,fillRule:this.fillRule,paintFirst:this.paintFirst,globalCompositeOperation:this.globalCompositeOperation,skewX:o(this.skewX,E),skewY:o(this.skewY,E)};return this.clipPath&&!this.clipPath.excludeFromExport&&(T.clipPath=this.clipPath.toObject(h),T.clipPath.inverted=this.clipPath.inverted,T.clipPath.absolutePositioned=this.clipPath.absolutePositioned),a.util.populateWithProperties(this,T,h),this.includeDefaultValues||(T=this._removeDefaultValues(T)),T},toDatalessObject:function(h){return this.toObject(h)},_removeDefaultValues:function(h){var E=a.util.getKlass(h.type).prototype,T=E.stateProperties;return T.forEach(function(k){if(!(k==="left"||k==="top")){h[k]===E[k]&&delete h[k];var L=Object.prototype.toString.call(h[k])==="[object Array]"&&Object.prototype.toString.call(E[k])==="[object Array]";L&&h[k].length===0&&E[k].length===0&&delete h[k]}}),h},toString:function(){return"#<fabric."+c(this.type)+">"},getObjectScaling:function(){if(!this.group)return{scaleX:this.scaleX,scaleY:this.scaleY};var h=a.util.qrDecompose(this.calcTransformMatrix());return{scaleX:Math.abs(h.scaleX),scaleY:Math.abs(h.scaleY)}},getTotalObjectScaling:function(){var h=this.getObjectScaling(),E=h.scaleX,T=h.scaleY;if(this.canvas){var k=this.canvas.getZoom(),L=this.canvas.getRetinaScaling();E*=k*L,T*=k*L}return{scaleX:E,scaleY:T}},getObjectOpacity:function(){var h=this.opacity;return this.group&&(h*=this.group.getObjectOpacity()),h},_set:function(h,E){var T=h==="scaleX"||h==="scaleY",k=this[h]!==E,L=!1;return T&&(E=this._constrainScale(E)),h==="scaleX"&&E<0?(this.flipX=!this.flipX,E*=-1):h==="scaleY"&&E<0?(this.flipY=!this.flipY,E*=-1):h==="shadow"&&E&&!(E instanceof a.Shadow)?E=new a.Shadow(E):h==="dirty"&&this.group&&this.group.set("dirty",E),this[h]=E,k&&(L=this.group&&this.group.isOnACache(),this.cacheProperties.indexOf(h)>-1?(this.dirty=!0,L&&this.group.set("dirty",!0)):L&&this.stateProperties.indexOf(h)>-1&&this.group.set("dirty",!0)),this},setOnGroup:function(){},getViewportTransform:function(){return this.canvas&&this.canvas.viewportTransform?this.canvas.viewportTransform:a.iMatrix.concat()},isNotVisible:function(){return this.opacity===0||!this.width&&!this.height&&this.strokeWidth===0||!this.visible},render:function(h){this.isNotVisible()||this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(h.save(),this._setupCompositeOperation(h),this.drawSelectionBackground(h),this.transform(h),this._setOpacity(h),this._setShadow(h,this),this.shouldCache()?(this.renderCache(),this.drawCacheOnCanvas(h)):(this._removeCacheCanvas(),this.dirty=!1,this.drawObject(h),this.objectCaching&&this.statefullCache&&this.saveState({propertySet:"cacheProperties"})),h.restore())},renderCache:function(h){h=h||{},this._cacheCanvas||this._createCacheCanvas(),this.isCacheDirty()&&(this.statefullCache&&this.saveState({propertySet:"cacheProperties"}),this.drawObject(this._cacheContext,h.forClipping),this.dirty=!1)},_removeCacheCanvas:function(){this._cacheCanvas=null,this.cacheWidth=0,this.cacheHeight=0},hasStroke:function(){return this.stroke&&this.stroke!=="transparent"&&this.strokeWidth!==0},hasFill:function(){return this.fill&&this.fill!=="transparent"},needsItsOwnCache:function(){return!!(this.paintFirst==="stroke"&&this.hasFill()&&this.hasStroke()&&typeof this.shadow=="object"||this.clipPath)},shouldCache:function(){return this.ownCaching=this.needsItsOwnCache()||this.objectCaching&&(!this.group||!this.group.isOnACache()),this.ownCaching},willDrawShadow:function(){return!!this.shadow&&(this.shadow.offsetX!==0||this.shadow.offsetY!==0)},drawClipPathOnCache:function(h){var E=this.clipPath;if(h.save(),E.inverted?h.globalCompositeOperation="destination-out":h.globalCompositeOperation="destination-in",E.absolutePositioned){var T=a.util.invertTransform(this.calcTransformMatrix());h.transform(T[0],T[1],T[2],T[3],T[4],T[5])}E.transform(h),h.scale(1/E.zoomX,1/E.zoomY),h.drawImage(E._cacheCanvas,-E.cacheTranslationX,-E.cacheTranslationY),h.restore()},drawObject:function(h,E){var T=this.fill,k=this.stroke;E?(this.fill="black",this.stroke="",this._setClippingProperties(h)):this._renderBackground(h),this._render(h),this._drawClipPath(h),this.fill=T,this.stroke=k},_drawClipPath:function(h){var E=this.clipPath;E&&(E.canvas=this.canvas,E.shouldCache(),E._transformDone=!0,E.renderCache({forClipping:!0}),this.drawClipPathOnCache(h))},drawCacheOnCanvas:function(h){h.scale(1/this.zoomX,1/this.zoomY),h.drawImage(this._cacheCanvas,-this.cacheTranslationX,-this.cacheTranslationY)},isCacheDirty:function(h){if(this.isNotVisible())return!1;if(this._cacheCanvas&&!h&&this._updateCacheCanvas())return!0;if(this.dirty||this.clipPath&&this.clipPath.absolutePositioned||this.statefullCache&&this.hasStateChanged("cacheProperties")){if(this._cacheCanvas&&!h){var E=this.cacheWidth/this.zoomX,T=this.cacheHeight/this.zoomY;this._cacheContext.clearRect(-E/2,-T/2,E,T)}return!0}return!1},_renderBackground:function(h){if(this.backgroundColor){var E=this._getNonTransformedDimensions();h.fillStyle=this.backgroundColor,h.fillRect(-E.x/2,-E.y/2,E.x,E.y),this._removeShadow(h)}},_setOpacity:function(h){this.group&&!this.group._transformDone?h.globalAlpha=this.getObjectOpacity():h.globalAlpha*=this.opacity},_setStrokeStyles:function(h,E){var T=E.stroke;T&&(h.lineWidth=E.strokeWidth,h.lineCap=E.strokeLineCap,h.lineDashOffset=E.strokeDashOffset,h.lineJoin=E.strokeLineJoin,h.miterLimit=E.strokeMiterLimit,T.toLive?T.gradientUnits==="percentage"||T.gradientTransform||T.patternTransform?this._applyPatternForTransformedGradient(h,T):(h.strokeStyle=T.toLive(h,this),this._applyPatternGradientTransform(h,T)):h.strokeStyle=E.stroke)},_setFillStyles:function(h,E){var T=E.fill;T&&(T.toLive?(h.fillStyle=T.toLive(h,this),this._applyPatternGradientTransform(h,E.fill)):h.fillStyle=T)},_setClippingProperties:function(h){h.globalAlpha=1,h.strokeStyle="transparent",h.fillStyle="#000000"},_setLineDash:function(h,E){!E||E.length===0||(1&E.length&&E.push.apply(E,E),h.setLineDash(E))},_renderControls:function(h,E){var T=this.getViewportTransform(),k=this.calcTransformMatrix(),L,F,U;E=E||{},F=typeof E.hasBorders<"u"?E.hasBorders:this.hasBorders,U=typeof E.hasControls<"u"?E.hasControls:this.hasControls,k=a.util.multiplyTransformMatrices(T,k),L=a.util.qrDecompose(k),h.save(),h.translate(L.translateX,L.translateY),h.lineWidth=1*this.borderScaleFactor,this.group||(h.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1),h.rotate(s(L.angle)),E.forActiveSelection||this.group?F&&this.drawBordersInGroup(h,L,E):F&&this.drawBorders(h,E),U&&this.drawControls(h,E),h.restore()},_setShadow:function(h){if(this.shadow){var E=this.shadow,T=this.canvas,k,L=T&&T.viewportTransform[0]||1,F=T&&T.viewportTransform[3]||1;E.nonScaling?k={scaleX:1,scaleY:1}:k=this.getObjectScaling(),T&&T._isRetinaScaling()&&(L*=a.devicePixelRatio,F*=a.devicePixelRatio),h.shadowColor=E.color,h.shadowBlur=E.blur*a.browserShadowBlurConstant*(L+F)*(k.scaleX+k.scaleY)/4,h.shadowOffsetX=E.offsetX*L*k.scaleX,h.shadowOffsetY=E.offsetY*F*k.scaleY}},_removeShadow:function(h){this.shadow&&(h.shadowColor="",h.shadowBlur=h.shadowOffsetX=h.shadowOffsetY=0)},_applyPatternGradientTransform:function(h,E){if(!E||!E.toLive)return{offsetX:0,offsetY:0};var T=E.gradientTransform||E.patternTransform,k=-this.width/2+E.offsetX||0,L=-this.height/2+E.offsetY||0;return E.gradientUnits==="percentage"?h.transform(this.width,0,0,this.height,k,L):h.transform(1,0,0,1,k,L),T&&h.transform(T[0],T[1],T[2],T[3],T[4],T[5]),{offsetX:k,offsetY:L}},_renderPaintInOrder:function(h){this.paintFirst==="stroke"?(this._renderStroke(h),this._renderFill(h)):(this._renderFill(h),this._renderStroke(h))},_render:function(){},_renderFill:function(h){this.fill&&(h.save(),this._setFillStyles(h,this),this.fillRule==="evenodd"?h.fill("evenodd"):h.fill(),h.restore())},_renderStroke:function(h){if(!(!this.stroke||this.strokeWidth===0)){if(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(h),h.save(),this.strokeUniform&&this.group){var E=this.getObjectScaling();h.scale(1/E.scaleX,1/E.scaleY)}else this.strokeUniform&&h.scale(1/this.scaleX,1/this.scaleY);this._setLineDash(h,this.strokeDashArray),this._setStrokeStyles(h,this),h.stroke(),h.restore()}},_applyPatternForTransformedGradient:function(h,E){var T=this._limitCacheSize(this._getCacheCanvasDimensions()),k=a.util.createCanvasElement(),L,F=this.canvas.getRetinaScaling(),U=T.x/this.scaleX/F,G=T.y/this.scaleY/F;k.width=U,k.height=G,L=k.getContext("2d"),L.beginPath(),L.moveTo(0,0),L.lineTo(U,0),L.lineTo(U,G),L.lineTo(0,G),L.closePath(),L.translate(U/2,G/2),L.scale(T.zoomX/this.scaleX/F,T.zoomY/this.scaleY/F),this._applyPatternGradientTransform(L,E),L.fillStyle=E.toLive(h),L.fill(),h.translate(-this.width/2-this.strokeWidth/2,-this.height/2-this.strokeWidth/2),h.scale(F*this.scaleX/T.zoomX,F*this.scaleY/T.zoomY),h.strokeStyle=L.createPattern(k,"no-repeat")},_findCenterFromElement:function(){return{x:this.left+this.width/2,y:this.top+this.height/2}},_assignTransformMatrixProps:function(){if(this.transformMatrix){var h=a.util.qrDecompose(this.transformMatrix);this.flipX=!1,this.flipY=!1,this.set("scaleX",h.scaleX),this.set("scaleY",h.scaleY),this.angle=h.angle,this.skewX=h.skewX,this.skewY=0}},_removeTransformMatrix:function(h){var E=this._findCenterFromElement();this.transformMatrix&&(this._assignTransformMatrixProps(),E=a.util.transformPoint(E,this.transformMatrix)),this.transformMatrix=null,h&&(this.scaleX*=h.scaleX,this.scaleY*=h.scaleY,this.cropX=h.cropX,this.cropY=h.cropY,E.x+=h.offsetLeft,E.y+=h.offsetTop,this.width=h.width,this.height=h.height),this.setPositionByOrigin(E,"center","center")},clone:function(h,E){var T=this.toObject(E);this.constructor.fromObject?this.constructor.fromObject(T,h):a.Object._fromObject("Object",T,h)},cloneAsImage:function(h,E){var T=this.toCanvasElement(E);return h&&h(new a.Image(T)),this},toCanvasElement:function(h){h||(h={});var E=a.util,T=E.saveObjectTransform(this),k=this.group,L=this.shadow,F=Math.abs,U=(h.multiplier||1)*(h.enableRetinaScaling?a.devicePixelRatio:1);delete this.group,h.withoutTransform&&E.resetObjectTransform(this),h.withoutShadow&&(this.shadow=null);var G=a.util.createCanvasElement(),Y=this.getBoundingRect(!0,!0),K=this.shadow,he,oe={x:0,y:0},ve,ee,xe;K&&(ve=K.blur,K.nonScaling?he={scaleX:1,scaleY:1}:he=this.getObjectScaling(),oe.x=2*Math.round(F(K.offsetX)+ve)*F(he.scaleX),oe.y=2*Math.round(F(K.offsetY)+ve)*F(he.scaleY)),ee=Y.width+oe.x,xe=Y.height+oe.y,G.width=Math.ceil(ee),G.height=Math.ceil(xe);var Z=new a.StaticCanvas(G,{enableRetinaScaling:!1,renderOnAddRemove:!1,skipOffscreen:!1});h.format==="jpeg"&&(Z.backgroundColor="#fff"),this.setPositionByOrigin(new a.Point(Z.width/2,Z.height/2),"center","center");var Be=this.canvas;Z.add(this);var we=Z.toCanvasElement(U||1,h);return this.shadow=L,this.set("canvas",Be),k&&(this.group=k),this.set(T).setCoords(),Z._objects=[],Z.dispose(),Z=null,we},toDataURL:function(h){return h||(h={}),a.util.toDataURL(this.toCanvasElement(h),h.format||"png",h.quality||1)},isType:function(h){return this.type===h},complexity:function(){return 1},toJSON:function(h){return this.toObject(h)},rotate:function(h){var E=(this.originX!=="center"||this.originY!=="center")&&this.centeredRotation;return E&&this._setOriginToCenter(),this.set("angle",h),E&&this._resetOrigin(),this},centerH:function(){return this.canvas&&this.canvas.centerObjectH(this),this},viewportCenterH:function(){return this.canvas&&this.canvas.viewportCenterObjectH(this),this},centerV:function(){return this.canvas&&this.canvas.centerObjectV(this),this},viewportCenterV:function(){return this.canvas&&this.canvas.viewportCenterObjectV(this),this},center:function(){return this.canvas&&this.canvas.centerObject(this),this},viewportCenter:function(){return this.canvas&&this.canvas.viewportCenterObject(this),this},getLocalPointer:function(h,E){E=E||this.canvas.getPointer(h);var T=new a.Point(E.x,E.y),k=this._getLeftTopCoords();return this.angle&&(T=a.util.rotatePoint(T,k,s(-this.angle))),{x:T.x-k.x,y:T.y-k.y}},_setupCompositeOperation:function(h){this.globalCompositeOperation&&(h.globalCompositeOperation=this.globalCompositeOperation)}}),a.util.createAccessors&&a.util.createAccessors(a.Object),m(a.Object.prototype,a.Observable),a.Object.NUM_FRACTION_DIGITS=2,a.Object._fromObject=function(h,E,T,k){var L=a[h];E=v(E,!0),a.util.enlivenPatterns([E.fill,E.stroke],function(F){typeof F[0]<"u"&&(E.fill=F[0]),typeof F[1]<"u"&&(E.stroke=F[1]),a.util.enlivenObjects([E.clipPath],function(U){E.clipPath=U[0];var G=k?new L(E[k],E):new L(E);T&&T(G)})})},a.Object.__uid=0)}(M),function(){var p=r.util.degreesToRadians,a={left:-.5,center:0,right:.5},m={top:-.5,center:0,bottom:.5};r.util.object.extend(r.Object.prototype,{translateToGivenOrigin:function(v,o,c,s,g){var x=v.x,h=v.y,E,T,k;return typeof o=="string"?o=a[o]:o-=.5,typeof s=="string"?s=a[s]:s-=.5,E=s-o,typeof c=="string"?c=m[c]:c-=.5,typeof g=="string"?g=m[g]:g-=.5,T=g-c,(E||T)&&(k=this._getTransformedDimensions(),x=v.x+E*k.x,h=v.y+T*k.y),new r.Point(x,h)},translateToCenterPoint:function(v,o,c){var s=this.translateToGivenOrigin(v,o,c,"center","center");return this.angle?r.util.rotatePoint(s,v,p(this.angle)):s},translateToOriginPoint:function(v,o,c){var s=this.translateToGivenOrigin(v,"center","center",o,c);return this.angle?r.util.rotatePoint(s,v,p(this.angle)):s},getCenterPoint:function(){var v=new r.Point(this.left,this.top);return this.translateToCenterPoint(v,this.originX,this.originY)},getPointByOrigin:function(v,o){var c=this.getCenterPoint();return this.translateToOriginPoint(c,v,o)},toLocalPoint:function(v,o,c){var s=this.getCenterPoint(),g,x;return typeof o<"u"&&typeof c<"u"?g=this.translateToGivenOrigin(s,"center","center",o,c):g=new r.Point(this.left,this.top),x=new r.Point(v.x,v.y),this.angle&&(x=r.util.rotatePoint(x,s,-p(this.angle))),x.subtractEquals(g)},setPositionByOrigin:function(v,o,c){var s=this.translateToCenterPoint(v,o,c),g=this.translateToOriginPoint(s,this.originX,this.originY);this.set("left",g.x),this.set("top",g.y)},adjustPosition:function(v){var o=p(this.angle),c=this.getScaledWidth(),s=r.util.cos(o)*c,g=r.util.sin(o)*c,x,h;typeof this.originX=="string"?x=a[this.originX]:x=this.originX-.5,typeof v=="string"?h=a[v]:h=v-.5,this.left+=s*(h-x),this.top+=g*(h-x),this.setCoords(),this.originX=v},_setOriginToCenter:function(){this._originalOriginX=this.originX,this._originalOriginY=this.originY;var v=this.getCenterPoint();this.originX="center",this.originY="center",this.left=v.x,this.top=v.y},_resetOrigin:function(){var v=this.translateToOriginPoint(this.getCenterPoint(),this._originalOriginX,this._originalOriginY);this.originX=this._originalOriginX,this.originY=this._originalOriginY,this.left=v.x,this.top=v.y,this._originalOriginX=null,this._originalOriginY=null},_getLeftTopCoords:function(){return this.translateToOriginPoint(this.getCenterPoint(),"left","top")}})}(),function(){function p(c){return[new r.Point(c.tl.x,c.tl.y),new r.Point(c.tr.x,c.tr.y),new r.Point(c.br.x,c.br.y),new r.Point(c.bl.x,c.bl.y)]}var a=r.util,m=a.degreesToRadians,v=a.multiplyTransformMatrices,o=a.transformPoint;a.object.extend(r.Object.prototype,{oCoords:null,aCoords:null,lineCoords:null,ownMatrixCache:null,matrixCache:null,controls:{},_getCoords:function(c,s){return s?c?this.calcACoords():this.calcLineCoords():((!this.aCoords||!this.lineCoords)&&this.setCoords(!0),c?this.aCoords:this.lineCoords)},getCoords:function(c,s){return p(this._getCoords(c,s))},intersectsWithRect:function(c,s,g,x){var h=this.getCoords(g,x),E=r.Intersection.intersectPolygonRectangle(h,c,s);return E.status==="Intersection"},intersectsWithObject:function(c,s,g){var x=r.Intersection.intersectPolygonPolygon(this.getCoords(s,g),c.getCoords(s,g));return x.status==="Intersection"||c.isContainedWithinObject(this,s,g)||this.isContainedWithinObject(c,s,g)},isContainedWithinObject:function(c,s,g){for(var x=this.getCoords(s,g),h=s?c.aCoords:c.lineCoords,E=0,T=c._getImageLines(h);E<4;E++)if(!c.containsPoint(x[E],T))return!1;return!0},isContainedWithinRect:function(c,s,g,x){var h=this.getBoundingRect(g,x);return h.left>=c.x&&h.left+h.width<=s.x&&h.top>=c.y&&h.top+h.height<=s.y},containsPoint:function(c,E,g,x){var h=this._getCoords(g,x),E=E||this._getImageLines(h),T=this._findCrossPoints(c,E);return T!==0&&T%2===1},isOnScreen:function(c){if(!this.canvas)return!1;var s=this.canvas.vptCoords.tl,g=this.canvas.vptCoords.br,x=this.getCoords(!0,c);return x.some(function(h){return h.x<=g.x&&h.x>=s.x&&h.y<=g.y&&h.y>=s.y})||this.intersectsWithRect(s,g,!0,c)?!0:this._containsCenterOfCanvas(s,g,c)},_containsCenterOfCanvas:function(c,s,g){var x={x:(c.x+s.x)/2,y:(c.y+s.y)/2};return!!this.containsPoint(x,null,!0,g)},isPartiallyOnScreen:function(c){if(!this.canvas)return!1;var s=this.canvas.vptCoords.tl,g=this.canvas.vptCoords.br;if(this.intersectsWithRect(s,g,!0,c))return!0;var x=this.getCoords(!0,c).every(function(h){return(h.x>=g.x||h.x<=s.x)&&(h.y>=g.y||h.y<=s.y)});return x&&this._containsCenterOfCanvas(s,g,c)},_getImageLines:function(c){var s={topline:{o:c.tl,d:c.tr},rightline:{o:c.tr,d:c.br},bottomline:{o:c.br,d:c.bl},leftline:{o:c.bl,d:c.tl}};return s},_findCrossPoints:function(c,s){var g,x,h,E,T,k=0,L;for(var F in s)if(L=s[F],!(L.o.y<c.y&&L.d.y<c.y)&&!(L.o.y>=c.y&&L.d.y>=c.y)&&(L.o.x===L.d.x&&L.o.x>=c.x?T=L.o.x:(g=0,x=(L.d.y-L.o.y)/(L.d.x-L.o.x),h=c.y-g*c.x,E=L.o.y-x*L.o.x,T=-(h-E)/(g-x)),T>=c.x&&(k+=1),k===2))break;return k},getBoundingRect:function(c,s){var g=this.getCoords(c,s);return a.makeBoundingBoxFromPoints(g)},getScaledWidth:function(){return this._getTransformedDimensions().x},getScaledHeight:function(){return this._getTransformedDimensions().y},_constrainScale:function(c){return Math.abs(c)<this.minScaleLimit?c<0?-this.minScaleLimit:this.minScaleLimit:c===0?1e-4:c},scale:function(c){return this._set("scaleX",c),this._set("scaleY",c),this.setCoords()},scaleToWidth:function(c,s){var g=this.getBoundingRect(s).width/this.getScaledWidth();return this.scale(c/this.width/g)},scaleToHeight:function(c,s){var g=this.getBoundingRect(s).height/this.getScaledHeight();return this.scale(c/this.height/g)},calcCoords:function(c){return c?this.calcACoords():this.calcOCoords()},calcLineCoords:function(){var c=this.getViewportTransform(),s=this.padding,g=m(this.angle),x=a.cos(g),h=a.sin(g),E=x*s,T=h*s,k=E+T,L=E-T,F=this.calcACoords(),U={tl:o(F.tl,c),tr:o(F.tr,c),bl:o(F.bl,c),br:o(F.br,c)};return s&&(U.tl.x-=L,U.tl.y-=k,U.tr.x+=k,U.tr.y-=L,U.bl.x-=k,U.bl.y+=L,U.br.x+=L,U.br.y+=k),U},calcOCoords:function(){var c=this._calcRotateMatrix(),s=this._calcTranslateMatrix(),g=this.getViewportTransform(),x=v(g,s),h=v(x,c),h=v(h,[1/g[0],0,0,1/g[3],0,0]),E=this._calculateCurrentDimensions(),T={};return this.forEachControl(function(k,L,F){T[L]=k.positionHandler(E,h,F)}),T},calcACoords:function(){var c=this._calcRotateMatrix(),s=this._calcTranslateMatrix(),g=v(s,c),x=this._getTransformedDimensions(),h=x.x/2,E=x.y/2;return{tl:o({x:-h,y:-E},g),tr:o({x:h,y:-E},g),bl:o({x:-h,y:E},g),br:o({x:h,y:E},g)}},setCoords:function(c){return this.aCoords=this.calcACoords(),this.lineCoords=this.group?this.aCoords:this.calcLineCoords(),c?this:(this.oCoords=this.calcOCoords(),this._setCornerCoords&&this._setCornerCoords(),this)},_calcRotateMatrix:function(){return a.calcRotateMatrix(this)},_calcTranslateMatrix:function(){var c=this.getCenterPoint();return[1,0,0,1,c.x,c.y]},transformMatrixKey:function(c){var s="_",g="";return!c&&this.group&&(g=this.group.transformMatrixKey(c)+s),g+this.top+s+this.left+s+this.scaleX+s+this.scaleY+s+this.skewX+s+this.skewY+s+this.angle+s+this.originX+s+this.originY+s+this.width+s+this.height+s+this.strokeWidth+this.flipX+this.flipY},calcTransformMatrix:function(c){var s=this.calcOwnMatrix();if(c||!this.group)return s;var g=this.transformMatrixKey(c),x=this.matrixCache||(this.matrixCache={});return x.key===g?x.value:(this.group&&(s=v(this.group.calcTransformMatrix(!1),s)),x.key=g,x.value=s,s)},calcOwnMatrix:function(){var c=this.transformMatrixKey(!0),s=this.ownMatrixCache||(this.ownMatrixCache={});if(s.key===c)return s.value;var g=this._calcTranslateMatrix(),x={angle:this.angle,translateX:g[4],translateY:g[5],scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,flipX:this.flipX,flipY:this.flipY};return s.key=c,s.value=a.composeMatrix(x),s.value},_calcDimensionsTransformMatrix:function(c,s,g){return a.calcDimensionsMatrix({skewX:c,skewY:s,scaleX:this.scaleX*(g&&this.flipX?-1:1),scaleY:this.scaleY*(g&&this.flipY?-1:1)})},_getNonTransformedDimensions:function(){var c=this.strokeWidth,s=this.width+c,g=this.height+c;return{x:s,y:g}},_getTransformedDimensions:function(c,s){typeof c>"u"&&(c=this.skewX),typeof s>"u"&&(s=this.skewY);var g,x,h,E=c===0&&s===0;if(this.strokeUniform?(x=this.width,h=this.height):(g=this._getNonTransformedDimensions(),x=g.x,h=g.y),E)return this._finalizeDimensions(x*this.scaleX,h*this.scaleY);var T=a.sizeAfterTransform(x,h,{scaleX:this.scaleX,scaleY:this.scaleY,skewX:c,skewY:s});return this._finalizeDimensions(T.x,T.y)},_finalizeDimensions:function(c,s){return this.strokeUniform?{x:c+this.strokeWidth,y:s+this.strokeWidth}:{x:c,y:s}},_calculateCurrentDimensions:function(){var c=this.getViewportTransform(),s=this._getTransformedDimensions(),g=o(s,c,!0);return g.scalarAdd(2*this.padding)}})}(),r.util.object.extend(r.Object.prototype,{sendToBack:function(){return this.group?r.StaticCanvas.prototype.sendToBack.call(this.group,this):this.canvas&&this.canvas.sendToBack(this),this},bringToFront:function(){return this.group?r.StaticCanvas.prototype.bringToFront.call(this.group,this):this.canvas&&this.canvas.bringToFront(this),this},sendBackwards:function(p){return this.group?r.StaticCanvas.prototype.sendBackwards.call(this.group,this,p):this.canvas&&this.canvas.sendBackwards(this,p),this},bringForward:function(p){return this.group?r.StaticCanvas.prototype.bringForward.call(this.group,this,p):this.canvas&&this.canvas.bringForward(this,p),this},moveTo:function(p){return this.group&&this.group.type!=="activeSelection"?r.StaticCanvas.prototype.moveTo.call(this.group,this,p):this.canvas&&this.canvas.moveTo(this,p),this}}),function(){function p(m,v){if(v){if(v.toLive)return m+": url(#SVGID_"+v.id+"); ";var o=new r.Color(v),c=m+": "+o.toRgb()+"; ",s=o.getAlpha();return s!==1&&(c+=m+"-opacity: "+s.toString()+"; "),c}else return m+": none; "}var a=r.util.toFixed;r.util.object.extend(r.Object.prototype,{getSvgStyles:function(m){var v=this.fillRule?this.fillRule:"nonzero",o=this.strokeWidth?this.strokeWidth:"0",c=this.strokeDashArray?this.strokeDashArray.join(" "):"none",s=this.strokeDashOffset?this.strokeDashOffset:"0",g=this.strokeLineCap?this.strokeLineCap:"butt",x=this.strokeLineJoin?this.strokeLineJoin:"miter",h=this.strokeMiterLimit?this.strokeMiterLimit:"4",E=typeof this.opacity<"u"?this.opacity:"1",T=this.visible?"":" visibility: hidden;",k=m?"":this.getSvgFilter(),L=p("fill",this.fill),F=p("stroke",this.stroke);return[F,"stroke-width: ",o,"; ","stroke-dasharray: ",c,"; ","stroke-linecap: ",g,"; ","stroke-dashoffset: ",s,"; ","stroke-linejoin: ",x,"; ","stroke-miterlimit: ",h,"; ",L,"fill-rule: ",v,"; ","opacity: ",E,";",k,T].join("")},getSvgSpanStyles:function(m,v){var o="; ",s=m.fontFamily?"font-family: "+(m.fontFamily.indexOf("'")===-1&&m.fontFamily.indexOf('"')===-1?"'"+m.fontFamily+"'":m.fontFamily)+o:"",c=m.strokeWidth?"stroke-width: "+m.strokeWidth+o:"",s=s,g=m.fontSize?"font-size: "+m.fontSize+"px"+o:"",x=m.fontStyle?"font-style: "+m.fontStyle+o:"",h=m.fontWeight?"font-weight: "+m.fontWeight+o:"",E=m.fill?p("fill",m.fill):"",T=m.stroke?p("stroke",m.stroke):"",k=this.getSvgTextDecoration(m),L=m.deltaY?"baseline-shift: "+-m.deltaY+"; ":"";return k&&(k="text-decoration: "+k+o),[T,c,s,g,x,h,k,E,L,v?"white-space: pre; ":""].join("")},getSvgTextDecoration:function(m){return["overline","underline","line-through"].filter(function(v){return m[v.replace("-","")]}).join(" ")},getSvgFilter:function(){return this.shadow?"filter: url(#SVGID_"+this.shadow.id+");":""},getSvgCommons:function(){return[this.id?'id="'+this.id+'" ':"",this.clipPath?'clip-path="url(#'+this.clipPath.clipPathId+')" ':""].join("")},getSvgTransform:function(m,v){var o=m?this.calcTransformMatrix():this.calcOwnMatrix(),c='transform="'+r.util.matrixToSVG(o);return c+(v||"")+'" '},_setSVGBg:function(m){if(this.backgroundColor){var v=r.Object.NUM_FRACTION_DIGITS;m.push("		<rect ",this._getFillAttributes(this.backgroundColor),' x="',a(-this.width/2,v),'" y="',a(-this.height/2,v),'" width="',a(this.width,v),'" height="',a(this.height,v),`"></rect>
`)}},toSVG:function(m){return this._createBaseSVGMarkup(this._toSVG(m),{reviver:m})},toClipPathSVG:function(m){return"	"+this._createBaseClipPathSVGMarkup(this._toSVG(m),{reviver:m})},_createBaseClipPathSVGMarkup:function(m,v){v=v||{};var o=v.reviver,c=v.additionalTransform||"",s=[this.getSvgTransform(!0,c),this.getSvgCommons()].join(""),g=m.indexOf("COMMON_PARTS");return m[g]=s,o?o(m.join("")):m.join("")},_createBaseSVGMarkup:function(m,v){v=v||{};var o=v.noStyle,c=v.reviver,s=o?"":'style="'+this.getSvgStyles()+'" ',g=v.withShadow?'style="'+this.getSvgFilter()+'" ':"",x=this.clipPath,h=this.strokeUniform?'vector-effect="non-scaling-stroke" ':"",E=x&&x.absolutePositioned,T=this.stroke,k=this.fill,L=this.shadow,F,U=[],G,Y=m.indexOf("COMMON_PARTS"),K=v.additionalTransform;return x&&(x.clipPathId="CLIPPATH_"+r.Object.__uid++,G='<clipPath id="'+x.clipPathId+`" >
`+x.toClipPathSVG(c)+`</clipPath>
`),E&&U.push("<g ",g,this.getSvgCommons(),` >
`),U.push("<g ",this.getSvgTransform(!1),E?"":g+this.getSvgCommons(),` >
`),F=[s,h,o?"":this.addPaintOrder()," ",K?'transform="'+K+'" ':""].join(""),m[Y]=F,k&&k.toLive&&U.push(k.toSVG(this)),T&&T.toLive&&U.push(T.toSVG(this)),L&&U.push(L.toSVG(this)),x&&U.push(G),U.push(m.join("")),U.push(`</g>
`),E&&U.push(`</g>
`),c?c(U.join("")):U.join("")},addPaintOrder:function(){return this.paintFirst!=="fill"?' paint-order="'+this.paintFirst+'" ':""}})}(),function(){var p=r.util.object.extend,a="stateProperties";function m(o,c,s){var g={},x=!0;s.forEach(function(h){g[h]=o[h]}),p(o[c],g,x)}function v(o,c,s){if(o===c)return!0;if(Array.isArray(o)){if(!Array.isArray(c)||o.length!==c.length)return!1;for(var g=0,x=o.length;g<x;g++)if(!v(o[g],c[g]))return!1;return!0}else if(o&&typeof o=="object"){var h=Object.keys(o),E;if(!c||typeof c!="object"||!s&&h.length!==Object.keys(c).length)return!1;for(var g=0,x=h.length;g<x;g++)if(E=h[g],!(E==="canvas"||E==="group")&&!v(o[E],c[E]))return!1;return!0}}r.util.object.extend(r.Object.prototype,{hasStateChanged:function(o){o=o||a;var c="_"+o;return Object.keys(this[c]).length<this[o].length?!0:!v(this[c],this,!0)},saveState:function(o){var c=o&&o.propertySet||a,s="_"+c;return this[s]?(m(this,s,this[c]),o&&o.stateProperties&&m(this,s,o.stateProperties),this):this.setupState(o)},setupState:function(o){o=o||{};var c=o.propertySet||a;return o.propertySet=c,this["_"+c]={},this.saveState(o),this}})}(),function(){var p=r.util.degreesToRadians;r.util.object.extend(r.Object.prototype,{_findTargetCorner:function(a,m){if(!this.hasControls||this.group||!this.canvas||this.canvas._activeObject!==this)return!1;var v=a.x,o=a.y,c,s,g=Object.keys(this.oCoords),x=g.length-1,h;for(this.__corner=0;x>=0;x--)if(h=g[x],!!this.isControlVisible(h)&&(s=this._getImageLines(m?this.oCoords[h].touchCorner:this.oCoords[h].corner),c=this._findCrossPoints({x:v,y:o},s),c!==0&&c%2===1))return this.__corner=h,h;return!1},forEachControl:function(a){for(var m in this.controls)a(this.controls[m],m,this)},_setCornerCoords:function(){var a=this.oCoords;for(var m in a){var v=this.controls[m];a[m].corner=v.calcCornerCoords(this.angle,this.cornerSize,a[m].x,a[m].y,!1),a[m].touchCorner=v.calcCornerCoords(this.angle,this.touchCornerSize,a[m].x,a[m].y,!0)}},drawSelectionBackground:function(a){if(!this.selectionBackgroundColor||this.canvas&&!this.canvas.interactive||this.canvas&&this.canvas._activeObject!==this)return this;a.save();var m=this.getCenterPoint(),v=this._calculateCurrentDimensions(),o=this.canvas.viewportTransform;return a.translate(m.x,m.y),a.scale(1/o[0],1/o[3]),a.rotate(p(this.angle)),a.fillStyle=this.selectionBackgroundColor,a.fillRect(-v.x/2,-v.y/2,v.x,v.y),a.restore(),this},drawBorders:function(a,m){m=m||{};var v=this._calculateCurrentDimensions(),o=this.borderScaleFactor,c=v.x+o,s=v.y+o,g=typeof m.hasControls<"u"?m.hasControls:this.hasControls,x=!1;return a.save(),a.strokeStyle=m.borderColor||this.borderColor,this._setLineDash(a,m.borderDashArray||this.borderDashArray),a.strokeRect(-c/2,-s/2,c,s),g&&(a.beginPath(),this.forEachControl(function(h,E,T){h.withConnection&&h.getVisibility(T,E)&&(x=!0,a.moveTo(h.x*c,h.y*s),a.lineTo(h.x*c+h.offsetX,h.y*s+h.offsetY))}),x&&a.stroke()),a.restore(),this},drawBordersInGroup:function(a,m,v){v=v||{};var o=r.util.sizeAfterTransform(this.width,this.height,m),c=this.strokeWidth,s=this.strokeUniform,g=this.borderScaleFactor,x=o.x+c*(s?this.canvas.getZoom():m.scaleX)+g,h=o.y+c*(s?this.canvas.getZoom():m.scaleY)+g;return a.save(),this._setLineDash(a,v.borderDashArray||this.borderDashArray),a.strokeStyle=v.borderColor||this.borderColor,a.strokeRect(-x/2,-h/2,x,h),a.restore(),this},drawControls:function(a,m){m=m||{},a.save();var v=this.canvas.getRetinaScaling(),o,c;return a.setTransform(v,0,0,v,0,0),a.strokeStyle=a.fillStyle=m.cornerColor||this.cornerColor,this.transparentCorners||(a.strokeStyle=m.cornerStrokeColor||this.cornerStrokeColor),this._setLineDash(a,m.cornerDashArray||this.cornerDashArray),this.setCoords(),this.group&&(o=this.group.calcTransformMatrix()),this.forEachControl(function(s,g,x){c=x.oCoords[g],s.getVisibility(x,g)&&(o&&(c=r.util.transformPoint(c,o)),s.render(a,c.x,c.y,m,x))}),a.restore(),this},isControlVisible:function(a){return this.controls[a]&&this.controls[a].getVisibility(this,a)},setControlVisible:function(a,m){return this._controlsVisibility||(this._controlsVisibility={}),this._controlsVisibility[a]=m,this},setControlsVisibility:function(a){a||(a={});for(var m in a)this.setControlVisible(m,a[m]);return this},onDeselect:function(){},onSelect:function(){}})}(),r.util.object.extend(r.StaticCanvas.prototype,{FX_DURATION:500,fxCenterObjectH:function(p,a){a=a||{};var m=function(){},v=a.onComplete||m,o=a.onChange||m,c=this;return r.util.animate({startValue:p.left,endValue:this.getCenter().left,duration:this.FX_DURATION,onChange:function(s){p.set("left",s),c.requestRenderAll(),o()},onComplete:function(){p.setCoords(),v()}}),this},fxCenterObjectV:function(p,a){a=a||{};var m=function(){},v=a.onComplete||m,o=a.onChange||m,c=this;return r.util.animate({startValue:p.top,endValue:this.getCenter().top,duration:this.FX_DURATION,onChange:function(s){p.set("top",s),c.requestRenderAll(),o()},onComplete:function(){p.setCoords(),v()}}),this},fxRemove:function(p,a){a=a||{};var m=function(){},v=a.onComplete||m,o=a.onChange||m,c=this;return r.util.animate({startValue:p.opacity,endValue:0,duration:this.FX_DURATION,onChange:function(s){p.set("opacity",s),c.requestRenderAll(),o()},onComplete:function(){c.remove(p),v()}}),this}}),r.util.object.extend(r.Object.prototype,{animate:function(){if(arguments[0]&&typeof arguments[0]=="object"){var p=[],a,m;for(a in arguments[0])p.push(a);for(var v=0,o=p.length;v<o;v++)a=p[v],m=v!==o-1,this._animate(a,arguments[0][a],arguments[1],m)}else this._animate.apply(this,arguments);return this},_animate:function(p,a,m,v){var o=this,c;a=a.toString(),m?m=r.util.object.clone(m):m={},~p.indexOf(".")&&(c=p.split("."));var s=o.colorProperties.indexOf(p)>-1||c&&o.colorProperties.indexOf(c[1])>-1,g=c?this.get(c[0])[c[1]]:this.get(p);"from"in m||(m.from=g),s||(~a.indexOf("=")?a=g+parseFloat(a.replace("=","")):a=parseFloat(a));var x={startValue:m.from,endValue:a,byValue:m.by,easing:m.easing,duration:m.duration,abort:m.abort&&function(h,E,T){return m.abort.call(o,h,E,T)},onChange:function(h,E,T){c?o[c[0]][c[1]]=h:o.set(p,h),!v&&m.onChange&&m.onChange(h,E,T)},onComplete:function(h,E,T){v||(o.setCoords(),m.onComplete&&m.onComplete(h,E,T))}};return s?r.util.animateColor(x.startValue,x.endValue,x.duration,x):r.util.animate(x)}}),function(p){var a=p.fabric||(p.fabric={}),m=a.util.object.extend,v=a.util.object.clone,o={x1:1,x2:1,y1:1,y2:1};if(a.Line){a.warn("fabric.Line is already defined");return}a.Line=a.util.createClass(a.Object,{type:"line",x1:0,y1:0,x2:0,y2:0,cacheProperties:a.Object.prototype.cacheProperties.concat("x1","x2","y1","y2"),initialize:function(s,g){s||(s=[0,0,0,0]),this.callSuper("initialize",g),this.set("x1",s[0]),this.set("y1",s[1]),this.set("x2",s[2]),this.set("y2",s[3]),this._setWidthHeight(g)},_setWidthHeight:function(s){s||(s={}),this.width=Math.abs(this.x2-this.x1),this.height=Math.abs(this.y2-this.y1),this.left="left"in s?s.left:this._getLeftToOriginX(),this.top="top"in s?s.top:this._getTopToOriginY()},_set:function(s,g){return this.callSuper("_set",s,g),typeof o[s]<"u"&&this._setWidthHeight(),this},_getLeftToOriginX:c({origin:"originX",axis1:"x1",axis2:"x2",dimension:"width"},{nearest:"left",center:"center",farthest:"right"}),_getTopToOriginY:c({origin:"originY",axis1:"y1",axis2:"y2",dimension:"height"},{nearest:"top",center:"center",farthest:"bottom"}),_render:function(s){s.beginPath();var g=this.calcLinePoints();s.moveTo(g.x1,g.y1),s.lineTo(g.x2,g.y2),s.lineWidth=this.strokeWidth;var x=s.strokeStyle;s.strokeStyle=this.stroke||s.fillStyle,this.stroke&&this._renderStroke(s),s.strokeStyle=x},_findCenterFromElement:function(){return{x:(this.x1+this.x2)/2,y:(this.y1+this.y2)/2}},toObject:function(s){return m(this.callSuper("toObject",s),this.calcLinePoints())},_getNonTransformedDimensions:function(){var s=this.callSuper("_getNonTransformedDimensions");return this.strokeLineCap==="butt"&&(this.width===0&&(s.y-=this.strokeWidth),this.height===0&&(s.x-=this.strokeWidth)),s},calcLinePoints:function(){var s=this.x1<=this.x2?-1:1,g=this.y1<=this.y2?-1:1,x=s*this.width*.5,h=g*this.height*.5,E=s*this.width*-.5,T=g*this.height*-.5;return{x1:x,x2:E,y1:h,y2:T}},_toSVG:function(){var s=this.calcLinePoints();return["<line ","COMMON_PARTS",'x1="',s.x1,'" y1="',s.y1,'" x2="',s.x2,'" y2="',s.y2,`" />
`]}}),a.Line.ATTRIBUTE_NAMES=a.SHARED_ATTRIBUTES.concat("x1 y1 x2 y2".split(" ")),a.Line.fromElement=function(s,g,x){x=x||{};var h=a.parseAttributes(s,a.Line.ATTRIBUTE_NAMES),E=[h.x1||0,h.y1||0,h.x2||0,h.y2||0];g(new a.Line(E,m(h,x)))},a.Line.fromObject=function(s,g){function x(E){delete E.points,g&&g(E)}var h=v(s,!0);h.points=[s.x1,s.y1,s.x2,s.y2],a.Object._fromObject("Line",h,x,"points")};function c(s,g){var x=s.origin,h=s.axis1,E=s.axis2,T=s.dimension,k=g.nearest,L=g.center,F=g.farthest;return function(){switch(this.get(x)){case k:return Math.min(this.get(h),this.get(E));case L:return Math.min(this.get(h),this.get(E))+.5*this.get(T);case F:return Math.max(this.get(h),this.get(E))}}}}(M),function(p){var a=p.fabric||(p.fabric={}),m=Math.PI;if(a.Circle){a.warn("fabric.Circle is already defined.");return}a.Circle=a.util.createClass(a.Object,{type:"circle",radius:0,startAngle:0,endAngle:m*2,cacheProperties:a.Object.prototype.cacheProperties.concat("radius","startAngle","endAngle"),_set:function(o,c){return this.callSuper("_set",o,c),o==="radius"&&this.setRadius(c),this},toObject:function(o){return this.callSuper("toObject",["radius","startAngle","endAngle"].concat(o))},_toSVG:function(){var o,c=0,s=0,g=(this.endAngle-this.startAngle)%(2*m);if(g===0)o=["<circle ","COMMON_PARTS",'cx="'+c+'" cy="'+s+'" ','r="',this.radius,`" />
`];else{var x=a.util.cos(this.startAngle)*this.radius,h=a.util.sin(this.startAngle)*this.radius,E=a.util.cos(this.endAngle)*this.radius,T=a.util.sin(this.endAngle)*this.radius,k=g>m?"1":"0";o=['<path d="M '+x+" "+h," A "+this.radius+" "+this.radius," 0 ",+k+" 1"," "+E+" "+T,'" ',"COMMON_PARTS",` />
`]}return o},_render:function(o){o.beginPath(),o.arc(0,0,this.radius,this.startAngle,this.endAngle,!1),this._renderPaintInOrder(o)},getRadiusX:function(){return this.get("radius")*this.get("scaleX")},getRadiusY:function(){return this.get("radius")*this.get("scaleY")},setRadius:function(o){return this.radius=o,this.set("width",o*2).set("height",o*2)}}),a.Circle.ATTRIBUTE_NAMES=a.SHARED_ATTRIBUTES.concat("cx cy r".split(" ")),a.Circle.fromElement=function(o,c){var s=a.parseAttributes(o,a.Circle.ATTRIBUTE_NAMES);if(!v(s))throw new Error("value of `r` attribute is required and can not be negative");s.left=(s.left||0)-s.radius,s.top=(s.top||0)-s.radius,c(new a.Circle(s))};function v(o){return"radius"in o&&o.radius>=0}a.Circle.fromObject=function(o,c){a.Object._fromObject("Circle",o,c)}}(M),function(p){var a=p.fabric||(p.fabric={});if(a.Triangle){a.warn("fabric.Triangle is already defined");return}a.Triangle=a.util.createClass(a.Object,{type:"triangle",width:100,height:100,_render:function(m){var v=this.width/2,o=this.height/2;m.beginPath(),m.moveTo(-v,o),m.lineTo(0,-o),m.lineTo(v,o),m.closePath(),this._renderPaintInOrder(m)},_toSVG:function(){var m=this.width/2,v=this.height/2,o=[-m+" "+v,"0 "+-v,m+" "+v].join(",");return["<polygon ","COMMON_PARTS",'points="',o,'" />']}}),a.Triangle.fromObject=function(m,v){return a.Object._fromObject("Triangle",m,v)}}(M),function(p){var a=p.fabric||(p.fabric={}),m=Math.PI*2;if(a.Ellipse){a.warn("fabric.Ellipse is already defined.");return}a.Ellipse=a.util.createClass(a.Object,{type:"ellipse",rx:0,ry:0,cacheProperties:a.Object.prototype.cacheProperties.concat("rx","ry"),initialize:function(v){this.callSuper("initialize",v),this.set("rx",v&&v.rx||0),this.set("ry",v&&v.ry||0)},_set:function(v,o){switch(this.callSuper("_set",v,o),v){case"rx":this.rx=o,this.set("width",o*2);break;case"ry":this.ry=o,this.set("height",o*2);break}return this},getRx:function(){return this.get("rx")*this.get("scaleX")},getRy:function(){return this.get("ry")*this.get("scaleY")},toObject:function(v){return this.callSuper("toObject",["rx","ry"].concat(v))},_toSVG:function(){return["<ellipse ","COMMON_PARTS",'cx="0" cy="0" ','rx="',this.rx,'" ry="',this.ry,`" />
`]},_render:function(v){v.beginPath(),v.save(),v.transform(1,0,0,this.ry/this.rx,0,0),v.arc(0,0,this.rx,0,m,!1),v.restore(),this._renderPaintInOrder(v)}}),a.Ellipse.ATTRIBUTE_NAMES=a.SHARED_ATTRIBUTES.concat("cx cy rx ry".split(" ")),a.Ellipse.fromElement=function(v,o){var c=a.parseAttributes(v,a.Ellipse.ATTRIBUTE_NAMES);c.left=(c.left||0)-c.rx,c.top=(c.top||0)-c.ry,o(new a.Ellipse(c))},a.Ellipse.fromObject=function(v,o){a.Object._fromObject("Ellipse",v,o)}}(M),function(p){var a=p.fabric||(p.fabric={}),m=a.util.object.extend;if(a.Rect){a.warn("fabric.Rect is already defined");return}a.Rect=a.util.createClass(a.Object,{stateProperties:a.Object.prototype.stateProperties.concat("rx","ry"),type:"rect",rx:0,ry:0,cacheProperties:a.Object.prototype.cacheProperties.concat("rx","ry"),initialize:function(v){this.callSuper("initialize",v),this._initRxRy()},_initRxRy:function(){this.rx&&!this.ry?this.ry=this.rx:this.ry&&!this.rx&&(this.rx=this.ry)},_render:function(v){var o=this.rx?Math.min(this.rx,this.width/2):0,c=this.ry?Math.min(this.ry,this.height/2):0,s=this.width,g=this.height,x=-this.width/2,h=-this.height/2,E=o!==0||c!==0,T=1-.5522847498;v.beginPath(),v.moveTo(x+o,h),v.lineTo(x+s-o,h),E&&v.bezierCurveTo(x+s-T*o,h,x+s,h+T*c,x+s,h+c),v.lineTo(x+s,h+g-c),E&&v.bezierCurveTo(x+s,h+g-T*c,x+s-T*o,h+g,x+s-o,h+g),v.lineTo(x+o,h+g),E&&v.bezierCurveTo(x+T*o,h+g,x,h+g-T*c,x,h+g-c),v.lineTo(x,h+c),E&&v.bezierCurveTo(x,h+T*c,x+T*o,h,x+o,h),v.closePath(),this._renderPaintInOrder(v)},toObject:function(v){return this.callSuper("toObject",["rx","ry"].concat(v))},_toSVG:function(){var v=-this.width/2,o=-this.height/2;return["<rect ","COMMON_PARTS",'x="',v,'" y="',o,'" rx="',this.rx,'" ry="',this.ry,'" width="',this.width,'" height="',this.height,`" />
`]}}),a.Rect.ATTRIBUTE_NAMES=a.SHARED_ATTRIBUTES.concat("x y rx ry width height".split(" ")),a.Rect.fromElement=function(v,o,c){if(!v)return o(null);c=c||{};var s=a.parseAttributes(v,a.Rect.ATTRIBUTE_NAMES);s.left=s.left||0,s.top=s.top||0,s.height=s.height||0,s.width=s.width||0;var g=new a.Rect(m(c?a.util.object.clone(c):{},s));g.visible=g.visible&&g.width>0&&g.height>0,o(g)},a.Rect.fromObject=function(v,o){return a.Object._fromObject("Rect",v,o)}}(M),function(p){var a=p.fabric||(p.fabric={}),m=a.util.object.extend,v=a.util.array.min,o=a.util.array.max,c=a.util.toFixed;if(a.Polyline){a.warn("fabric.Polyline is already defined");return}a.Polyline=a.util.createClass(a.Object,{type:"polyline",points:null,cacheProperties:a.Object.prototype.cacheProperties.concat("points"),initialize:function(s,g){g=g||{},this.points=s||[],this.callSuper("initialize",g),this._setPositionDimensions(g)},_setPositionDimensions:function(s){var g=this._calcDimensions(s),x;this.width=g.width,this.height=g.height,s.fromSVG||(x=this.translateToGivenOrigin({x:g.left-this.strokeWidth/2,y:g.top-this.strokeWidth/2},"left","top",this.originX,this.originY)),typeof s.left>"u"&&(this.left=s.fromSVG?g.left:x.x),typeof s.top>"u"&&(this.top=s.fromSVG?g.top:x.y),this.pathOffset={x:g.left+this.width/2,y:g.top+this.height/2}},_calcDimensions:function(){var s=this.points,g=v(s,"x")||0,x=v(s,"y")||0,h=o(s,"x")||0,E=o(s,"y")||0,T=h-g,k=E-x;return{left:g,top:x,width:T,height:k}},toObject:function(s){return m(this.callSuper("toObject",s),{points:this.points.concat()})},_toSVG:function(){for(var s=[],g=this.pathOffset.x,x=this.pathOffset.y,h=a.Object.NUM_FRACTION_DIGITS,E=0,T=this.points.length;E<T;E++)s.push(c(this.points[E].x-g,h),",",c(this.points[E].y-x,h)," ");return["<"+this.type+" ","COMMON_PARTS",'points="',s.join(""),`" />
`]},commonRender:function(s){var g,x=this.points.length,h=this.pathOffset.x,E=this.pathOffset.y;if(!x||isNaN(this.points[x-1].y))return!1;s.beginPath(),s.moveTo(this.points[0].x-h,this.points[0].y-E);for(var T=0;T<x;T++)g=this.points[T],s.lineTo(g.x-h,g.y-E);return!0},_render:function(s){this.commonRender(s)&&this._renderPaintInOrder(s)},complexity:function(){return this.get("points").length}}),a.Polyline.ATTRIBUTE_NAMES=a.SHARED_ATTRIBUTES.concat(),a.Polyline.fromElementGenerator=function(s){return function(g,x,h){if(!g)return x(null);h||(h={});var E=a.parsePointsAttribute(g.getAttribute("points")),T=a.parseAttributes(g,a[s].ATTRIBUTE_NAMES);T.fromSVG=!0,x(new a[s](E,m(T,h)))}},a.Polyline.fromElement=a.Polyline.fromElementGenerator("Polyline"),a.Polyline.fromObject=function(s,g){return a.Object._fromObject("Polyline",s,g,"points")}}(M),function(p){var a=p.fabric||(p.fabric={});if(a.Polygon){a.warn("fabric.Polygon is already defined");return}a.Polygon=a.util.createClass(a.Polyline,{type:"polygon",_render:function(m){this.commonRender(m)&&(m.closePath(),this._renderPaintInOrder(m))}}),a.Polygon.ATTRIBUTE_NAMES=a.SHARED_ATTRIBUTES.concat(),a.Polygon.fromElement=a.Polyline.fromElementGenerator("Polygon"),a.Polygon.fromObject=function(m,v){a.Object._fromObject("Polygon",m,v,"points")}}(M),function(p){var a=p.fabric||(p.fabric={}),m=a.util.array.min,v=a.util.array.max,o=a.util.object.extend,c=Object.prototype.toString,s=a.util.toFixed;if(a.Path){a.warn("fabric.Path is already defined");return}a.Path=a.util.createClass(a.Object,{type:"path",path:null,cacheProperties:a.Object.prototype.cacheProperties.concat("path","fillRule"),stateProperties:a.Object.prototype.stateProperties.concat("path"),initialize:function(g,x){x=x||{},this.callSuper("initialize",x),g||(g=[]);var h=c.call(g)==="[object Array]";this.path=a.util.makePathSimpler(h?g:a.util.parsePath(g)),this.path&&a.Polyline.prototype._setPositionDimensions.call(this,x)},_renderPathCommands:function(g){var x,h=0,E=0,T=0,k=0,L=0,F=0,U=-this.pathOffset.x,G=-this.pathOffset.y;g.beginPath();for(var Y=0,K=this.path.length;Y<K;++Y)switch(x=this.path[Y],x[0]){case"L":T=x[1],k=x[2],g.lineTo(T+U,k+G);break;case"M":T=x[1],k=x[2],h=T,E=k,g.moveTo(T+U,k+G);break;case"C":T=x[5],k=x[6],L=x[3],F=x[4],g.bezierCurveTo(x[1]+U,x[2]+G,L+U,F+G,T+U,k+G);break;case"Q":g.quadraticCurveTo(x[1]+U,x[2]+G,x[3]+U,x[4]+G),T=x[3],k=x[4],L=x[1],F=x[2];break;case"z":case"Z":T=h,k=E,g.closePath();break}},_render:function(g){this._renderPathCommands(g),this._renderPaintInOrder(g)},toString:function(){return"#<fabric.Path ("+this.complexity()+'): { "top": '+this.top+', "left": '+this.left+" }>"},toObject:function(g){return o(this.callSuper("toObject",g),{path:this.path.map(function(x){return x.slice()})})},toDatalessObject:function(g){var x=this.toObject(["sourcePath"].concat(g));return x.sourcePath&&delete x.path,x},_toSVG:function(){var g=a.util.joinPath(this.path);return["<path ","COMMON_PARTS",'d="',g,'" stroke-linecap="round" ',`/>
`]},_getOffsetTransform:function(){var g=a.Object.NUM_FRACTION_DIGITS;return" translate("+s(-this.pathOffset.x,g)+", "+s(-this.pathOffset.y,g)+")"},toClipPathSVG:function(g){var x=this._getOffsetTransform();return"	"+this._createBaseClipPathSVGMarkup(this._toSVG(),{reviver:g,additionalTransform:x})},toSVG:function(g){var x=this._getOffsetTransform();return this._createBaseSVGMarkup(this._toSVG(),{reviver:g,additionalTransform:x})},complexity:function(){return this.path.length},_calcDimensions:function(){for(var g=[],x=[],h,E=0,T=0,k=0,L=0,F,U=0,G=this.path.length;U<G;++U){switch(h=this.path[U],h[0]){case"L":k=h[1],L=h[2],F=[];break;case"M":k=h[1],L=h[2],E=k,T=L,F=[];break;case"C":F=a.util.getBoundsOfCurve(k,L,h[1],h[2],h[3],h[4],h[5],h[6]),k=h[5],L=h[6];break;case"Q":F=a.util.getBoundsOfCurve(k,L,h[1],h[2],h[1],h[2],h[3],h[4]),k=h[3],L=h[4];break;case"z":case"Z":k=E,L=T;break}F.forEach(function(xe){g.push(xe.x),x.push(xe.y)}),g.push(k),x.push(L)}var Y=m(g)||0,K=m(x)||0,he=v(g)||0,oe=v(x)||0,ve=he-Y,ee=oe-K;return{left:Y,top:K,width:ve,height:ee}}}),a.Path.fromObject=function(g,x){if(typeof g.sourcePath=="string"){var h=g.sourcePath;a.loadSVGFromURL(h,function(E){var T=E[0];T.setOptions(g),x&&x(T)})}else a.Object._fromObject("Path",g,x,"path")},a.Path.ATTRIBUTE_NAMES=a.SHARED_ATTRIBUTES.concat(["d"]),a.Path.fromElement=function(g,x,h){var E=a.parseAttributes(g,a.Path.ATTRIBUTE_NAMES);E.fromSVG=!0,x(new a.Path(E.d,o(E,h)))}}(M),function(p){var a=p.fabric||(p.fabric={}),m=a.util.array.min,v=a.util.array.max;a.Group||(a.Group=a.util.createClass(a.Object,a.Collection,{type:"group",strokeWidth:0,subTargetCheck:!1,cacheProperties:[],useSetOnGroup:!1,initialize:function(o,c,s){c=c||{},this._objects=[],s&&this.callSuper("initialize",c),this._objects=o||[];for(var g=this._objects.length;g--;)this._objects[g].group=this;if(s)this._updateObjectsACoords();else{var x=c&&c.centerPoint;c.originX!==void 0&&(this.originX=c.originX),c.originY!==void 0&&(this.originY=c.originY),x||this._calcBounds(),this._updateObjectsCoords(x),delete c.centerPoint,this.callSuper("initialize",c)}this.setCoords()},_updateObjectsACoords:function(){for(var o=!0,c=this._objects.length;c--;)this._objects[c].setCoords(o)},_updateObjectsCoords:function(c){for(var c=c||this.getCenterPoint(),s=this._objects.length;s--;)this._updateObjectCoords(this._objects[s],c)},_updateObjectCoords:function(o,c){var s=o.left,g=o.top,x=!0;o.set({left:s-c.x,top:g-c.y}),o.group=this,o.setCoords(x)},toString:function(){return"#<fabric.Group: ("+this.complexity()+")>"},addWithUpdate:function(o){var c=!!this.group;return this._restoreObjectsState(),a.util.resetObjectTransform(this),o&&(c&&a.util.removeTransformFromObject(o,this.group.calcTransformMatrix()),this._objects.push(o),o.group=this,o._set("canvas",this.canvas)),this._calcBounds(),this._updateObjectsCoords(),this.dirty=!0,c?this.group.addWithUpdate():this.setCoords(),this},removeWithUpdate:function(o){return this._restoreObjectsState(),a.util.resetObjectTransform(this),this.remove(o),this._calcBounds(),this._updateObjectsCoords(),this.setCoords(),this.dirty=!0,this},_onObjectAdded:function(o){this.dirty=!0,o.group=this,o._set("canvas",this.canvas)},_onObjectRemoved:function(o){this.dirty=!0,delete o.group},_set:function(o,c){var s=this._objects.length;if(this.useSetOnGroup)for(;s--;)this._objects[s].setOnGroup(o,c);if(o==="canvas")for(;s--;)this._objects[s]._set(o,c);a.Object.prototype._set.call(this,o,c)},toObject:function(o){var c=this.includeDefaultValues,s=this._objects.filter(function(x){return!x.excludeFromExport}).map(function(x){var h=x.includeDefaultValues;x.includeDefaultValues=c;var E=x.toObject(o);return x.includeDefaultValues=h,E}),g=a.Object.prototype.toObject.call(this,o);return g.objects=s,g},toDatalessObject:function(o){var c,s=this.sourcePath;if(s)c=s;else{var g=this.includeDefaultValues;c=this._objects.map(function(h){var E=h.includeDefaultValues;h.includeDefaultValues=g;var T=h.toDatalessObject(o);return h.includeDefaultValues=E,T})}var x=a.Object.prototype.toDatalessObject.call(this,o);return x.objects=c,x},render:function(o){this._transformDone=!0,this.callSuper("render",o),this._transformDone=!1},shouldCache:function(){var o=a.Object.prototype.shouldCache.call(this);if(o){for(var c=0,s=this._objects.length;c<s;c++)if(this._objects[c].willDrawShadow())return this.ownCaching=!1,!1}return o},willDrawShadow:function(){if(a.Object.prototype.willDrawShadow.call(this))return!0;for(var o=0,c=this._objects.length;o<c;o++)if(this._objects[o].willDrawShadow())return!0;return!1},isOnACache:function(){return this.ownCaching||this.group&&this.group.isOnACache()},drawObject:function(o){for(var c=0,s=this._objects.length;c<s;c++)this._objects[c].render(o);this._drawClipPath(o)},isCacheDirty:function(o){if(this.callSuper("isCacheDirty",o))return!0;if(!this.statefullCache)return!1;for(var c=0,s=this._objects.length;c<s;c++)if(this._objects[c].isCacheDirty(!0)){if(this._cacheCanvas){var g=this.cacheWidth/this.zoomX,x=this.cacheHeight/this.zoomY;this._cacheContext.clearRect(-g/2,-x/2,g,x)}return!0}return!1},_restoreObjectsState:function(){var o=this.calcOwnMatrix();return this._objects.forEach(function(c){a.util.addTransformToObject(c,o),delete c.group,c.setCoords()}),this},realizeTransform:function(o,c){return a.util.addTransformToObject(o,c),o},destroy:function(){return this._objects.forEach(function(o){o.set("dirty",!0)}),this._restoreObjectsState()},toActiveSelection:function(){if(this.canvas){var o=this._objects,c=this.canvas;this._objects=[];var s=this.toObject();delete s.objects;var g=new a.ActiveSelection([]);return g.set(s),g.type="activeSelection",c.remove(this),o.forEach(function(x){x.group=g,x.dirty=!0,c.add(x)}),g.canvas=c,g._objects=o,c._activeObject=g,g.setCoords(),g}},ungroupOnCanvas:function(){return this._restoreObjectsState()},setObjectsCoords:function(){var o=!0;return this.forEachObject(function(c){c.setCoords(o)}),this},_calcBounds:function(o){for(var c=[],s=[],g,x,h,E=["tr","br","bl","tl"],T=0,k=this._objects.length,L,F=E.length;T<k;++T){for(g=this._objects[T],h=g.calcACoords(),L=0;L<F;L++)x=E[L],c.push(h[x].x),s.push(h[x].y);g.aCoords=h}this._getBounds(c,s,o)},_getBounds:function(o,c,s){var g=new a.Point(m(o),m(c)),x=new a.Point(v(o),v(c)),h=g.y||0,E=g.x||0,T=x.x-g.x||0,k=x.y-g.y||0;this.width=T,this.height=k,s||this.setPositionByOrigin({x:E,y:h},"left","top")},_toSVG:function(o){for(var c=["<g ","COMMON_PARTS",` >
`],s=0,g=this._objects.length;s<g;s++)c.push("		",this._objects[s].toSVG(o));return c.push(`</g>
`),c},getSvgStyles:function(){var o=typeof this.opacity<"u"&&this.opacity!==1?"opacity: "+this.opacity+";":"",c=this.visible?"":" visibility: hidden;";return[o,this.getSvgFilter(),c].join("")},toClipPathSVG:function(o){for(var c=[],s=0,g=this._objects.length;s<g;s++)c.push("	",this._objects[s].toClipPathSVG(o));return this._createBaseClipPathSVGMarkup(c,{reviver:o})}}),a.Group.fromObject=function(o,c){var s=o.objects,g=a.util.object.clone(o,!0);if(delete g.objects,typeof s=="string"){a.loadSVGFromURL(s,function(x){var h=a.util.groupSVGElements(x,o,s);h.set(g),c&&c(h)});return}a.util.enlivenObjects(s,function(x){a.util.enlivenObjects([o.clipPath],function(h){var E=a.util.object.clone(o,!0);E.clipPath=h[0],delete E.objects,c&&c(new a.Group(x,E,!0))})})})}(M),function(p){var a=p.fabric||(p.fabric={});a.ActiveSelection||(a.ActiveSelection=a.util.createClass(a.Group,{type:"activeSelection",initialize:function(m,v){v=v||{},this._objects=m||[];for(var o=this._objects.length;o--;)this._objects[o].group=this;v.originX&&(this.originX=v.originX),v.originY&&(this.originY=v.originY),this._calcBounds(),this._updateObjectsCoords(),a.Object.prototype.initialize.call(this,v),this.setCoords()},toGroup:function(){var m=this._objects.concat();this._objects=[];var v=a.Object.prototype.toObject.call(this),o=new a.Group([]);if(delete v.type,o.set(v),m.forEach(function(s){s.canvas.remove(s),s.group=o}),o._objects=m,!this.canvas)return o;var c=this.canvas;return c.add(o),c._activeObject=o,o.setCoords(),o},onDeselect:function(){return this.destroy(),!1},toString:function(){return"#<fabric.ActiveSelection: ("+this.complexity()+")>"},shouldCache:function(){return!1},isOnACache:function(){return!1},_renderControls:function(m,v,o){m.save(),m.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1,this.callSuper("_renderControls",m,v),o=o||{},typeof o.hasControls>"u"&&(o.hasControls=!1),o.forActiveSelection=!0;for(var c=0,s=this._objects.length;c<s;c++)this._objects[c]._renderControls(m,o);m.restore()}}),a.ActiveSelection.fromObject=function(m,v){a.util.enlivenObjects(m.objects,function(o){delete m.objects,v&&v(new a.ActiveSelection(o,m,!0))})})}(M),function(p){var a=r.util.object.extend;if(p.fabric||(p.fabric={}),p.fabric.Image){r.warn("fabric.Image is already defined.");return}r.Image=r.util.createClass(r.Object,{type:"image",strokeWidth:0,srcFromAttribute:!1,_lastScaleX:1,_lastScaleY:1,_filterScalingX:1,_filterScalingY:1,minimumScaleTrigger:.5,stateProperties:r.Object.prototype.stateProperties.concat("cropX","cropY"),cacheProperties:r.Object.prototype.cacheProperties.concat("cropX","cropY"),cacheKey:"",cropX:0,cropY:0,imageSmoothing:!0,initialize:function(m,v){v||(v={}),this.filters=[],this.cacheKey="texture"+r.Object.__uid++,this.callSuper("initialize",v),this._initElement(m,v)},getElement:function(){return this._element||{}},setElement:function(m,v){return this.removeTexture(this.cacheKey),this.removeTexture(this.cacheKey+"_filtered"),this._element=m,this._originalElement=m,this._initConfig(v),this.filters.length!==0&&this.applyFilters(),this.resizeFilter&&this.applyResizeFilters(),this},removeTexture:function(m){var v=r.filterBackend;v&&v.evictCachesForKey&&v.evictCachesForKey(m)},dispose:function(){this.removeTexture(this.cacheKey),this.removeTexture(this.cacheKey+"_filtered"),this._cacheContext=void 0,["_originalElement","_element","_filteredEl","_cacheCanvas"].forEach((function(m){r.util.cleanUpJsdomNode(this[m]),this[m]=void 0}).bind(this))},getCrossOrigin:function(){return this._originalElement&&(this._originalElement.crossOrigin||null)},getOriginalSize:function(){var m=this.getElement();return{width:m.naturalWidth||m.width,height:m.naturalHeight||m.height}},_stroke:function(m){if(!(!this.stroke||this.strokeWidth===0)){var v=this.width/2,o=this.height/2;m.beginPath(),m.moveTo(-v,-o),m.lineTo(v,-o),m.lineTo(v,o),m.lineTo(-v,o),m.lineTo(-v,-o),m.closePath()}},toObject:function(m){var v=[];this.filters.forEach(function(c){c&&v.push(c.toObject())});var o=a(this.callSuper("toObject",["cropX","cropY"].concat(m)),{src:this.getSrc(),crossOrigin:this.getCrossOrigin(),filters:v});return this.resizeFilter&&(o.resizeFilter=this.resizeFilter.toObject()),o},hasCrop:function(){return this.cropX||this.cropY||this.width<this._element.width||this.height<this._element.height},_toSVG:function(){var m=[],v=[],o,c=this._element,s=-this.width/2,g=-this.height/2,x="",h="";if(!c)return[];if(this.hasCrop()){var E=r.Object.__uid++;m.push('<clipPath id="imageCrop_'+E+`">
`,'	<rect x="'+s+'" y="'+g+'" width="'+this.width+'" height="'+this.height+`" />
`,`</clipPath>
`),x=' clip-path="url(#imageCrop_'+E+')" '}if(this.imageSmoothing||(h='" image-rendering="optimizeSpeed'),v.push("	<image ","COMMON_PARTS",'xlink:href="',this.getSvgSrc(!0),'" x="',s-this.cropX,'" y="',g-this.cropY,'" width="',c.width||c.naturalWidth,'" height="',c.height||c.height,h,'"',x,`></image>
`),this.stroke||this.strokeDashArray){var T=this.fill;this.fill=null,o=["	<rect ",'x="',s,'" y="',g,'" width="',this.width,'" height="',this.height,'" style="',this.getSvgStyles(),`"/>
`],this.fill=T}return this.paintFirst!=="fill"?m=m.concat(o,v):m=m.concat(v,o),m},getSrc:function(m){var v=m?this._element:this._originalElement;return v?v.toDataURL?v.toDataURL():this.srcFromAttribute?v.getAttribute("src"):v.src:this.src||""},setSrc:function(m,v,o){return r.util.loadImage(m,function(c,s){this.setElement(c,o),this._setWidthHeight(),v&&v(this,s)},this,o&&o.crossOrigin),this},toString:function(){return'#<fabric.Image: { src: "'+this.getSrc()+'" }>'},applyResizeFilters:function(){var m=this.resizeFilter,v=this.minimumScaleTrigger,o=this.getTotalObjectScaling(),c=o.scaleX,s=o.scaleY,g=this._filteredEl||this._originalElement;if(this.group&&this.set("dirty",!0),!m||c>v&&s>v){this._element=g,this._filterScalingX=1,this._filterScalingY=1,this._lastScaleX=c,this._lastScaleY=s;return}r.filterBackend||(r.filterBackend=r.initFilterBackend());var x=r.util.createCanvasElement(),h=this._filteredEl?this.cacheKey+"_filtered":this.cacheKey,E=g.width,T=g.height;x.width=E,x.height=T,this._element=x,this._lastScaleX=m.scaleX=c,this._lastScaleY=m.scaleY=s,r.filterBackend.applyFilters([m],g,E,T,this._element,h),this._filterScalingX=x.width/this._originalElement.width,this._filterScalingY=x.height/this._originalElement.height},applyFilters:function(m){if(m=m||this.filters||[],m=m.filter(function(g){return g&&!g.isNeutralState()}),this.set("dirty",!0),this.removeTexture(this.cacheKey+"_filtered"),m.length===0)return this._element=this._originalElement,this._filteredEl=null,this._filterScalingX=1,this._filterScalingY=1,this;var v=this._originalElement,o=v.naturalWidth||v.width,c=v.naturalHeight||v.height;if(this._element===this._originalElement){var s=r.util.createCanvasElement();s.width=o,s.height=c,this._element=s,this._filteredEl=s}else this._element=this._filteredEl,this._filteredEl.getContext("2d").clearRect(0,0,o,c),this._lastScaleX=1,this._lastScaleY=1;return r.filterBackend||(r.filterBackend=r.initFilterBackend()),r.filterBackend.applyFilters(m,this._originalElement,o,c,this._element,this.cacheKey),(this._originalElement.width!==this._element.width||this._originalElement.height!==this._element.height)&&(this._filterScalingX=this._element.width/this._originalElement.width,this._filterScalingY=this._element.height/this._originalElement.height),this},_render:function(m){r.util.setImageSmoothing(m,this.imageSmoothing),this.isMoving!==!0&&this.resizeFilter&&this._needsResize()&&this.applyResizeFilters(),this._stroke(m),this._renderPaintInOrder(m)},drawCacheOnCanvas:function(m){r.util.setImageSmoothing(m,this.imageSmoothing),r.Object.prototype.drawCacheOnCanvas.call(this,m)},shouldCache:function(){return this.needsItsOwnCache()},_renderFill:function(m){var v=this._element;if(v){var o=this._filterScalingX,c=this._filterScalingY,s=this.width,g=this.height,x=Math.min,h=Math.max,E=h(this.cropX,0),T=h(this.cropY,0),k=v.naturalWidth||v.width,L=v.naturalHeight||v.height,F=E*o,U=T*c,G=x(s*o,k-F),Y=x(g*c,L-U),K=-s/2,he=-g/2,oe=x(s,k/o-E),ve=x(g,L/c-T);v&&m.drawImage(v,F,U,G,Y,K,he,oe,ve)}},_needsResize:function(){var m=this.getTotalObjectScaling();return m.scaleX!==this._lastScaleX||m.scaleY!==this._lastScaleY},_resetWidthHeight:function(){this.set(this.getOriginalSize())},_initElement:function(m,v){this.setElement(r.util.getById(m),v),r.util.addClass(this.getElement(),r.Image.CSS_CANVAS)},_initConfig:function(m){m||(m={}),this.setOptions(m),this._setWidthHeight(m)},_initFilters:function(m,v){m&&m.length?r.util.enlivenObjects(m,function(o){v&&v(o)},"fabric.Image.filters"):v&&v()},_setWidthHeight:function(m){m||(m={});var v=this.getElement();this.width=m.width||v.naturalWidth||v.width||0,this.height=m.height||v.naturalHeight||v.height||0},parsePreserveAspectRatioAttribute:function(){var m=r.util.parsePreserveAspectRatioAttribute(this.preserveAspectRatio||""),v=this._element.width,o=this._element.height,c=1,s=1,g=0,x=0,h=0,E=0,T,k=this.width,L=this.height,F={width:k,height:L};return m&&(m.alignX!=="none"||m.alignY!=="none")?(m.meetOrSlice==="meet"&&(c=s=r.util.findScaleToFit(this._element,F),T=(k-v*c)/2,m.alignX==="Min"&&(g=-T),m.alignX==="Max"&&(g=T),T=(L-o*s)/2,m.alignY==="Min"&&(x=-T),m.alignY==="Max"&&(x=T)),m.meetOrSlice==="slice"&&(c=s=r.util.findScaleToCover(this._element,F),T=v-k/c,m.alignX==="Mid"&&(h=T/2),m.alignX==="Max"&&(h=T),T=o-L/s,m.alignY==="Mid"&&(E=T/2),m.alignY==="Max"&&(E=T),v=k/c,o=L/s)):(c=k/v,s=L/o),{width:v,height:o,scaleX:c,scaleY:s,offsetLeft:g,offsetTop:x,cropX:h,cropY:E}}}),r.Image.CSS_CANVAS="canvas-img",r.Image.prototype.getSvgSrc=r.Image.prototype.getSrc,r.Image.fromObject=function(m,v){var o=r.util.object.clone(m);r.util.loadImage(o.src,function(c,s){if(s){v&&v(null,!0);return}r.Image.prototype._initFilters.call(o,o.filters,function(g){o.filters=g||[],r.Image.prototype._initFilters.call(o,[o.resizeFilter],function(x){o.resizeFilter=x[0],r.util.enlivenObjects([o.clipPath],function(h){o.clipPath=h[0];var E=new r.Image(c,o);v(E,!1)})})})},null,o.crossOrigin)},r.Image.fromURL=function(m,v,o){r.util.loadImage(m,function(c,s){v&&v(new r.Image(c,o),s)},null,o&&o.crossOrigin)},r.Image.ATTRIBUTE_NAMES=r.SHARED_ATTRIBUTES.concat("x y width height preserveAspectRatio xlink:href crossOrigin image-rendering".split(" ")),r.Image.fromElement=function(m,v,o){var c=r.parseAttributes(m,r.Image.ATTRIBUTE_NAMES);r.Image.fromURL(c["xlink:href"],v,a(o?r.util.object.clone(o):{},c))}}(M),r.util.object.extend(r.Object.prototype,{_getAngleValueForStraighten:function(){var p=this.angle%360;return p>0?Math.round((p-1)/90)*90:Math.round(p/90)*90},straighten:function(){return this.rotate(this._getAngleValueForStraighten()),this},fxStraighten:function(p){p=p||{};var a=function(){},m=p.onComplete||a,v=p.onChange||a,o=this;return r.util.animate({startValue:this.get("angle"),endValue:this._getAngleValueForStraighten(),duration:this.FX_DURATION,onChange:function(c){o.rotate(c),v()},onComplete:function(){o.setCoords(),m()}}),this}}),r.util.object.extend(r.StaticCanvas.prototype,{straightenObject:function(p){return p.straighten(),this.requestRenderAll(),this},fxStraightenObject:function(p){return p.fxStraighten({onChange:this.requestRenderAllBound}),this}}),function(){function p(m,v){var o="precision "+v+` float;
void main(){}`,c=m.createShader(m.FRAGMENT_SHADER);return m.shaderSource(c,o),m.compileShader(c),!!m.getShaderParameter(c,m.COMPILE_STATUS)}r.isWebglSupported=function(m){if(r.isLikelyNode)return!1;m=m||r.WebglFilterBackend.prototype.tileSize;var v=document.createElement("canvas"),o=v.getContext("webgl")||v.getContext("experimental-webgl"),c=!1;if(o){r.maxTextureSize=o.getParameter(o.MAX_TEXTURE_SIZE),c=r.maxTextureSize>=m;for(var s=["highp","mediump","lowp"],g=0;g<3;g++)if(p(o,s[g])){r.webGlPrecision=s[g];break}}return this.isSupported=c,c},r.WebglFilterBackend=a;function a(m){m&&m.tileSize&&(this.tileSize=m.tileSize),this.setupGLContext(this.tileSize,this.tileSize),this.captureGPUInfo()}a.prototype={tileSize:2048,resources:{},setupGLContext:function(m,v){this.dispose(),this.createWebGLCanvas(m,v),this.aPosition=new Float32Array([0,0,0,1,1,0,1,1]),this.chooseFastestCopyGLTo2DMethod(m,v)},chooseFastestCopyGLTo2DMethod:function(m,v){var o=typeof window.performance<"u",c;try{new ImageData(1,1),c=!0}catch{c=!1}var s=typeof ArrayBuffer<"u",g=typeof Uint8ClampedArray<"u";if(o&&c&&s&&g){var x=r.util.createCanvasElement(),h=new ArrayBuffer(m*v*4);if(r.forceGLPutImageData){this.imageBuffer=h,this.copyGLTo2D=N;return}var E={imageBuffer:h,destinationWidth:m,destinationHeight:v,targetCanvas:x},T,k,L;x.width=m,x.height=v,T=window.performance.now(),O.call(E,this.gl,E),k=window.performance.now()-T,T=window.performance.now(),N.call(E,this.gl,E),L=window.performance.now()-T,k>L?(this.imageBuffer=h,this.copyGLTo2D=N):this.copyGLTo2D=O}},createWebGLCanvas:function(m,v){var o=r.util.createCanvasElement();o.width=m,o.height=v;var c={alpha:!0,premultipliedAlpha:!1,depth:!1,stencil:!1,antialias:!1},s=o.getContext("webgl",c);s||(s=o.getContext("experimental-webgl",c)),s&&(s.clearColor(0,0,0,0),this.canvas=o,this.gl=s)},applyFilters:function(m,v,o,c,s,g){var x=this.gl,h;g&&(h=this.getCachedTexture(g,v));var E={originalWidth:v.width||v.originalWidth,originalHeight:v.height||v.originalHeight,sourceWidth:o,sourceHeight:c,destinationWidth:o,destinationHeight:c,context:x,sourceTexture:this.createTexture(x,o,c,!h&&v),targetTexture:this.createTexture(x,o,c),originalTexture:h||this.createTexture(x,o,c,!h&&v),passes:m.length,webgl:!0,aPosition:this.aPosition,programCache:this.programCache,pass:0,filterBackend:this,targetCanvas:s},T=x.createFramebuffer();return x.bindFramebuffer(x.FRAMEBUFFER,T),m.forEach(function(k){k&&k.applyTo(E)}),D(E),this.copyGLTo2D(x,E),x.bindTexture(x.TEXTURE_2D,null),x.deleteTexture(E.sourceTexture),x.deleteTexture(E.targetTexture),x.deleteFramebuffer(T),s.getContext("2d").setTransform(1,0,0,1,0,0),E},dispose:function(){this.canvas&&(this.canvas=null,this.gl=null),this.clearWebGLCaches()},clearWebGLCaches:function(){this.programCache={},this.textureCache={}},createTexture:function(m,v,o,c){var s=m.createTexture();return m.bindTexture(m.TEXTURE_2D,s),m.texParameteri(m.TEXTURE_2D,m.TEXTURE_MAG_FILTER,m.NEAREST),m.texParameteri(m.TEXTURE_2D,m.TEXTURE_MIN_FILTER,m.NEAREST),m.texParameteri(m.TEXTURE_2D,m.TEXTURE_WRAP_S,m.CLAMP_TO_EDGE),m.texParameteri(m.TEXTURE_2D,m.TEXTURE_WRAP_T,m.CLAMP_TO_EDGE),c?m.texImage2D(m.TEXTURE_2D,0,m.RGBA,m.RGBA,m.UNSIGNED_BYTE,c):m.texImage2D(m.TEXTURE_2D,0,m.RGBA,v,o,0,m.RGBA,m.UNSIGNED_BYTE,null),s},getCachedTexture:function(m,v){if(this.textureCache[m])return this.textureCache[m];var o=this.createTexture(this.gl,v.width,v.height,v);return this.textureCache[m]=o,o},evictCachesForKey:function(m){this.textureCache[m]&&(this.gl.deleteTexture(this.textureCache[m]),delete this.textureCache[m])},copyGLTo2D:O,captureGPUInfo:function(){if(this.gpuInfo)return this.gpuInfo;var m=this.gl,v={renderer:"",vendor:""};if(!m)return v;var o=m.getExtension("WEBGL_debug_renderer_info");if(o){var c=m.getParameter(o.UNMASKED_RENDERER_WEBGL),s=m.getParameter(o.UNMASKED_VENDOR_WEBGL);c&&(v.renderer=c.toLowerCase()),s&&(v.vendor=s.toLowerCase())}return this.gpuInfo=v,v}}}();function D(p){var a=p.targetCanvas,m=a.width,v=a.height,o=p.destinationWidth,c=p.destinationHeight;(m!==o||v!==c)&&(a.width=o,a.height=c)}function O(p,a){var m=p.canvas,v=a.targetCanvas,o=v.getContext("2d");o.translate(0,v.height),o.scale(1,-1);var c=m.height-v.height;o.drawImage(m,0,c,v.width,v.height,0,0,v.width,v.height)}function N(p,a){var m=a.targetCanvas,v=m.getContext("2d"),o=a.destinationWidth,c=a.destinationHeight,s=o*c*4,g=new Uint8Array(this.imageBuffer,0,s),x=new Uint8ClampedArray(this.imageBuffer,0,s);p.readPixels(0,0,o,c,p.RGBA,p.UNSIGNED_BYTE,g);var h=new ImageData(x,o,c);v.putImageData(h,0,0)}(function(){var p=function(){};r.Canvas2dFilterBackend=a;function a(){}a.prototype={evictCachesForKey:p,dispose:p,clearWebGLCaches:p,resources:{},applyFilters:function(m,v,o,c,s){var g=s.getContext("2d");g.drawImage(v,0,0,o,c);var x=g.getImageData(0,0,o,c),h=g.getImageData(0,0,o,c),E={sourceWidth:o,sourceHeight:c,imageData:x,originalEl:v,originalImageData:h,canvasEl:s,ctx:g,filterBackend:this};return m.forEach(function(T){T.applyTo(E)}),(E.imageData.width!==o||E.imageData.height!==c)&&(s.width=E.imageData.width,s.height=E.imageData.height),g.putImageData(E.imageData,0,0),E}}})(),r.Image=r.Image||{},r.Image.filters=r.Image.filters||{},r.Image.filters.BaseFilter=r.util.createClass({type:"BaseFilter",vertexSource:`attribute vec2 aPosition;
varying vec2 vTexCoord;
void main() {
vTexCoord = aPosition;
gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);
}`,fragmentSource:`precision highp float;
varying vec2 vTexCoord;
uniform sampler2D uTexture;
void main() {
gl_FragColor = texture2D(uTexture, vTexCoord);
}`,initialize:function(p){p&&this.setOptions(p)},setOptions:function(p){for(var a in p)this[a]=p[a]},createProgram:function(p,a,m){a=a||this.fragmentSource,m=m||this.vertexSource,r.webGlPrecision!=="highp"&&(a=a.replace(/precision highp float/g,"precision "+r.webGlPrecision+" float"));var v=p.createShader(p.VERTEX_SHADER);if(p.shaderSource(v,m),p.compileShader(v),!p.getShaderParameter(v,p.COMPILE_STATUS))throw new Error("Vertex shader compile error for "+this.type+": "+p.getShaderInfoLog(v));var o=p.createShader(p.FRAGMENT_SHADER);if(p.shaderSource(o,a),p.compileShader(o),!p.getShaderParameter(o,p.COMPILE_STATUS))throw new Error("Fragment shader compile error for "+this.type+": "+p.getShaderInfoLog(o));var c=p.createProgram();if(p.attachShader(c,v),p.attachShader(c,o),p.linkProgram(c),!p.getProgramParameter(c,p.LINK_STATUS))throw new Error('Shader link error for "${this.type}" '+p.getProgramInfoLog(c));var s=this.getAttributeLocations(p,c),g=this.getUniformLocations(p,c)||{};return g.uStepW=p.getUniformLocation(c,"uStepW"),g.uStepH=p.getUniformLocation(c,"uStepH"),{program:c,attributeLocations:s,uniformLocations:g}},getAttributeLocations:function(p,a){return{aPosition:p.getAttribLocation(a,"aPosition")}},getUniformLocations:function(){return{}},sendAttributeData:function(p,a,m){var v=a.aPosition,o=p.createBuffer();p.bindBuffer(p.ARRAY_BUFFER,o),p.enableVertexAttribArray(v),p.vertexAttribPointer(v,2,p.FLOAT,!1,0,0),p.bufferData(p.ARRAY_BUFFER,m,p.STATIC_DRAW)},_setupFrameBuffer:function(p){var a=p.context,m,v;p.passes>1?(m=p.destinationWidth,v=p.destinationHeight,(p.sourceWidth!==m||p.sourceHeight!==v)&&(a.deleteTexture(p.targetTexture),p.targetTexture=p.filterBackend.createTexture(a,m,v)),a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,p.targetTexture,0)):(a.bindFramebuffer(a.FRAMEBUFFER,null),a.finish())},_swapTextures:function(p){p.passes--,p.pass++;var a=p.targetTexture;p.targetTexture=p.sourceTexture,p.sourceTexture=a},isNeutralState:function(){var p=this.mainParameter,a=r.Image.filters[this.type].prototype;if(p)if(Array.isArray(a[p])){for(var m=a[p].length;m--;)if(this[p][m]!==a[p][m])return!1;return!0}else return a[p]===this[p];else return!1},applyTo:function(p){p.webgl?(this._setupFrameBuffer(p),this.applyToWebGL(p),this._swapTextures(p)):this.applyTo2d(p)},retrieveShader:function(p){return p.programCache.hasOwnProperty(this.type)||(p.programCache[this.type]=this.createProgram(p.context)),p.programCache[this.type]},applyToWebGL:function(p){var a=p.context,m=this.retrieveShader(p);p.pass===0&&p.originalTexture?a.bindTexture(a.TEXTURE_2D,p.originalTexture):a.bindTexture(a.TEXTURE_2D,p.sourceTexture),a.useProgram(m.program),this.sendAttributeData(a,m.attributeLocations,p.aPosition),a.uniform1f(m.uniformLocations.uStepW,1/p.sourceWidth),a.uniform1f(m.uniformLocations.uStepH,1/p.sourceHeight),this.sendUniformData(a,m.uniformLocations),a.viewport(0,0,p.destinationWidth,p.destinationHeight),a.drawArrays(a.TRIANGLE_STRIP,0,4)},bindAdditionalTexture:function(p,a,m){p.activeTexture(m),p.bindTexture(p.TEXTURE_2D,a),p.activeTexture(p.TEXTURE0)},unbindAdditionalTexture:function(p,a){p.activeTexture(a),p.bindTexture(p.TEXTURE_2D,null),p.activeTexture(p.TEXTURE0)},getMainParameter:function(){return this[this.mainParameter]},setMainParameter:function(p){this[this.mainParameter]=p},sendUniformData:function(){},createHelpLayer:function(p){if(!p.helpLayer){var a=document.createElement("canvas");a.width=p.sourceWidth,a.height=p.sourceHeight,p.helpLayer=a}},toObject:function(){var p={type:this.type},a=this.mainParameter;return a&&(p[a]=this[a]),p},toJSON:function(){return this.toObject()}}),r.Image.filters.BaseFilter.fromObject=function(p,a){var m=new r.Image.filters[p.type](p);return a&&a(m),m},function(p){var a=p.fabric||(p.fabric={}),m=a.Image.filters,v=a.util.createClass;m.ColorMatrix=v(m.BaseFilter,{type:"ColorMatrix",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
varying vec2 vTexCoord;
uniform mat4 uColorMatrix;
uniform vec4 uConstants;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
color *= uColorMatrix;
color += uConstants;
gl_FragColor = color;
}`,matrix:[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],mainParameter:"matrix",colorsOnly:!0,initialize:function(o){this.callSuper("initialize",o),this.matrix=this.matrix.slice(0)},applyTo2d:function(o){var c=o.imageData,s=c.data,g=s.length,x=this.matrix,h,E,T,k,L,F=this.colorsOnly;for(L=0;L<g;L+=4)h=s[L],E=s[L+1],T=s[L+2],F?(s[L]=h*x[0]+E*x[1]+T*x[2]+x[4]*255,s[L+1]=h*x[5]+E*x[6]+T*x[7]+x[9]*255,s[L+2]=h*x[10]+E*x[11]+T*x[12]+x[14]*255):(k=s[L+3],s[L]=h*x[0]+E*x[1]+T*x[2]+k*x[3]+x[4]*255,s[L+1]=h*x[5]+E*x[6]+T*x[7]+k*x[8]+x[9]*255,s[L+2]=h*x[10]+E*x[11]+T*x[12]+k*x[13]+x[14]*255,s[L+3]=h*x[15]+E*x[16]+T*x[17]+k*x[18]+x[19]*255)},getUniformLocations:function(o,c){return{uColorMatrix:o.getUniformLocation(c,"uColorMatrix"),uConstants:o.getUniformLocation(c,"uConstants")}},sendUniformData:function(o,c){var s=this.matrix,g=[s[0],s[1],s[2],s[3],s[5],s[6],s[7],s[8],s[10],s[11],s[12],s[13],s[15],s[16],s[17],s[18]],x=[s[4],s[9],s[14],s[19]];o.uniformMatrix4fv(c.uColorMatrix,!1,g),o.uniform4fv(c.uConstants,x)}}),a.Image.filters.ColorMatrix.fromObject=a.Image.filters.BaseFilter.fromObject}(M),function(p){var a=p.fabric||(p.fabric={}),m=a.Image.filters,v=a.util.createClass;m.Brightness=v(m.BaseFilter,{type:"Brightness",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uBrightness;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
color.rgb += uBrightness;
gl_FragColor = color;
}`,brightness:0,mainParameter:"brightness",applyTo2d:function(o){if(this.brightness!==0){var c=o.imageData,s=c.data,g,x=s.length,h=Math.round(this.brightness*255);for(g=0;g<x;g+=4)s[g]=s[g]+h,s[g+1]=s[g+1]+h,s[g+2]=s[g+2]+h}},getUniformLocations:function(o,c){return{uBrightness:o.getUniformLocation(c,"uBrightness")}},sendUniformData:function(o,c){o.uniform1f(c.uBrightness,this.brightness)}}),a.Image.filters.Brightness.fromObject=a.Image.filters.BaseFilter.fromObject}(M),function(p){var a=p.fabric||(p.fabric={}),m=a.util.object.extend,v=a.Image.filters,o=a.util.createClass;v.Convolute=o(v.BaseFilter,{type:"Convolute",opaque:!1,matrix:[0,0,0,0,1,0,0,0,0],fragmentSource:{Convolute_3_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[9];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 3.0; h+=1.0) {
for (float w = 0.0; w < 3.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 1), uStepH * (h - 1));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 3.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_3_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[9];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 3.0; h+=1.0) {
for (float w = 0.0; w < 3.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 1.0), uStepH * (h - 1.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 3.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`,Convolute_5_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[25];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 5.0; h+=1.0) {
for (float w = 0.0; w < 5.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 5.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_5_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[25];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 5.0; h+=1.0) {
for (float w = 0.0; w < 5.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 5.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`,Convolute_7_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[49];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 7.0; h+=1.0) {
for (float w = 0.0; w < 7.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 7.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_7_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[49];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 7.0; h+=1.0) {
for (float w = 0.0; w < 7.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 7.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`,Convolute_9_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[81];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 9.0; h+=1.0) {
for (float w = 0.0; w < 9.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 9.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_9_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[81];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 9.0; h+=1.0) {
for (float w = 0.0; w < 9.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 9.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`},retrieveShader:function(c){var s=Math.sqrt(this.matrix.length),g=this.type+"_"+s+"_"+(this.opaque?1:0),x=this.fragmentSource[g];return c.programCache.hasOwnProperty(g)||(c.programCache[g]=this.createProgram(c.context,x)),c.programCache[g]},applyTo2d:function(c){var s=c.imageData,g=s.data,x=this.matrix,h=Math.round(Math.sqrt(x.length)),E=Math.floor(h/2),T=s.width,k=s.height,L=c.ctx.createImageData(T,k),F=L.data,U=this.opaque?1:0,G,Y,K,he,oe,ve,ee,xe,Z,Be,we,ge,te;for(we=0;we<k;we++)for(Be=0;Be<T;Be++){for(oe=(we*T+Be)*4,G=0,Y=0,K=0,he=0,te=0;te<h;te++)for(ge=0;ge<h;ge++)ee=we+te-E,ve=Be+ge-E,!(ee<0||ee>=k||ve<0||ve>=T)&&(xe=(ee*T+ve)*4,Z=x[te*h+ge],G+=g[xe]*Z,Y+=g[xe+1]*Z,K+=g[xe+2]*Z,U||(he+=g[xe+3]*Z));F[oe]=G,F[oe+1]=Y,F[oe+2]=K,U?F[oe+3]=g[oe+3]:F[oe+3]=he}c.imageData=L},getUniformLocations:function(c,s){return{uMatrix:c.getUniformLocation(s,"uMatrix"),uOpaque:c.getUniformLocation(s,"uOpaque"),uHalfSize:c.getUniformLocation(s,"uHalfSize"),uSize:c.getUniformLocation(s,"uSize")}},sendUniformData:function(c,s){c.uniform1fv(s.uMatrix,this.matrix)},toObject:function(){return m(this.callSuper("toObject"),{opaque:this.opaque,matrix:this.matrix})}}),a.Image.filters.Convolute.fromObject=a.Image.filters.BaseFilter.fromObject}(M),function(p){var a=p.fabric||(p.fabric={}),m=a.Image.filters,v=a.util.createClass;m.Grayscale=v(m.BaseFilter,{type:"Grayscale",fragmentSource:{average:`precision highp float;
uniform sampler2D uTexture;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float average = (color.r + color.b + color.g) / 3.0;
gl_FragColor = vec4(average, average, average, color.a);
}`,lightness:`precision highp float;
uniform sampler2D uTexture;
uniform int uMode;
varying vec2 vTexCoord;
void main() {
vec4 col = texture2D(uTexture, vTexCoord);
float average = (max(max(col.r, col.g),col.b) + min(min(col.r, col.g),col.b)) / 2.0;
gl_FragColor = vec4(average, average, average, col.a);
}`,luminosity:`precision highp float;
uniform sampler2D uTexture;
uniform int uMode;
varying vec2 vTexCoord;
void main() {
vec4 col = texture2D(uTexture, vTexCoord);
float average = 0.21 * col.r + 0.72 * col.g + 0.07 * col.b;
gl_FragColor = vec4(average, average, average, col.a);
}`},mode:"average",mainParameter:"mode",applyTo2d:function(o){var c=o.imageData,s=c.data,g,x=s.length,h,E=this.mode;for(g=0;g<x;g+=4)E==="average"?h=(s[g]+s[g+1]+s[g+2])/3:E==="lightness"?h=(Math.min(s[g],s[g+1],s[g+2])+Math.max(s[g],s[g+1],s[g+2]))/2:E==="luminosity"&&(h=.21*s[g]+.72*s[g+1]+.07*s[g+2]),s[g]=h,s[g+1]=h,s[g+2]=h},retrieveShader:function(o){var c=this.type+"_"+this.mode;if(!o.programCache.hasOwnProperty(c)){var s=this.fragmentSource[this.mode];o.programCache[c]=this.createProgram(o.context,s)}return o.programCache[c]},getUniformLocations:function(o,c){return{uMode:o.getUniformLocation(c,"uMode")}},sendUniformData:function(o,c){var s=1;o.uniform1i(c.uMode,s)},isNeutralState:function(){return!1}}),a.Image.filters.Grayscale.fromObject=a.Image.filters.BaseFilter.fromObject}(M),function(p){var a=p.fabric||(p.fabric={}),m=a.Image.filters,v=a.util.createClass;m.Invert=v(m.BaseFilter,{type:"Invert",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform int uInvert;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
if (uInvert == 1) {
gl_FragColor = vec4(1.0 - color.r,1.0 -color.g,1.0 -color.b,color.a);
} else {
gl_FragColor = color;
}
}`,invert:!0,mainParameter:"invert",applyTo2d:function(o){var c=o.imageData,s=c.data,g,x=s.length;for(g=0;g<x;g+=4)s[g]=255-s[g],s[g+1]=255-s[g+1],s[g+2]=255-s[g+2]},isNeutralState:function(){return!this.invert},getUniformLocations:function(o,c){return{uInvert:o.getUniformLocation(c,"uInvert")}},sendUniformData:function(o,c){o.uniform1i(c.uInvert,this.invert)}}),a.Image.filters.Invert.fromObject=a.Image.filters.BaseFilter.fromObject}(M),function(p){var a=p.fabric||(p.fabric={}),m=a.util.object.extend,v=a.Image.filters,o=a.util.createClass;v.Noise=o(v.BaseFilter,{type:"Noise",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uStepH;
uniform float uNoise;
uniform float uSeed;
varying vec2 vTexCoord;
float rand(vec2 co, float seed, float vScale) {
return fract(sin(dot(co.xy * vScale ,vec2(12.9898 , 78.233))) * 43758.5453 * (seed + 0.01) / 2.0);
}
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
color.rgb += (0.5 - rand(vTexCoord, uSeed, 0.1 / uStepH)) * uNoise;
gl_FragColor = color;
}`,mainParameter:"noise",noise:0,applyTo2d:function(c){if(this.noise!==0){var s=c.imageData,g=s.data,x,h=g.length,E=this.noise,T;for(x=0,h=g.length;x<h;x+=4)T=(.5-Math.random())*E,g[x]+=T,g[x+1]+=T,g[x+2]+=T}},getUniformLocations:function(c,s){return{uNoise:c.getUniformLocation(s,"uNoise"),uSeed:c.getUniformLocation(s,"uSeed")}},sendUniformData:function(c,s){c.uniform1f(s.uNoise,this.noise/255),c.uniform1f(s.uSeed,Math.random())},toObject:function(){return m(this.callSuper("toObject"),{noise:this.noise})}}),a.Image.filters.Noise.fromObject=a.Image.filters.BaseFilter.fromObject}(M),function(p){var a=p.fabric||(p.fabric={}),m=a.Image.filters,v=a.util.createClass;m.Pixelate=v(m.BaseFilter,{type:"Pixelate",blocksize:4,mainParameter:"blocksize",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uBlocksize;
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
float blockW = uBlocksize * uStepW;
float blockH = uBlocksize * uStepW;
int posX = int(vTexCoord.x / blockW);
int posY = int(vTexCoord.y / blockH);
float fposX = float(posX);
float fposY = float(posY);
vec2 squareCoords = vec2(fposX * blockW, fposY * blockH);
vec4 color = texture2D(uTexture, squareCoords);
gl_FragColor = color;
}`,applyTo2d:function(o){var c=o.imageData,s=c.data,g=c.height,x=c.width,h,E,T,k,L,F,U,G,Y,K,he;for(E=0;E<g;E+=this.blocksize)for(T=0;T<x;T+=this.blocksize)for(h=E*4*x+T*4,k=s[h],L=s[h+1],F=s[h+2],U=s[h+3],K=Math.min(E+this.blocksize,g),he=Math.min(T+this.blocksize,x),G=E;G<K;G++)for(Y=T;Y<he;Y++)h=G*4*x+Y*4,s[h]=k,s[h+1]=L,s[h+2]=F,s[h+3]=U},isNeutralState:function(){return this.blocksize===1},getUniformLocations:function(o,c){return{uBlocksize:o.getUniformLocation(c,"uBlocksize"),uStepW:o.getUniformLocation(c,"uStepW"),uStepH:o.getUniformLocation(c,"uStepH")}},sendUniformData:function(o,c){o.uniform1f(c.uBlocksize,this.blocksize)}}),a.Image.filters.Pixelate.fromObject=a.Image.filters.BaseFilter.fromObject}(M),function(p){var a=p.fabric||(p.fabric={}),m=a.util.object.extend,v=a.Image.filters,o=a.util.createClass;v.RemoveColor=o(v.BaseFilter,{type:"RemoveColor",color:"#FFFFFF",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform vec4 uLow;
uniform vec4 uHigh;
varying vec2 vTexCoord;
void main() {
gl_FragColor = texture2D(uTexture, vTexCoord);
if(all(greaterThan(gl_FragColor.rgb,uLow.rgb)) && all(greaterThan(uHigh.rgb,gl_FragColor.rgb))) {
gl_FragColor.a = 0.0;
}
}`,distance:.02,useAlpha:!1,applyTo2d:function(c){var s=c.imageData,g=s.data,x,h=this.distance*255,E,T,k,L=new a.Color(this.color).getSource(),F=[L[0]-h,L[1]-h,L[2]-h],U=[L[0]+h,L[1]+h,L[2]+h];for(x=0;x<g.length;x+=4)E=g[x],T=g[x+1],k=g[x+2],E>F[0]&&T>F[1]&&k>F[2]&&E<U[0]&&T<U[1]&&k<U[2]&&(g[x+3]=0)},getUniformLocations:function(c,s){return{uLow:c.getUniformLocation(s,"uLow"),uHigh:c.getUniformLocation(s,"uHigh")}},sendUniformData:function(c,s){var g=new a.Color(this.color).getSource(),x=parseFloat(this.distance),h=[0+g[0]/255-x,0+g[1]/255-x,0+g[2]/255-x,1],E=[g[0]/255+x,g[1]/255+x,g[2]/255+x,1];c.uniform4fv(s.uLow,h),c.uniform4fv(s.uHigh,E)},toObject:function(){return m(this.callSuper("toObject"),{color:this.color,distance:this.distance})}}),a.Image.filters.RemoveColor.fromObject=a.Image.filters.BaseFilter.fromObject}(M),function(p){var a=p.fabric||(p.fabric={}),m=a.Image.filters,v=a.util.createClass,o={Brownie:[.5997,.34553,-.27082,0,.186,-.0377,.86095,.15059,0,-.1449,.24113,-.07441,.44972,0,-.02965,0,0,0,1,0],Vintage:[.62793,.32021,-.03965,0,.03784,.02578,.64411,.03259,0,.02926,.0466,-.08512,.52416,0,.02023,0,0,0,1,0],Kodachrome:[1.12855,-.39673,-.03992,0,.24991,-.16404,1.08352,-.05498,0,.09698,-.16786,-.56034,1.60148,0,.13972,0,0,0,1,0],Technicolor:[1.91252,-.85453,-.09155,0,.04624,-.30878,1.76589,-.10601,0,-.27589,-.2311,-.75018,1.84759,0,.12137,0,0,0,1,0],Polaroid:[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],Sepia:[.393,.769,.189,0,0,.349,.686,.168,0,0,.272,.534,.131,0,0,0,0,0,1,0],BlackWhite:[1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,0,0,0,1,0]};for(var c in o)m[c]=v(m.ColorMatrix,{type:c,matrix:o[c],mainParameter:!1,colorsOnly:!0}),a.Image.filters[c].fromObject=a.Image.filters.BaseFilter.fromObject}(M),function(p){var a=p.fabric,m=a.Image.filters,v=a.util.createClass;m.BlendColor=v(m.BaseFilter,{type:"BlendColor",color:"#F95C63",mode:"multiply",alpha:1,fragmentSource:{multiply:`gl_FragColor.rgb *= uColor.rgb;
`,screen:`gl_FragColor.rgb = 1.0 - (1.0 - gl_FragColor.rgb) * (1.0 - uColor.rgb);
`,add:`gl_FragColor.rgb += uColor.rgb;
`,diff:`gl_FragColor.rgb = abs(gl_FragColor.rgb - uColor.rgb);
`,subtract:`gl_FragColor.rgb -= uColor.rgb;
`,lighten:`gl_FragColor.rgb = max(gl_FragColor.rgb, uColor.rgb);
`,darken:`gl_FragColor.rgb = min(gl_FragColor.rgb, uColor.rgb);
`,exclusion:`gl_FragColor.rgb += uColor.rgb - 2.0 * (uColor.rgb * gl_FragColor.rgb);
`,overlay:`if (uColor.r < 0.5) {
gl_FragColor.r *= 2.0 * uColor.r;
} else {
gl_FragColor.r = 1.0 - 2.0 * (1.0 - gl_FragColor.r) * (1.0 - uColor.r);
}
if (uColor.g < 0.5) {
gl_FragColor.g *= 2.0 * uColor.g;
} else {
gl_FragColor.g = 1.0 - 2.0 * (1.0 - gl_FragColor.g) * (1.0 - uColor.g);
}
if (uColor.b < 0.5) {
gl_FragColor.b *= 2.0 * uColor.b;
} else {
gl_FragColor.b = 1.0 - 2.0 * (1.0 - gl_FragColor.b) * (1.0 - uColor.b);
}
`,tint:`gl_FragColor.rgb *= (1.0 - uColor.a);
gl_FragColor.rgb += uColor.rgb;
`},buildSource:function(o){return`precision highp float;
uniform sampler2D uTexture;
uniform vec4 uColor;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
gl_FragColor = color;
if (color.a > 0.0) {
`+this.fragmentSource[o]+`}
}`},retrieveShader:function(o){var c=this.type+"_"+this.mode,s;return o.programCache.hasOwnProperty(c)||(s=this.buildSource(this.mode),o.programCache[c]=this.createProgram(o.context,s)),o.programCache[c]},applyTo2d:function(o){var c=o.imageData,s=c.data,g=s.length,x,h,E,T,k,L,F,U=1-this.alpha;F=new a.Color(this.color).getSource(),x=F[0]*this.alpha,h=F[1]*this.alpha,E=F[2]*this.alpha;for(var G=0;G<g;G+=4)switch(T=s[G],k=s[G+1],L=s[G+2],this.mode){case"multiply":s[G]=T*x/255,s[G+1]=k*h/255,s[G+2]=L*E/255;break;case"screen":s[G]=255-(255-T)*(255-x)/255,s[G+1]=255-(255-k)*(255-h)/255,s[G+2]=255-(255-L)*(255-E)/255;break;case"add":s[G]=T+x,s[G+1]=k+h,s[G+2]=L+E;break;case"diff":case"difference":s[G]=Math.abs(T-x),s[G+1]=Math.abs(k-h),s[G+2]=Math.abs(L-E);break;case"subtract":s[G]=T-x,s[G+1]=k-h,s[G+2]=L-E;break;case"darken":s[G]=Math.min(T,x),s[G+1]=Math.min(k,h),s[G+2]=Math.min(L,E);break;case"lighten":s[G]=Math.max(T,x),s[G+1]=Math.max(k,h),s[G+2]=Math.max(L,E);break;case"overlay":s[G]=x<128?2*T*x/255:255-2*(255-T)*(255-x)/255,s[G+1]=h<128?2*k*h/255:255-2*(255-k)*(255-h)/255,s[G+2]=E<128?2*L*E/255:255-2*(255-L)*(255-E)/255;break;case"exclusion":s[G]=x+T-2*x*T/255,s[G+1]=h+k-2*h*k/255,s[G+2]=E+L-2*E*L/255;break;case"tint":s[G]=x+T*U,s[G+1]=h+k*U,s[G+2]=E+L*U}},getUniformLocations:function(o,c){return{uColor:o.getUniformLocation(c,"uColor")}},sendUniformData:function(o,c){var s=new a.Color(this.color).getSource();s[0]=this.alpha*s[0]/255,s[1]=this.alpha*s[1]/255,s[2]=this.alpha*s[2]/255,s[3]=this.alpha,o.uniform4fv(c.uColor,s)},toObject:function(){return{type:this.type,color:this.color,mode:this.mode,alpha:this.alpha}}}),a.Image.filters.BlendColor.fromObject=a.Image.filters.BaseFilter.fromObject}(M),function(p){var a=p.fabric,m=a.Image.filters,v=a.util.createClass;m.BlendImage=v(m.BaseFilter,{type:"BlendImage",image:null,mode:"multiply",alpha:1,vertexSource:`attribute vec2 aPosition;
varying vec2 vTexCoord;
varying vec2 vTexCoord2;
uniform mat3 uTransformMatrix;
void main() {
vTexCoord = aPosition;
vTexCoord2 = (uTransformMatrix * vec3(aPosition, 1.0)).xy;
gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);
}`,fragmentSource:{multiply:`precision highp float;
uniform sampler2D uTexture;
uniform sampler2D uImage;
uniform vec4 uColor;
varying vec2 vTexCoord;
varying vec2 vTexCoord2;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
vec4 color2 = texture2D(uImage, vTexCoord2);
color.rgba *= color2.rgba;
gl_FragColor = color;
}`,mask:`precision highp float;
uniform sampler2D uTexture;
uniform sampler2D uImage;
uniform vec4 uColor;
varying vec2 vTexCoord;
varying vec2 vTexCoord2;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
vec4 color2 = texture2D(uImage, vTexCoord2);
color.a = color2.a;
gl_FragColor = color;
}`},retrieveShader:function(o){var c=this.type+"_"+this.mode,s=this.fragmentSource[this.mode];return o.programCache.hasOwnProperty(c)||(o.programCache[c]=this.createProgram(o.context,s)),o.programCache[c]},applyToWebGL:function(o){var c=o.context,s=this.createTexture(o.filterBackend,this.image);this.bindAdditionalTexture(c,s,c.TEXTURE1),this.callSuper("applyToWebGL",o),this.unbindAdditionalTexture(c,c.TEXTURE1)},createTexture:function(o,c){return o.getCachedTexture(c.cacheKey,c._element)},calculateMatrix:function(){var o=this.image,c=o._element.width,s=o._element.height;return[1/o.scaleX,0,0,0,1/o.scaleY,0,-o.left/c,-o.top/s,1]},applyTo2d:function(o){var c=o.imageData,s=o.filterBackend.resources,g=c.data,x=g.length,h=c.width,E=c.height,T,k,L,F,U,G,Y,K,he,oe,ve=this.image,ee;s.blendImage||(s.blendImage=a.util.createCanvasElement()),he=s.blendImage,oe=he.getContext("2d"),he.width!==h||he.height!==E?(he.width=h,he.height=E):oe.clearRect(0,0,h,E),oe.setTransform(ve.scaleX,0,0,ve.scaleY,ve.left,ve.top),oe.drawImage(ve._element,0,0,h,E),ee=oe.getImageData(0,0,h,E).data;for(var xe=0;xe<x;xe+=4)switch(U=g[xe],G=g[xe+1],Y=g[xe+2],K=g[xe+3],T=ee[xe],k=ee[xe+1],L=ee[xe+2],F=ee[xe+3],this.mode){case"multiply":g[xe]=U*T/255,g[xe+1]=G*k/255,g[xe+2]=Y*L/255,g[xe+3]=K*F/255;break;case"mask":g[xe+3]=F;break}},getUniformLocations:function(o,c){return{uTransformMatrix:o.getUniformLocation(c,"uTransformMatrix"),uImage:o.getUniformLocation(c,"uImage")}},sendUniformData:function(o,c){var s=this.calculateMatrix();o.uniform1i(c.uImage,1),o.uniformMatrix3fv(c.uTransformMatrix,!1,s)},toObject:function(){return{type:this.type,image:this.image&&this.image.toObject(),mode:this.mode,alpha:this.alpha}}}),a.Image.filters.BlendImage.fromObject=function(o,c){a.Image.fromObject(o.image,function(s){var g=a.util.object.clone(o);g.image=s,c(new a.Image.filters.BlendImage(g))})}}(M),function(p){var a=p.fabric||(p.fabric={}),m=Math.pow,v=Math.floor,o=Math.sqrt,c=Math.abs,s=Math.round,g=Math.sin,x=Math.ceil,h=a.Image.filters,E=a.util.createClass;h.Resize=E(h.BaseFilter,{type:"Resize",resizeType:"hermite",scaleX:1,scaleY:1,lanczosLobes:3,getUniformLocations:function(T,k){return{uDelta:T.getUniformLocation(k,"uDelta"),uTaps:T.getUniformLocation(k,"uTaps")}},sendUniformData:function(T,k){T.uniform2fv(k.uDelta,this.horizontal?[1/this.width,0]:[0,1/this.height]),T.uniform1fv(k.uTaps,this.taps)},retrieveShader:function(T){var k=this.getFilterWindow(),L=this.type+"_"+k;if(!T.programCache.hasOwnProperty(L)){var F=this.generateShader(k);T.programCache[L]=this.createProgram(T.context,F)}return T.programCache[L]},getFilterWindow:function(){var T=this.tempScale;return Math.ceil(this.lanczosLobes/T)},getTaps:function(){for(var T=this.lanczosCreate(this.lanczosLobes),k=this.tempScale,L=this.getFilterWindow(),F=new Array(L),U=1;U<=L;U++)F[U-1]=T(U*k);return F},generateShader:function(F){for(var k=new Array(F),L=this.fragmentSourceTOP,F,U=1;U<=F;U++)k[U-1]=U+".0 * uDelta";return L+="uniform float uTaps["+F+`];
`,L+=`void main() {
`,L+=`  vec4 color = texture2D(uTexture, vTexCoord);
`,L+=`  float sum = 1.0;
`,k.forEach(function(G,Y){L+="  color += texture2D(uTexture, vTexCoord + "+G+") * uTaps["+Y+`];
`,L+="  color += texture2D(uTexture, vTexCoord - "+G+") * uTaps["+Y+`];
`,L+="  sum += 2.0 * uTaps["+Y+`];
`}),L+=`  gl_FragColor = color / sum;
`,L+="}",L},fragmentSourceTOP:`precision highp float;
uniform sampler2D uTexture;
uniform vec2 uDelta;
varying vec2 vTexCoord;
`,applyTo:function(T){T.webgl?(T.passes++,this.width=T.sourceWidth,this.horizontal=!0,this.dW=Math.round(this.width*this.scaleX),this.dH=T.sourceHeight,this.tempScale=this.dW/this.width,this.taps=this.getTaps(),T.destinationWidth=this.dW,this._setupFrameBuffer(T),this.applyToWebGL(T),this._swapTextures(T),T.sourceWidth=T.destinationWidth,this.height=T.sourceHeight,this.horizontal=!1,this.dH=Math.round(this.height*this.scaleY),this.tempScale=this.dH/this.height,this.taps=this.getTaps(),T.destinationHeight=this.dH,this._setupFrameBuffer(T),this.applyToWebGL(T),this._swapTextures(T),T.sourceHeight=T.destinationHeight):this.applyTo2d(T)},isNeutralState:function(){return this.scaleX===1&&this.scaleY===1},lanczosCreate:function(T){return function(k){if(k>=T||k<=-T)return 0;if(k<11920929e-14&&k>-11920929e-14)return 1;k*=Math.PI;var L=k/T;return g(k)/k*g(L)/L}},applyTo2d:function(T){var k=T.imageData,L=this.scaleX,F=this.scaleY;this.rcpScaleX=1/L,this.rcpScaleY=1/F;var U=k.width,G=k.height,Y=s(U*L),K=s(G*F),he;this.resizeType==="sliceHack"?he=this.sliceByTwo(T,U,G,Y,K):this.resizeType==="hermite"?he=this.hermiteFastResize(T,U,G,Y,K):this.resizeType==="bilinear"?he=this.bilinearFiltering(T,U,G,Y,K):this.resizeType==="lanczos"&&(he=this.lanczosResize(T,U,G,Y,K)),T.imageData=he},sliceByTwo:function(T,k,L,F,U){var G=T.imageData,Y=.5,K=!1,he=!1,oe=k*Y,ve=L*Y,ee=a.filterBackend.resources,xe,Z,Be=0,we=0,ge=k,te=0;for(ee.sliceByTwo||(ee.sliceByTwo=document.createElement("canvas")),xe=ee.sliceByTwo,(xe.width<k*1.5||xe.height<L)&&(xe.width=k*1.5,xe.height=L),Z=xe.getContext("2d"),Z.clearRect(0,0,k*1.5,L),Z.putImageData(G,0,0),F=v(F),U=v(U);!K||!he;)k=oe,L=ve,F<v(oe*Y)?oe=v(oe*Y):(oe=F,K=!0),U<v(ve*Y)?ve=v(ve*Y):(ve=U,he=!0),Z.drawImage(xe,Be,we,k,L,ge,te,oe,ve),Be=ge,we=te,te+=ve;return Z.getImageData(Be,we,F,U)},lanczosResize:function(T,k,L,F,U){function G(ne){var re,V,H,W,J,Q,se,fe,ye,Se,me;for(te.x=(ne+.5)*ve,ae.x=v(te.x),re=0;re<U;re++){for(te.y=(re+.5)*ee,ae.y=v(te.y),J=0,Q=0,se=0,fe=0,ye=0,V=ae.x-Be;V<=ae.x+Be;V++)if(!(V<0||V>=k)){Se=v(1e3*c(V-te.x)),ge[Se]||(ge[Se]={});for(var ue=ae.y-we;ue<=ae.y+we;ue++)ue<0||ue>=L||(me=v(1e3*c(ue-te.y)),ge[Se][me]||(ge[Se][me]=oe(o(m(Se*xe,2)+m(me*Z,2))/1e3)),H=ge[Se][me],H>0&&(W=(ue*k+V)*4,J+=H,Q+=H*Y[W],se+=H*Y[W+1],fe+=H*Y[W+2],ye+=H*Y[W+3]))}W=(re*F+ne)*4,he[W]=Q/J,he[W+1]=se/J,he[W+2]=fe/J,he[W+3]=ye/J}return++ne<F?G(ne):K}var Y=T.imageData.data,K=T.ctx.createImageData(F,U),he=K.data,oe=this.lanczosCreate(this.lanczosLobes),ve=this.rcpScaleX,ee=this.rcpScaleY,xe=2/this.rcpScaleX,Z=2/this.rcpScaleY,Be=x(ve*this.lanczosLobes/2),we=x(ee*this.lanczosLobes/2),ge={},te={},ae={};return G(0)},bilinearFiltering:function(T,k,L,F,U){var G,Y,K,he,oe,ve,ee,xe,Z,Be,we,ge,te=0,ae,ne=this.rcpScaleX,re=this.rcpScaleY,V=4*(k-1),H=T.imageData,W=H.data,J=T.ctx.createImageData(F,U),Q=J.data;for(ee=0;ee<U;ee++)for(xe=0;xe<F;xe++)for(oe=v(ne*xe),ve=v(re*ee),Z=ne*xe-oe,Be=re*ee-ve,ae=4*(ve*k+oe),we=0;we<4;we++)G=W[ae+we],Y=W[ae+4+we],K=W[ae+V+we],he=W[ae+V+4+we],ge=G*(1-Z)*(1-Be)+Y*Z*(1-Be)+K*Be*(1-Z)+he*Z*Be,Q[te++]=ge;return J},hermiteFastResize:function(T,k,L,F,U){for(var G=this.rcpScaleX,Y=this.rcpScaleY,K=x(G/2),he=x(Y/2),oe=T.imageData,ve=oe.data,ee=T.ctx.createImageData(F,U),xe=ee.data,Z=0;Z<U;Z++)for(var Be=0;Be<F;Be++){for(var we=(Be+Z*F)*4,ge=0,te=0,ae=0,ne=0,re=0,V=0,H=0,W=(Z+.5)*Y,J=v(Z*Y);J<(Z+1)*Y;J++)for(var Q=c(W-(J+.5))/he,se=(Be+.5)*G,fe=Q*Q,ye=v(Be*G);ye<(Be+1)*G;ye++){var Se=c(se-(ye+.5))/K,me=o(fe+Se*Se);me>1&&me<-1||(ge=2*me*me*me-3*me*me+1,ge>0&&(Se=4*(ye+J*k),H+=ge*ve[Se+3],ae+=ge,ve[Se+3]<255&&(ge=ge*ve[Se+3]/250),ne+=ge*ve[Se],re+=ge*ve[Se+1],V+=ge*ve[Se+2],te+=ge))}xe[we]=ne/te,xe[we+1]=re/te,xe[we+2]=V/te,xe[we+3]=H/ae}return ee},toObject:function(){return{type:this.type,scaleX:this.scaleX,scaleY:this.scaleY,resizeType:this.resizeType,lanczosLobes:this.lanczosLobes}}}),a.Image.filters.Resize.fromObject=a.Image.filters.BaseFilter.fromObject}(M),function(p){var a=p.fabric||(p.fabric={}),m=a.Image.filters,v=a.util.createClass;m.Contrast=v(m.BaseFilter,{type:"Contrast",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uContrast;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float contrastF = 1.015 * (uContrast + 1.0) / (1.0 * (1.015 - uContrast));
color.rgb = contrastF * (color.rgb - 0.5) + 0.5;
gl_FragColor = color;
}`,contrast:0,mainParameter:"contrast",applyTo2d:function(o){if(this.contrast!==0){var c=o.imageData,s,x,g=c.data,x=g.length,h=Math.floor(this.contrast*255),E=259*(h+255)/(255*(259-h));for(s=0;s<x;s+=4)g[s]=E*(g[s]-128)+128,g[s+1]=E*(g[s+1]-128)+128,g[s+2]=E*(g[s+2]-128)+128}},getUniformLocations:function(o,c){return{uContrast:o.getUniformLocation(c,"uContrast")}},sendUniformData:function(o,c){o.uniform1f(c.uContrast,this.contrast)}}),a.Image.filters.Contrast.fromObject=a.Image.filters.BaseFilter.fromObject}(M),function(p){var a=p.fabric||(p.fabric={}),m=a.Image.filters,v=a.util.createClass;m.Saturation=v(m.BaseFilter,{type:"Saturation",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uSaturation;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float rgMax = max(color.r, color.g);
float rgbMax = max(rgMax, color.b);
color.r += rgbMax != color.r ? (rgbMax - color.r) * uSaturation : 0.00;
color.g += rgbMax != color.g ? (rgbMax - color.g) * uSaturation : 0.00;
color.b += rgbMax != color.b ? (rgbMax - color.b) * uSaturation : 0.00;
gl_FragColor = color;
}`,saturation:0,mainParameter:"saturation",applyTo2d:function(o){if(this.saturation!==0){var c=o.imageData,s=c.data,g=s.length,x=-this.saturation,h,E;for(h=0;h<g;h+=4)E=Math.max(s[h],s[h+1],s[h+2]),s[h]+=E!==s[h]?(E-s[h])*x:0,s[h+1]+=E!==s[h+1]?(E-s[h+1])*x:0,s[h+2]+=E!==s[h+2]?(E-s[h+2])*x:0}},getUniformLocations:function(o,c){return{uSaturation:o.getUniformLocation(c,"uSaturation")}},sendUniformData:function(o,c){o.uniform1f(c.uSaturation,-this.saturation)}}),a.Image.filters.Saturation.fromObject=a.Image.filters.BaseFilter.fromObject}(M),function(p){var a=p.fabric||(p.fabric={}),m=a.Image.filters,v=a.util.createClass;m.Vibrance=v(m.BaseFilter,{type:"Vibrance",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uVibrance;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float max = max(color.r, max(color.g, color.b));
float avg = (color.r + color.g + color.b) / 3.0;
float amt = (abs(max - avg) * 2.0) * uVibrance;
color.r += max != color.r ? (max - color.r) * amt : 0.00;
color.g += max != color.g ? (max - color.g) * amt : 0.00;
color.b += max != color.b ? (max - color.b) * amt : 0.00;
gl_FragColor = color;
}`,vibrance:0,mainParameter:"vibrance",applyTo2d:function(o){if(this.vibrance!==0){var c=o.imageData,s=c.data,g=s.length,x=-this.vibrance,h,E,T,k;for(h=0;h<g;h+=4)E=Math.max(s[h],s[h+1],s[h+2]),T=(s[h]+s[h+1]+s[h+2])/3,k=Math.abs(E-T)*2/255*x,s[h]+=E!==s[h]?(E-s[h])*k:0,s[h+1]+=E!==s[h+1]?(E-s[h+1])*k:0,s[h+2]+=E!==s[h+2]?(E-s[h+2])*k:0}},getUniformLocations:function(o,c){return{uVibrance:o.getUniformLocation(c,"uVibrance")}},sendUniformData:function(o,c){o.uniform1f(c.uVibrance,-this.vibrance)}}),a.Image.filters.Vibrance.fromObject=a.Image.filters.BaseFilter.fromObject}(M),function(p){var a=p.fabric||(p.fabric={}),m=a.Image.filters,v=a.util.createClass;m.Blur=v(m.BaseFilter,{type:"Blur",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform vec2 uDelta;
varying vec2 vTexCoord;
const float nSamples = 15.0;
vec3 v3offset = vec3(12.9898, 78.233, 151.7182);
float random(vec3 scale) {
return fract(sin(dot(gl_FragCoord.xyz, scale)) * 43758.5453);
}
void main() {
vec4 color = vec4(0.0);
float total = 0.0;
float offset = random(v3offset);
for (float t = -nSamples; t <= nSamples; t++) {
float percent = (t + offset - 0.5) / nSamples;
float weight = 1.0 - abs(percent);
color += texture2D(uTexture, vTexCoord + uDelta * percent) * weight;
total += weight;
}
gl_FragColor = color / total;
}`,blur:0,mainParameter:"blur",applyTo:function(o){o.webgl?(this.aspectRatio=o.sourceWidth/o.sourceHeight,o.passes++,this._setupFrameBuffer(o),this.horizontal=!0,this.applyToWebGL(o),this._swapTextures(o),this._setupFrameBuffer(o),this.horizontal=!1,this.applyToWebGL(o),this._swapTextures(o)):this.applyTo2d(o)},applyTo2d:function(o){o.imageData=this.simpleBlur(o)},simpleBlur:function(o){var c=o.filterBackend.resources,s,g,x=o.imageData.width,h=o.imageData.height;c.blurLayer1||(c.blurLayer1=a.util.createCanvasElement(),c.blurLayer2=a.util.createCanvasElement()),s=c.blurLayer1,g=c.blurLayer2,(s.width!==x||s.height!==h)&&(g.width=s.width=x,g.height=s.height=h);var E=s.getContext("2d"),T=g.getContext("2d"),k=15,L,F,U,G,Y=this.blur*.06*.5;for(E.putImageData(o.imageData,0,0),T.clearRect(0,0,x,h),G=-15;G<=k;G++)L=(Math.random()-.5)/4,F=G/k,U=Y*F*x+L,T.globalAlpha=1-Math.abs(F),T.drawImage(s,U,L),E.drawImage(g,0,0),T.globalAlpha=1,T.clearRect(0,0,g.width,g.height);for(G=-15;G<=k;G++)L=(Math.random()-.5)/4,F=G/k,U=Y*F*h+L,T.globalAlpha=1-Math.abs(F),T.drawImage(s,L,U),E.drawImage(g,0,0),T.globalAlpha=1,T.clearRect(0,0,g.width,g.height);o.ctx.drawImage(s,0,0);var K=o.ctx.getImageData(0,0,s.width,s.height);return E.globalAlpha=1,E.clearRect(0,0,s.width,s.height),K},getUniformLocations:function(o,c){return{delta:o.getUniformLocation(c,"uDelta")}},sendUniformData:function(o,c){var s=this.chooseRightDelta();o.uniform2fv(c.delta,s)},chooseRightDelta:function(){var o=1,c=[0,0],s;return this.horizontal?this.aspectRatio>1&&(o=1/this.aspectRatio):this.aspectRatio<1&&(o=this.aspectRatio),s=o*this.blur*.12,this.horizontal?c[0]=s:c[1]=s,c}}),m.Blur.fromObject=a.Image.filters.BaseFilter.fromObject}(M),function(p){var a=p.fabric||(p.fabric={}),m=a.Image.filters,v=a.util.createClass;m.Gamma=v(m.BaseFilter,{type:"Gamma",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform vec3 uGamma;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
vec3 correction = (1.0 / uGamma);
color.r = pow(color.r, correction.r);
color.g = pow(color.g, correction.g);
color.b = pow(color.b, correction.b);
gl_FragColor = color;
gl_FragColor.rgb *= color.a;
}`,gamma:[1,1,1],mainParameter:"gamma",initialize:function(o){this.gamma=[1,1,1],m.BaseFilter.prototype.initialize.call(this,o)},applyTo2d:function(o){var c=o.imageData,s=c.data,g=this.gamma,x=s.length,h=1/g[0],E=1/g[1],T=1/g[2],k;for(this.rVals||(this.rVals=new Uint8Array(256),this.gVals=new Uint8Array(256),this.bVals=new Uint8Array(256)),k=0,x=256;k<x;k++)this.rVals[k]=Math.pow(k/255,h)*255,this.gVals[k]=Math.pow(k/255,E)*255,this.bVals[k]=Math.pow(k/255,T)*255;for(k=0,x=s.length;k<x;k+=4)s[k]=this.rVals[s[k]],s[k+1]=this.gVals[s[k+1]],s[k+2]=this.bVals[s[k+2]]},getUniformLocations:function(o,c){return{uGamma:o.getUniformLocation(c,"uGamma")}},sendUniformData:function(o,c){o.uniform3fv(c.uGamma,this.gamma)}}),a.Image.filters.Gamma.fromObject=a.Image.filters.BaseFilter.fromObject}(M),function(p){var a=p.fabric||(p.fabric={}),m=a.Image.filters,v=a.util.createClass;m.Composed=v(m.BaseFilter,{type:"Composed",subFilters:[],initialize:function(o){this.callSuper("initialize",o),this.subFilters=this.subFilters.slice(0)},applyTo:function(o){o.passes+=this.subFilters.length-1,this.subFilters.forEach(function(c){c.applyTo(o)})},toObject:function(){return a.util.object.extend(this.callSuper("toObject"),{subFilters:this.subFilters.map(function(o){return o.toObject()})})},isNeutralState:function(){return!this.subFilters.some(function(o){return!o.isNeutralState()})}}),a.Image.filters.Composed.fromObject=function(o,c){var s=o.subFilters||[],g=s.map(function(h){return new a.Image.filters[h.type](h)}),x=new a.Image.filters.Composed({subFilters:g});return c&&c(x),x}}(M),function(p){var a=p.fabric||(p.fabric={}),m=a.Image.filters,v=a.util.createClass;m.HueRotation=v(m.ColorMatrix,{type:"HueRotation",rotation:0,mainParameter:"rotation",calculateMatrix:function(){var o=this.rotation*Math.PI,c=a.util.cos(o),s=a.util.sin(o),g=1/3,x=Math.sqrt(g)*s,h=1-c;this.matrix=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],this.matrix[0]=c+h/3,this.matrix[1]=g*h-x,this.matrix[2]=g*h+x,this.matrix[5]=g*h+x,this.matrix[6]=c+g*h,this.matrix[7]=g*h-x,this.matrix[10]=g*h-x,this.matrix[11]=g*h+x,this.matrix[12]=c+g*h},isNeutralState:function(o){return this.calculateMatrix(),m.BaseFilter.prototype.isNeutralState.call(this,o)},applyTo:function(o){this.calculateMatrix(),m.BaseFilter.prototype.applyTo.call(this,o)}}),a.Image.filters.HueRotation.fromObject=a.Image.filters.BaseFilter.fromObject}(M),function(p){var a=p.fabric||(p.fabric={}),m=a.util.object.clone;if(a.Text){a.warn("fabric.Text is already defined");return}var v="fontFamily fontWeight fontSize text underline overline linethrough textAlign fontStyle lineHeight textBackgroundColor charSpacing styles direction path pathStartOffset pathSide".split(" ");a.Text=a.util.createClass(a.Object,{_dimensionAffectingProps:["fontSize","fontWeight","fontFamily","fontStyle","lineHeight","text","charSpacing","textAlign","styles","path","pathStartOffset","pathSide"],_reNewline:/\r?\n/,_reSpacesAndTabs:/[ \t\r]/g,_reSpaceAndTab:/[ \t\r]/,_reWords:/\S+/g,type:"text",fontSize:40,fontWeight:"normal",fontFamily:"Times New Roman",underline:!1,overline:!1,linethrough:!1,textAlign:"left",fontStyle:"normal",lineHeight:1.16,superscript:{size:.6,baseline:-.35},subscript:{size:.6,baseline:.11},textBackgroundColor:"",stateProperties:a.Object.prototype.stateProperties.concat(v),cacheProperties:a.Object.prototype.cacheProperties.concat(v),stroke:null,shadow:null,path:null,pathStartOffset:0,pathSide:"left",_fontSizeFraction:.222,offsets:{underline:.1,linethrough:-.315,overline:-.88},_fontSizeMult:1.13,charSpacing:0,styles:null,_measuringContext:null,deltaY:0,direction:"ltr",_styleProperties:["stroke","strokeWidth","fill","fontFamily","fontSize","fontWeight","fontStyle","underline","overline","linethrough","deltaY","textBackgroundColor"],__charBounds:[],CACHE_FONT_SIZE:400,MIN_TEXT_WIDTH:2,initialize:function(o,c){this.styles=c?c.styles||{}:{},this.text=o,this.__skipDimension=!0,this.callSuper("initialize",c),this.path&&this.setPathInfo(),this.__skipDimension=!1,this.initDimensions(),this.setCoords(),this.setupState({propertySet:"_dimensionAffectingProps"})},setPathInfo:function(){var o=this.path;o&&(o.segmentsInfo=a.util.getPathSegmentsInfo(o.path))},getMeasuringContext:function(){return a._measuringContext||(a._measuringContext=this.canvas&&this.canvas.contextCache||a.util.createCanvasElement().getContext("2d")),a._measuringContext},_splitText:function(){var o=this._splitTextIntoLines(this.text);return this.textLines=o.lines,this._textLines=o.graphemeLines,this._unwrappedTextLines=o._unwrappedLines,this._text=o.graphemeText,o},initDimensions:function(){this.__skipDimension||(this._splitText(),this._clearCache(),this.path?(this.width=this.path.width,this.height=this.path.height):(this.width=this.calcTextWidth()||this.cursorWidth||this.MIN_TEXT_WIDTH,this.height=this.calcTextHeight()),this.textAlign.indexOf("justify")!==-1&&this.enlargeSpaces(),this.saveState({propertySet:"_dimensionAffectingProps"}))},enlargeSpaces:function(){for(var o,c,s,g,x,h,E,T=0,k=this._textLines.length;T<k;T++)if(!(this.textAlign!=="justify"&&(T===k-1||this.isEndOfWrapping(T)))&&(g=0,x=this._textLines[T],c=this.getLineWidth(T),c<this.width&&(E=this.textLines[T].match(this._reSpacesAndTabs)))){s=E.length,o=(this.width-c)/s;for(var L=0,F=x.length;L<=F;L++)h=this.__charBounds[T][L],this._reSpaceAndTab.test(x[L])?(h.width+=o,h.kernedWidth+=o,h.left+=g,g+=o):h.left+=g}},isEndOfWrapping:function(o){return o===this._textLines.length-1},missingNewlineOffset:function(){return 1},toString:function(){return"#<fabric.Text ("+this.complexity()+'): { "text": "'+this.text+'", "fontFamily": "'+this.fontFamily+'" }>'},_getCacheCanvasDimensions:function(){var o=this.callSuper("_getCacheCanvasDimensions"),c=this.fontSize;return o.width+=c*o.zoomX,o.height+=c*o.zoomY,o},_render:function(o){var c=this.path;c&&!c.isNotVisible()&&c._render(o),this._setTextStyles(o),this._renderTextLinesBackground(o),this._renderTextDecoration(o,"underline"),this._renderText(o),this._renderTextDecoration(o,"overline"),this._renderTextDecoration(o,"linethrough")},_renderText:function(o){this.paintFirst==="stroke"?(this._renderTextStroke(o),this._renderTextFill(o)):(this._renderTextFill(o),this._renderTextStroke(o))},_setTextStyles:function(o,c,s){o.textBaseline="alphabetic",o.font=this._getFontDeclaration(c,s)},calcTextWidth:function(){for(var o=this.getLineWidth(0),c=1,s=this._textLines.length;c<s;c++){var g=this.getLineWidth(c);g>o&&(o=g)}return o},_renderTextLine:function(o,c,s,g,x,h){this._renderChars(o,c,s,g,x,h)},_renderTextLinesBackground:function(o){if(!(!this.textBackgroundColor&&!this.styleHas("textBackgroundColor"))){for(var c,s,g=o.fillStyle,x,h,E=this._getLeftOffset(),T=this._getTopOffset(),k=0,L=0,F,U,G=this.path,Y,K=0,he=this._textLines.length;K<he;K++){if(c=this.getHeightOfLine(K),!this.textBackgroundColor&&!this.styleHas("textBackgroundColor",K)){T+=c;continue}x=this._textLines[K],s=this._getLineLeftOffset(K),L=0,k=0,h=this.getValueOfPropertyAt(K,0,"textBackgroundColor");for(var oe=0,ve=x.length;oe<ve;oe++)F=this.__charBounds[K][oe],U=this.getValueOfPropertyAt(K,oe,"textBackgroundColor"),G?(o.save(),o.translate(F.renderLeft,F.renderTop),o.rotate(F.angle),o.fillStyle=U,U&&o.fillRect(-F.width/2,-c/this.lineHeight*(1-this._fontSizeFraction),F.width,c/this.lineHeight),o.restore()):U!==h?(Y=E+s+k,this.direction==="rtl"&&(Y=this.width-Y-L),o.fillStyle=h,h&&o.fillRect(Y,T,L,c/this.lineHeight),k=F.left,L=F.width,h=U):L+=F.kernedWidth;U&&!G&&(Y=E+s+k,this.direction==="rtl"&&(Y=this.width-Y-L),o.fillStyle=U,o.fillRect(Y,T,L,c/this.lineHeight)),T+=c}o.fillStyle=g,this._removeShadow(o)}},getFontCache:function(o){var c=o.fontFamily.toLowerCase();a.charWidthsCache[c]||(a.charWidthsCache[c]={});var s=a.charWidthsCache[c],g=o.fontStyle.toLowerCase()+"_"+(o.fontWeight+"").toLowerCase();return s[g]||(s[g]={}),s[g]},_measureChar:function(o,c,s,g){var x=this.getFontCache(c),h=this._getFontDeclaration(c),E=this._getFontDeclaration(g),T=s+o,k=h===E,L,F,U,G=c.fontSize/this.CACHE_FONT_SIZE,Y;if(s&&x[s]!==void 0&&(U=x[s]),x[o]!==void 0&&(Y=L=x[o]),k&&x[T]!==void 0&&(F=x[T],Y=F-U),L===void 0||U===void 0||F===void 0){var K=this.getMeasuringContext();this._setTextStyles(K,c,!0)}return L===void 0&&(Y=L=K.measureText(o).width,x[o]=L),U===void 0&&k&&s&&(U=K.measureText(s).width,x[s]=U),k&&F===void 0&&(F=K.measureText(T).width,x[T]=F,Y=F-U),{width:L*G,kernedWidth:Y*G}},getHeightOfChar:function(o,c){return this.getValueOfPropertyAt(o,c,"fontSize")},measureLine:function(o){var c=this._measureLine(o);return this.charSpacing!==0&&(c.width-=this._getWidthOfCharSpacing()),c.width<0&&(c.width=0),c},_measureLine:function(o){var c=0,s,g,x=this._textLines[o],h,E,T=0,k=new Array(x.length),L=0,F,U,G=this.path,Y=this.pathSide==="right";for(this.__charBounds[o]=k,s=0;s<x.length;s++)g=x[s],E=this._getGraphemeBox(g,o,s,h),k[s]=E,c+=E.kernedWidth,h=g;if(k[s]={left:E?E.left+E.width:0,width:0,kernedWidth:0,height:this.fontSize},G){switch(U=G.segmentsInfo[G.segmentsInfo.length-1].length,F=a.util.getPointOnPath(G.path,0,G.segmentsInfo),F.x+=G.pathOffset.x,F.y+=G.pathOffset.y,this.textAlign){case"left":L=Y?U-c:0;break;case"center":L=(U-c)/2;break;case"right":L=Y?0:U-c;break}for(L+=this.pathStartOffset*(Y?-1:1),s=Y?x.length-1:0;Y?s>=0:s<x.length;Y?s--:s++)E=k[s],L>U?L%=U:L<0&&(L+=U),this._setGraphemeOnPath(L,E,F),L+=E.kernedWidth}return{width:c,numOfSpaces:T}},_setGraphemeOnPath:function(o,c,s){var g=o+c.kernedWidth/2,x=this.path,h=a.util.getPointOnPath(x.path,g,x.segmentsInfo);c.renderLeft=h.x-s.x,c.renderTop=h.y-s.y,c.angle=h.angle+(this.pathSide==="right"?Math.PI:0)},_getGraphemeBox:function(o,c,s,g,x){var h=this.getCompleteStyleDeclaration(c,s),E=g?this.getCompleteStyleDeclaration(c,s-1):{},T=this._measureChar(o,h,g,E),k=T.kernedWidth,L=T.width,F;this.charSpacing!==0&&(F=this._getWidthOfCharSpacing(),L+=F,k+=F);var U={width:L,left:0,height:h.fontSize,kernedWidth:k,deltaY:h.deltaY};if(s>0&&!x){var G=this.__charBounds[c][s-1];U.left=G.left+G.width+T.kernedWidth-T.width}return U},getHeightOfLine:function(o){if(this.__lineHeights[o])return this.__lineHeights[o];for(var c=this._textLines[o],s=this.getHeightOfChar(o,0),g=1,x=c.length;g<x;g++)s=Math.max(this.getHeightOfChar(o,g),s);return this.__lineHeights[o]=s*this.lineHeight*this._fontSizeMult},calcTextHeight:function(){for(var o,c=0,s=0,g=this._textLines.length;s<g;s++)o=this.getHeightOfLine(s),c+=s===g-1?o/this.lineHeight:o;return c},_getLeftOffset:function(){return this.direction==="ltr"?-this.width/2:this.width/2},_getTopOffset:function(){return-this.height/2},_renderTextCommon:function(o,c){o.save();for(var s=0,g=this._getLeftOffset(),x=this._getTopOffset(),h=0,E=this._textLines.length;h<E;h++){var T=this.getHeightOfLine(h),k=T/this.lineHeight,L=this._getLineLeftOffset(h);this._renderTextLine(c,o,this._textLines[h],g+L,x+s+k,h),s+=T}o.restore()},_renderTextFill:function(o){!this.fill&&!this.styleHas("fill")||this._renderTextCommon(o,"fillText")},_renderTextStroke:function(o){(!this.stroke||this.strokeWidth===0)&&this.isEmptyStyles()||(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(o),o.save(),this._setLineDash(o,this.strokeDashArray),o.beginPath(),this._renderTextCommon(o,"strokeText"),o.closePath(),o.restore())},_renderChars:function(o,c,s,g,x,h){var E=this.getHeightOfLine(h),T=this.textAlign.indexOf("justify")!==-1,k,L,F="",U,G=0,Y,K=this.path,he=!T&&this.charSpacing===0&&this.isEmptyStyles(h)&&!K,oe=this.direction==="ltr",ve=this.direction==="ltr"?1:-1,ee;if(c.save(),x-=E*this._fontSizeFraction/this.lineHeight,he){c.canvas.setAttribute("dir",oe?"ltr":"rtl"),c.direction=oe?"ltr":"rtl",c.textAlign=oe?"left":"right",this._renderChar(o,c,h,0,s.join(""),g,x,E),c.restore();return}for(var xe=0,Z=s.length-1;xe<=Z;xe++)Y=xe===Z||this.charSpacing||K,F+=s[xe],U=this.__charBounds[h][xe],G===0?(g+=ve*(U.kernedWidth-U.width),G+=U.width):G+=U.kernedWidth,T&&!Y&&this._reSpaceAndTab.test(s[xe])&&(Y=!0),Y||(k=k||this.getCompleteStyleDeclaration(h,xe),L=this.getCompleteStyleDeclaration(h,xe+1),Y=this._hasStyleChanged(k,L)),Y&&(K?(c.save(),c.translate(U.renderLeft,U.renderTop),c.rotate(U.angle),this._renderChar(o,c,h,xe,F,-G/2,0,E),c.restore()):(ee=g,c.canvas.setAttribute("dir",oe?"ltr":"rtl"),c.direction=oe?"ltr":"rtl",c.textAlign=oe?"left":"right",this._renderChar(o,c,h,xe,F,ee,x,E)),F="",k=L,g+=ve*G,G=0);c.restore()},_applyPatternGradientTransformText:function(o){var c=a.util.createCanvasElement(),s,g=this.width+this.strokeWidth,x=this.height+this.strokeWidth;return c.width=g,c.height=x,s=c.getContext("2d"),s.beginPath(),s.moveTo(0,0),s.lineTo(g,0),s.lineTo(g,x),s.lineTo(0,x),s.closePath(),s.translate(g/2,x/2),s.fillStyle=o.toLive(s),this._applyPatternGradientTransform(s,o),s.fill(),s.createPattern(c,"no-repeat")},handleFiller:function(o,c,s){var g,x;return s.toLive?s.gradientUnits==="percentage"||s.gradientTransform||s.patternTransform?(g=-this.width/2,x=-this.height/2,o.translate(g,x),o[c]=this._applyPatternGradientTransformText(s),{offsetX:g,offsetY:x}):(o[c]=s.toLive(o,this),this._applyPatternGradientTransform(o,s)):(o[c]=s,{offsetX:0,offsetY:0})},_setStrokeStyles:function(o,c){return o.lineWidth=c.strokeWidth,o.lineCap=this.strokeLineCap,o.lineDashOffset=this.strokeDashOffset,o.lineJoin=this.strokeLineJoin,o.miterLimit=this.strokeMiterLimit,this.handleFiller(o,"strokeStyle",c.stroke)},_setFillStyles:function(o,c){return this.handleFiller(o,"fillStyle",c.fill)},_renderChar:function(o,c,s,g,x,h,E){var T=this._getStyleDeclaration(s,g),k=this.getCompleteStyleDeclaration(s,g),L=o==="fillText"&&k.fill,F=o==="strokeText"&&k.stroke&&k.strokeWidth,U,G;!F&&!L||(c.save(),L&&(U=this._setFillStyles(c,k)),F&&(G=this._setStrokeStyles(c,k)),c.font=this._getFontDeclaration(k),T&&T.textBackgroundColor&&this._removeShadow(c),T&&T.deltaY&&(E+=T.deltaY),L&&c.fillText(x,h-U.offsetX,E-U.offsetY),F&&c.strokeText(x,h-G.offsetX,E-G.offsetY),c.restore())},setSuperscript:function(o,c){return this._setScript(o,c,this.superscript)},setSubscript:function(o,c){return this._setScript(o,c,this.subscript)},_setScript:function(o,c,s){var g=this.get2DCursorLocation(o,!0),x=this.getValueOfPropertyAt(g.lineIndex,g.charIndex,"fontSize"),h=this.getValueOfPropertyAt(g.lineIndex,g.charIndex,"deltaY"),E={fontSize:x*s.size,deltaY:h+x*s.baseline};return this.setSelectionStyles(E,o,c),this},_hasStyleChanged:function(o,c){return o.fill!==c.fill||o.stroke!==c.stroke||o.strokeWidth!==c.strokeWidth||o.fontSize!==c.fontSize||o.fontFamily!==c.fontFamily||o.fontWeight!==c.fontWeight||o.fontStyle!==c.fontStyle||o.deltaY!==c.deltaY},_hasStyleChangedForSvg:function(o,c){return this._hasStyleChanged(o,c)||o.overline!==c.overline||o.underline!==c.underline||o.linethrough!==c.linethrough},_getLineLeftOffset:function(o){var c=this.getLineWidth(o),s=this.width-c,g=this.textAlign,x=this.direction,E,h=0,E=this.isEndOfWrapping(o);return g==="justify"||g==="justify-center"&&!E||g==="justify-right"&&!E||g==="justify-left"&&!E?0:(g==="center"&&(h=s/2),g==="right"&&(h=s),g==="justify-center"&&(h=s/2),g==="justify-right"&&(h=s),x==="rtl"&&(h-=s),h)},_clearCache:function(){this.__lineWidths=[],this.__lineHeights=[],this.__charBounds=[]},_shouldClearDimensionCache:function(){var o=this._forceClearCache;return o||(o=this.hasStateChanged("_dimensionAffectingProps")),o&&(this.dirty=!0,this._forceClearCache=!1),o},getLineWidth:function(o){if(this.__lineWidths[o])return this.__lineWidths[o];var c,s=this._textLines[o],g;return s===""?c=0:(g=this.measureLine(o),c=g.width),this.__lineWidths[o]=c,c},_getWidthOfCharSpacing:function(){return this.charSpacing!==0?this.fontSize*this.charSpacing/1e3:0},getValueOfPropertyAt:function(o,c,s){var g=this._getStyleDeclaration(o,c);return g&&typeof g[s]<"u"?g[s]:this[s]},_renderTextDecoration:function(o,c){if(!(!this[c]&&!this.styleHas(c))){for(var s,g,x,h,E,T,k,L,F=this._getLeftOffset(),U=this._getTopOffset(),G,Y,K,he,oe,ve,ee,xe,Z=this.path,Be=this._getWidthOfCharSpacing(),we=this.offsets[c],ge=0,te=this._textLines.length;ge<te;ge++){if(s=this.getHeightOfLine(ge),!this[c]&&!this.styleHas(c,ge)){U+=s;continue}k=this._textLines[ge],ve=s/this.lineHeight,h=this._getLineLeftOffset(ge),Y=0,K=0,L=this.getValueOfPropertyAt(ge,0,c),xe=this.getValueOfPropertyAt(ge,0,"fill"),G=U+ve*(1-this._fontSizeFraction),g=this.getHeightOfChar(ge,0),E=this.getValueOfPropertyAt(ge,0,"deltaY");for(var ae=0,ne=k.length;ae<ne;ae++)if(he=this.__charBounds[ge][ae],oe=this.getValueOfPropertyAt(ge,ae,c),ee=this.getValueOfPropertyAt(ge,ae,"fill"),x=this.getHeightOfChar(ge,ae),T=this.getValueOfPropertyAt(ge,ae,"deltaY"),Z&&oe&&ee)o.save(),o.fillStyle=xe,o.translate(he.renderLeft,he.renderTop),o.rotate(he.angle),o.fillRect(-he.kernedWidth/2,we*x+T,he.kernedWidth,this.fontSize/15),o.restore();else if((oe!==L||ee!==xe||x!==g||T!==E)&&K>0){var re=F+h+Y;this.direction==="rtl"&&(re=this.width-re-K),L&&xe&&(o.fillStyle=xe,o.fillRect(re,G+we*g+E,K,this.fontSize/15)),Y=he.left,K=he.width,L=oe,xe=ee,g=x,E=T}else K+=he.kernedWidth;var re=F+h+Y;this.direction==="rtl"&&(re=this.width-re-K),o.fillStyle=ee,oe&&ee&&o.fillRect(re,G+we*g+E,K-Be,this.fontSize/15),U+=s}this._removeShadow(o)}},_getFontDeclaration:function(o,c){var s=o||this,g=this.fontFamily,x=a.Text.genericFonts.indexOf(g.toLowerCase())>-1,h=g===void 0||g.indexOf("'")>-1||g.indexOf(",")>-1||g.indexOf('"')>-1||x?s.fontFamily:'"'+s.fontFamily+'"';return[a.isLikelyNode?s.fontWeight:s.fontStyle,a.isLikelyNode?s.fontStyle:s.fontWeight,c?this.CACHE_FONT_SIZE+"px":s.fontSize+"px",h].join(" ")},render:function(o){this.visible&&(this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(this._shouldClearDimensionCache()&&this.initDimensions(),this.callSuper("render",o)))},_splitTextIntoLines:function(o){for(var c=o.split(this._reNewline),s=new Array(c.length),g=[`
`],x=[],h=0;h<c.length;h++)s[h]=a.util.string.graphemeSplit(c[h]),x=x.concat(s[h],g);return x.pop(),{_unwrappedLines:s,lines:c,graphemeText:x,graphemeLines:s}},toObject:function(o){var c=v.concat(o),s=this.callSuper("toObject",c);return s.styles=m(this.styles,!0),s.path&&(s.path=this.path.toObject()),s},set:function(o,c){this.callSuper("set",o,c);var s=!1,g=!1;if(typeof o=="object")for(var x in o)x==="path"&&this.setPathInfo(),s=s||this._dimensionAffectingProps.indexOf(x)!==-1,g=g||x==="path";else s=this._dimensionAffectingProps.indexOf(o)!==-1,g=o==="path";return g&&this.setPathInfo(),s&&(this.initDimensions(),this.setCoords()),this},complexity:function(){return 1}}),a.Text.ATTRIBUTE_NAMES=a.SHARED_ATTRIBUTES.concat("x y dx dy font-family font-style font-weight font-size letter-spacing text-decoration text-anchor".split(" ")),a.Text.DEFAULT_SVG_FONT_SIZE=16,a.Text.fromElement=function(o,c,s){if(!o)return c(null);var g=a.parseAttributes(o,a.Text.ATTRIBUTE_NAMES),x=g.textAnchor||"left";if(s=a.util.object.extend(s?m(s):{},g),s.top=s.top||0,s.left=s.left||0,g.textDecoration){var h=g.textDecoration;h.indexOf("underline")!==-1&&(s.underline=!0),h.indexOf("overline")!==-1&&(s.overline=!0),h.indexOf("line-through")!==-1&&(s.linethrough=!0),delete s.textDecoration}"dx"in g&&(s.left+=g.dx),"dy"in g&&(s.top+=g.dy),"fontSize"in s||(s.fontSize=a.Text.DEFAULT_SVG_FONT_SIZE);var E="";"textContent"in o?E=o.textContent:"firstChild"in o&&o.firstChild!==null&&"data"in o.firstChild&&o.firstChild.data!==null&&(E=o.firstChild.data),E=E.replace(/^\s+|\s+$|\n+/g,"").replace(/\s+/g," ");var T=s.strokeWidth;s.strokeWidth=0;var k=new a.Text(E,s),L=k.getScaledHeight()/k.height,F=(k.height+k.strokeWidth)*k.lineHeight-k.height,U=F*L,G=k.getScaledHeight()+U,Y=0;x==="center"&&(Y=k.getScaledWidth()/2),x==="right"&&(Y=k.getScaledWidth()),k.set({left:k.left-Y,top:k.top-(G-k.fontSize*(.07+k._fontSizeFraction))/k.lineHeight,strokeWidth:typeof T<"u"?T:1}),c(k)},a.Text.fromObject=function(o,c){var s=m(o),g=o.path;return delete s.path,a.Object._fromObject("Text",s,function(x){g?a.Object._fromObject("Path",g,function(h){x.set("path",h),c(x)},"path"):c(x)},"text")},a.Text.genericFonts=["sans-serif","serif","cursive","fantasy","monospace"],a.util.createAccessors&&a.util.createAccessors(a.Text)}(M),function(){r.util.object.extend(r.Text.prototype,{isEmptyStyles:function(p){if(!this.styles||typeof p<"u"&&!this.styles[p])return!0;var a=typeof p>"u"?this.styles:{line:this.styles[p]};for(var m in a)for(var v in a[m])for(var o in a[m][v])return!1;return!0},styleHas:function(p,a){if(!this.styles||!p||p===""||typeof a<"u"&&!this.styles[a])return!1;var m=typeof a>"u"?this.styles:{0:this.styles[a]};for(var v in m)for(var o in m[v])if(typeof m[v][o][p]<"u")return!0;return!1},cleanStyle:function(p){if(!this.styles||!p||p==="")return!1;var a=this.styles,m=0,v,o,c=!0,s=0,g;for(var x in a){v=0;for(var h in a[x]){var g=a[x][h],E=g.hasOwnProperty(p);m++,E?(o?g[p]!==o&&(c=!1):o=g[p],g[p]===this[p]&&delete g[p]):c=!1,Object.keys(g).length!==0?v++:delete a[x][h]}v===0&&delete a[x]}for(var T=0;T<this._textLines.length;T++)s+=this._textLines[T].length;c&&m===s&&(this[p]=o,this.removeStyle(p))},removeStyle:function(p){if(!(!this.styles||!p||p==="")){var a=this.styles,m,v,o;for(v in a){m=a[v];for(o in m)delete m[o][p],Object.keys(m[o]).length===0&&delete m[o];Object.keys(m).length===0&&delete a[v]}}},_extendStyles:function(p,a){var m=this.get2DCursorLocation(p);this._getLineStyle(m.lineIndex)||this._setLineStyle(m.lineIndex),this._getStyleDeclaration(m.lineIndex,m.charIndex)||this._setStyleDeclaration(m.lineIndex,m.charIndex,{}),r.util.object.extend(this._getStyleDeclaration(m.lineIndex,m.charIndex),a)},get2DCursorLocation:function(p,a){typeof p>"u"&&(p=this.selectionStart);for(var m=a?this._unwrappedTextLines:this._textLines,v=m.length,o=0;o<v;o++){if(p<=m[o].length)return{lineIndex:o,charIndex:p};p-=m[o].length+this.missingNewlineOffset(o)}return{lineIndex:o-1,charIndex:m[o-1].length<p?m[o-1].length:p}},getSelectionStyles:function(p,a,m){typeof p>"u"&&(p=this.selectionStart||0),typeof a>"u"&&(a=this.selectionEnd||p);for(var v=[],o=p;o<a;o++)v.push(this.getStyleAtPosition(o,m));return v},getStyleAtPosition:function(p,a){var m=this.get2DCursorLocation(p),v=a?this.getCompleteStyleDeclaration(m.lineIndex,m.charIndex):this._getStyleDeclaration(m.lineIndex,m.charIndex);return v||{}},setSelectionStyles:function(p,a,m){typeof a>"u"&&(a=this.selectionStart||0),typeof m>"u"&&(m=this.selectionEnd||a);for(var v=a;v<m;v++)this._extendStyles(v,p);return this._forceClearCache=!0,this},_getStyleDeclaration:function(p,a){var m=this.styles&&this.styles[p];return m?m[a]:null},getCompleteStyleDeclaration:function(p,a){for(var m=this._getStyleDeclaration(p,a)||{},v={},o,c=0;c<this._styleProperties.length;c++)o=this._styleProperties[c],v[o]=typeof m[o]>"u"?this[o]:m[o];return v},_setStyleDeclaration:function(p,a,m){this.styles[p][a]=m},_deleteStyleDeclaration:function(p,a){delete this.styles[p][a]},_getLineStyle:function(p){return!!this.styles[p]},_setLineStyle:function(p){this.styles[p]={}},_deleteLineStyle:function(p){delete this.styles[p]}})}(),function(){function p(a){a.textDecoration&&(a.textDecoration.indexOf("underline")>-1&&(a.underline=!0),a.textDecoration.indexOf("line-through")>-1&&(a.linethrough=!0),a.textDecoration.indexOf("overline")>-1&&(a.overline=!0),delete a.textDecoration)}r.IText=r.util.createClass(r.Text,r.Observable,{type:"i-text",selectionStart:0,selectionEnd:0,selectionColor:"rgba(17,119,255,0.3)",isEditing:!1,editable:!0,editingBorderColor:"rgba(102,153,255,0.25)",cursorWidth:2,cursorColor:"",cursorDelay:1e3,cursorDuration:600,caching:!0,hiddenTextareaContainer:null,_reSpace:/\s|\n/,_currentCursorOpacity:0,_selectionDirection:null,_abortCursorAnimation:!1,__widthOfSpace:[],inCompositionMode:!1,initialize:function(a,m){this.callSuper("initialize",a,m),this.initBehavior()},setSelectionStart:function(a){a=Math.max(a,0),this._updateAndFire("selectionStart",a)},setSelectionEnd:function(a){a=Math.min(a,this.text.length),this._updateAndFire("selectionEnd",a)},_updateAndFire:function(a,m){this[a]!==m&&(this._fireSelectionChanged(),this[a]=m),this._updateTextarea()},_fireSelectionChanged:function(){this.fire("selection:changed"),this.canvas&&this.canvas.fire("text:selection:changed",{target:this})},initDimensions:function(){this.isEditing&&this.initDelayedCursor(),this.clearContextTop(),this.callSuper("initDimensions")},render:function(a){this.clearContextTop(),this.callSuper("render",a),this.cursorOffsetCache={},this.renderCursorOrSelection()},_render:function(a){this.callSuper("_render",a)},clearContextTop:function(a){if(!(!this.isEditing||!this.canvas||!this.canvas.contextTop)){var m=this.canvas.contextTop,v=this.canvas.viewportTransform;m.save(),m.transform(v[0],v[1],v[2],v[3],v[4],v[5]),this.transform(m),this._clearTextArea(m),a||m.restore()}},renderCursorOrSelection:function(){if(!(!this.isEditing||!this.canvas||!this.canvas.contextTop)){var a=this._getCursorBoundaries(),m=this.canvas.contextTop;this.clearContextTop(!0),this.selectionStart===this.selectionEnd?this.renderCursor(a,m):this.renderSelection(a,m),m.restore()}},_clearTextArea:function(a){var m=this.width+4,v=this.height+4;a.clearRect(-m/2,-v/2,m,v)},_getCursorBoundaries:function(a){typeof a>"u"&&(a=this.selectionStart);var m=this._getLeftOffset(),v=this._getTopOffset(),o=this._getCursorBoundariesOffsets(a);return{left:m,top:v,leftOffset:o.left,topOffset:o.top}},_getCursorBoundariesOffsets:function(a){if(this.cursorOffsetCache&&"top"in this.cursorOffsetCache)return this.cursorOffsetCache;var m,v,o,c=0,s=0,g,x=this.get2DCursorLocation(a);o=x.charIndex,v=x.lineIndex;for(var h=0;h<v;h++)c+=this.getHeightOfLine(h);m=this._getLineLeftOffset(v);var E=this.__charBounds[v][o];return E&&(s=E.left),this.charSpacing!==0&&o===this._textLines[v].length&&(s-=this._getWidthOfCharSpacing()),g={top:c,left:m+(s>0?s:0)},this.direction==="rtl"&&(g.left*=-1),this.cursorOffsetCache=g,this.cursorOffsetCache},renderCursor:function(a,m){var v=this.get2DCursorLocation(),o=v.lineIndex,c=v.charIndex>0?v.charIndex-1:0,s=this.getValueOfPropertyAt(o,c,"fontSize"),g=this.scaleX*this.canvas.getZoom(),x=this.cursorWidth/g,h=a.topOffset,E=this.getValueOfPropertyAt(o,c,"deltaY");h+=(1-this._fontSizeFraction)*this.getHeightOfLine(o)/this.lineHeight-s*(1-this._fontSizeFraction),this.inCompositionMode&&this.renderSelection(a,m),m.fillStyle=this.cursorColor||this.getValueOfPropertyAt(o,c,"fill"),m.globalAlpha=this.__isMousedown?1:this._currentCursorOpacity,m.fillRect(a.left+a.leftOffset-x/2,h+a.top+E,x,s)},renderSelection:function(a,m){for(var v=this.inCompositionMode?this.hiddenTextarea.selectionStart:this.selectionStart,o=this.inCompositionMode?this.hiddenTextarea.selectionEnd:this.selectionEnd,c=this.textAlign.indexOf("justify")!==-1,s=this.get2DCursorLocation(v),g=this.get2DCursorLocation(o),x=s.lineIndex,h=g.lineIndex,E=s.charIndex<0?0:s.charIndex,T=g.charIndex<0?0:g.charIndex,k=x;k<=h;k++){var L=this._getLineLeftOffset(k)||0,F=this.getHeightOfLine(k),U=0,G=0,Y=0;if(k===x&&(G=this.__charBounds[x][E].left),k>=x&&k<h)Y=c&&!this.isEndOfWrapping(k)?this.width:this.getLineWidth(k)||5;else if(k===h)if(T===0)Y=this.__charBounds[h][T].left;else{var K=this._getWidthOfCharSpacing();Y=this.__charBounds[h][T-1].left+this.__charBounds[h][T-1].width-K}U=F,(this.lineHeight<1||k===h&&this.lineHeight>1)&&(F/=this.lineHeight);var he=a.left+L+G,oe=Y-G,ve=F,ee=0;this.inCompositionMode?(m.fillStyle=this.compositionColor||"black",ve=1,ee=F):m.fillStyle=this.selectionColor,this.direction==="rtl"&&(he=this.width-he-oe),m.fillRect(he,a.top+a.topOffset+ee,oe,ve),a.topOffset+=U}},getCurrentCharFontSize:function(){var a=this._getCurrentCharIndex();return this.getValueOfPropertyAt(a.l,a.c,"fontSize")},getCurrentCharColor:function(){var a=this._getCurrentCharIndex();return this.getValueOfPropertyAt(a.l,a.c,"fill")},_getCurrentCharIndex:function(){var a=this.get2DCursorLocation(this.selectionStart,!0),m=a.charIndex>0?a.charIndex-1:0;return{l:a.lineIndex,c:m}}}),r.IText.fromObject=function(a,m){if(p(a),a.styles)for(var v in a.styles)for(var o in a.styles[v])p(a.styles[v][o]);r.Object._fromObject("IText",a,m,"text")}}(),function(){var p=r.util.object.clone;r.util.object.extend(r.IText.prototype,{initBehavior:function(){this.initAddedHandler(),this.initRemovedHandler(),this.initCursorSelectionHandlers(),this.initDoubleClickSimulation(),this.mouseMoveHandler=this.mouseMoveHandler.bind(this)},onDeselect:function(){this.isEditing&&this.exitEditing(),this.selected=!1},initAddedHandler:function(){var a=this;this.on("added",function(){var m=a.canvas;m&&(m._hasITextHandlers||(m._hasITextHandlers=!0,a._initCanvasHandlers(m)),m._iTextInstances=m._iTextInstances||[],m._iTextInstances.push(a))})},initRemovedHandler:function(){var a=this;this.on("removed",function(){var m=a.canvas;m&&(m._iTextInstances=m._iTextInstances||[],r.util.removeFromArray(m._iTextInstances,a),m._iTextInstances.length===0&&(m._hasITextHandlers=!1,a._removeCanvasHandlers(m)))})},_initCanvasHandlers:function(a){a._mouseUpITextHandler=function(){a._iTextInstances&&a._iTextInstances.forEach(function(m){m.__isMousedown=!1})},a.on("mouse:up",a._mouseUpITextHandler)},_removeCanvasHandlers:function(a){a.off("mouse:up",a._mouseUpITextHandler)},_tick:function(){this._currentTickState=this._animateCursor(this,1,this.cursorDuration,"_onTickComplete")},_animateCursor:function(a,m,v,o){var c;return c={isAborted:!1,abort:function(){this.isAborted=!0}},a.animate("_currentCursorOpacity",m,{duration:v,onComplete:function(){c.isAborted||a[o]()},onChange:function(){a.canvas&&a.selectionStart===a.selectionEnd&&a.renderCursorOrSelection()},abort:function(){return c.isAborted}}),c},_onTickComplete:function(){var a=this;this._cursorTimeout1&&clearTimeout(this._cursorTimeout1),this._cursorTimeout1=setTimeout(function(){a._currentTickCompleteState=a._animateCursor(a,0,this.cursorDuration/2,"_tick")},100)},initDelayedCursor:function(a){var m=this,v=a?0:this.cursorDelay;this.abortCursorAnimation(),this._currentCursorOpacity=1,this._cursorTimeout2=setTimeout(function(){m._tick()},v)},abortCursorAnimation:function(){var a=this._currentTickState||this._currentTickCompleteState,m=this.canvas;this._currentTickState&&this._currentTickState.abort(),this._currentTickCompleteState&&this._currentTickCompleteState.abort(),clearTimeout(this._cursorTimeout1),clearTimeout(this._cursorTimeout2),this._currentCursorOpacity=0,a&&m&&m.clearContext(m.contextTop||m.contextContainer)},selectAll:function(){return this.selectionStart=0,this.selectionEnd=this._text.length,this._fireSelectionChanged(),this._updateTextarea(),this},getSelectedText:function(){return this._text.slice(this.selectionStart,this.selectionEnd).join("")},findWordBoundaryLeft:function(a){var m=0,v=a-1;if(this._reSpace.test(this._text[v]))for(;this._reSpace.test(this._text[v]);)m++,v--;for(;/\S/.test(this._text[v])&&v>-1;)m++,v--;return a-m},findWordBoundaryRight:function(a){var m=0,v=a;if(this._reSpace.test(this._text[v]))for(;this._reSpace.test(this._text[v]);)m++,v++;for(;/\S/.test(this._text[v])&&v<this._text.length;)m++,v++;return a+m},findLineBoundaryLeft:function(a){for(var m=0,v=a-1;!/\n/.test(this._text[v])&&v>-1;)m++,v--;return a-m},findLineBoundaryRight:function(a){for(var m=0,v=a;!/\n/.test(this._text[v])&&v<this._text.length;)m++,v++;return a+m},searchWordBoundary:function(a,m){for(var v=this._text,o=this._reSpace.test(v[a])?a-1:a,c=v[o],s=r.reNonWord;!s.test(c)&&o>0&&o<v.length;)o+=m,c=v[o];return s.test(c)&&(o+=m===1?0:1),o},selectWord:function(a){a=a||this.selectionStart;var m=this.searchWordBoundary(a,-1),v=this.searchWordBoundary(a,1);this.selectionStart=m,this.selectionEnd=v,this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()},selectLine:function(a){a=a||this.selectionStart;var m=this.findLineBoundaryLeft(a),v=this.findLineBoundaryRight(a);return this.selectionStart=m,this.selectionEnd=v,this._fireSelectionChanged(),this._updateTextarea(),this},enterEditing:function(a){if(!(this.isEditing||!this.editable))return this.canvas&&(this.canvas.calcOffset(),this.exitEditingOnOthers(this.canvas)),this.isEditing=!0,this.initHiddenTextarea(a),this.hiddenTextarea.focus(),this.hiddenTextarea.value=this.text,this._updateTextarea(),this._saveEditingProps(),this._setEditingProps(),this._textBeforeEdit=this.text,this._tick(),this.fire("editing:entered"),this._fireSelectionChanged(),this.canvas?(this.canvas.fire("text:editing:entered",{target:this}),this.initMouseMoveHandler(),this.canvas.requestRenderAll(),this):this},exitEditingOnOthers:function(a){a._iTextInstances&&a._iTextInstances.forEach(function(m){m.selected=!1,m.isEditing&&m.exitEditing()})},initMouseMoveHandler:function(){this.canvas.on("mouse:move",this.mouseMoveHandler)},mouseMoveHandler:function(a){if(!(!this.__isMousedown||!this.isEditing)){var m=this.getSelectionStartFromPointer(a.e),v=this.selectionStart,o=this.selectionEnd;(m!==this.__selectionStartOnMouseDown||v===o)&&(v===m||o===m)||(m>this.__selectionStartOnMouseDown?(this.selectionStart=this.__selectionStartOnMouseDown,this.selectionEnd=m):(this.selectionStart=m,this.selectionEnd=this.__selectionStartOnMouseDown),(this.selectionStart!==v||this.selectionEnd!==o)&&(this.restartCursorIfNeeded(),this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()))}},_setEditingProps:function(){this.hoverCursor="text",this.canvas&&(this.canvas.defaultCursor=this.canvas.moveCursor="text"),this.borderColor=this.editingBorderColor,this.hasControls=this.selectable=!1,this.lockMovementX=this.lockMovementY=!0},fromStringToGraphemeSelection:function(a,m,v){var o=v.slice(0,a),c=r.util.string.graphemeSplit(o).length;if(a===m)return{selectionStart:c,selectionEnd:c};var s=v.slice(a,m),g=r.util.string.graphemeSplit(s).length;return{selectionStart:c,selectionEnd:c+g}},fromGraphemeToStringSelection:function(a,m,v){var o=v.slice(0,a),c=o.join("").length;if(a===m)return{selectionStart:c,selectionEnd:c};var s=v.slice(a,m),g=s.join("").length;return{selectionStart:c,selectionEnd:c+g}},_updateTextarea:function(){if(this.cursorOffsetCache={},!!this.hiddenTextarea){if(!this.inCompositionMode){var a=this.fromGraphemeToStringSelection(this.selectionStart,this.selectionEnd,this._text);this.hiddenTextarea.selectionStart=a.selectionStart,this.hiddenTextarea.selectionEnd=a.selectionEnd}this.updateTextareaPosition()}},updateFromTextArea:function(){if(this.hiddenTextarea){this.cursorOffsetCache={},this.text=this.hiddenTextarea.value,this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords());var a=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value);this.selectionEnd=this.selectionStart=a.selectionEnd,this.inCompositionMode||(this.selectionStart=a.selectionStart),this.updateTextareaPosition()}},updateTextareaPosition:function(){if(this.selectionStart===this.selectionEnd){var a=this._calcTextareaPosition();this.hiddenTextarea.style.left=a.left,this.hiddenTextarea.style.top=a.top}},_calcTextareaPosition:function(){if(!this.canvas)return{x:1,y:1};var a=this.inCompositionMode?this.compositionStart:this.selectionStart,m=this._getCursorBoundaries(a),v=this.get2DCursorLocation(a),o=v.lineIndex,c=v.charIndex,s=this.getValueOfPropertyAt(o,c,"fontSize")*this.lineHeight,g=m.leftOffset,x=this.calcTransformMatrix(),h={x:m.left+g,y:m.top+m.topOffset+s},E=this.canvas.getRetinaScaling(),T=this.canvas.upperCanvasEl,k=T.width/E,L=T.height/E,F=k-s,U=L-s,G=T.clientWidth/k,Y=T.clientHeight/L;return h=r.util.transformPoint(h,x),h=r.util.transformPoint(h,this.canvas.viewportTransform),h.x*=G,h.y*=Y,h.x<0&&(h.x=0),h.x>F&&(h.x=F),h.y<0&&(h.y=0),h.y>U&&(h.y=U),h.x+=this.canvas._offset.left,h.y+=this.canvas._offset.top,{left:h.x+"px",top:h.y+"px",fontSize:s+"px",charHeight:s}},_saveEditingProps:function(){this._savedProps={hasControls:this.hasControls,borderColor:this.borderColor,lockMovementX:this.lockMovementX,lockMovementY:this.lockMovementY,hoverCursor:this.hoverCursor,selectable:this.selectable,defaultCursor:this.canvas&&this.canvas.defaultCursor,moveCursor:this.canvas&&this.canvas.moveCursor}},_restoreEditingProps:function(){this._savedProps&&(this.hoverCursor=this._savedProps.hoverCursor,this.hasControls=this._savedProps.hasControls,this.borderColor=this._savedProps.borderColor,this.selectable=this._savedProps.selectable,this.lockMovementX=this._savedProps.lockMovementX,this.lockMovementY=this._savedProps.lockMovementY,this.canvas&&(this.canvas.defaultCursor=this._savedProps.defaultCursor,this.canvas.moveCursor=this._savedProps.moveCursor))},exitEditing:function(){var a=this._textBeforeEdit!==this.text,m=this.hiddenTextarea;return this.selected=!1,this.isEditing=!1,this.selectionEnd=this.selectionStart,m&&(m.blur&&m.blur(),m.parentNode&&m.parentNode.removeChild(m)),this.hiddenTextarea=null,this.abortCursorAnimation(),this._restoreEditingProps(),this._currentCursorOpacity=0,this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this.fire("editing:exited"),a&&this.fire("modified"),this.canvas&&(this.canvas.off("mouse:move",this.mouseMoveHandler),this.canvas.fire("text:editing:exited",{target:this}),a&&this.canvas.fire("object:modified",{target:this})),this},_removeExtraneousStyles:function(){for(var a in this.styles)this._textLines[a]||delete this.styles[a]},removeStyleFromTo:function(a,m){var v=this.get2DCursorLocation(a,!0),o=this.get2DCursorLocation(m,!0),c=v.lineIndex,s=v.charIndex,g=o.lineIndex,x=o.charIndex,h,E;if(c!==g){if(this.styles[c])for(h=s;h<this._unwrappedTextLines[c].length;h++)delete this.styles[c][h];if(this.styles[g])for(h=x;h<this._unwrappedTextLines[g].length;h++)E=this.styles[g][h],E&&(this.styles[c]||(this.styles[c]={}),this.styles[c][s+h-x]=E);for(h=c+1;h<=g;h++)delete this.styles[h];this.shiftLineStyles(g,c-g)}else if(this.styles[c]){E=this.styles[c];var T=x-s,k,L;for(h=s;h<x;h++)delete E[h];for(L in this.styles[c])k=parseInt(L,10),k>=x&&(E[k-T]=E[L],delete E[L])}},shiftLineStyles:function(a,m){var v=p(this.styles);for(var o in this.styles){var c=parseInt(o,10);c>a&&(this.styles[c+m]=v[c],v[c-m]||delete this.styles[c])}},restartCursorIfNeeded:function(){(!this._currentTickState||this._currentTickState.isAborted||!this._currentTickCompleteState||this._currentTickCompleteState.isAborted)&&this.initDelayedCursor()},insertNewlineStyleObject:function(a,m,v,o){var c,s={},g=!1,x=this._unwrappedTextLines[a].length===m;v||(v=1),this.shiftLineStyles(a,v),this.styles[a]&&(c=this.styles[a][m===0?m:m-1]);for(var h in this.styles[a]){var E=parseInt(h,10);E>=m&&(g=!0,s[E-m]=this.styles[a][h],x&&m===0||delete this.styles[a][h])}var T=!1;for(g&&!x&&(this.styles[a+v]=s,T=!0),T&&v--;v>0;)o&&o[v-1]?this.styles[a+v]={0:p(o[v-1])}:c?this.styles[a+v]={0:p(c)}:delete this.styles[a+v],v--;this._forceClearCache=!0},insertCharStyleObject:function(a,m,v,o){this.styles||(this.styles={});var c=this.styles[a],s=c?p(c):{};v||(v=1);for(var g in s){var x=parseInt(g,10);x>=m&&(c[x+v]=s[x],s[x-v]||delete c[x])}if(this._forceClearCache=!0,o){for(;v--;)Object.keys(o[v]).length&&(this.styles[a]||(this.styles[a]={}),this.styles[a][m+v]=p(o[v]));return}if(c)for(var h=c[m?m-1:1];h&&v--;)this.styles[a][m+v]=p(h)},insertNewStyleBlock:function(a,m,v){for(var o=this.get2DCursorLocation(m,!0),c=[0],s=0,g=0;g<a.length;g++)a[g]===`
`?(s++,c[s]=0):c[s]++;c[0]>0&&(this.insertCharStyleObject(o.lineIndex,o.charIndex,c[0],v),v=v&&v.slice(c[0]+1)),s&&this.insertNewlineStyleObject(o.lineIndex,o.charIndex+c[0],s);for(var g=1;g<s;g++)c[g]>0?this.insertCharStyleObject(o.lineIndex+g,0,c[g],v):v&&(this.styles[o.lineIndex+g][0]=v[0]),v=v&&v.slice(c[g]+1);c[g]>0&&this.insertCharStyleObject(o.lineIndex+g,0,c[g],v)},setSelectionStartEndWithShift:function(a,m,v){v<=a?(m===a?this._selectionDirection="left":this._selectionDirection==="right"&&(this._selectionDirection="left",this.selectionEnd=a),this.selectionStart=v):v>a&&v<m?this._selectionDirection==="right"?this.selectionEnd=v:this.selectionStart=v:(m===a?this._selectionDirection="right":this._selectionDirection==="left"&&(this._selectionDirection="right",this.selectionStart=m),this.selectionEnd=v)},setSelectionInBoundaries:function(){var a=this.text.length;this.selectionStart>a?this.selectionStart=a:this.selectionStart<0&&(this.selectionStart=0),this.selectionEnd>a?this.selectionEnd=a:this.selectionEnd<0&&(this.selectionEnd=0)}})}(),r.util.object.extend(r.IText.prototype,{initDoubleClickSimulation:function(){this.__lastClickTime=+new Date,this.__lastLastClickTime=+new Date,this.__lastPointer={},this.on("mousedown",this.onMouseDown)},onMouseDown:function(p){if(this.canvas){this.__newClickTime=+new Date;var a=p.pointer;this.isTripleClick(a)&&(this.fire("tripleclick",p),this._stopEvent(p.e)),this.__lastLastClickTime=this.__lastClickTime,this.__lastClickTime=this.__newClickTime,this.__lastPointer=a,this.__lastIsEditing=this.isEditing,this.__lastSelected=this.selected}},isTripleClick:function(p){return this.__newClickTime-this.__lastClickTime<500&&this.__lastClickTime-this.__lastLastClickTime<500&&this.__lastPointer.x===p.x&&this.__lastPointer.y===p.y},_stopEvent:function(p){p.preventDefault&&p.preventDefault(),p.stopPropagation&&p.stopPropagation()},initCursorSelectionHandlers:function(){this.initMousedownHandler(),this.initMouseupHandler(),this.initClicks()},doubleClickHandler:function(p){this.isEditing&&this.selectWord(this.getSelectionStartFromPointer(p.e))},tripleClickHandler:function(p){this.isEditing&&this.selectLine(this.getSelectionStartFromPointer(p.e))},initClicks:function(){this.on("mousedblclick",this.doubleClickHandler),this.on("tripleclick",this.tripleClickHandler)},_mouseDownHandler:function(p){!this.canvas||!this.editable||p.e.button&&p.e.button!==1||(this.__isMousedown=!0,this.selected&&(this.inCompositionMode=!1,this.setCursorByClick(p.e)),this.isEditing&&(this.__selectionStartOnMouseDown=this.selectionStart,this.selectionStart===this.selectionEnd&&this.abortCursorAnimation(),this.renderCursorOrSelection()))},_mouseDownHandlerBefore:function(p){!this.canvas||!this.editable||p.e.button&&p.e.button!==1||(this.selected=this===this.canvas._activeObject)},initMousedownHandler:function(){this.on("mousedown",this._mouseDownHandler),this.on("mousedown:before",this._mouseDownHandlerBefore)},initMouseupHandler:function(){this.on("mouseup",this.mouseUpHandler)},mouseUpHandler:function(p){if(this.__isMousedown=!1,!(!this.editable||this.group||p.transform&&p.transform.actionPerformed||p.e.button&&p.e.button!==1)){if(this.canvas){var a=this.canvas._activeObject;if(a&&a!==this)return}this.__lastSelected&&!this.__corner?(this.selected=!1,this.__lastSelected=!1,this.enterEditing(p.e),this.selectionStart===this.selectionEnd?this.initDelayedCursor(!0):this.renderCursorOrSelection()):this.selected=!0}},setCursorByClick:function(p){var a=this.getSelectionStartFromPointer(p),m=this.selectionStart,v=this.selectionEnd;p.shiftKey?this.setSelectionStartEndWithShift(m,v,a):(this.selectionStart=a,this.selectionEnd=a),this.isEditing&&(this._fireSelectionChanged(),this._updateTextarea())},getSelectionStartFromPointer:function(p){for(var a=this.getLocalPointer(p),m=0,v=0,o=0,c=0,s=0,g,x,h=0,E=this._textLines.length;h<E&&o<=a.y;h++)o+=this.getHeightOfLine(h)*this.scaleY,s=h,h>0&&(c+=this._textLines[h-1].length+this.missingNewlineOffset(h-1));g=this._getLineLeftOffset(s),v=g*this.scaleX,x=this._textLines[s],this.direction==="rtl"&&(a.x=this.width*this.scaleX-a.x+v);for(var T=0,k=x.length;T<k&&(m=v,v+=this.__charBounds[s][T].kernedWidth*this.scaleX,v<=a.x);T++)c++;return this._getNewSelectionStartFromOffset(a,m,v,c,k)},_getNewSelectionStartFromOffset:function(p,a,m,v,o){var c=p.x-a,s=m-p.x,g=s>c||s<0?0:1,x=v+g;return this.flipX&&(x=o-x),x>this._text.length&&(x=this._text.length),x}}),r.util.object.extend(r.IText.prototype,{initHiddenTextarea:function(){this.hiddenTextarea=r.document.createElement("textarea"),this.hiddenTextarea.setAttribute("autocapitalize","off"),this.hiddenTextarea.setAttribute("autocorrect","off"),this.hiddenTextarea.setAttribute("autocomplete","off"),this.hiddenTextarea.setAttribute("spellcheck","false"),this.hiddenTextarea.setAttribute("data-fabric-hiddentextarea",""),this.hiddenTextarea.setAttribute("wrap","off");var p=this._calcTextareaPosition();this.hiddenTextarea.style.cssText="position: absolute; top: "+p.top+"; left: "+p.left+"; z-index: -999; opacity: 0; width: 1px; height: 1px; font-size: 1px; paddingtop: "+p.fontSize+";",this.hiddenTextareaContainer?this.hiddenTextareaContainer.appendChild(this.hiddenTextarea):r.document.body.appendChild(this.hiddenTextarea),r.util.addListener(this.hiddenTextarea,"keydown",this.onKeyDown.bind(this)),r.util.addListener(this.hiddenTextarea,"keyup",this.onKeyUp.bind(this)),r.util.addListener(this.hiddenTextarea,"input",this.onInput.bind(this)),r.util.addListener(this.hiddenTextarea,"copy",this.copy.bind(this)),r.util.addListener(this.hiddenTextarea,"cut",this.copy.bind(this)),r.util.addListener(this.hiddenTextarea,"paste",this.paste.bind(this)),r.util.addListener(this.hiddenTextarea,"compositionstart",this.onCompositionStart.bind(this)),r.util.addListener(this.hiddenTextarea,"compositionupdate",this.onCompositionUpdate.bind(this)),r.util.addListener(this.hiddenTextarea,"compositionend",this.onCompositionEnd.bind(this)),!this._clickHandlerInitialized&&this.canvas&&(r.util.addListener(this.canvas.upperCanvasEl,"click",this.onClick.bind(this)),this._clickHandlerInitialized=!0)},keysMap:{9:"exitEditing",27:"exitEditing",33:"moveCursorUp",34:"moveCursorDown",35:"moveCursorRight",36:"moveCursorLeft",37:"moveCursorLeft",38:"moveCursorUp",39:"moveCursorRight",40:"moveCursorDown"},keysMapRtl:{9:"exitEditing",27:"exitEditing",33:"moveCursorUp",34:"moveCursorDown",35:"moveCursorLeft",36:"moveCursorRight",37:"moveCursorRight",38:"moveCursorUp",39:"moveCursorLeft",40:"moveCursorDown"},ctrlKeysMapUp:{67:"copy",88:"cut"},ctrlKeysMapDown:{65:"selectAll"},onClick:function(){this.hiddenTextarea&&this.hiddenTextarea.focus()},onKeyDown:function(p){if(this.isEditing){var a=this.direction==="rtl"?this.keysMapRtl:this.keysMap;if(p.keyCode in a)this[a[p.keyCode]](p);else if(p.keyCode in this.ctrlKeysMapDown&&(p.ctrlKey||p.metaKey))this[this.ctrlKeysMapDown[p.keyCode]](p);else return;p.stopImmediatePropagation(),p.preventDefault(),p.keyCode>=33&&p.keyCode<=40?(this.inCompositionMode=!1,this.clearContextTop(),this.renderCursorOrSelection()):this.canvas&&this.canvas.requestRenderAll()}},onKeyUp:function(p){if(!this.isEditing||this._copyDone||this.inCompositionMode){this._copyDone=!1;return}if(p.keyCode in this.ctrlKeysMapUp&&(p.ctrlKey||p.metaKey))this[this.ctrlKeysMapUp[p.keyCode]](p);else return;p.stopImmediatePropagation(),p.preventDefault(),this.canvas&&this.canvas.requestRenderAll()},onInput:function(p){var a=this.fromPaste;if(this.fromPaste=!1,p&&p.stopPropagation(),!!this.isEditing){var m=this._splitTextIntoLines(this.hiddenTextarea.value).graphemeText,v=this._text.length,o=m.length,c,s,g=o-v,x=this.selectionStart,h=this.selectionEnd,E=x!==h,T,k,L;if(this.hiddenTextarea.value===""){this.styles={},this.updateFromTextArea(),this.fire("changed"),this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll());return}var F=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value),U=x>F.selectionStart;E?(c=this._text.slice(x,h),g+=h-x):o<v&&(U?c=this._text.slice(h+g,h):c=this._text.slice(x,x-g)),s=m.slice(F.selectionEnd-g,F.selectionEnd),c&&c.length&&(s.length&&(T=this.getSelectionStyles(x,x+1,!1),T=s.map(function(){return T[0]})),E?(k=x,L=h):U?(k=h-c.length,L=h):(k=h,L=h+c.length),this.removeStyleFromTo(k,L)),s.length&&(a&&s.join("")===r.copiedText&&!r.disableStyleCopyPaste&&(T=r.copiedTextStyle),this.insertNewStyleBlock(s,x,T)),this.updateFromTextArea(),this.fire("changed"),this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll())}},onCompositionStart:function(){this.inCompositionMode=!0},onCompositionEnd:function(){this.inCompositionMode=!1},onCompositionUpdate:function(p){this.compositionStart=p.target.selectionStart,this.compositionEnd=p.target.selectionEnd,this.updateTextareaPosition()},copy:function(){this.selectionStart!==this.selectionEnd&&(r.copiedText=this.getSelectedText(),r.disableStyleCopyPaste?r.copiedTextStyle=null:r.copiedTextStyle=this.getSelectionStyles(this.selectionStart,this.selectionEnd,!0),this._copyDone=!0)},paste:function(){this.fromPaste=!0},_getClipboardData:function(p){return p&&p.clipboardData||r.window.clipboardData},_getWidthBeforeCursor:function(p,a){var m=this._getLineLeftOffset(p),v;return a>0&&(v=this.__charBounds[p][a-1],m+=v.left+v.width),m},getDownCursorOffset:function(p,a){var m=this._getSelectionForOffset(p,a),v=this.get2DCursorLocation(m),o=v.lineIndex;if(o===this._textLines.length-1||p.metaKey||p.keyCode===34)return this._text.length-m;var c=v.charIndex,s=this._getWidthBeforeCursor(o,c),g=this._getIndexOnLine(o+1,s),x=this._textLines[o].slice(c);return x.length+g+1+this.missingNewlineOffset(o)},_getSelectionForOffset:function(p,a){return p.shiftKey&&this.selectionStart!==this.selectionEnd&&a?this.selectionEnd:this.selectionStart},getUpCursorOffset:function(p,a){var m=this._getSelectionForOffset(p,a),v=this.get2DCursorLocation(m),o=v.lineIndex;if(o===0||p.metaKey||p.keyCode===33)return-m;var c=v.charIndex,s=this._getWidthBeforeCursor(o,c),g=this._getIndexOnLine(o-1,s),x=this._textLines[o].slice(0,c),h=this.missingNewlineOffset(o-1);return-this._textLines[o-1].length+g-x.length+(1-h)},_getIndexOnLine:function(p,a){for(var m=this._textLines[p],v=this._getLineLeftOffset(p),o=v,c=0,s,g,x=0,h=m.length;x<h;x++)if(s=this.__charBounds[p][x].width,o+=s,o>a){g=!0;var E=o-s,T=o,k=Math.abs(E-a),L=Math.abs(T-a);c=L<k?x:x-1;break}return g||(c=m.length-1),c},moveCursorDown:function(p){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorUpOrDown("Down",p)},moveCursorUp:function(p){this.selectionStart===0&&this.selectionEnd===0||this._moveCursorUpOrDown("Up",p)},_moveCursorUpOrDown:function(p,a){var m="get"+p+"CursorOffset",v=this[m](a,this._selectionDirection==="right");a.shiftKey?this.moveCursorWithShift(v):this.moveCursorWithoutShift(v),v!==0&&(this.setSelectionInBoundaries(),this.abortCursorAnimation(),this._currentCursorOpacity=1,this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())},moveCursorWithShift:function(p){var a=this._selectionDirection==="left"?this.selectionStart+p:this.selectionEnd+p;return this.setSelectionStartEndWithShift(this.selectionStart,this.selectionEnd,a),p!==0},moveCursorWithoutShift:function(p){return p<0?(this.selectionStart+=p,this.selectionEnd=this.selectionStart):(this.selectionEnd+=p,this.selectionStart=this.selectionEnd),p!==0},moveCursorLeft:function(p){this.selectionStart===0&&this.selectionEnd===0||this._moveCursorLeftOrRight("Left",p)},_move:function(p,a,m){var v;if(p.altKey)v=this["findWordBoundary"+m](this[a]);else if(p.metaKey||p.keyCode===35||p.keyCode===36)v=this["findLineBoundary"+m](this[a]);else return this[a]+=m==="Left"?-1:1,!0;if(typeof v!==void 0&&this[a]!==v)return this[a]=v,!0},_moveLeft:function(p,a){return this._move(p,a,"Left")},_moveRight:function(p,a){return this._move(p,a,"Right")},moveCursorLeftWithoutShift:function(p){var a=!0;return this._selectionDirection="left",this.selectionEnd===this.selectionStart&&this.selectionStart!==0&&(a=this._moveLeft(p,"selectionStart")),this.selectionEnd=this.selectionStart,a},moveCursorLeftWithShift:function(p){if(this._selectionDirection==="right"&&this.selectionStart!==this.selectionEnd)return this._moveLeft(p,"selectionEnd");if(this.selectionStart!==0)return this._selectionDirection="left",this._moveLeft(p,"selectionStart")},moveCursorRight:function(p){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorLeftOrRight("Right",p)},_moveCursorLeftOrRight:function(p,a){var m="moveCursor"+p+"With";this._currentCursorOpacity=1,a.shiftKey?m+="Shift":m+="outShift",this[m](a)&&(this.abortCursorAnimation(),this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())},moveCursorRightWithShift:function(p){if(this._selectionDirection==="left"&&this.selectionStart!==this.selectionEnd)return this._moveRight(p,"selectionStart");if(this.selectionEnd!==this._text.length)return this._selectionDirection="right",this._moveRight(p,"selectionEnd")},moveCursorRightWithoutShift:function(p){var a=!0;return this._selectionDirection="right",this.selectionStart===this.selectionEnd?(a=this._moveRight(p,"selectionStart"),this.selectionEnd=this.selectionStart):this.selectionStart=this.selectionEnd,a},removeChars:function(p,a){typeof a>"u"&&(a=p+1),this.removeStyleFromTo(p,a),this._text.splice(p,a-p),this.text=this._text.join(""),this.set("dirty",!0),this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this._removeExtraneousStyles()},insertChars:function(p,a,m,v){typeof v>"u"&&(v=m),v>m&&this.removeStyleFromTo(m,v);var o=r.util.string.graphemeSplit(p);this.insertNewStyleBlock(o,m,a),this._text=[].concat(this._text.slice(0,m),o,this._text.slice(v)),this.text=this._text.join(""),this.set("dirty",!0),this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this._removeExtraneousStyles()}}),function(){var p=r.util.toFixed,a=/  +/g;r.util.object.extend(r.Text.prototype,{_toSVG:function(){var m=this._getSVGLeftTopOffsets(),v=this._getSVGTextAndBg(m.textTop,m.textLeft);return this._wrapSVGTextAndBg(v)},toSVG:function(m){return this._createBaseSVGMarkup(this._toSVG(),{reviver:m,noStyle:!0,withShadow:!0})},_getSVGLeftTopOffsets:function(){return{textLeft:-this.width/2,textTop:-this.height/2,lineTop:this.getHeightOfLine(0)}},_wrapSVGTextAndBg:function(m){var v=!0,o=this.getSvgTextDecoration(this);return[m.textBgRects.join(""),'		<text xml:space="preserve" ',this.fontFamily?'font-family="'+this.fontFamily.replace(/"/g,"'")+'" ':"",this.fontSize?'font-size="'+this.fontSize+'" ':"",this.fontStyle?'font-style="'+this.fontStyle+'" ':"",this.fontWeight?'font-weight="'+this.fontWeight+'" ':"",o?'text-decoration="'+o+'" ':"",'style="',this.getSvgStyles(v),'"',this.addPaintOrder()," >",m.textSpans.join(""),`</text>
`]},_getSVGTextAndBg:function(m,v){var o=[],c=[],s=m,g;this._setSVGBg(c);for(var x=0,h=this._textLines.length;x<h;x++)g=this._getLineLeftOffset(x),(this.textBackgroundColor||this.styleHas("textBackgroundColor",x))&&this._setSVGTextLineBg(c,x,v+g,s),this._setSVGTextLineText(o,x,v+g,s),s+=this.getHeightOfLine(x);return{textSpans:o,textBgRects:c}},_createTextCharSpan:function(m,v,o,c){var s=m!==m.trim()||m.match(a),g=this.getSvgSpanStyles(v,s),x=g?'style="'+g+'"':"",h=v.deltaY,E="",T=r.Object.NUM_FRACTION_DIGITS;return h&&(E=' dy="'+p(h,T)+'" '),['<tspan x="',p(o,T),'" y="',p(c,T),'" ',E,x,">",r.util.string.escapeXml(m),"</tspan>"].join("")},_setSVGTextLineText:function(m,v,o,c){var s=this.getHeightOfLine(v),g=this.textAlign.indexOf("justify")!==-1,x,h,E="",T,k,L=0,F=this._textLines[v],U;c+=s*(1-this._fontSizeFraction)/this.lineHeight;for(var G=0,Y=F.length-1;G<=Y;G++)U=G===Y||this.charSpacing,E+=F[G],T=this.__charBounds[v][G],L===0?(o+=T.kernedWidth-T.width,L+=T.width):L+=T.kernedWidth,g&&!U&&this._reSpaceAndTab.test(F[G])&&(U=!0),U||(x=x||this.getCompleteStyleDeclaration(v,G),h=this.getCompleteStyleDeclaration(v,G+1),U=this._hasStyleChangedForSvg(x,h)),U&&(k=this._getStyleDeclaration(v,G)||{},m.push(this._createTextCharSpan(E,k,o,c)),E="",x=h,o+=L,L=0)},_pushTextBgRect:function(m,v,o,c,s,g){var x=r.Object.NUM_FRACTION_DIGITS;m.push("		<rect ",this._getFillAttributes(v),' x="',p(o,x),'" y="',p(c,x),'" width="',p(s,x),'" height="',p(g,x),`"></rect>
`)},_setSVGTextLineBg:function(m,v,o,c){for(var s=this._textLines[v],g=this.getHeightOfLine(v)/this.lineHeight,x=0,h=0,E,T,k=this.getValueOfPropertyAt(v,0,"textBackgroundColor"),L=0,F=s.length;L<F;L++)E=this.__charBounds[v][L],T=this.getValueOfPropertyAt(v,L,"textBackgroundColor"),T!==k?(k&&this._pushTextBgRect(m,k,o+h,c,x,g),h=E.left,x=E.width,k=T):x+=E.kernedWidth;T&&this._pushTextBgRect(m,T,o+h,c,x,g)},_getFillAttributes:function(m){var v=m&&typeof m=="string"?new r.Color(m):"";return!v||!v.getSource()||v.getAlpha()===1?'fill="'+m+'"':'opacity="'+v.getAlpha()+'" fill="'+v.setAlpha(1).toRgb()+'"'},_getSVGLineTopOffset:function(m){for(var v=0,o=0,c=0;c<m;c++)v+=this.getHeightOfLine(c);return o=this.getHeightOfLine(c),{lineTop:v,offset:(this._fontSizeMult-this._fontSizeFraction)*o/(this.lineHeight*this._fontSizeMult)}},getSvgStyles:function(m){var v=r.Object.prototype.getSvgStyles.call(this,m);return v+" white-space: pre;"}})}(),function(p){var a=p.fabric||(p.fabric={});a.Textbox=a.util.createClass(a.IText,a.Observable,{type:"textbox",minWidth:20,dynamicMinWidth:2,__cachedLines:null,lockScalingFlip:!0,noScaleCache:!1,_dimensionAffectingProps:a.Text.prototype._dimensionAffectingProps.concat("width"),_wordJoiners:/[ \t\r]/,splitByGrapheme:!1,initDimensions:function(){this.__skipDimension||(this.isEditing&&this.initDelayedCursor(),this.clearContextTop(),this._clearCache(),this.dynamicMinWidth=0,this._styleMap=this._generateStyleMap(this._splitText()),this.dynamicMinWidth>this.width&&this._set("width",this.dynamicMinWidth),this.textAlign.indexOf("justify")!==-1&&this.enlargeSpaces(),this.height=this.calcTextHeight(),this.saveState({propertySet:"_dimensionAffectingProps"}))},_generateStyleMap:function(m){for(var v=0,o=0,c=0,s={},g=0;g<m.graphemeLines.length;g++)m.graphemeText[c]===`
`&&g>0?(o=0,c++,v++):!this.splitByGrapheme&&this._reSpaceAndTab.test(m.graphemeText[c])&&g>0&&(o++,c++),s[g]={line:v,offset:o},c+=m.graphemeLines[g].length,o+=m.graphemeLines[g].length;return s},styleHas:function(m,v){if(this._styleMap&&!this.isWrapping){var o=this._styleMap[v];o&&(v=o.line)}return a.Text.prototype.styleHas.call(this,m,v)},isEmptyStyles:function(m){if(!this.styles)return!0;var v=0,o=m+1,c,s,g=!1,x=this._styleMap[m],h=this._styleMap[m+1];x&&(m=x.line,v=x.offset),h&&(o=h.line,g=o===m,c=h.offset),s=typeof m>"u"?this.styles:{line:this.styles[m]};for(var E in s)for(var T in s[E])if(T>=v&&(!g||T<c))for(var k in s[E][T])return!1;return!0},_getStyleDeclaration:function(m,v){if(this._styleMap&&!this.isWrapping){var o=this._styleMap[m];if(!o)return null;m=o.line,v=o.offset+v}return this.callSuper("_getStyleDeclaration",m,v)},_setStyleDeclaration:function(m,v,o){var c=this._styleMap[m];m=c.line,v=c.offset+v,this.styles[m][v]=o},_deleteStyleDeclaration:function(m,v){var o=this._styleMap[m];m=o.line,v=o.offset+v,delete this.styles[m][v]},_getLineStyle:function(m){var v=this._styleMap[m];return!!this.styles[v.line]},_setLineStyle:function(m){var v=this._styleMap[m];this.styles[v.line]={}},_wrapText:function(m,v){var o=[],c;for(this.isWrapping=!0,c=0;c<m.length;c++)o=o.concat(this._wrapLine(m[c],c,v));return this.isWrapping=!1,o},_measureWord:function(m,v,o){var c=0,s,g=!0;o=o||0;for(var x=0,h=m.length;x<h;x++){var E=this._getGraphemeBox(m[x],v,x+o,s,g);c+=E.kernedWidth,s=m[x]}return c},_wrapLine:function(m,v,o,he){var s=0,g=this.splitByGrapheme,x=[],h=[],E=g?a.util.string.graphemeSplit(m):m.split(this._wordJoiners),T="",k=0,L=g?"":" ",F=0,U=0,G=0,Y=!0,K=this._getWidthOfCharSpacing(),he=he||0;E.length===0&&E.push([]),o-=he;for(var oe=0;oe<E.length;oe++)T=g?E[oe]:a.util.string.graphemeSplit(E[oe]),F=this._measureWord(T,v,k),k+=T.length,s+=U+F-K,s>o&&!Y?(x.push(h),h=[],s=F,Y=!0):s+=K,!Y&&!g&&h.push(L),h=h.concat(T),U=g?0:this._measureWord([L],v,k),k++,Y=!1,F>G&&(G=F);return oe&&x.push(h),G+he>this.dynamicMinWidth&&(this.dynamicMinWidth=G-K+he),x},isEndOfWrapping:function(m){return!this._styleMap[m+1]||this._styleMap[m+1].line!==this._styleMap[m].line},missingNewlineOffset:function(m){return this.splitByGrapheme?this.isEndOfWrapping(m)?1:0:1},_splitTextIntoLines:function(m){for(var v=a.Text.prototype._splitTextIntoLines.call(this,m),o=this._wrapText(v.lines,this.width),c=new Array(o.length),s=0;s<o.length;s++)c[s]=o[s].join("");return v.lines=c,v.graphemeLines=o,v},getMinWidth:function(){return Math.max(this.minWidth,this.dynamicMinWidth)},_removeExtraneousStyles:function(){var m={};for(var v in this._styleMap)this._textLines[v]&&(m[this._styleMap[v].line]=1);for(var v in this.styles)m[v]||delete this.styles[v]},toObject:function(m){return this.callSuper("toObject",["minWidth","splitByGrapheme"].concat(m))}}),a.Textbox.fromObject=function(m,v){return a.Object._fromObject("Textbox",m,v,"text")}}(M),function(){var p=r.controlsUtils,a=p.scaleSkewCursorStyleHandler,m=p.scaleCursorStyleHandler,v=p.scalingEqually,o=p.scalingYOrSkewingX,c=p.scalingXOrSkewingY,s=p.scaleOrSkewActionName,g=r.Object.prototype.controls;if(g.ml=new r.Control({x:-.5,y:0,cursorStyleHandler:a,actionHandler:c,getActionName:s}),g.mr=new r.Control({x:.5,y:0,cursorStyleHandler:a,actionHandler:c,getActionName:s}),g.mb=new r.Control({x:0,y:.5,cursorStyleHandler:a,actionHandler:o,getActionName:s}),g.mt=new r.Control({x:0,y:-.5,cursorStyleHandler:a,actionHandler:o,getActionName:s}),g.tl=new r.Control({x:-.5,y:-.5,cursorStyleHandler:m,actionHandler:v}),g.tr=new r.Control({x:.5,y:-.5,cursorStyleHandler:m,actionHandler:v}),g.bl=new r.Control({x:-.5,y:.5,cursorStyleHandler:m,actionHandler:v}),g.br=new r.Control({x:.5,y:.5,cursorStyleHandler:m,actionHandler:v}),g.mtr=new r.Control({x:0,y:-.5,actionHandler:p.rotationWithSnapping,cursorStyleHandler:p.rotationStyleHandler,offsetY:-40,withConnection:!0,actionName:"rotate"}),r.Textbox){var x=r.Textbox.prototype.controls={};x.mtr=g.mtr,x.tr=g.tr,x.br=g.br,x.tl=g.tl,x.bl=g.bl,x.mt=g.mt,x.mb=g.mb,x.mr=new r.Control({x:.5,y:0,actionHandler:p.changeWidth,cursorStyleHandler:a,actionName:"resizing"}),x.ml=new r.Control({x:-.5,y:0,actionHandler:p.changeWidth,cursorStyleHandler:a,actionName:"resizing"})}}()},3053:function(y,M,l){var r=l(602);function w(A,D,O){var N,p;if(O=O||0,!r(D))return-1;if(Array.prototype.indexOf)return Array.prototype.indexOf.call(D,A,O);for(p=D.length,N=O;O>=0&&N<p;N+=1)if(D[N]===A)return N;return-1}y.exports=w},8592:function(y,M,l){var r=l(602),w=l(6092),A=l(5573);function D(O,N,p){r(O)?w(O,N,p):A(O,N,p)}y.exports=D},6092:function(y){function M(l,r,w){var A=0,D=l.length;for(w=w||null;A<D&&r.call(w,l[A],A,l)!==!1;A+=1);}y.exports=M},5573:function(y){function M(l,r,w){var A;w=w||null;for(A in l)if(l.hasOwnProperty(A)&&r.call(w,l[A],A,l)===!1)break}y.exports=M},9052:function(y,M,l){var r=l(961),w=l(9886),A=l(2560),D=l(5393),O=l(602),N=l(5183),p=l(8592),a=/\s+/g;function m(){this.events=null,this.contexts=null}m.mixin=function(v){r(v.prototype,m.prototype)},m.prototype._getHandlerItem=function(v,o){var c={handler:v};return o&&(c.context=o),c},m.prototype._safeEvent=function(v){var o=this.events,c;return o||(o=this.events={}),v&&(c=o[v],c||(c=[],o[v]=c),o=c),o},m.prototype._safeContext=function(){var v=this.contexts;return v||(v=this.contexts=[]),v},m.prototype._indexOfContext=function(v){for(var o=this._safeContext(),c=0;o[c];){if(v===o[c][0])return c;c+=1}return-1},m.prototype._memorizeContext=function(v){var o,c;w(v)&&(o=this._safeContext(),c=this._indexOfContext(v),c>-1?o[c][1]+=1:o.push([v,1]))},m.prototype._forgetContext=function(v){var o,c;w(v)&&(o=this._safeContext(),c=this._indexOfContext(v),c>-1&&(o[c][1]-=1,o[c][1]<=0&&o.splice(c,1)))},m.prototype._bindEvent=function(v,o,c){var s=this._safeEvent(v);this._memorizeContext(c),s.push(this._getHandlerItem(o,c))},m.prototype.on=function(v,o,c){var s=this;A(v)?(v=v.split(a),p(v,function(g){s._bindEvent(g,o,c)})):D(v)&&(c=o,p(v,function(g,x){s.on(x,g,c)}))},m.prototype.once=function(v,o,c){var s=this;if(D(v)){c=o,p(v,function(x,h){s.once(h,x,c)});return}function g(){o.apply(c,arguments),s.off(v,g,c)}this.on(v,g,c)},m.prototype._spliceMatches=function(v,o){var c=0,s;if(O(v))for(s=v.length;c<s;c+=1)o(v[c])===!0&&(v.splice(c,1),s-=1,c-=1)},m.prototype._matchHandler=function(v){var o=this;return function(c){var s=v===c.handler;return s&&o._forgetContext(c.context),s}},m.prototype._matchContext=function(v){var o=this;return function(c){var s=v===c.context;return s&&o._forgetContext(c.context),s}},m.prototype._matchHandlerAndContext=function(v,o){var c=this;return function(s){var g=v===s.handler,x=o===s.context,h=g&&x;return h&&c._forgetContext(s.context),h}},m.prototype._offByEventName=function(v,o){var c=this,s=N(o),g=c._matchHandler(o);v=v.split(a),p(v,function(x){var h=c._safeEvent(x);s?c._spliceMatches(h,g):(p(h,function(E){c._forgetContext(E.context)}),c.events[x]=[])})},m.prototype._offByHandler=function(v){var o=this,c=this._matchHandler(v);p(this._safeEvent(),function(s){o._spliceMatches(s,c)})},m.prototype._offByObject=function(v,o){var c=this,s;this._indexOfContext(v)<0?p(v,function(g,x){c.off(x,g)}):A(o)?(s=this._matchContext(v),c._spliceMatches(this._safeEvent(o),s)):N(o)?(s=this._matchHandlerAndContext(o,v),p(this._safeEvent(),function(g){c._spliceMatches(g,s)})):(s=this._matchContext(v),p(this._safeEvent(),function(g){c._spliceMatches(g,s)}))},m.prototype.off=function(v,o){A(v)?this._offByEventName(v,o):arguments.length?N(v)?this._offByHandler(v):D(v)&&this._offByObject(v,o):(this.events={},this.contexts=[])},m.prototype.fire=function(v){this.invoke.apply(this,arguments)},m.prototype.invoke=function(v){var o,c,s,g;if(!this.hasListener(v))return!0;for(o=this._safeEvent(v),c=Array.prototype.slice.call(arguments,1),s=0;o[s];){if(g=o[s],g.handler.apply(g.context,c)===!1)return!1;s+=1}return!0},m.prototype.hasListener=function(v){return this.getListenerLength(v)>0},m.prototype.getListenerLength=function(v){var o=this._safeEvent(v);return o.length},y.exports=m},961:function(y){function M(l,r){var w=Object.prototype.hasOwnProperty,A,D,O,N;for(O=1,N=arguments.length;O<N;O+=1){A=arguments[O];for(D in A)w.call(A,D)&&(l[D]=A[D])}return l}y.exports=M},1610:function(y,M,l){var r=l(5695),w=l(3778);function A(D,O){for(var N=arguments,p=N[0],a=1,m=N.length;a<m;a+=1){if(r(p)||w(p))return;p=p[N[a]]}return p}y.exports=A},4564:function(y,M,l){var r=l(5573);function w(A,D){var O=document.createElement("img"),N="";return r(D,function(p,a){N+="&"+a+"="+p}),N=N.substring(1),O.src=A+"?"+N,O.style.display="none",document.body.appendChild(O),document.body.removeChild(O),O}y.exports=w},4729:function(y,M,l){var r=l(5695),w=l(4564),A=7*24*60*60*1e3;function D(N){var p=new Date().getTime();return p-N>A}function O(N,p){var a="https://www.google-analytics.com/collect",m=location.hostname,v="event",o="use",c="TOAST UI "+N+" for "+m+": Statistics",s=window.localStorage.getItem(c);!r(window.tui)&&window.tui.usageStatistics===!1||s&&!D(s)||(window.localStorage.setItem(c,new Date().getTime()),setTimeout(function(){(document.readyState==="interactive"||document.readyState==="complete")&&w(a,{v:1,t:v,tid:p,cid:m,dp:m,dh:N,el:N,ec:o})},1e3))}y.exports=O},602:function(y){function M(l){return l instanceof Array}y.exports=M},9886:function(y,M,l){var r=l(5695),w=l(3778);function A(D){return!r(D)&&!w(D)}y.exports=A},5183:function(y){function M(l){return l instanceof Function}y.exports=M},3778:function(y){function M(l){return l===null}y.exports=M},5393:function(y){function M(l){return l===Object(l)}y.exports=M},2560:function(y){function M(l){return typeof l=="string"||l instanceof String}y.exports=M},5695:function(y){function M(l){return l===void 0}y.exports=M},4426:function(y,M,l){y.exports=l(4486)},9406:function(y,M,l){y.exports=l(4877)},789:function(y,M,l){y.exports=l(7178)},381:function(y,M,l){y.exports=l(5603)},7636:function(y,M,l){y.exports=l(1206)},1899:function(y,M,l){y.exports=l(6174)},899:function(y,M,l){y.exports=l(57)},8005:function(y,M,l){y.exports=l(4741)},6562:function(y,M,l){y.exports=l(8368)},9131:function(y,M,l){y.exports=l(3739)},4383:function(y,M,l){y.exports=l(172)},6065:function(y,M,l){y.exports=l(4963)},1734:function(y,M,l){y.exports=l(7820)},2461:function(y,M,l){y.exports=l(5636)},5214:function(y,M,l){y.exports=l(5059)},6397:function(y,M,l){y.exports=l(3969)},8189:function(y,M,l){y.exports=l(6618)},9146:function(y,M,l){y.exports=l(5279)},4496:function(y,M,l){y.exports=l(9562)},3972:function(y,M,l){y.exports=l(652)},7172:function(y,M,l){y.exports=l(2813)},1845:function(y,M,l){y.exports=l(8664)},662:function(y,M,l){y.exports=l(1457)},711:function(y,M,l){y.exports=l(2937)},6623:function(y,M,l){y.exports=l(9297)},7077:function(y,M,l){y.exports=l(8026)},9856:function(y,M,l){y.exports=l(2044)},4230:function(y,M,l){y.exports=l(2214)},184:function(y,M,l){y.exports=l(9256)},3742:function(y,M,l){y.exports=l(5659)},1801:function(y){var M={rect:1,circle:2,triangle:1},l={rect:{w:"width",h:"height"},circle:{w:"rx",h:"ry"},triangle:{w:"width",h:"height"}};function r(a){var m=a.originX,v=a.originY,o=m.substring(0,1)+v.substring(0,1);a.startPoint=a.origins[o]}function w(a,m,v){var o=a.x,c=a.y,s=m.x,g=m.y,x=v*Math.PI/180,h=(s-o)*Math.cos(x)-(g-c)*Math.sin(x)+o,E=(s-o)*Math.sin(x)+(g-c)*Math.cos(x)+c;return{originX:o>h?"right":"left",originY:c>E?"bottom":"top"}}function A(a){return a.originX==="center"&&a.originY==="center"}function D(a,m){var v=m.getPointByOrigin("center","center"),o=-m.angle,c=w(v,a,o),s=c.originX,g=c.originY,x=m.getPointByOrigin(s,g),h=m.left-(v.x-x.x),E=m.top-(v.y-x.y);m.set({originX:s,originY:g,left:h,top:E}),m.setCoords()}function O(a,m){var v=m.startPoint,o=-m.angle,c=w(v,a,o),s=c.originX,g=c.originY;m.setPositionByOrigin(v,s,g),m.setCoords()}function N(a){var m=a.type,v=a.scaleX,o=a.scaleY,c=l[m],s=a[c.w]*v,g=a[c.h]*o;if(a.isRegular){var x=Math.max(v,o);s=a[c.w]*x,g=a[c.h]*x}var h={hasControls:!1,hasBorders:!1,scaleX:1,scaleY:1};h[c.w]=s,h[c.h]=g,a.set(h)}function p(a,m){var v=m.type,o=m.strokeWidth,c=m.startPoint,s=M[v],g=l[v],x=m.type==="triangle",h={},E=Math.abs(c.x-a.x)/s,T=Math.abs(c.y-a.y)/s;E>o&&(E-=o/s),T>o&&(T-=o/s),m.isRegular&&(E=T=Math.max(E,T),x&&(T=Math.sqrt(3)/2*E)),h[g.w]=E,h[g.h]=T,m.set(h)}y.exports={setOrigins:function(m){var v=m.getPointByOrigin("left","top"),o=m.getPointByOrigin("right","top"),c=m.getPointByOrigin("right","bottom"),s=m.getPointByOrigin("left","bottom");m.origins={lt:v,rt:o,rb:c,lb:s}},resize:function(m,v,o){A(m)&&(D(v,m),r(m)),o?N(m):p(v,m),O(v,m)},adjustOriginToCenter:function(m){var v=m.getPointByOrigin("center","center"),o=m.originX,c=m.originY,s=m.getPointByOrigin(o,c),g=m.left+(v.x-s.x),x=m.top+(v.y-s.y);m.set({hasControls:!0,hasBorders:!0,originX:"center",originY:"center",left:g,top:x}),m.setCoords()}}},2221:function(y,M,l){l(5454),l(9173);var r=l(7545);y.exports=r.Array.from},5078:function(y,M,l){l(8118);var r=l(7545);y.exports=r.Array.isArray},6135:function(y,M,l){l(9106);var r=l(5607);y.exports=r("Array").concat},9510:function(y,M,l){l(1710);var r=l(5607);y.exports=r("Array").fill},3971:function(y,M,l){l(3436);var r=l(5607);y.exports=r("Array").filter},98:function(y,M,l){l(9823);var r=l(5607);y.exports=r("Array").forEach},2089:function(y,M,l){l(2276);var r=l(5607);y.exports=r("Array").indexOf},6209:function(y,M,l){l(3838);var r=l(5607);y.exports=r("Array").map},2671:function(y,M,l){l(5818);var r=l(5607);y.exports=r("Array").slice},1375:function(y,M,l){l(2178);var r=l(5607);y.exports=r("Array").splice},3528:function(y,M,l){l(665);var r=l(5607);y.exports=r("Function").bind},5739:function(y,M,l){l(8939),l(5454);var r=l(8703);y.exports=r},278:function(y,M,l){var r=l(3528),w=Function.prototype;y.exports=function(A){var D=A.bind;return A===w||A instanceof Function&&D===w.bind?r:D}},1484:function(y,M,l){var r=l(6135),w=Array.prototype;y.exports=function(A){var D=A.concat;return A===w||A instanceof Array&&D===w.concat?r:D}},7731:function(y,M,l){var r=l(9510),w=Array.prototype;y.exports=function(A){var D=A.fill;return A===w||A instanceof Array&&D===w.fill?r:D}},3669:function(y,M,l){var r=l(3971),w=Array.prototype;y.exports=function(A){var D=A.filter;return A===w||A instanceof Array&&D===w.filter?r:D}},2604:function(y,M,l){var r=l(2089),w=Array.prototype;y.exports=function(A){var D=A.indexOf;return A===w||A instanceof Array&&D===w.indexOf?r:D}},263:function(y,M,l){var r=l(6209),w=Array.prototype;y.exports=function(A){var D=A.map;return A===w||A instanceof Array&&D===w.map?r:D}},7663:function(y,M,l){var r=l(2671),w=Array.prototype;y.exports=function(A){var D=A.slice;return A===w||A instanceof Array&&D===w.slice?r:D}},5063:function(y,M,l){var r=l(1375),w=Array.prototype;y.exports=function(A){var D=A.splice;return A===w||A instanceof Array&&D===w.splice?r:D}},6813:function(y,M,l){var r=l(3842),w=String.prototype;y.exports=function(A){var D=A.trim;return typeof A=="string"||A===w||A instanceof String&&D===w.trim?r:D}},6285:function(y,M,l){l(2666);var r=l(7545);y.exports=r.Number.parseInt},3213:function(y,M,l){l(3113);var r=l(7545),w=r.Object;y.exports=function(D,O){return w.create(D,O)}},3512:function(y,M,l){l(297);var r=l(7545),w=r.Object,A=y.exports=function(O,N,p){return w.defineProperty(O,N,p)};w.defineProperty.sham&&(A.sham=!0)},8168:function(y,M,l){l(9234);var r=l(7545);y.exports=r.Object.getPrototypeOf},8651:function(y,M,l){l(2647);var r=l(7545);y.exports=r.Object.keys},3083:function(y,M,l){l(3222);var r=l(7545);y.exports=r.Object.setPrototypeOf},2987:function(y,M,l){l(4859);var r=l(7545);y.exports=r.parseFloat},2239:function(y,M,l){l(5706);var r=l(7545);y.exports=r.parseInt},3154:function(y,M,l){l(4242),l(8939),l(6663),l(9021),l(7884),l(8885),l(1868),l(5454);var r=l(7545);y.exports=r.Promise},6577:function(y,M,l){l(5397);var r=l(7545);y.exports=r.Reflect.construct},3842:function(y,M,l){l(957);var r=l(5607);y.exports=r("String").trim},5008:function(y,M,l){l(9106),l(6663),l(6187),l(9781),l(492),l(6681),l(9594),l(3665),l(9017),l(1250),l(9786),l(503),l(6565),l(9322),l(3610),l(6886),l(3514),l(8671),l(8556),l(1367);var r=l(7545);y.exports=r.Symbol},994:function(y,M,l){l(8939),l(6663),l(5454),l(3665);var r=l(9207);y.exports=r.f("iterator")},2813:function(y,M,l){var r=l(3822);y.exports=r},8664:function(y,M,l){var r=l(1434);y.exports=r},1457:function(y,M,l){var r=l(7710);y.exports=r},2937:function(y,M,l){var r=l(4741);y.exports=r},9297:function(y,M,l){var r=l(4963);y.exports=r},8026:function(y,M,l){var r=l(7820);y.exports=r},2044:function(y,M,l){var r=l(8980);y.exports=r},2214:function(y,M,l){var r=l(6672);y.exports=r},9256:function(y,M,l){var r=l(2285);l(177),l(9031),l(6658),l(1875),l(8658),l(4592),l(6680),y.exports=r},5659:function(y,M,l){var r=l(8535);y.exports=r},6235:function(y,M,l){var r=l(6447),w=l(9288);y.exports=function(A){if(r(A))return A;throw TypeError(w(A)+" is not a function")}},1404:function(y,M,l){var r=l(2091),w=l(9288);y.exports=function(A){if(r(A))return A;throw TypeError(w(A)+" is not a constructor")}},7757:function(y,M,l){var r=l(6447);y.exports=function(w){if(typeof w=="object"||r(w))return w;throw TypeError("Can't set "+String(w)+" as a prototype")}},7423:function(y){y.exports=function(){}},6961:function(y){y.exports=function(M,l,r){if(M instanceof l)return M;throw TypeError("Incorrect "+(r?r+" ":"")+"invocation")}},1138:function(y,M,l){var r=l(5744);y.exports=function(w){if(r(w))return w;throw TypeError(String(w)+" is not an object")}},2724:function(y,M,l){var r=l(1795),w=l(7739),A=l(4104);y.exports=function(O){for(var N=r(this),p=A(N),a=arguments.length,m=w(a>1?arguments[1]:void 0,p),v=a>2?arguments[2]:void 0,o=v===void 0?p:w(v,p);o>m;)N[m++]=O;return N}},7397:function(y,M,l){var r=l(454).forEach,w=l(424),A=w("forEach");y.exports=A?[].forEach:function(O){return r(this,O,arguments.length>1?arguments[1]:void 0)}},841:function(y,M,l){var r=l(8043),w=l(1795),A=l(1635),D=l(6109),O=l(2091),N=l(4104),p=l(9361),a=l(1669),m=l(8703);y.exports=function(o){var c=w(o),s=O(this),g=arguments.length,x=g>1?arguments[1]:void 0,h=x!==void 0;h&&(x=r(x,g>2?arguments[2]:void 0,2));var E=m(c),T=0,k,L,F,U,G,Y;if(E&&!(this==Array&&D(E)))for(U=a(c,E),G=U.next,L=s?new this:[];!(F=G.call(U)).done;T++)Y=h?A(U,x,[F.value,T],!0):F.value,p(L,T,Y);else for(k=N(c),L=s?new this(k):Array(k);k>T;T++)Y=h?x(c[T],T):c[T],p(L,T,Y);return L.length=T,L}},8180:function(y,M,l){var r=l(101),w=l(7739),A=l(4104),D=function(O){return function(N,p,a){var m=r(N),v=A(m),o=w(a,v),c;if(O&&p!=p){for(;v>o;)if(c=m[o++],c!=c)return!0}else for(;v>o;o++)if((O||o in m)&&m[o]===p)return O||o||0;return!O&&-1}};y.exports={includes:D(!0),indexOf:D(!1)}},454:function(y,M,l){var r=l(8043),w=l(2202),A=l(1795),D=l(4104),O=l(1321),N=[].push,p=function(a){var m=a==1,v=a==2,o=a==3,c=a==4,s=a==6,g=a==7,x=a==5||s;return function(h,E,T,k){for(var L=A(h),F=w(L),U=r(E,T,3),G=D(F),Y=0,K=k||O,he=m?K(h,G):v||g?K(h,0):void 0,oe,ve;G>Y;Y++)if((x||Y in F)&&(oe=F[Y],ve=U(oe,Y,L),a))if(m)he[Y]=ve;else if(ve)switch(a){case 3:return!0;case 5:return oe;case 6:return Y;case 2:N.call(he,oe)}else switch(a){case 4:return!1;case 7:N.call(he,oe)}return s?-1:o||c?c:he}};y.exports={forEach:p(0),map:p(1),filter:p(2),some:p(3),every:p(4),find:p(5),findIndex:p(6),filterReject:p(7)}},242:function(y,M,l){var r=l(6192),w=l(8182),A=l(4218),D=w("species");y.exports=function(O){return A>=51||!r(function(){var N=[],p=N.constructor={};return p[D]=function(){return{foo:1}},N[O](Boolean).foo!==1})}},424:function(y,M,l){var r=l(6192);y.exports=function(w,A){var D=[][w];return!!D&&r(function(){D.call(null,A||function(){throw 1},1)})}},3712:function(y,M,l){var r=l(4770),w=l(2091),A=l(5744),D=l(8182),O=D("species");y.exports=function(N){var p;return r(N)&&(p=N.constructor,w(p)&&(p===Array||r(p.prototype))?p=void 0:A(p)&&(p=p[O],p===null&&(p=void 0))),p===void 0?Array:p}},1321:function(y,M,l){var r=l(3712);y.exports=function(w,A){return new(r(w))(A===0?0:A)}},1635:function(y,M,l){var r=l(1138),w=l(6639);y.exports=function(A,D,O,N){try{return N?D(r(O)[0],O[1]):D(O)}catch(p){w(A,"throw",p)}}},9770:function(y,M,l){var r=l(8182),w=r("iterator"),A=!1;try{var D=0,O={next:function(){return{done:!!D++}},return:function(){A=!0}};O[w]=function(){return this},Array.from(O,function(){throw 2})}catch{}y.exports=function(N,p){if(!p&&!A)return!1;var a=!1;try{var m={};m[w]=function(){return{next:function(){return{done:a=!0}}}},N(m)}catch{}return a}},9272:function(y){var M={}.toString;y.exports=function(l){return M.call(l).slice(8,-1)}},4696:function(y,M,l){var r=l(3471),w=l(6447),A=l(9272),D=l(8182),O=D("toStringTag"),N=A(function(){return arguments}())=="Arguments",p=function(a,m){try{return a[m]}catch{}};y.exports=r?A:function(a){var m,v,o;return a===void 0?"Undefined":a===null?"Null":typeof(v=p(m=Object(a),O))=="string"?v:N?A(m):(o=A(m))=="Object"&&w(m.callee)?"Arguments":o}},4635:function(y,M,l){var r=l(6192);y.exports=!r(function(){function w(){}return w.prototype.constructor=null,Object.getPrototypeOf(new w)!==w.prototype})},5148:function(y,M,l){var r=l(4413).IteratorPrototype,w=l(2853),A=l(774),D=l(1284),O=l(7771),N=function(){return this};y.exports=function(p,a,m){var v=a+" Iterator";return p.prototype=w(r,{next:A(1,m)}),D(p,v,!1,!0),O[v]=N,p}},8711:function(y,M,l){var r=l(69),w=l(2760),A=l(774);y.exports=r?function(D,O,N){return w.f(D,O,A(1,N))}:function(D,O,N){return D[O]=N,D}},774:function(y){y.exports=function(M,l){return{enumerable:!(M&1),configurable:!(M&2),writable:!(M&4),value:l}}},9361:function(y,M,l){var r=l(77),w=l(2760),A=l(774);y.exports=function(D,O,N){var p=r(O);p in D?w.f(D,p,A(0,N)):D[p]=N}},7218:function(y,M,l){var r=l(3085),w=l(5546),A=l(2282),D=l(6447),O=l(5148),N=l(9341),p=l(4469),a=l(1284),m=l(8711),v=l(9482),o=l(8182),c=l(7771),s=l(4413),g=A.PROPER,x=A.CONFIGURABLE,h=s.IteratorPrototype,E=s.BUGGY_SAFARI_ITERATORS,T=o("iterator"),k="keys",L="values",F="entries",U=function(){return this};y.exports=function(G,Y,K,he,oe,ve,ee){O(K,Y,he);var xe=function(H){if(H===oe&&te)return te;if(!E&&H in we)return we[H];switch(H){case k:return function(){return new K(this,H)};case L:return function(){return new K(this,H)};case F:return function(){return new K(this,H)}}return function(){return new K(this)}},Z=Y+" Iterator",Be=!1,we=G.prototype,ge=we[T]||we["@@iterator"]||oe&&we[oe],te=!E&&ge||xe(oe),ae=Y=="Array"&&we.entries||ge,ne,re,V;if(ae&&(ne=N(ae.call(new G)),ne!==Object.prototype&&ne.next&&(!w&&N(ne)!==h&&(p?p(ne,h):D(ne[T])||v(ne,T,U)),a(ne,Z,!0,!0),w&&(c[Z]=U))),g&&oe==L&&ge&&ge.name!==L&&(!w&&x?m(we,"name",L):(Be=!0,te=function(){return ge.call(this)})),oe)if(re={values:xe(L),keys:ve?te:xe(k),entries:xe(F)},ee)for(V in re)(E||Be||!(V in we))&&v(we,V,re[V]);else r({target:Y,proto:!0,forced:E||Be},re);return(!w||ee)&&we[T]!==te&&v(we,T,te,{name:oe}),c[Y]=te,re}},1488:function(y,M,l){var r=l(7545),w=l(4500),A=l(9207),D=l(2760).f;y.exports=function(O){var N=r.Symbol||(r.Symbol={});w(N,O)||D(N,O,{value:A.f(O)})}},69:function(y,M,l){var r=l(6192);y.exports=!r(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},7449:function(y,M,l){var r=l(8576),w=l(5744),A=r.document,D=w(A)&&w(A.createElement);y.exports=function(O){return D?A.createElement(O):{}}},7365:function(y){y.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},2957:function(y){y.exports=typeof window=="object"},9347:function(y,M,l){var r=l(8989),w=l(8576);y.exports=/ipad|iphone|ipod/i.test(r)&&w.Pebble!==void 0},9536:function(y,M,l){var r=l(8989);y.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(r)},224:function(y,M,l){var r=l(9272),w=l(8576);y.exports=r(w.process)=="process"},5914:function(y,M,l){var r=l(8989);y.exports=/web0s(?!.*chrome)/i.test(r)},8989:function(y,M,l){var r=l(150);y.exports=r("navigator","userAgent")||""},4218:function(y,M,l){var r=l(8576),w=l(8989),A=r.process,D=r.Deno,O=A&&A.versions||D&&D.version,N=O&&O.v8,p,a;N?(p=N.split("."),a=p[0]<4?1:p[0]+p[1]):w&&(p=w.match(/Edge\/(\d+)/),(!p||p[1]>=74)&&(p=w.match(/Chrome\/(\d+)/),p&&(a=p[1]))),y.exports=a&&+a},5607:function(y,M,l){var r=l(7545);y.exports=function(w){return r[w+"Prototype"]}},2952:function(y){y.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},3085:function(y,M,l){var r=l(8576),w=l(6447),A=l(5141).f,D=l(9245),O=l(7545),N=l(8043),p=l(8711),a=l(4500),m=function(v){var o=function(c,s,g){if(this instanceof v){switch(arguments.length){case 0:return new v;case 1:return new v(c);case 2:return new v(c,s)}return new v(c,s,g)}return v.apply(this,arguments)};return o.prototype=v.prototype,o};y.exports=function(v,o){var c=v.target,s=v.global,g=v.stat,x=v.proto,h=s?r:g?r[c]:(r[c]||{}).prototype,E=s?O:O[c]||p(O,c,{})[c],T=E.prototype,k,L,F,U,G,Y,K,he,oe;for(U in o)k=D(s?U:c+(g?".":"#")+U,v.forced),L=!k&&h&&a(h,U),Y=E[U],L&&(v.noTargetGet?(oe=A(h,U),K=oe&&oe.value):K=h[U]),G=L&&K?K:o[U],!(L&&typeof Y==typeof G)&&(v.bind&&L?he=N(G,r):v.wrap&&L?he=m(G):x&&w(G)?he=N(Function.call,G):he=G,(v.sham||G&&G.sham||Y&&Y.sham)&&p(he,"sham",!0),p(E,U,he),x&&(F=c+"Prototype",a(O,F)||p(O,F,{}),p(O[F],U,G),v.real&&T&&!T[U]&&p(T,U,G)))}},6192:function(y){y.exports=function(M){try{return!!M()}catch{return!0}}},8043:function(y,M,l){var r=l(6235);y.exports=function(w,A,D){if(r(w),A===void 0)return w;switch(D){case 0:return function(){return w.call(A)};case 1:return function(O){return w.call(A,O)};case 2:return function(O,N){return w.call(A,O,N)};case 3:return function(O,N,p){return w.call(A,O,N,p)}}return function(){return w.apply(A,arguments)}}},6782:function(y,M,l){var r=l(6235),w=l(5744),A=[].slice,D={},O=function(N,p,a){if(!(p in D)){for(var m=[],v=0;v<p;v++)m[v]="a["+v+"]";D[p]=Function("C,a","return new C("+m.join(",")+")")}return D[p](N,a)};y.exports=Function.bind||function(p){var a=r(this),m=A.call(arguments,1),v=function(){var c=m.concat(A.call(arguments));return this instanceof v?O(a,c.length,c):a.apply(p,c)};return w(a.prototype)&&(v.prototype=a.prototype),v}},2282:function(y,M,l){var r=l(69),w=l(4500),A=Function.prototype,D=r&&Object.getOwnPropertyDescriptor,O=w(A,"name"),N=O&&(function(){}).name==="something",p=O&&(!r||r&&D(A,"name").configurable);y.exports={EXISTS:O,PROPER:N,CONFIGURABLE:p}},150:function(y,M,l){var r=l(7545),w=l(8576),A=l(6447),D=function(O){return A(O)?O:void 0};y.exports=function(O,N){return arguments.length<2?D(r[O])||D(w[O]):r[O]&&r[O][N]||w[O]&&w[O][N]}},8703:function(y,M,l){var r=l(4696),w=l(5037),A=l(7771),D=l(8182),O=D("iterator");y.exports=function(N){if(N!=null)return w(N,O)||w(N,"@@iterator")||A[r(N)]}},1669:function(y,M,l){var r=l(6235),w=l(1138),A=l(8703);y.exports=function(D,O){var N=arguments.length<2?A(D):O;if(r(N))return w(N.call(D));throw TypeError(String(D)+" is not iterable")}},5037:function(y,M,l){var r=l(6235);y.exports=function(w,A){var D=w[A];return D==null?void 0:r(D)}},8576:function(y,M,l){var r=function(w){return w&&w.Math==Math&&w};y.exports=r(typeof globalThis=="object"&&globalThis)||r(typeof window=="object"&&window)||r(typeof self=="object"&&self)||r(typeof l.g=="object"&&l.g)||function(){return this}()||Function("return this")()},4500:function(y,M,l){var r=l(1795),w={}.hasOwnProperty;y.exports=Object.hasOwn||function(D,O){return w.call(r(D),O)}},4535:function(y){y.exports={}},3681:function(y,M,l){var r=l(8576);y.exports=function(w,A){var D=r.console;D&&D.error&&(arguments.length===1?D.error(w):D.error(w,A))}},7403:function(y,M,l){var r=l(150);y.exports=r("document","documentElement")},188:function(y,M,l){var r=l(69),w=l(6192),A=l(7449);y.exports=!r&&!w(function(){return Object.defineProperty(A("div"),"a",{get:function(){return 7}}).a!=7})},2202:function(y,M,l){var r=l(6192),w=l(9272),A="".split;y.exports=r(function(){return!Object("z").propertyIsEnumerable(0)})?function(D){return w(D)=="String"?A.call(D,""):Object(D)}:Object},9516:function(y,M,l){var r=l(6447),w=l(6434),A=Function.toString;r(w.inspectSource)||(w.inspectSource=function(D){return A.call(D)}),y.exports=w.inspectSource},273:function(y,M,l){var r=l(5744),w=l(8711);y.exports=function(A,D){r(D)&&"cause"in D&&w(A,"cause",A.cause)}},3326:function(y,M,l){var r=l(8921),w=l(8576),A=l(5744),D=l(8711),O=l(4500),N=l(6434),p=l(9766),a=l(4535),m="Object already initialized",v=w.WeakMap,o,c,s,g=function(F){return s(F)?c(F):o(F,{})},x=function(F){return function(U){var G;if(!A(U)||(G=c(U)).type!==F)throw TypeError("Incompatible receiver, "+F+" required");return G}};if(r||N.state){var h=N.state||(N.state=new v),E=h.get,T=h.has,k=h.set;o=function(F,U){if(T.call(h,F))throw new TypeError(m);return U.facade=F,k.call(h,F,U),U},c=function(F){return E.call(h,F)||{}},s=function(F){return T.call(h,F)}}else{var L=p("state");a[L]=!0,o=function(F,U){if(O(F,L))throw new TypeError(m);return U.facade=F,D(F,L,U),U},c=function(F){return O(F,L)?F[L]:{}},s=function(F){return O(F,L)}}y.exports={set:o,get:c,has:s,enforce:g,getterFor:x}},6109:function(y,M,l){var r=l(8182),w=l(7771),A=r("iterator"),D=Array.prototype;y.exports=function(O){return O!==void 0&&(w.Array===O||D[A]===O)}},4770:function(y,M,l){var r=l(9272);y.exports=Array.isArray||function(A){return r(A)=="Array"}},6447:function(y){y.exports=function(M){return typeof M=="function"}},2091:function(y,M,l){var r=l(6192),w=l(6447),A=l(4696),D=l(150),O=l(9516),N=[],p=D("Reflect","construct"),a=/^\s*(?:class|function)\b/,m=a.exec,v=!a.exec(function(){}),o=function(s){if(!w(s))return!1;try{return p(Object,N,s),!0}catch{return!1}},c=function(s){if(!w(s))return!1;switch(A(s)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}return v||!!m.call(a,O(s))};y.exports=!p||r(function(){var s;return o(o.call)||!o(Object)||!o(function(){s=!0})||s})?c:o},9245:function(y,M,l){var r=l(6192),w=l(6447),A=/#|\.prototype\./,D=function(m,v){var o=N[O(m)];return o==a?!0:o==p?!1:w(v)?r(v):!!v},O=D.normalize=function(m){return String(m).replace(A,".").toLowerCase()},N=D.data={},p=D.NATIVE="N",a=D.POLYFILL="P";y.exports=D},5744:function(y,M,l){var r=l(6447);y.exports=function(w){return typeof w=="object"?w!==null:r(w)}},5546:function(y){y.exports=!0},3236:function(y,M,l){var r=l(6447),w=l(150),A=l(615);y.exports=A?function(D){return typeof D=="symbol"}:function(D){var O=w("Symbol");return r(O)&&Object(D)instanceof O}},3442:function(y,M,l){var r=l(1138),w=l(6109),A=l(4104),D=l(8043),O=l(1669),N=l(8703),p=l(6639),a=function(m,v){this.stopped=m,this.result=v};y.exports=function(m,v,o){var c=o&&o.that,s=!!(o&&o.AS_ENTRIES),g=!!(o&&o.IS_ITERATOR),x=!!(o&&o.INTERRUPTED),h=D(v,c,1+s+x),E,T,k,L,F,U,G,Y=function(he){return E&&p(E,"normal",he),new a(!0,he)},K=function(he){return s?(r(he),x?h(he[0],he[1],Y):h(he[0],he[1])):x?h(he,Y):h(he)};if(g)E=m;else{if(T=N(m),!T)throw TypeError(String(m)+" is not iterable");if(w(T)){for(k=0,L=A(m);L>k;k++)if(F=K(m[k]),F&&F instanceof a)return F;return new a(!1)}E=O(m,T)}for(U=E.next;!(G=U.call(E)).done;){try{F=K(G.value)}catch(he){p(E,"throw",he)}if(typeof F=="object"&&F&&F instanceof a)return F}return new a(!1)}},6639:function(y,M,l){var r=l(1138),w=l(5037);y.exports=function(A,D,O){var N,p;r(A);try{if(N=w(A,"return"),!N){if(D==="throw")throw O;return O}N=N.call(A)}catch(a){p=!0,N=a}if(D==="throw")throw O;if(p)throw N;return r(N),O}},4413:function(y,M,l){var r=l(6192),w=l(6447),A=l(2853),D=l(9341),O=l(9482),N=l(8182),p=l(5546),a=N("iterator"),m=!1,v,o,c;[].keys&&(c=[].keys(),"next"in c?(o=D(D(c)),o!==Object.prototype&&(v=o)):m=!0);var s=v==null||r(function(){var g={};return v[a].call(g)!==g});s?v={}:p&&(v=A(v)),w(v[a])||O(v,a,function(){return this}),y.exports={IteratorPrototype:v,BUGGY_SAFARI_ITERATORS:m}},7771:function(y){y.exports={}},4104:function(y,M,l){var r=l(8445);y.exports=function(w){return r(w.length)}},2950:function(y,M,l){var r=l(8576),w=l(5141).f,A=l(7160).set,D=l(9536),O=l(9347),N=l(5914),p=l(224),a=r.MutationObserver||r.WebKitMutationObserver,m=r.document,v=r.process,o=r.Promise,c=w(r,"queueMicrotask"),s=c&&c.value,g,x,h,E,T,k,L,F;s||(g=function(){var U,G;for(p&&(U=v.domain)&&U.exit();x;){G=x.fn,x=x.next;try{G()}catch(Y){throw x?E():h=void 0,Y}}h=void 0,U&&U.enter()},!D&&!p&&!N&&a&&m?(T=!0,k=m.createTextNode(""),new a(g).observe(k,{characterData:!0}),E=function(){k.data=T=!T}):!O&&o&&o.resolve?(L=o.resolve(void 0),L.constructor=o,F=L.then,E=function(){F.call(L,g)}):p?E=function(){v.nextTick(g)}:E=function(){A.call(r,g)}),y.exports=s||function(U){var G={fn:U,next:void 0};h&&(h.next=G),x||(x=G,E()),h=G}},4471:function(y,M,l){var r=l(8576);y.exports=r.Promise},3045:function(y,M,l){var r=l(4218),w=l(6192);y.exports=!!Object.getOwnPropertySymbols&&!w(function(){var A=Symbol();return!String(A)||!(Object(A)instanceof Symbol)||!Symbol.sham&&r&&r<41})},4551:function(y,M,l){var r=l(6192),w=l(8182),A=l(5546),D=w("iterator");y.exports=!r(function(){var O=new URL("b?a=1&b=2&c=3","http://a"),N=O.searchParams,p="";return O.pathname="c%20d",N.forEach(function(a,m){N.delete("b"),p+=m+a}),A&&!O.toJSON||!N.sort||O.href!=="http://a/c%20d?a=1&c=3"||N.get("c")!=="3"||String(new URLSearchParams("?a=1"))!=="a=1"||!N[D]||new URL("https://a@b").username!=="a"||new URLSearchParams(new URLSearchParams("a=b")).get("a")!=="b"||new URL("http://").host!=="xn--e1aybc"||new URL("http://a#").hash!=="#%D0%B1"||p!=="a1c3"||new URL("http://x",void 0).host!=="x"})},8921:function(y,M,l){var r=l(8576),w=l(6447),A=l(9516),D=r.WeakMap;y.exports=w(D)&&/native code/.test(A(D))},9438:function(y,M,l){var r=l(6235),w=function(A){var D,O;this.promise=new A(function(N,p){if(D!==void 0||O!==void 0)throw TypeError("Bad Promise constructor");D=N,O=p}),this.resolve=r(D),this.reject=r(O)};y.exports.f=function(A){return new w(A)}},15:function(y,M,l){var r=l(8576),w=l(6192),A=l(4845),D=l(4277).trim,O=l(1450),N=r.parseFloat,p=r.Symbol,a=p&&p.iterator,m=1/N(O+"-0")!==-1/0||a&&!w(function(){N(Object(a))});y.exports=m?function(o){var c=D(A(o)),s=N(c);return s===0&&c.charAt(0)=="-"?-0:s}:N},2558:function(y,M,l){var r=l(8576),w=l(6192),A=l(4845),D=l(4277).trim,O=l(1450),N=r.parseInt,p=r.Symbol,a=p&&p.iterator,m=/^[+-]?0[Xx]/,v=N(O+"08")!==8||N(O+"0x16")!==22||a&&!w(function(){N(Object(a))});y.exports=v?function(c,s){var g=D(A(c));return N(g,s>>>0||(m.test(g)?16:10))}:N},2503:function(y,M,l){var r=l(69),w=l(6192),A=l(7653),D=l(4750),O=l(6007),N=l(1795),p=l(2202),a=Object.assign,m=Object.defineProperty;y.exports=!a||w(function(){if(r&&a({b:1},a(m({},"a",{enumerable:!0,get:function(){m(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var v={},o={},c=Symbol(),s="abcdefghijklmnopqrst";return v[c]=7,s.split("").forEach(function(g){o[g]=g}),a({},v)[c]!=7||A(a({},o)).join("")!=s})?function(o,c){for(var s=N(o),g=arguments.length,x=1,h=D.f,E=O.f;g>x;)for(var T=p(arguments[x++]),k=h?A(T).concat(h(T)):A(T),L=k.length,F=0,U;L>F;)U=k[F++],(!r||E.call(T,U))&&(s[U]=T[U]);return s}:a},2853:function(y,M,l){var r=l(1138),w=l(1187),A=l(2952),D=l(4535),O=l(7403),N=l(7449),p=l(9766),a=">",m="<",v="prototype",o="script",c=p("IE_PROTO"),s=function(){},g=function(k){return m+o+a+k+m+"/"+o+a},x=function(k){k.write(g("")),k.close();var L=k.parentWindow.Object;return k=null,L},h=function(){var k=N("iframe"),L="java"+o+":",F;return k.style.display="none",O.appendChild(k),k.src=String(L),F=k.contentWindow.document,F.open(),F.write(g("document.F=Object")),F.close(),F.F},E,T=function(){try{E=new ActiveXObject("htmlfile")}catch{}T=typeof document<"u"?document.domain&&E?x(E):h():x(E);for(var k=A.length;k--;)delete T[v][A[k]];return T()};D[c]=!0,y.exports=Object.create||function(L,F){var U;return L!==null?(s[v]=r(L),U=new s,s[v]=null,U[c]=L):U=T(),F===void 0?U:w(U,F)}},1187:function(y,M,l){var r=l(69),w=l(2760),A=l(1138),D=l(7653);y.exports=r?Object.defineProperties:function(N,p){A(N);for(var a=D(p),m=a.length,v=0,o;m>v;)w.f(N,o=a[v++],p[o]);return N}},2760:function(y,M,l){var r=l(69),w=l(188),A=l(1138),D=l(77),O=Object.defineProperty;M.f=r?O:function(p,a,m){if(A(p),a=D(a),A(m),w)try{return O(p,a,m)}catch{}if("get"in m||"set"in m)throw TypeError("Accessors not supported");return"value"in m&&(p[a]=m.value),p}},5141:function(y,M,l){var r=l(69),w=l(6007),A=l(774),D=l(101),O=l(77),N=l(4500),p=l(188),a=Object.getOwnPropertyDescriptor;M.f=r?a:function(v,o){if(v=D(v),o=O(o),p)try{return a(v,o)}catch{}if(N(v,o))return A(!w.f.call(v,o),v[o])}},4052:function(y,M,l){var r=l(101),w=l(2092).f,A={}.toString,D=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],O=function(N){try{return w(N)}catch{return D.slice()}};y.exports.f=function(p){return D&&A.call(p)=="[object Window]"?O(p):w(r(p))}},2092:function(y,M,l){var r=l(7934),w=l(2952),A=w.concat("length","prototype");M.f=Object.getOwnPropertyNames||function(O){return r(O,A)}},4750:function(y,M){M.f=Object.getOwnPropertySymbols},9341:function(y,M,l){var r=l(4500),w=l(6447),A=l(1795),D=l(9766),O=l(4635),N=D("IE_PROTO"),p=Object.prototype;y.exports=O?Object.getPrototypeOf:function(a){var m=A(a);if(r(m,N))return m[N];var v=m.constructor;return w(v)&&m instanceof v?v.prototype:m instanceof Object?p:null}},7934:function(y,M,l){var r=l(4500),w=l(101),A=l(8180).indexOf,D=l(4535);y.exports=function(O,N){var p=w(O),a=0,m=[],v;for(v in p)!r(D,v)&&r(p,v)&&m.push(v);for(;N.length>a;)r(p,v=N[a++])&&(~A(m,v)||m.push(v));return m}},7653:function(y,M,l){var r=l(7934),w=l(2952);y.exports=Object.keys||function(D){return r(D,w)}},6007:function(y,M){var l={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,w=r&&!l.call({1:2},1);M.f=w?function(D){var O=r(this,D);return!!O&&O.enumerable}:l},4469:function(y,M,l){var r=l(1138),w=l(7757);y.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var A=!1,D={},O;try{O=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set,O.call(D,[]),A=D instanceof Array}catch{}return function(p,a){return r(p),w(a),A?O.call(p,a):p.__proto__=a,p}}():void 0)},158:function(y,M,l){var r=l(3471),w=l(4696);y.exports=r?{}.toString:function(){return"[object "+w(this)+"]"}},380:function(y,M,l){var r=l(6447),w=l(5744);y.exports=function(A,D){var O,N;if(D==="string"&&r(O=A.toString)&&!w(N=O.call(A))||r(O=A.valueOf)&&!w(N=O.call(A))||D!=="string"&&r(O=A.toString)&&!w(N=O.call(A)))return N;throw TypeError("Can't convert object to primitive value")}},7545:function(y){y.exports={}},892:function(y){y.exports=function(M){try{return{error:!1,value:M()}}catch(l){return{error:!0,value:l}}}},9126:function(y,M,l){var r=l(1138),w=l(5744),A=l(9438);y.exports=function(D,O){if(r(D),w(O)&&O.constructor===D)return O;var N=A.f(D),p=N.resolve;return p(O),N.promise}},533:function(y,M,l){var r=l(9482);y.exports=function(w,A,D){for(var O in A)D&&D.unsafe&&w[O]?w[O]=A[O]:r(w,O,A[O],D);return w}},9482:function(y,M,l){var r=l(8711);y.exports=function(w,A,D,O){O&&O.enumerable?w[A]=D:r(w,A,D)}},3209:function(y){y.exports=function(M){if(M==null)throw TypeError("Can't call method on "+M);return M}},7613:function(y,M,l){var r=l(8576);y.exports=function(w,A){try{Object.defineProperty(r,w,{value:A,configurable:!0,writable:!0})}catch{r[w]=A}return A}},3656:function(y,M,l){var r=l(150),w=l(2760),A=l(8182),D=l(69),O=A("species");y.exports=function(N){var p=r(N),a=w.f;D&&p&&!p[O]&&a(p,O,{configurable:!0,get:function(){return this}})}},1284:function(y,M,l){var r=l(3471),w=l(2760).f,A=l(8711),D=l(4500),O=l(158),N=l(8182),p=N("toStringTag");y.exports=function(a,m,v,o){if(a){var c=v?a:a.prototype;D(c,p)||w(c,p,{configurable:!0,value:m}),o&&!r&&A(c,"toString",O)}}},9766:function(y,M,l){var r=l(8717),w=l(2759),A=r("keys");y.exports=function(D){return A[D]||(A[D]=w(D))}},6434:function(y,M,l){var r=l(8576),w=l(7613),A="__core-js_shared__",D=r[A]||w(A,{});y.exports=D},8717:function(y,M,l){var r=l(5546),w=l(6434);(y.exports=function(A,D){return w[A]||(w[A]=D!==void 0?D:{})})("versions",[]).push({version:"3.18.2",mode:r?"pure":"global",copyright:" 2021 Denis Pushkarev (zloirock.ru)"})},4743:function(y,M,l){var r=l(1138),w=l(1404),A=l(8182),D=A("species");y.exports=function(O,N){var p=r(O).constructor,a;return p===void 0||(a=r(p)[D])==null?N:w(a)}},863:function(y,M,l){var r=l(1941),w=l(4845),A=l(3209),D=function(O){return function(N,p){var a=w(A(N)),m=r(p),v=a.length,o,c;return m<0||m>=v?O?"":void 0:(o=a.charCodeAt(m),o<55296||o>56319||m+1===v||(c=a.charCodeAt(m+1))<56320||c>57343?O?a.charAt(m):o:O?a.slice(m,m+2):(o-55296<<10)+(c-56320)+65536)}};y.exports={codeAt:D(!1),charAt:D(!0)}},7977:function(y){var M=2147483647,l=36,r=1,w=26,A=38,D=700,O=72,N=128,p="-",a=/[^\0-\u007E]/,m=/[.\u3002\uFF0E\uFF61]/g,v="Overflow: input needs wider integers to process",o=l-r,c=Math.floor,s=String.fromCharCode,g=function(T){for(var k=[],L=0,F=T.length;L<F;){var U=T.charCodeAt(L++);if(U>=55296&&U<=56319&&L<F){var G=T.charCodeAt(L++);(G&64512)==56320?k.push(((U&1023)<<10)+(G&1023)+65536):(k.push(U),L--)}else k.push(U)}return k},x=function(T){return T+22+75*(T<26)},h=function(T,k,L){var F=0;for(T=L?c(T/D):T>>1,T+=c(T/k);T>o*w>>1;F+=l)T=c(T/o);return c(F+(o+1)*T/(T+A))},E=function(T){var k=[];T=g(T);var L=T.length,F=N,U=0,G=O,Y,K;for(Y=0;Y<T.length;Y++)K=T[Y],K<128&&k.push(s(K));var he=k.length,oe=he;for(he&&k.push(p);oe<L;){var ve=M;for(Y=0;Y<T.length;Y++)K=T[Y],K>=F&&K<ve&&(ve=K);var ee=oe+1;if(ve-F>c((M-U)/ee))throw RangeError(v);for(U+=(ve-F)*ee,F=ve,Y=0;Y<T.length;Y++){if(K=T[Y],K<F&&++U>M)throw RangeError(v);if(K==F){for(var xe=U,Z=l;;Z+=l){var Be=Z<=G?r:Z>=G+w?w:Z-G;if(xe<Be)break;var we=xe-Be,ge=l-Be;k.push(s(x(Be+we%ge))),xe=c(we/ge)}k.push(s(x(xe))),G=h(U,ee,oe==he),U=0,++oe}}++U,++F}return k.join("")};y.exports=function(T){var k=[],L=T.toLowerCase().replace(m,".").split("."),F,U;for(F=0;F<L.length;F++)U=L[F],k.push(a.test(U)?"xn--"+E(U):U);return k.join(".")}},6815:function(y,M,l){var r=l(2282).PROPER,w=l(6192),A=l(1450),D="";y.exports=function(O){return w(function(){return!!A[O]()||D[O]()!==D||r&&A[O].name!==O})}},4277:function(y,M,l){var r=l(3209),w=l(4845),A=l(1450),D="["+A+"]",O=RegExp("^"+D+D+"*"),N=RegExp(D+D+"*$"),p=function(a){return function(m){var v=w(r(m));return a&1&&(v=v.replace(O,"")),a&2&&(v=v.replace(N,"")),v}};y.exports={start:p(1),end:p(2),trim:p(3)}},7160:function(y,M,l){var r=l(8576),w=l(6447),A=l(6192),D=l(8043),O=l(7403),N=l(7449),p=l(9536),a=l(224),m=r.setImmediate,v=r.clearImmediate,o=r.process,c=r.MessageChannel,s=r.Dispatch,g=0,x={},h="onreadystatechange",E,T,k,L;try{E=r.location}catch{}var F=function(K){if(x.hasOwnProperty(K)){var he=x[K];delete x[K],he()}},U=function(K){return function(){F(K)}},G=function(K){F(K.data)},Y=function(K){r.postMessage(String(K),E.protocol+"//"+E.host)};(!m||!v)&&(m=function(he){for(var oe=[],ve=arguments.length,ee=1;ve>ee;)oe.push(arguments[ee++]);return x[++g]=function(){(w(he)?he:Function(he)).apply(void 0,oe)},T(g),g},v=function(he){delete x[he]},a?T=function(K){o.nextTick(U(K))}:s&&s.now?T=function(K){s.now(U(K))}:c&&!p?(k=new c,L=k.port2,k.port1.onmessage=G,T=D(L.postMessage,L,1)):r.addEventListener&&w(r.postMessage)&&!r.importScripts&&E&&E.protocol!=="file:"&&!A(Y)?(T=Y,r.addEventListener("message",G,!1)):h in N("script")?T=function(K){O.appendChild(N("script"))[h]=function(){O.removeChild(this),F(K)}}:T=function(K){setTimeout(U(K),0)}),y.exports={set:m,clear:v}},7739:function(y,M,l){var r=l(1941),w=Math.max,A=Math.min;y.exports=function(D,O){var N=r(D);return N<0?w(N+O,0):A(N,O)}},101:function(y,M,l){var r=l(2202),w=l(3209);y.exports=function(A){return r(w(A))}},1941:function(y){var M=Math.ceil,l=Math.floor;y.exports=function(r){var w=+r;return w!==w||w===0?0:(w>0?l:M)(w)}},8445:function(y,M,l){var r=l(1941),w=Math.min;y.exports=function(A){return A>0?w(r(A),9007199254740991):0}},1795:function(y,M,l){var r=l(3209);y.exports=function(w){return Object(r(w))}},7888:function(y,M,l){var r=l(5744),w=l(3236),A=l(5037),D=l(380),O=l(8182),N=O("toPrimitive");y.exports=function(p,a){if(!r(p)||w(p))return p;var m=A(p,N),v;if(m){if(a===void 0&&(a="default"),v=m.call(p,a),!r(v)||w(v))return v;throw TypeError("Can't convert object to primitive value")}return a===void 0&&(a="number"),D(p,a)}},77:function(y,M,l){var r=l(7888),w=l(3236);y.exports=function(A){var D=r(A,"string");return w(D)?D:String(D)}},3471:function(y,M,l){var r=l(8182),w=r("toStringTag"),A={};A[w]="z",y.exports=String(A)==="[object z]"},4845:function(y,M,l){var r=l(4696);y.exports=function(w){if(r(w)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return String(w)}},9288:function(y){y.exports=function(M){try{return String(M)}catch{return"Object"}}},2759:function(y){var M=0,l=Math.random();y.exports=function(r){return"Symbol("+String(r===void 0?"":r)+")_"+(++M+l).toString(36)}},615:function(y,M,l){var r=l(3045);y.exports=r&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},9207:function(y,M,l){var r=l(8182);M.f=r},8182:function(y,M,l){var r=l(8576),w=l(8717),A=l(4500),D=l(2759),O=l(3045),N=l(615),p=w("wks"),a=r.Symbol,m=N?a:a&&a.withoutSetter||D;y.exports=function(v){return(!A(p,v)||!(O||typeof p[v]=="string"))&&(O&&A(a,v)?p[v]=a[v]:p[v]=m("Symbol."+v)),p[v]}},1450:function(y){y.exports=`	
\v\f\r \u2028\u2029\uFEFF`},4242:function(y,M,l){var r=l(3085),w=l(9341),A=l(4469),D=l(2853),O=l(8711),N=l(774),p=l(273),a=l(3442),m=l(4845),v=function(c,s){var g=this,x=arguments.length>2?arguments[2]:void 0;if(!(g instanceof v))return new v(c,s,x);A&&(g=A(new Error(void 0),w(g))),s!==void 0&&O(g,"message",m(s)),p(g,x);var h=[];return a(c,h.push,{that:h}),O(g,"errors",h),g};v.prototype=D(Error.prototype,{constructor:N(5,v),message:N(5,""),name:N(5,"AggregateError")}),r({global:!0},{AggregateError:v})},9106:function(y,M,l){var r=l(3085),w=l(6192),A=l(4770),D=l(5744),O=l(1795),N=l(4104),p=l(9361),a=l(1321),m=l(242),v=l(8182),o=l(4218),c=v("isConcatSpreadable"),s=9007199254740991,g="Maximum allowed index exceeded",x=o>=51||!w(function(){var k=[];return k[c]=!1,k.concat()[0]!==k}),h=m("concat"),E=function(k){if(!D(k))return!1;var L=k[c];return L!==void 0?!!L:A(k)},T=!x||!h;r({target:"Array",proto:!0,forced:T},{concat:function(L){var F=O(this),U=a(F,0),G=0,Y,K,he,oe,ve;for(Y=-1,he=arguments.length;Y<he;Y++)if(ve=Y===-1?F:arguments[Y],E(ve)){if(oe=N(ve),G+oe>s)throw TypeError(g);for(K=0;K<oe;K++,G++)K in ve&&p(U,G,ve[K])}else{if(G>=s)throw TypeError(g);p(U,G++,ve)}return U.length=G,U}})},1710:function(y,M,l){var r=l(3085),w=l(2724),A=l(7423);r({target:"Array",proto:!0},{fill:w}),A("fill")},3436:function(y,M,l){var r=l(3085),w=l(454).filter,A=l(242),D=A("filter");r({target:"Array",proto:!0,forced:!D},{filter:function(N){return w(this,N,arguments.length>1?arguments[1]:void 0)}})},9823:function(y,M,l){var r=l(3085),w=l(7397);r({target:"Array",proto:!0,forced:[].forEach!=w},{forEach:w})},9173:function(y,M,l){var r=l(3085),w=l(841),A=l(9770),D=!A(function(O){Array.from(O)});r({target:"Array",stat:!0,forced:D},{from:w})},2276:function(y,M,l){var r=l(3085),w=l(8180).indexOf,A=l(424),D=[].indexOf,O=!!D&&1/[1].indexOf(1,-0)<0,N=A("indexOf");r({target:"Array",proto:!0,forced:O||!N},{indexOf:function(a){return O?D.apply(this,arguments)||0:w(this,a,arguments.length>1?arguments[1]:void 0)}})},8118:function(y,M,l){var r=l(3085),w=l(4770);r({target:"Array",stat:!0},{isArray:w})},8939:function(y,M,l){var r=l(101),w=l(7423),A=l(7771),D=l(3326),O=l(7218),N="Array Iterator",p=D.set,a=D.getterFor(N);y.exports=O(Array,"Array",function(m,v){p(this,{type:N,target:r(m),index:0,kind:v})},function(){var m=a(this),v=m.target,o=m.kind,c=m.index++;return!v||c>=v.length?(m.target=void 0,{value:void 0,done:!0}):o=="keys"?{value:c,done:!1}:o=="values"?{value:v[c],done:!1}:{value:[c,v[c]],done:!1}},"values"),A.Arguments=A.Array,w("keys"),w("values"),w("entries")},3838:function(y,M,l){var r=l(3085),w=l(454).map,A=l(242),D=A("map");r({target:"Array",proto:!0,forced:!D},{map:function(N){return w(this,N,arguments.length>1?arguments[1]:void 0)}})},5818:function(y,M,l){var r=l(3085),w=l(4770),A=l(2091),D=l(5744),O=l(7739),N=l(4104),p=l(101),a=l(9361),m=l(8182),v=l(242),o=v("slice"),c=m("species"),s=[].slice,g=Math.max;r({target:"Array",proto:!0,forced:!o},{slice:function(h,E){var T=p(this),k=N(T),L=O(h,k),F=O(E===void 0?k:E,k),U,G,Y;if(w(T)&&(U=T.constructor,A(U)&&(U===Array||w(U.prototype))?U=void 0:D(U)&&(U=U[c],U===null&&(U=void 0)),U===Array||U===void 0))return s.call(T,L,F);for(G=new(U===void 0?Array:U)(g(F-L,0)),Y=0;L<F;L++,Y++)L in T&&a(G,Y,T[L]);return G.length=Y,G}})},2178:function(y,M,l){var r=l(3085),w=l(7739),A=l(1941),D=l(4104),O=l(1795),N=l(1321),p=l(9361),a=l(242),m=a("splice"),v=Math.max,o=Math.min,c=9007199254740991,s="Maximum allowed length exceeded";r({target:"Array",proto:!0,forced:!m},{splice:function(x,h){var E=O(this),T=D(E),k=w(x,T),L=arguments.length,F,U,G,Y,K,he;if(L===0?F=U=0:L===1?(F=0,U=T-k):(F=L-2,U=o(v(A(h),0),T-k)),T+F-U>c)throw TypeError(s);for(G=N(E,U),Y=0;Y<U;Y++)K=k+Y,K in E&&p(G,Y,E[K]);if(G.length=U,F<U){for(Y=k;Y<T-U;Y++)K=Y+U,he=Y+F,K in E?E[he]=E[K]:delete E[he];for(Y=T;Y>T-U+F;Y--)delete E[Y-1]}else if(F>U)for(Y=T-U;Y>k;Y--)K=Y+U-1,he=Y+F-1,K in E?E[he]=E[K]:delete E[he];for(Y=0;Y<F;Y++)E[Y+k]=arguments[Y+2];return E.length=T-U+F,G}})},665:function(y,M,l){var r=l(3085),w=l(6782);r({target:"Function",proto:!0},{bind:w})},8671:function(y,M,l){var r=l(8576),w=l(1284);w(r.JSON,"JSON",!0)},8556:function(){},2666:function(y,M,l){var r=l(3085),w=l(2558);r({target:"Number",stat:!0,forced:Number.parseInt!=w},{parseInt:w})},3113:function(y,M,l){var r=l(3085),w=l(69),A=l(2853);r({target:"Object",stat:!0,sham:!w},{create:A})},297:function(y,M,l){var r=l(3085),w=l(69),A=l(2760);r({target:"Object",stat:!0,forced:!w,sham:!w},{defineProperty:A.f})},9234:function(y,M,l){var r=l(3085),w=l(6192),A=l(1795),D=l(9341),O=l(4635),N=w(function(){D(1)});r({target:"Object",stat:!0,forced:N,sham:!O},{getPrototypeOf:function(a){return D(A(a))}})},2647:function(y,M,l){var r=l(3085),w=l(1795),A=l(7653),D=l(6192),O=D(function(){A(1)});r({target:"Object",stat:!0,forced:O},{keys:function(p){return A(w(p))}})},3222:function(y,M,l){var r=l(3085),w=l(4469);r({target:"Object",stat:!0},{setPrototypeOf:w})},6663:function(){},4859:function(y,M,l){var r=l(3085),w=l(15);r({global:!0,forced:parseFloat!=w},{parseFloat:w})},5706:function(y,M,l){var r=l(3085),w=l(2558);r({global:!0,forced:parseInt!=w},{parseInt:w})},7884:function(y,M,l){var r=l(3085),w=l(6235),A=l(9438),D=l(892),O=l(3442);r({target:"Promise",stat:!0},{allSettled:function(p){var a=this,m=A.f(a),v=m.resolve,o=m.reject,c=D(function(){var s=w(a.resolve),g=[],x=0,h=1;O(p,function(E){var T=x++,k=!1;g.push(void 0),h++,s.call(a,E).then(function(L){k||(k=!0,g[T]={status:"fulfilled",value:L},--h||v(g))},function(L){k||(k=!0,g[T]={status:"rejected",reason:L},--h||v(g))})}),--h||v(g)});return c.error&&o(c.value),m.promise}})},8885:function(y,M,l){var r=l(3085),w=l(6235),A=l(150),D=l(9438),O=l(892),N=l(3442),p="No one promise resolved";r({target:"Promise",stat:!0},{any:function(m){var v=this,o=D.f(v),c=o.resolve,s=o.reject,g=O(function(){var x=w(v.resolve),h=[],E=0,T=1,k=!1;N(m,function(L){var F=E++,U=!1;h.push(void 0),T++,x.call(v,L).then(function(G){U||k||(k=!0,c(G))},function(G){U||k||(U=!0,h[F]=G,--T||s(new(A("AggregateError"))(h,p)))})}),--T||s(new(A("AggregateError"))(h,p))});return g.error&&s(g.value),o.promise}})},1868:function(y,M,l){var r=l(3085),w=l(5546),A=l(4471),D=l(6192),O=l(150),N=l(6447),p=l(4743),a=l(9126),m=l(9482),v=!!A&&D(function(){A.prototype.finally.call({then:function(){}},function(){})});if(r({target:"Promise",proto:!0,real:!0,forced:v},{finally:function(c){var s=p(this,O("Promise")),g=N(c);return this.then(g?function(x){return a(s,c()).then(function(){return x})}:c,g?function(x){return a(s,c()).then(function(){throw x})}:c)}}),!w&&N(A)){var o=O("Promise").prototype.finally;A.prototype.finally!==o&&m(A.prototype,"finally",o,{unsafe:!0})}},9021:function(y,M,l){var r=l(3085),w=l(5546),A=l(8576),D=l(150),O=l(4471),N=l(9482),p=l(533),a=l(4469),m=l(1284),v=l(3656),o=l(6235),c=l(6447),s=l(5744),g=l(6961),x=l(9516),h=l(3442),E=l(9770),T=l(4743),k=l(7160).set,L=l(2950),F=l(9126),U=l(3681),G=l(9438),Y=l(892),K=l(3326),he=l(9245),oe=l(8182),ve=l(2957),ee=l(224),xe=l(4218),Z=oe("species"),Be="Promise",we=K.get,ge=K.set,te=K.getterFor(Be),ae=O&&O.prototype,ne=O,re=ae,V=A.TypeError,H=A.document,W=A.process,J=G.f,Q=J,se=!!(H&&H.createEvent&&A.dispatchEvent),fe=c(A.PromiseRejectionEvent),ye="unhandledrejection",Se="rejectionhandled",me=0,ue=1,ie=2,le=1,de=2,pe=!1,_e,Oe,Ge,Ye,Te=he(Be,function(){var Ne=x(ne),je=Ne!==String(ne);if(!je&&xe===66||w&&!re.finally)return!0;if(xe>=51&&/native code/.test(Ne))return!1;var Ve=new ne(function(He){He(1)}),Qe=function(He){He(function(){},function(){})},nt=Ve.constructor={};return nt[Z]=Qe,pe=Ve.then(function(){})instanceof Qe,pe?!je&&ve&&!fe:!0}),Je=Te||!E(function(Ne){ne.all(Ne).catch(function(){})}),et=function(Ne){var je;return s(Ne)&&c(je=Ne.then)?je:!1},ut=function(Ne,je){if(!Ne.notified){Ne.notified=!0;var Ve=Ne.reactions;L(function(){for(var Qe=Ne.value,nt=Ne.state==ue,He=0;Ve.length>He;){var Qt=Ve[He++],en=nt?Qt.ok:Qt.fail,tt=Qt.resolve,ke=Qt.reject,zt=Qt.domain,_t,At,En;try{en?(nt||(Ne.rejection===de&&yt(Ne),Ne.rejection=le),en===!0?_t=Qe:(zt&&zt.enter(),_t=en(Qe),zt&&(zt.exit(),En=!0)),_t===Qt.promise?ke(V("Promise-chain cycle")):(At=et(_t))?At.call(_t,tt,ke):tt(_t)):ke(Qe)}catch(Sn){zt&&!En&&zt.exit(),ke(Sn)}}Ne.reactions=[],Ne.notified=!1,je&&!Ne.rejection&&mt(Ne)})}},St=function(Ne,je,Ve){var Qe,nt;se?(Qe=H.createEvent("Event"),Qe.promise=je,Qe.reason=Ve,Qe.initEvent(Ne,!1,!0),A.dispatchEvent(Qe)):Qe={promise:je,reason:Ve},!fe&&(nt=A["on"+Ne])?nt(Qe):Ne===ye&&U("Unhandled promise rejection",Ve)},mt=function(Ne){k.call(A,function(){var je=Ne.facade,Ve=Ne.value,Qe=wt(Ne),nt;if(Qe&&(nt=Y(function(){ee?W.emit("unhandledRejection",Ve,je):St(ye,je,Ve)}),Ne.rejection=ee||wt(Ne)?de:le,nt.error))throw nt.value})},wt=function(Ne){return Ne.rejection!==le&&!Ne.parent},yt=function(Ne){k.call(A,function(){var je=Ne.facade;ee?W.emit("rejectionHandled",je):St(Se,je,Ne.value)})},Pt=function(Ne,je,Ve){return function(Qe){Ne(je,Qe,Ve)}},Kt=function(Ne,je,Ve){Ne.done||(Ne.done=!0,Ve&&(Ne=Ve),Ne.value=je,Ne.state=ie,ut(Ne,!0))},sn=function(Ne,je,Ve){if(!Ne.done){Ne.done=!0,Ve&&(Ne=Ve);try{if(Ne.facade===je)throw V("Promise can't be resolved itself");var Qe=et(je);Qe?L(function(){var nt={done:!1};try{Qe.call(je,Pt(sn,nt,Ne),Pt(Kt,nt,Ne))}catch(He){Kt(nt,He,Ne)}}):(Ne.value=je,Ne.state=ue,ut(Ne,!1))}catch(nt){Kt({done:!1},nt,Ne)}}};if(Te&&(ne=function(je){g(this,ne,Be),o(je),_e.call(this);var Ve=we(this);try{je(Pt(sn,Ve),Pt(Kt,Ve))}catch(Qe){Kt(Ve,Qe)}},re=ne.prototype,_e=function(je){ge(this,{type:Be,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:me,value:void 0})},_e.prototype=p(re,{then:function(je,Ve){var Qe=te(this),nt=J(T(this,ne));return nt.ok=c(je)?je:!0,nt.fail=c(Ve)&&Ve,nt.domain=ee?W.domain:void 0,Qe.parent=!0,Qe.reactions.push(nt),Qe.state!=me&&ut(Qe,!1),nt.promise},catch:function(Ne){return this.then(void 0,Ne)}}),Oe=function(){var Ne=new _e,je=we(Ne);this.promise=Ne,this.resolve=Pt(sn,je),this.reject=Pt(Kt,je)},G.f=J=function(Ne){return Ne===ne||Ne===Ge?new Oe(Ne):Q(Ne)},!w&&c(O)&&ae!==Object.prototype)){Ye=ae.then,pe||(N(ae,"then",function(je,Ve){var Qe=this;return new ne(function(nt,He){Ye.call(Qe,nt,He)}).then(je,Ve)},{unsafe:!0}),N(ae,"catch",re.catch,{unsafe:!0}));try{delete ae.constructor}catch{}a&&a(ae,re)}r({global:!0,wrap:!0,forced:Te},{Promise:ne}),m(ne,Be,!1,!0),v(Be),Ge=D(Be),r({target:Be,stat:!0,forced:Te},{reject:function(je){var Ve=J(this);return Ve.reject.call(void 0,je),Ve.promise}}),r({target:Be,stat:!0,forced:w||Te},{resolve:function(je){return F(w&&this===Ge?ne:this,je)}}),r({target:Be,stat:!0,forced:Je},{all:function(je){var Ve=this,Qe=J(Ve),nt=Qe.resolve,He=Qe.reject,Qt=Y(function(){var en=o(Ve.resolve),tt=[],ke=0,zt=1;h(je,function(_t){var At=ke++,En=!1;tt.push(void 0),zt++,en.call(Ve,_t).then(function(Sn){En||(En=!0,tt[At]=Sn,--zt||nt(tt))},He)}),--zt||nt(tt)});return Qt.error&&He(Qt.value),Qe.promise},race:function(je){var Ve=this,Qe=J(Ve),nt=Qe.reject,He=Y(function(){var Qt=o(Ve.resolve);h(je,function(en){Qt.call(Ve,en).then(Qe.resolve,nt)})});return He.error&&nt(He.value),Qe.promise}})},5397:function(y,M,l){var r=l(3085),w=l(150),A=l(1404),D=l(1138),O=l(5744),N=l(2853),p=l(6782),a=l(6192),m=w("Reflect","construct"),v=a(function(){function s(){}return!(m(function(){},[],s)instanceof s)}),o=!a(function(){m(function(){})}),c=v||o;r({target:"Reflect",stat:!0,forced:c,sham:c},{construct:function(g,x){A(g),D(x);var h=arguments.length<3?g:A(arguments[2]);if(o&&!v)return m(g,x,h);if(g==h){switch(x.length){case 0:return new g;case 1:return new g(x[0]);case 2:return new g(x[0],x[1]);case 3:return new g(x[0],x[1],x[2]);case 4:return new g(x[0],x[1],x[2],x[3])}var E=[null];return E.push.apply(E,x),new(p.apply(g,E))}var T=h.prototype,k=N(O(T)?T:Object.prototype),L=Function.apply.call(g,k,x);return O(L)?L:k}})},1367:function(){},5454:function(y,M,l){var r=l(863).charAt,w=l(4845),A=l(3326),D=l(7218),O="String Iterator",N=A.set,p=A.getterFor(O);D(String,"String",function(a){N(this,{type:O,string:w(a),index:0})},function(){var m=p(this),v=m.string,o=m.index,c;return o>=v.length?{value:void 0,done:!0}:(c=r(v,o),m.index+=c.length,{value:c,done:!1})})},957:function(y,M,l){var r=l(3085),w=l(4277).trim,A=l(6815);r({target:"String",proto:!0,forced:A("trim")},{trim:function(){return w(this)}})},9781:function(y,M,l){var r=l(1488);r("asyncIterator")},492:function(){},6681:function(y,M,l){var r=l(1488);r("hasInstance")},9594:function(y,M,l){var r=l(1488);r("isConcatSpreadable")},3665:function(y,M,l){var r=l(1488);r("iterator")},6187:function(y,M,l){var r=l(3085),w=l(8576),A=l(150),D=l(5546),O=l(69),N=l(3045),p=l(6192),a=l(4500),m=l(4770),v=l(6447),o=l(5744),c=l(3236),s=l(1138),g=l(1795),x=l(101),h=l(77),E=l(4845),T=l(774),k=l(2853),L=l(7653),F=l(2092),U=l(4052),G=l(4750),Y=l(5141),K=l(2760),he=l(6007),oe=l(9482),ve=l(8717),ee=l(9766),xe=l(4535),Z=l(2759),Be=l(8182),we=l(9207),ge=l(1488),te=l(1284),ae=l(3326),ne=l(454).forEach,re=ee("hidden"),V="Symbol",H="prototype",W=Be("toPrimitive"),J=ae.set,Q=ae.getterFor(V),se=Object[H],fe=w.Symbol,ye=A("JSON","stringify"),Se=Y.f,me=K.f,ue=U.f,ie=he.f,le=ve("symbols"),de=ve("op-symbols"),pe=ve("string-to-symbol-registry"),_e=ve("symbol-to-string-registry"),Oe=ve("wks"),Ge=w.QObject,Ye=!Ge||!Ge[H]||!Ge[H].findChild,Te=O&&p(function(){return k(me({},"a",{get:function(){return me(this,"a",{value:7}).a}})).a!=7})?function(Ne,je,Ve){var Qe=Se(se,je);Qe&&delete se[je],me(Ne,je,Ve),Qe&&Ne!==se&&me(se,je,Qe)}:me,Je=function(Ne,je){var Ve=le[Ne]=k(fe[H]);return J(Ve,{type:V,tag:Ne,description:je}),O||(Ve.description=je),Ve},et=function(je,Ve,Qe){je===se&&et(de,Ve,Qe),s(je);var nt=h(Ve);return s(Qe),a(le,nt)?(Qe.enumerable?(a(je,re)&&je[re][nt]&&(je[re][nt]=!1),Qe=k(Qe,{enumerable:T(0,!1)})):(a(je,re)||me(je,re,T(1,{})),je[re][nt]=!0),Te(je,nt,Qe)):me(je,nt,Qe)},ut=function(je,Ve){s(je);var Qe=x(Ve),nt=L(Qe).concat(Pt(Qe));return ne(nt,function(He){(!O||mt.call(Qe,He))&&et(je,He,Qe[He])}),je},St=function(je,Ve){return Ve===void 0?k(je):ut(k(je),Ve)},mt=function(je){var Ve=h(je),Qe=ie.call(this,Ve);return this===se&&a(le,Ve)&&!a(de,Ve)?!1:Qe||!a(this,Ve)||!a(le,Ve)||a(this,re)&&this[re][Ve]?Qe:!0},wt=function(je,Ve){var Qe=x(je),nt=h(Ve);if(!(Qe===se&&a(le,nt)&&!a(de,nt))){var He=Se(Qe,nt);return He&&a(le,nt)&&!(a(Qe,re)&&Qe[re][nt])&&(He.enumerable=!0),He}},yt=function(je){var Ve=ue(x(je)),Qe=[];return ne(Ve,function(nt){!a(le,nt)&&!a(xe,nt)&&Qe.push(nt)}),Qe},Pt=function(je){var Ve=je===se,Qe=ue(Ve?de:x(je)),nt=[];return ne(Qe,function(He){a(le,He)&&(!Ve||a(se,He))&&nt.push(le[He])}),nt};if(N||(fe=function(){if(this instanceof fe)throw TypeError("Symbol is not a constructor");var je=!arguments.length||arguments[0]===void 0?void 0:E(arguments[0]),Ve=Z(je),Qe=function(nt){this===se&&Qe.call(de,nt),a(this,re)&&a(this[re],Ve)&&(this[re][Ve]=!1),Te(this,Ve,T(1,nt))};return O&&Ye&&Te(se,Ve,{configurable:!0,set:Qe}),Je(Ve,je)},oe(fe[H],"toString",function(){return Q(this).tag}),oe(fe,"withoutSetter",function(Ne){return Je(Z(Ne),Ne)}),he.f=mt,K.f=et,Y.f=wt,F.f=U.f=yt,G.f=Pt,we.f=function(Ne){return Je(Be(Ne),Ne)},O&&(me(fe[H],"description",{configurable:!0,get:function(){return Q(this).description}}),D||oe(se,"propertyIsEnumerable",mt,{unsafe:!0}))),r({global:!0,wrap:!0,forced:!N,sham:!N},{Symbol:fe}),ne(L(Oe),function(Ne){ge(Ne)}),r({target:V,stat:!0,forced:!N},{for:function(Ne){var je=E(Ne);if(a(pe,je))return pe[je];var Ve=fe(je);return pe[je]=Ve,_e[Ve]=je,Ve},keyFor:function(je){if(!c(je))throw TypeError(je+" is not a symbol");if(a(_e,je))return _e[je]},useSetter:function(){Ye=!0},useSimple:function(){Ye=!1}}),r({target:"Object",stat:!0,forced:!N,sham:!O},{create:St,defineProperty:et,defineProperties:ut,getOwnPropertyDescriptor:wt}),r({target:"Object",stat:!0,forced:!N},{getOwnPropertyNames:yt,getOwnPropertySymbols:Pt}),r({target:"Object",stat:!0,forced:p(function(){G.f(1)})},{getOwnPropertySymbols:function(je){return G.f(g(je))}}),ye){var Kt=!N||p(function(){var Ne=fe();return ye([Ne])!="[null]"||ye({a:Ne})!="{}"||ye(Object(Ne))!="{}"});r({target:"JSON",stat:!0,forced:Kt},{stringify:function(je,Ve,Qe){for(var nt=[je],He=1,Qt;arguments.length>He;)nt.push(arguments[He++]);if(Qt=Ve,!(!o(Ve)&&je===void 0||c(je)))return m(Ve)||(Ve=function(en,tt){if(v(Qt)&&(tt=Qt.call(this,en,tt)),!c(tt))return tt}),nt[1]=Ve,ye.apply(null,nt)}})}if(!fe[H][W]){var sn=fe[H].valueOf;oe(fe[H],W,function(){return sn.apply(this,arguments)})}te(fe,V),xe[re]=!0},1250:function(y,M,l){var r=l(1488);r("matchAll")},9017:function(y,M,l){var r=l(1488);r("match")},9786:function(y,M,l){var r=l(1488);r("replace")},503:function(y,M,l){var r=l(1488);r("search")},6565:function(y,M,l){var r=l(1488);r("species")},9322:function(y,M,l){var r=l(1488);r("split")},3610:function(y,M,l){var r=l(1488);r("toPrimitive")},6886:function(y,M,l){var r=l(1488);r("toStringTag")},3514:function(y,M,l){var r=l(1488);r("unscopables")},177:function(y,M,l){var r=l(1488);r("asyncDispose")},9031:function(y,M,l){var r=l(1488);r("dispose")},6658:function(y,M,l){var r=l(1488);r("matcher")},1875:function(y,M,l){var r=l(1488);r("metadata")},8658:function(y,M,l){var r=l(1488);r("observable")},4592:function(y,M,l){var r=l(1488);r("patternMatch")},6680:function(y,M,l){var r=l(1488);r("replaceAll")},162:function(y,M,l){l(8939);var r=l(7365),w=l(8576),A=l(4696),D=l(8711),O=l(7771),N=l(8182),p=N("toStringTag");for(var a in r){var m=w[a],v=m&&m.prototype;v&&A(v)!==p&&D(v,p,a),O[a]=O.Array}},2906:function(y,M,l){var r=l(3085),w=l(8576),A=l(6447),D=l(8989),O=[].slice,N=/MSIE .\./.test(D),p=function(a){return function(m,v){var o=arguments.length>2,c=o?O.call(arguments,2):void 0;return a(o?function(){(A(m)?m:Function(m)).apply(this,c)}:m,v)}};r({global:!0,bind:!0,forced:N},{setTimeout:p(w.setTimeout),setInterval:p(w.setInterval)})},9336:function(y,M,l){l(8939);var r=l(3085),w=l(150),A=l(4551),D=l(9482),O=l(533),N=l(1284),p=l(5148),a=l(3326),m=l(6961),v=l(6447),o=l(4500),c=l(8043),s=l(4696),g=l(1138),x=l(5744),h=l(4845),E=l(2853),T=l(774),k=l(1669),L=l(8703),F=l(8182),U=w("fetch"),G=w("Request"),Y=G&&G.prototype,K=w("Headers"),he=F("iterator"),oe="URLSearchParams",ve=oe+"Iterator",ee=a.set,xe=a.getterFor(oe),Z=a.getterFor(ve),Be=/\+/g,we=Array(4),ge=function(ue){return we[ue-1]||(we[ue-1]=RegExp("((?:%[\\da-f]{2}){"+ue+"})","gi"))},te=function(ue){try{return decodeURIComponent(ue)}catch{return ue}},ae=function(ue){var ie=ue.replace(Be," "),le=4;try{return decodeURIComponent(ie)}catch{for(;le;)ie=ie.replace(ge(le--),te);return ie}},ne=/[!'()~]|%20/g,re={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},V=function(ue){return re[ue]},H=function(ue){return encodeURIComponent(ue).replace(ne,V)},W=function(ue,ie){if(ie)for(var le=ie.split("&"),de=0,pe,_e;de<le.length;)pe=le[de++],pe.length&&(_e=pe.split("="),ue.push({key:ae(_e.shift()),value:ae(_e.join("="))}))},J=function(ue){this.entries.length=0,W(this.entries,ue)},Q=function(ue,ie){if(ue<ie)throw TypeError("Not enough arguments")},se=p(function(ie,le){ee(this,{type:ve,iterator:k(xe(ie).entries),kind:le})},"Iterator",function(){var ie=Z(this),le=ie.kind,de=ie.iterator.next(),pe=de.value;return de.done||(de.value=le==="keys"?pe.key:le==="values"?pe.value:[pe.key,pe.value]),de}),fe=function(){m(this,fe,oe);var ie=arguments.length>0?arguments[0]:void 0,le=this,de=[],pe,_e,Oe,Ge,Ye,Te,Je,et,ut;if(ee(le,{type:oe,entries:de,updateURL:function(){},updateSearchParams:J}),ie!==void 0)if(x(ie))if(pe=L(ie),pe)for(_e=k(ie,pe),Oe=_e.next;!(Ge=Oe.call(_e)).done;){if(Ye=k(g(Ge.value)),Te=Ye.next,(Je=Te.call(Ye)).done||(et=Te.call(Ye)).done||!Te.call(Ye).done)throw TypeError("Expected sequence with length 2");de.push({key:h(Je.value),value:h(et.value)})}else for(ut in ie)o(ie,ut)&&de.push({key:ut,value:h(ie[ut])});else W(de,typeof ie=="string"?ie.charAt(0)==="?"?ie.slice(1):ie:h(ie))},ye=fe.prototype;if(O(ye,{append:function(ie,le){Q(arguments.length,2);var de=xe(this);de.entries.push({key:h(ie),value:h(le)}),de.updateURL()},delete:function(ue){Q(arguments.length,1);for(var ie=xe(this),le=ie.entries,de=h(ue),pe=0;pe<le.length;)le[pe].key===de?le.splice(pe,1):pe++;ie.updateURL()},get:function(ie){Q(arguments.length,1);for(var le=xe(this).entries,de=h(ie),pe=0;pe<le.length;pe++)if(le[pe].key===de)return le[pe].value;return null},getAll:function(ie){Q(arguments.length,1);for(var le=xe(this).entries,de=h(ie),pe=[],_e=0;_e<le.length;_e++)le[_e].key===de&&pe.push(le[_e].value);return pe},has:function(ie){Q(arguments.length,1);for(var le=xe(this).entries,de=h(ie),pe=0;pe<le.length;)if(le[pe++].key===de)return!0;return!1},set:function(ie,le){Q(arguments.length,1);for(var de=xe(this),pe=de.entries,_e=!1,Oe=h(ie),Ge=h(le),Ye=0,Te;Ye<pe.length;Ye++)Te=pe[Ye],Te.key===Oe&&(_e?pe.splice(Ye--,1):(_e=!0,Te.value=Ge));_e||pe.push({key:Oe,value:Ge}),de.updateURL()},sort:function(){var ie=xe(this),le=ie.entries,de=le.slice(),pe,_e,Oe;for(le.length=0,Oe=0;Oe<de.length;Oe++){for(pe=de[Oe],_e=0;_e<Oe;_e++)if(le[_e].key>pe.key){le.splice(_e,0,pe);break}_e===Oe&&le.push(pe)}ie.updateURL()},forEach:function(ie){for(var le=xe(this).entries,de=c(ie,arguments.length>1?arguments[1]:void 0,3),pe=0,_e;pe<le.length;)_e=le[pe++],de(_e.value,_e.key,this)},keys:function(){return new se(this,"keys")},values:function(){return new se(this,"values")},entries:function(){return new se(this,"entries")}},{enumerable:!0}),D(ye,he,ye.entries,{name:"entries"}),D(ye,"toString",function(){for(var ie=xe(this).entries,le=[],de=0,pe;de<ie.length;)pe=ie[de++],le.push(H(pe.key)+"="+H(pe.value));return le.join("&")},{enumerable:!0}),N(fe,oe),r({global:!0,forced:!A},{URLSearchParams:fe}),!A&&v(K)){var Se=function(ue){if(x(ue)){var ie=ue.body,le;if(s(ie)===oe)return le=ue.headers?new K(ue.headers):new K,le.has("content-type")||le.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),E(ue,{body:T(0,String(ie)),headers:T(0,le)})}return ue};if(v(U)&&r({global:!0,enumerable:!0,forced:!0},{fetch:function(ie){return U(ie,arguments.length>1?Se(arguments[1]):{})}}),v(G)){var me=function(ie){return m(this,me,"Request"),new G(ie,arguments.length>1?Se(arguments[1]):{})};Y.constructor=me,me.prototype=Y,r({global:!0,forced:!0},{Request:me})}}y.exports={URLSearchParams:fe,getState:xe}},4948:function(y,M,l){l(5454);var r=l(3085),w=l(69),A=l(4551),D=l(8576),O=l(1187),N=l(9482),p=l(6961),a=l(4500),m=l(2503),v=l(841),o=l(863).codeAt,c=l(7977),s=l(4845),g=l(1284),x=l(9336),h=l(3326),E=D.URL,T=x.URLSearchParams,k=x.getState,L=h.set,F=h.getterFor("URL"),U=Math.floor,G=Math.pow,Y="Invalid authority",K="Invalid scheme",he="Invalid host",oe="Invalid port",ve=/[A-Za-z]/,ee=/[\d+-.A-Za-z]/,xe=/\d/,Z=/^0x/i,Be=/^[0-7]+$/,we=/^\d+$/,ge=/^[\dA-Fa-f]+$/,te=/[\0\t\n\r #%/:<>?@[\\\]^|]/,ae=/[\0\t\n\r #/:<>?@[\\\]^|]/,ne=/^[\u0000-\u0020]+|[\u0000-\u0020]+$/g,re=/[\t\n\r]/g,V,H=function(ce,Re){var Pe,ze,We;if(Re.charAt(0)=="["){if(Re.charAt(Re.length-1)!="]"||(Pe=J(Re.slice(1,-1)),!Pe))return he;ce.host=Pe}else if(le(ce)){if(Re=c(Re),te.test(Re)||(Pe=W(Re),Pe===null))return he;ce.host=Pe}else{if(ae.test(Re))return he;for(Pe="",ze=v(Re),We=0;We<ze.length;We++)Pe+=ue(ze[We],fe);ce.host=Pe}},W=function(ce){var Re=ce.split("."),Pe,ze,We,st,it,Nt,Mt;if(Re.length&&Re[Re.length-1]==""&&Re.pop(),Pe=Re.length,Pe>4)return ce;for(ze=[],We=0;We<Pe;We++){if(st=Re[We],st=="")return ce;if(it=10,st.length>1&&st.charAt(0)=="0"&&(it=Z.test(st)?16:8,st=st.slice(it==8?1:2)),st==="")Nt=0;else{if(!(it==10?we:it==8?Be:ge).test(st))return ce;Nt=parseInt(st,it)}ze.push(Nt)}for(We=0;We<Pe;We++)if(Nt=ze[We],We==Pe-1){if(Nt>=G(256,5-Pe))return null}else if(Nt>255)return null;for(Mt=ze.pop(),We=0;We<ze.length;We++)Mt+=ze[We]*G(256,3-We);return Mt},J=function(ce){var Re=[0,0,0,0,0,0,0,0],Pe=0,ze=null,We=0,st,it,Nt,Mt,qt,gn,Ue,ln=function(){return ce.charAt(We)};if(ln()==":"){if(ce.charAt(1)!=":")return;We+=2,Pe++,ze=Pe}for(;ln();){if(Pe==8)return;if(ln()==":"){if(ze!==null)return;We++,Pe++,ze=Pe;continue}for(st=it=0;it<4&&ge.test(ln());)st=st*16+parseInt(ln(),16),We++,it++;if(ln()=="."){if(it==0||(We-=it,Pe>6))return;for(Nt=0;ln();){if(Mt=null,Nt>0)if(ln()=="."&&Nt<4)We++;else return;if(!xe.test(ln()))return;for(;xe.test(ln());){if(qt=parseInt(ln(),10),Mt===null)Mt=qt;else{if(Mt==0)return;Mt=Mt*10+qt}if(Mt>255)return;We++}Re[Pe]=Re[Pe]*256+Mt,Nt++,(Nt==2||Nt==4)&&Pe++}if(Nt!=4)return;break}else if(ln()==":"){if(We++,!ln())return}else if(ln())return;Re[Pe++]=st}if(ze!==null)for(gn=Pe-ze,Pe=7;Pe!=0&&gn>0;)Ue=Re[Pe],Re[Pe--]=Re[ze+gn-1],Re[ze+--gn]=Ue;else if(Pe!=8)return;return Re},Q=function(ce){for(var Re=null,Pe=1,ze=null,We=0,st=0;st<8;st++)ce[st]!==0?(We>Pe&&(Re=ze,Pe=We),ze=null,We=0):(ze===null&&(ze=st),++We);return We>Pe&&(Re=ze,Pe=We),Re},se=function(ce){var Re,Pe,ze,We;if(typeof ce=="number"){for(Re=[],Pe=0;Pe<4;Pe++)Re.unshift(ce%256),ce=U(ce/256);return Re.join(".")}else if(typeof ce=="object"){for(Re="",ze=Q(ce),Pe=0;Pe<8;Pe++)We&&ce[Pe]===0||(We&&(We=!1),ze===Pe?(Re+=Pe?":":"::",We=!0):(Re+=ce[Pe].toString(16),Pe<7&&(Re+=":")));return"["+Re+"]"}return ce},fe={},ye=m({},fe,{" ":1,'"':1,"<":1,">":1,"`":1}),Se=m({},ye,{"#":1,"?":1,"{":1,"}":1}),me=m({},Se,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),ue=function(ce,Re){var Pe=o(ce,0);return Pe>32&&Pe<127&&!a(Re,ce)?ce:encodeURIComponent(ce)},ie={ftp:21,file:null,http:80,https:443,ws:80,wss:443},le=function(ce){return a(ie,ce.scheme)},de=function(ce){return ce.username!=""||ce.password!=""},pe=function(ce){return!ce.host||ce.cannotBeABaseURL||ce.scheme=="file"},_e=function(ce,Re){var Pe;return ce.length==2&&ve.test(ce.charAt(0))&&((Pe=ce.charAt(1))==":"||!Re&&Pe=="|")},Oe=function(ce){var Re;return ce.length>1&&_e(ce.slice(0,2))&&(ce.length==2||(Re=ce.charAt(2))==="/"||Re==="\\"||Re==="?"||Re==="#")},Ge=function(ce){var Re=ce.path,Pe=Re.length;Pe&&(ce.scheme!="file"||Pe!=1||!_e(Re[0],!0))&&Re.pop()},Ye=function(ce){return ce==="."||ce.toLowerCase()==="%2e"},Te=function(ce){return ce=ce.toLowerCase(),ce===".."||ce==="%2e."||ce===".%2e"||ce==="%2e%2e"},Je={},et={},ut={},St={},mt={},wt={},yt={},Pt={},Kt={},sn={},Ne={},je={},Ve={},Qe={},nt={},He={},Qt={},en={},tt={},ke={},zt={},_t=function(ce,Re,Pe,ze){var We=Pe||Je,st=0,it="",Nt=!1,Mt=!1,qt=!1,gn,Ue,ln,ii;for(Pe||(ce.scheme="",ce.username="",ce.password="",ce.host=null,ce.port=null,ce.path=[],ce.query=null,ce.fragment=null,ce.cannotBeABaseURL=!1,Re=Re.replace(ne,"")),Re=Re.replace(re,""),gn=v(Re);st<=gn.length;){switch(Ue=gn[st],We){case Je:if(Ue&&ve.test(Ue))it+=Ue.toLowerCase(),We=et;else{if(Pe)return K;We=ut;continue}break;case et:if(Ue&&(ee.test(Ue)||Ue=="+"||Ue=="-"||Ue=="."))it+=Ue.toLowerCase();else if(Ue==":"){if(Pe&&(le(ce)!=a(ie,it)||it=="file"&&(de(ce)||ce.port!==null)||ce.scheme=="file"&&!ce.host))return;if(ce.scheme=it,Pe){le(ce)&&ie[ce.scheme]==ce.port&&(ce.port=null);return}it="",ce.scheme=="file"?We=Qe:le(ce)&&ze&&ze.scheme==ce.scheme?We=St:le(ce)?We=Pt:gn[st+1]=="/"?(We=mt,st++):(ce.cannotBeABaseURL=!0,ce.path.push(""),We=tt)}else{if(Pe)return K;it="",We=ut,st=0;continue}break;case ut:if(!ze||ze.cannotBeABaseURL&&Ue!="#")return K;if(ze.cannotBeABaseURL&&Ue=="#"){ce.scheme=ze.scheme,ce.path=ze.path.slice(),ce.query=ze.query,ce.fragment="",ce.cannotBeABaseURL=!0,We=zt;break}We=ze.scheme=="file"?Qe:wt;continue;case St:if(Ue=="/"&&gn[st+1]=="/")We=Kt,st++;else{We=wt;continue}break;case mt:if(Ue=="/"){We=sn;break}else{We=en;continue}case wt:if(ce.scheme=ze.scheme,Ue==V)ce.username=ze.username,ce.password=ze.password,ce.host=ze.host,ce.port=ze.port,ce.path=ze.path.slice(),ce.query=ze.query;else if(Ue=="/"||Ue=="\\"&&le(ce))We=yt;else if(Ue=="?")ce.username=ze.username,ce.password=ze.password,ce.host=ze.host,ce.port=ze.port,ce.path=ze.path.slice(),ce.query="",We=ke;else if(Ue=="#")ce.username=ze.username,ce.password=ze.password,ce.host=ze.host,ce.port=ze.port,ce.path=ze.path.slice(),ce.query=ze.query,ce.fragment="",We=zt;else{ce.username=ze.username,ce.password=ze.password,ce.host=ze.host,ce.port=ze.port,ce.path=ze.path.slice(),ce.path.pop(),We=en;continue}break;case yt:if(le(ce)&&(Ue=="/"||Ue=="\\"))We=Kt;else if(Ue=="/")We=sn;else{ce.username=ze.username,ce.password=ze.password,ce.host=ze.host,ce.port=ze.port,We=en;continue}break;case Pt:if(We=Kt,Ue!="/"||it.charAt(st+1)!="/")continue;st++;break;case Kt:if(Ue!="/"&&Ue!="\\"){We=sn;continue}break;case sn:if(Ue=="@"){Nt&&(it="%40"+it),Nt=!0,ln=v(it);for(var ma=0;ma<ln.length;ma++){var To=ln[ma];if(To==":"&&!qt){qt=!0;continue}var Ao=ue(To,me);qt?ce.password+=Ao:ce.username+=Ao}it=""}else if(Ue==V||Ue=="/"||Ue=="?"||Ue=="#"||Ue=="\\"&&le(ce)){if(Nt&&it=="")return Y;st-=v(it).length+1,it="",We=Ne}else it+=Ue;break;case Ne:case je:if(Pe&&ce.scheme=="file"){We=He;continue}else if(Ue==":"&&!Mt){if(it=="")return he;if(ii=H(ce,it),ii)return ii;if(it="",We=Ve,Pe==je)return}else if(Ue==V||Ue=="/"||Ue=="?"||Ue=="#"||Ue=="\\"&&le(ce)){if(le(ce)&&it=="")return he;if(Pe&&it==""&&(de(ce)||ce.port!==null))return;if(ii=H(ce,it),ii)return ii;if(it="",We=Qt,Pe)return;continue}else Ue=="["?Mt=!0:Ue=="]"&&(Mt=!1),it+=Ue;break;case Ve:if(xe.test(Ue))it+=Ue;else if(Ue==V||Ue=="/"||Ue=="?"||Ue=="#"||Ue=="\\"&&le(ce)||Pe){if(it!=""){var Cn=parseInt(it,10);if(Cn>65535)return oe;ce.port=le(ce)&&Cn===ie[ce.scheme]?null:Cn,it=""}if(Pe)return;We=Qt;continue}else return oe;break;case Qe:if(ce.scheme="file",Ue=="/"||Ue=="\\")We=nt;else if(ze&&ze.scheme=="file")if(Ue==V)ce.host=ze.host,ce.path=ze.path.slice(),ce.query=ze.query;else if(Ue=="?")ce.host=ze.host,ce.path=ze.path.slice(),ce.query="",We=ke;else if(Ue=="#")ce.host=ze.host,ce.path=ze.path.slice(),ce.query=ze.query,ce.fragment="",We=zt;else{Oe(gn.slice(st).join(""))||(ce.host=ze.host,ce.path=ze.path.slice(),Ge(ce)),We=en;continue}else{We=en;continue}break;case nt:if(Ue=="/"||Ue=="\\"){We=He;break}ze&&ze.scheme=="file"&&!Oe(gn.slice(st).join(""))&&(_e(ze.path[0],!0)?ce.path.push(ze.path[0]):ce.host=ze.host),We=en;continue;case He:if(Ue==V||Ue=="/"||Ue=="\\"||Ue=="?"||Ue=="#"){if(!Pe&&_e(it))We=en;else if(it==""){if(ce.host="",Pe)return;We=Qt}else{if(ii=H(ce,it),ii)return ii;if(ce.host=="localhost"&&(ce.host=""),Pe)return;it="",We=Qt}continue}else it+=Ue;break;case Qt:if(le(ce)){if(We=en,Ue!="/"&&Ue!="\\")continue}else if(!Pe&&Ue=="?")ce.query="",We=ke;else if(!Pe&&Ue=="#")ce.fragment="",We=zt;else if(Ue!=V&&(We=en,Ue!="/"))continue;break;case en:if(Ue==V||Ue=="/"||Ue=="\\"&&le(ce)||!Pe&&(Ue=="?"||Ue=="#")){if(Te(it)?(Ge(ce),Ue!="/"&&!(Ue=="\\"&&le(ce))&&ce.path.push("")):Ye(it)?Ue!="/"&&!(Ue=="\\"&&le(ce))&&ce.path.push(""):(ce.scheme=="file"&&!ce.path.length&&_e(it)&&(ce.host&&(ce.host=""),it=it.charAt(0)+":"),ce.path.push(it)),it="",ce.scheme=="file"&&(Ue==V||Ue=="?"||Ue=="#"))for(;ce.path.length>1&&ce.path[0]==="";)ce.path.shift();Ue=="?"?(ce.query="",We=ke):Ue=="#"&&(ce.fragment="",We=zt)}else it+=ue(Ue,Se);break;case tt:Ue=="?"?(ce.query="",We=ke):Ue=="#"?(ce.fragment="",We=zt):Ue!=V&&(ce.path[0]+=ue(Ue,fe));break;case ke:!Pe&&Ue=="#"?(ce.fragment="",We=zt):Ue!=V&&(Ue=="'"&&le(ce)?ce.query+="%27":Ue=="#"?ce.query+="%23":ce.query+=ue(Ue,fe));break;case zt:Ue!=V&&(ce.fragment+=ue(Ue,ye));break}st++}},At=function(Re){var Pe=p(this,At,"URL"),ze=arguments.length>1?arguments[1]:void 0,We=s(Re),st=L(Pe,{type:"URL"}),it,Nt;if(ze!==void 0){if(ze instanceof At)it=F(ze);else if(Nt=_t(it={},s(ze)),Nt)throw TypeError(Nt)}if(Nt=_t(st,We,null,it),Nt)throw TypeError(Nt);var Mt=st.searchParams=new T,qt=k(Mt);qt.updateSearchParams(st.query),qt.updateURL=function(){st.query=String(Mt)||null},w||(Pe.href=Sn.call(Pe),Pe.origin=Gt.call(Pe),Pe.protocol=ni.call(Pe),Pe.username=Lt.call(Pe),Pe.password=Io.call(Pe),Pe.host=_o.call(Pe),Pe.hostname=Mo.call(Pe),Pe.port=ga.call(Pe),Pe.pathname=Eo.call(Pe),Pe.search=di.call(Pe),Pe.searchParams=yr.call(Pe),Pe.hash=ki.call(Pe))},En=At.prototype,Sn=function(){var ce=F(this),Re=ce.scheme,Pe=ce.username,ze=ce.password,We=ce.host,st=ce.port,it=ce.path,Nt=ce.query,Mt=ce.fragment,qt=Re+":";return We!==null?(qt+="//",de(ce)&&(qt+=Pe+(ze?":"+ze:"")+"@"),qt+=se(We),st!==null&&(qt+=":"+st)):Re=="file"&&(qt+="//"),qt+=ce.cannotBeABaseURL?it[0]:it.length?"/"+it.join("/"):"",Nt!==null&&(qt+="?"+Nt),Mt!==null&&(qt+="#"+Mt),qt},Gt=function(){var ce=F(this),Re=ce.scheme,Pe=ce.port;if(Re=="blob")try{return new At(Re.path[0]).origin}catch{return"null"}return Re=="file"||!le(ce)?"null":Re+"://"+se(ce.host)+(Pe!==null?":"+Pe:"")},ni=function(){return F(this).scheme+":"},Lt=function(){return F(this).username},Io=function(){return F(this).password},_o=function(){var ce=F(this),Re=ce.host,Pe=ce.port;return Re===null?"":Pe===null?se(Re):se(Re)+":"+Pe},Mo=function(){var ce=F(this).host;return ce===null?"":se(ce)},ga=function(){var ce=F(this).port;return ce===null?"":String(ce)},Eo=function(){var ce=F(this),Re=ce.path;return ce.cannotBeABaseURL?Re[0]:Re.length?"/"+Re.join("/"):""},di=function(){var ce=F(this).query;return ce?"?"+ce:""},yr=function(){return F(this).searchParams},ki=function(){var ce=F(this).fragment;return ce?"#"+ce:""},Ln=function(ce,Re){return{get:ce,set:Re,configurable:!0,enumerable:!0}};if(w&&O(En,{href:Ln(Sn,function(ce){var Re=F(this),Pe=s(ce),ze=_t(Re,Pe);if(ze)throw TypeError(ze);k(Re.searchParams).updateSearchParams(Re.query)}),origin:Ln(Gt),protocol:Ln(ni,function(ce){var Re=F(this);_t(Re,s(ce)+":",Je)}),username:Ln(Lt,function(ce){var Re=F(this),Pe=v(s(ce));if(!pe(Re)){Re.username="";for(var ze=0;ze<Pe.length;ze++)Re.username+=ue(Pe[ze],me)}}),password:Ln(Io,function(ce){var Re=F(this),Pe=v(s(ce));if(!pe(Re)){Re.password="";for(var ze=0;ze<Pe.length;ze++)Re.password+=ue(Pe[ze],me)}}),host:Ln(_o,function(ce){var Re=F(this);Re.cannotBeABaseURL||_t(Re,s(ce),Ne)}),hostname:Ln(Mo,function(ce){var Re=F(this);Re.cannotBeABaseURL||_t(Re,s(ce),je)}),port:Ln(ga,function(ce){var Re=F(this);pe(Re)||(ce=s(ce),ce==""?Re.port=null:_t(Re,ce,Ve))}),pathname:Ln(Eo,function(ce){var Re=F(this);Re.cannotBeABaseURL||(Re.path=[],_t(Re,s(ce),Qt))}),search:Ln(di,function(ce){var Re=F(this);ce=s(ce),ce==""?Re.query=null:(ce.charAt(0)=="?"&&(ce=ce.slice(1)),Re.query="",_t(Re,ce,ke)),k(Re.searchParams).updateSearchParams(Re.query)}),searchParams:Ln(yr),hash:Ln(ki,function(ce){var Re=F(this);if(ce=s(ce),ce==""){Re.fragment=null;return}ce.charAt(0)=="#"&&(ce=ce.slice(1)),Re.fragment="",_t(Re,ce,zt)})}),N(En,"toJSON",function(){return Sn.call(this)},{enumerable:!0}),N(En,"toString",function(){return Sn.call(this)},{enumerable:!0}),E){var va=E.createObjectURL,wo=E.revokeObjectURL;va&&N(At,"createObjectURL",function(Re){return va.apply(E,arguments)}),wo&&N(At,"revokeObjectURL",function(Re){return wo.apply(E,arguments)})}g(At,"URL"),r({global:!0,forced:!A,sham:!w},{URL:At})},9801:function(){},3822:function(y,M,l){var r=l(2221);y.exports=r},1434:function(y,M,l){var r=l(5078);y.exports=r},6899:function(y,M,l){var r=l(98);y.exports=r},7710:function(y,M,l){var r=l(5739);l(162),y.exports=r},4486:function(y,M,l){var r=l(278);y.exports=r},4877:function(y,M,l){var r=l(1484);y.exports=r},7178:function(y,M,l){var r=l(7731);y.exports=r},5603:function(y,M,l){var r=l(3669);y.exports=r},1206:function(y,M,l){l(162);var r=l(6899),w=l(4696),A=Array.prototype,D={DOMTokenList:!0,NodeList:!0};y.exports=function(O){var N=O.forEach;return O===A||O instanceof Array&&N===A.forEach||D.hasOwnProperty(w(O))?r:N}},6174:function(y,M,l){var r=l(2604);y.exports=r},57:function(y,M,l){var r=l(263);y.exports=r},4741:function(y,M,l){var r=l(7663);y.exports=r},8368:function(y,M,l){var r=l(5063);y.exports=r},3739:function(y,M,l){var r=l(6813);y.exports=r},172:function(y,M,l){var r=l(6285);y.exports=r},4963:function(y,M,l){var r=l(3213);y.exports=r},7820:function(y,M,l){var r=l(3512);y.exports=r},8980:function(y,M,l){var r=l(8168);y.exports=r},5636:function(y,M,l){var r=l(8651);y.exports=r},6672:function(y,M,l){var r=l(3083);y.exports=r},5059:function(y,M,l){var r=l(2987);y.exports=r},3969:function(y,M,l){var r=l(2239);y.exports=r},6618:function(y,M,l){var r=l(3154);l(162),y.exports=r},5279:function(y,M,l){var r=l(6577);y.exports=r},9562:function(y,M,l){l(2906);var r=l(7545);y.exports=r.setTimeout},2285:function(y,M,l){var r=l(5008);l(162),y.exports=r},8535:function(y,M,l){var r=l(994);l(162),y.exports=r},652:function(y,M,l){var r=l(5668);y.exports=r},5668:function(y,M,l){l(4948),l(9801),l(9336);var r=l(7545);y.exports=r.URL},2534:function(y){y.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPCFET0NUWVBFIHN2ZyBQVUJMSUMgIi0vL1czQy8vRFREIFNWRyAxLjEvL0VOIiAiaHR0cDovL3d3dy53My5vcmcvR3JhcGhpY3MvU1ZHLzEuMS9EVEQvc3ZnMTEuZHRkIj4KPHN2ZyBkaXNwbGF5PSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIj4KPGRlZnMgaWQ9InR1aS1pbWFnZS1lZGl0b3Itc3ZnLWRlZmF1bHQtaWNvbnMiPgo8c3ltYm9sIGlkPSJpYy1hcHBseSIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICAgIDxwYXRoIGQ9Ik0wIDBoMjR2MjRIMHoiIHN0cm9rZT0ibm9uZSIgZmlsbD0ibm9uZSIvPgogICAgPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSJpbmhlcml0IiBkPSJNNCAxMi4wMTFsNSA1TDIwLjAxMSA2Ii8+Cjwvc3ltYm9sPgo8c3ltYm9sIGlkPSJpYy1jYW5jZWwiIHZpZXdCb3g9IjAgMCAyNCAyNCI+CiAgICA8cGF0aCBkPSJNMCAwaDI0djI0SDB6IiBmaWxsPSJub25lIiBzdHJva2U9Im5vbmUiLz4KICAgIDxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iaW5oZXJpdCIgZD0iTTYgNmwxMiAxMk0xOCA2TDYgMTgiLz4KPC9zeW1ib2w+CjxzeW1ib2wgaWQ9ImljLWNyb3AiIHZpZXdCb3g9IjAgMCAyNCAyNCI+CiAgICA8cGF0aCBkPSJNMCAwaDI0djI0SDB6IiBzdHJva2U9Im5vbmUiIGZpbGw9Im5vbmUiIC8+CiAgICA8cGF0aCBzdHJva2U9Im5vbmUiIGZpbGw9ImluaGVyaXQiIGQ9Ik00IDBoMXYyMGExIDEgMCAwIDEtMS0xVjB6TTIwIDE3aC0xVjVoMXYxMnptMCAydjVoLTF2LTVoMXoiLz4KICAgIDxwYXRoIHN0cm9rZT0ibm9uZSIgZmlsbD0iaW5oZXJpdCIgZD0iTTUgMTloMTl2MUg1ek00Ljc2MiA0djFIMFY0aDQuNzYyek03IDRoMTJhMSAxIDAgMCAxIDEgMUg3VjR6Ii8+Cjwvc3ltYm9sPgo8IS0tIFRoaXMgaWNvbiBtYWRlIGJ5IFBpeGVsIHBlcmZlY3QgZnJvbSB3d3cuZmxhdGljb24uY29tIC0tPgo8c3ltYm9sIGlkPSJpYy1yZXNpemUiIHZpZXdCb3g9IjAgMCAyNCAyNCI+CiAgPHBhdGggZD0iTTAgMGgyNHYyNEgweiIgc3Ryb2tlPSJub25lIiBmaWxsPSJub25lIi8+CiAgPHBhdGggc3Ryb2tlPSJub25lIiBmaWxsPSJpbmhlcml0IiBkPSJNIDE4Ljk4ODI4MSAzLjAxMTcxOSBDIDE4LjgwMDc4MSAyLjgyNDIxOSAxOC41IDIuODI0MjE5IDE4LjMxMjUgMy4wMTE3MTkgTCAxMS42MjEwOTQgOS43MDcwMzEgQyAxMS40Mjk2ODggOS44OTQ1MzEgMTEuNDI5Njg4IDEwLjE5NTMxMiAxMS42MjEwOTQgMTAuMzc4OTA2IEMgMTEuNzEwOTM4IDEwLjQ3MjY1NiAxMS44MzU5MzggMTAuNTE5NTMxIDExLjk1NzAzMSAxMC41MTk1MzEgQyAxMi4wNzgxMjUgMTAuNTE5NTMxIDEyLjIwMzEyNSAxMC40NzI2NTYgMTIuMjkyOTY5IDEwLjM3ODkwNiBMIDE4Ljk4ODI4MSAzLjY4NzUgQyAxOS4xNzU3ODEgMy41IDE5LjE3NTc4MSAzLjE5OTIxOSAxOC45ODgyODEgMy4wMTE3MTkgWiBNIDE4Ljk4ODI4MSAzLjAxMTcxOSAiLz4KICA8cGF0aCBzdHJva2U9Im5vbmUiIGZpbGw9ImluaGVyaXQiIGQ9Ik0gMTguNjUyMzQ0IDIuODY3MTg4IEMgMTguMzg2NzE5IDIuODY3MTg4IDE4LjE3MTg3NSAzLjA4MjAzMSAxOC4xNzE4NzUgMy4zNDc2NTYgTCAxOC4xNzE4NzUgOS4wODU5MzggQyAxOC4xNzE4NzUgOS4zNDc2NTYgMTguMzg2NzE5IDkuNTYyNSAxOC42NTIzNDQgOS41NjI1IEMgMTguOTE3OTY5IDkuNTYyNSAxOS4xMzI4MTIgOS4zNDc2NTYgMTkuMTMyODEyIDkuMDg1OTM4IEwgMTkuMTMyODEyIDMuMzQ3NjU2IEMgMTkuMTMyODEyIDMuMDgyMDMxIDE4LjkxNzk2OSAyLjg2NzE4OCAxOC42NTIzNDQgMi44NjcxODggWiBNIDE4LjY1MjM0NCAyLjg2NzE4OCAiLz4KICA8cGF0aCBzdHJva2U9Im5vbmUiIGZpbGw9ImluaGVyaXQiIGQ9Ik0gMTguNjUyMzQ0IDIuODY3MTg4IEwgMTIuOTE0MDYyIDIuODY3MTg4IEMgMTIuNjUyMzQ0IDIuODY3MTg4IDEyLjQzNzUgMy4wODIwMzEgMTIuNDM3NSAzLjM0NzY1NiBDIDEyLjQzNzUgMy42MTMyODEgMTIuNjUyMzQ0IDMuODI4MTI1IDEyLjkxNDA2MiAzLjgyODEyNSBMIDE4LjY1MjM0NCAzLjgyODEyNSBDIDE4LjkxNzk2OSAzLjgyODEyNSAxOS4xMzI4MTIgMy42MTMyODEgMTkuMTMyODEyIDMuMzQ3NjU2IEMgMTkuMTMyODEyIDMuMDgyMDMxIDE4LjkxNzk2OSAyLjg2NzE4OCAxOC42NTIzNDQgMi44NjcxODggWiBNIDE4LjY1MjM0NCAyLjg2NzE4OCAiLz4KICA8cGF0aCBzdHJva2U9Im5vbmUiIGZpbGw9ImluaGVyaXQiIGQ9Ik0gMTAuMzc4OTA2IDExLjYyMTA5NCBDIDEwLjE5NTMxMiAxMS40MzM1OTQgOS44OTA2MjUgMTEuNDMzNTk0IDkuNzAzMTI1IDExLjYyMTA5NCBMIDMuMDA3ODEyIDE4LjMxNjQwNiBDIDIuODIwMzEyIDE4LjUgMi44MjAzMTIgMTguODA0Njg4IDMuMDA3ODEyIDE4Ljk5MjE4OCBDIDMuMTA1NDY5IDE5LjA4NTkzOCAzLjIyNjU2MiAxOS4xMzI4MTIgMy4zNDc2NTYgMTkuMTMyODEyIEMgMy40Njg3NSAxOS4xMzI4MTIgMy41ODk4NDQgMTkuMDg1OTM4IDMuNjgzNTk0IDE4Ljk5MjE4OCBMIDEwLjM3ODkwNiAxMi4yOTY4NzUgQyAxMC41NjY0MDYgMTIuMTA5Mzc1IDEwLjU2NjQwNiAxMS44MDQ2ODggMTAuMzc4OTA2IDExLjYyMTA5NCBaIE0gMTAuMzc4OTA2IDExLjYyMTA5NCAiLz4KICA8cGF0aCBzdHJva2U9Im5vbmUiIGZpbGw9ImluaGVyaXQiIGQ9Ik0gMy4zNDc2NTYgMTIuNDM3NSBDIDMuMDgyMDMxIDEyLjQzNzUgMi44NjcxODggMTIuNjUyMzQ0IDIuODY3MTg4IDEyLjkxNDA2MiBMIDIuODY3MTg4IDE4LjY1MjM0NCBDIDIuODY3MTg4IDE4LjkxNzk2OSAzLjA4MjAzMSAxOS4xMzI4MTIgMy4zNDc2NTYgMTkuMTMyODEyIEMgMy42MTMyODEgMTkuMTMyODEyIDMuODI4MTI1IDE4LjkxNzk2OSAzLjgyODEyNSAxOC42NTIzNDQgTCAzLjgyODEyNSAxMi45MTQwNjIgQyAzLjgyODEyNSAxMi42NTIzNDQgMy42MTMyODEgMTIuNDM3NSAzLjM0NzY1NiAxMi40Mzc1IFogTSAzLjM0NzY1NiAxMi40Mzc1ICIvPgogIDxwYXRoIHN0cm9rZT0ibm9uZSIgZmlsbD0iaW5oZXJpdCIgZD0iTSA5LjA4NTkzOCAxOC4xNzE4NzUgTCAzLjM0NzY1NiAxOC4xNzE4NzUgQyAzLjA4MjAzMSAxOC4xNzE4NzUgMi44NjcxODggMTguMzg2NzE5IDIuODY3MTg4IDE4LjY1MjM0NCBDIDIuODY3MTg4IDE4LjkxNzk2OSAzLjA4MjAzMSAxOS4xMzI4MTIgMy4zNDc2NTYgMTkuMTMyODEyIEwgOS4wODU5MzggMTkuMTMyODEyIEMgOS4zNDc2NTYgMTkuMTMyODEyIDkuNTYyNSAxOC45MTc5NjkgOS41NjI1IDE4LjY1MjM0NCBDIDkuNTYyNSAxOC4zODY3MTkgOS4zNDc2NTYgMTguMTcxODc1IDkuMDg1OTM4IDE4LjE3MTg3NSBaIE0gOS4wODU5MzggMTguMTcxODc1ICIvPgogIDxwYXRoIHN0cm9rZT0ibm9uZSIgZmlsbD0iaW5oZXJpdCIgZD0iTSAyMC41NjI1IDAgTCAxLjQzNzUgMCBDIDAuNjQ0NTMxIDAgMCAwLjY0NDUzMSAwIDEuNDM3NSBMIDAgMjAuNTYyNSBDIDAgMjEuMzU1NDY5IDAuNjQ0NTMxIDIyIDEuNDM3NSAyMiBMIDIwLjU2MjUgMjIgQyAyMS4zNTU0NjkgMjIgMjIgMjEuMzU1NDY5IDIyIDIwLjU2MjUgTCAyMiAxLjQzNzUgQyAyMiAwLjY0NDUzMSAyMS4zNTU0NjkgMCAyMC41NjI1IDAgWiBNIDIxLjA0Mjk2OSAyMC41NjI1IEMgMjEuMDQyOTY5IDIwLjgyODEyNSAyMC44MjgxMjUgMjEuMDQyOTY5IDIwLjU2MjUgMjEuMDQyOTY5IEwgMS40Mzc1IDIxLjA0Mjk2OSBDIDEuMTcxODc1IDIxLjA0Mjk2OSAwLjk1NzAzMSAyMC44MjgxMjUgMC45NTcwMzEgMjAuNTYyNSBMIDAuOTU3MDMxIDEuNDM3NSBDIDAuOTU3MDMxIDEuMTcxODc1IDEuMTcxODc1IDAuOTU3MDMxIDEuNDM3NSAwLjk1NzAzMSBMIDIwLjU2MjUgMC45NTcwMzEgQyAyMC44MjgxMjUgMC45NTcwMzEgMjEuMDQyOTY5IDEuMTcxODc1IDIxLjA0Mjk2OSAxLjQzNzUgWiBNIDIxLjA0Mjk2OSAyMC41NjI1ICIvPgo8L3N5bWJvbD4KPCEtLSAgLS0+CjxzeW1ib2wgaWQ9ImljLWRlbGV0ZS1hbGwiIHZpZXdCb3g9IjAgMCAyNCAyNCI+CiAgICA8cGF0aCBzdHJva2U9Im5vbmUiIGZpbGw9ImluaGVyaXQiIGQ9Ik01IDIzSDNhMSAxIDAgMCAxLTEtMVY2aDF2MTZoMnYxem0xNi0xMGgtMVY2aDF2N3pNOSAxM0g4di0zaDF2M3ptMyAwaC0xdi0zaDF2M3ptMyAwaC0xdi0zaDF2M3pNMTQuNzk0IDMuNzk0TDEzIDJoLTNMOC4yMDYgMy43OTRBLjk2My45NjMgMCAwIDEgOCAyLjVsLjcwMy0xLjA1NUExIDEgMCAwIDEgOS41MzUgMWgzLjkzYTEgMSAwIDAgMSAuODMyLjQ0NUwxNSAyLjVhLjk2NS45NjUgMCAwIDEtLjIwNiAxLjI5NHpNMTQuMTk3IDRIOC44MDNoNS4zOTR6Ii8+CiAgICA8cGF0aCBzdHJva2U9Im5vbmUiIGZpbGw9ImluaGVyaXQiIGQ9Ik0wIDNoMjN2MUgwek0xMS4yODYgMjFIOC43MTRMOCAyM0g3bDEtMi44VjIwaC4wNzFMOS41IDE2aDFsMS40MjkgNEgxMnYuMmwxIDIuOGgtMWwtLjcxNC0yem0tLjM1Ny0xTDEwIDE3LjQgOS4wNzEgMjBoMS44NTh6TTIwIDIyaDN2MWgtNHYtN2gxdjZ6bS01IDBoM3YxaC00di03aDF2NnoiLz4KPC9zeW1ib2w+CjxzeW1ib2wgaWQ9ImljLWRlbGV0ZSIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICAgIDxwYXRoIHN0cm9rZT0ibm9uZSIgZmlsbD0iaW5oZXJpdCIgZD0iTTMgNnYxNmgxN1Y2aDF2MTZhMSAxIDAgMCAxLTEgMUgzYTEgMSAwIDAgMS0xLTFWNmgxek0xNC43OTQgMy43OTRMMTMgMmgtM0w4LjIwNiAzLjc5NEEuOTYzLjk2MyAwIDAgMSA4IDIuNWwuNzAzLTEuMDU1QTEgMSAwIDAgMSA5LjUzNSAxaDMuOTNhMSAxIDAgMCAxIC44MzIuNDQ1TDE1IDIuNWEuOTY1Ljk2NSAwIDAgMS0uMjA2IDEuMjk0ek0xNC4xOTcgNEg4LjgwM2g1LjM5NHoiLz4KICAgIDxwYXRoIHN0cm9rZT0ibm9uZSIgZmlsbD0iaW5oZXJpdCIgZD0iTTAgM2gyM3YxSDB6TTggMTBoMXY2SDh2LTZ6bTMgMGgxdjZoLTF2LTZ6bTMgMGgxdjZoLTF2LTZ6Ii8+Cjwvc3ltYm9sPgo8c3ltYm9sIGlkPSJpYy1kcmF3LWZyZWUiIHZpZXdCb3g9IjAgMCAzMiAzMiI+CiAgICA8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9ImluaGVyaXQiIGQ9Ik0yLjUgMjAuOTI5QzIuNTk0IDEwLjk3NiA0LjMyMyA2IDcuNjg2IDZjNS44NzIgMCAyLjUyNCAxOSA3LjY5NyAxOXMxLjg5LTE0LjkyOSA2LjQxNC0xNC45MjkgMS4zNTcgMTAuODU4IDUuMTMgMTAuODU4YzEuODAyIDAgMi42NTctMi4yNjIgMi41NjYtNi43ODYiLz4KPC9zeW1ib2w+CjxzeW1ib2wgaWQ9ImljLWRyYXctbGluZSIgdmlld0JveD0iMCAwIDMyIDMyIj4KICAgIDxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iaW5oZXJpdCIgZD0iTTIgMTUuNWgyOCIvPgo8L3N5bWJvbD4KPHN5bWJvbCBpZD0iaWMtZHJhdyIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICAgIDxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iaW5oZXJpdCIgZD0iTTIuNSAyMS41SDVjLjI0NSAwIC40OC0uMDU4LjY5MS0uMTY4bC4xMjQtLjA2NS4xNC4wMWMuNDI5LjAyOC44NS0uMTI3IDEuMTYtLjQzN0wyMi41NSA1LjQwNWEuNS41IDAgMCAwIDAtLjcwN2wtMy4yNDYtMy4yNDVhLjUuNSAwIDAgMC0uNzA3IDBMMy4xNjIgMTYuODg4YTEuNDk1IDEuNDk1IDAgMCAwLS40MzcgMS4xNTVsLjAxLjE0LS4wNjUuMTIzYy0uMTExLjIxMi0uMTcuNDQ4LS4xNy42OTR2Mi41eiIvPgogICAgPHBhdGggc3Ryb2tlPSJub25lIiBmaWxsPSJpbmhlcml0IiBkPSJNMTYuNDE0IDMuNzA3bDMuODkgMy44OS0uNzA4LjcwNi0zLjg4OS0zLjg4OXoiLz4KPC9zeW1ib2w+CjxzeW1ib2wgaWQ9ImljLWZpbHRlciIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICAgIDxwYXRoIGQ9Ik0wIDBoMjR2MjRIMHoiIGZpbGw9Im5vbmUiIHN0cm9rZT0ibm9uZSIgLz4KICAgIDxwYXRoIHN0cm9rZT0ibm9uZSIgZmlsbD0iaW5oZXJpdCIgZD0iTTEyIDd2MUgyVjdoMTB6bTYgMGg0djFoLTRWN3pNMTIgMTZ2MWgxMHYtMUgxMnptLTYgMEgydjFoNHYtMXoiLz4KICAgIDxwYXRoIHN0cm9rZT0ibm9uZSIgZmlsbD0iaW5oZXJpdCIgZD0iTTguNSAyMGEzLjUgMy41IDAgMSAxIDAtNyAzLjUgMy41IDAgMCAxIDAgN3ptMC0xYTIuNSAyLjUgMCAxIDAgMC01IDIuNSAyLjUgMCAwIDAgMCA1ek0xNS41IDExYTMuNSAzLjUgMCAxIDEgMC03IDMuNSAzLjUgMCAwIDEgMCA3em0wLTFhMi41IDIuNSAwIDEgMCAwLTUgMi41IDIuNSAwIDAgMCAwIDV6Ii8+Cjwvc3ltYm9sPgo8c3ltYm9sIGlkPSJpYy1mbGlwLXJlc2V0IiB2aWV3Qm94PSIwIDAgMzEgMzIiPgogICAgPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSJub25lIiBkPSJNMzEgMEgwdjMyaDMxeiIvPgogICAgPHBhdGggc3Ryb2tlPSJub25lIiBmaWxsPSJpbmhlcml0IiBkPSJNMjggMTZhOCA4IDAgMCAxLTggOEgzdi0xaDF2LTdIM2E4IDggMCAwIDEgOC04aDE3djFoLTF2N2gxek0xMSA5YTcgNyAwIDAgMC03IDd2N2gxNmE3IDcgMCAwIDAgNy03VjlIMTF6Ii8+CiAgICA8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9ImluaGVyaXQiIHN0cm9rZS1saW5lY2FwPSJzcXVhcmUiIGQ9Ik0yNCA1bDMuNSAzLjVMMjQgMTJNNyAyMGwtMy41IDMuNUw3IDI3Ii8+Cjwvc3ltYm9sPgo8c3ltYm9sIGlkPSJpYy1mbGlwLXgiIHZpZXdCb3g9IjAgMCAzMiAzMiI+CiAgICA8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9Im5vbmUiIGQ9Ik0zMiAzMkgwVjBoMzJ6Ii8+CiAgICA8cGF0aCBzdHJva2U9Im5vbmUiIGZpbGw9ImluaGVyaXQiIGQ9Ik0xNyAzMmgtMVYwaDF6TTI3LjE2NyAxMWwuNSAzaC0xLjAzbC0uNTQ2LTNoMS4wNzZ6bS0uNS0zaC0xLjEyMkwyNSA1aC01VjRoNS4xNTNhMSAxIDAgMCAxIC45ODYuODM2TDI2LjY2NyA4em0xLjUgOWwuNSAzaC0uOTRsLS41NDUtM2guOTg1em0xIDZsLjYzOSAzLjgzNkExIDEgMCAwIDEgMjguODE5IDI4SDI2di0xaDNsLS43MjYtNGguODk0ek0yMyAyOGgtM3YtMWgzdjF6TTEzIDR2MUg3TDMgMjdoMTB2MUgzLjE4YTEgMSAwIDAgMS0uOTg2LTEuMTY0bDMuNjY2LTIyQTEgMSAwIDAgMSA2Ljg0NyA0SDEzeiIvPgo8L3N5bWJvbD4KPHN5bWJvbCBpZD0iaWMtZmxpcC15IiB2aWV3Qm94PSIwIDAgMzIgMzIiPgogICAgPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSJub25lIiBkPSJNMCAwdjMyaDMyVjB6Ii8+CiAgICA8cGF0aCBzdHJva2U9Im5vbmUiIGZpbGw9ImluaGVyaXQiIGQ9Ik0wIDE2djFoMzJ2LTF6TTExIDI3LjE2N2wzIC41di0xLjAzbC0zLS41NDZ2MS4wNzZ6bS0zLS41di0xLjEyMkw1IDI1di01SDR2NS4xNTNhMSAxIDAgMCAwIC44MzYuOTg2TDggMjYuNjY3em05IDEuNWwzIC41di0uOTRsLTMtLjU0NXYuOTg1em02IDFsMy44MzYuNjM5QTEgMSAwIDAgMCAyOCAyOC44MlYyNmgtMXYzbC00LS43Mjd2Ljg5NHpNMjggMjN2LTNoLTF2M2gxek00IDEzaDFWN2wyMi00djEwaDFWMy4xOGExIDEgMCAwIDAtMS4xNjQtLjk4NmwtMjIgMy42NjdBMSAxIDAgMCAwIDQgNi44NDdWMTN6Ii8+Cjwvc3ltYm9sPgo8c3ltYm9sIGlkPSJpYy1mbGlwIiB2aWV3Qm94PSIwIDAgMjQgMjQiPgogICAgPHBhdGggZD0iTTAgMGgyNHYyNEgweiIgZmlsbD0ibm9uZSIgc3Ryb2tlPSJub25lIiAvPgogICAgPHBhdGggZmlsbD0iaW5oZXJpdCIgc3Ryb2tlPSJub25lIiBkPSJNMTEgMGgxdjI0aC0xek0xOSAyMXYtMWgydi0yaDF2MmExIDEgMCAwIDEtMSAxaC0yem0tMiAwaC0zdi0xaDN2MXptNS01aC0xdi0zaDF2M3ptMC01aC0xVjhoMXYzem0wLTVoLTFWNGgtMlYzaDJhMSAxIDAgMCAxIDEgMXYyem0tNS0zdjFoLTNWM2gzek05IDN2MUgydjE2aDd2MUgyYTEgMSAwIDAgMS0xLTFWNGExIDEgMCAwIDEgMS0xaDd6Ii8+Cjwvc3ltYm9sPgo8c3ltYm9sIGlkPSJpYy1oaXN0b3J5IiB2aWV3Qm94PSIwIDAgMjQgMjQiPgogICAgPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSJub25lIiBkPSJNMCAwSDI0VjI0SDB6IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtNzQwIC0xNikgdHJhbnNsYXRlKDU0NyA4KSB0cmFuc2xhdGUoMTkzIDgpIi8+CiAgICA8cGF0aCBmaWxsPSJpbmhlcml0IiBzdHJva2U9Im5vbmUiIGQ9Ik0xMi41IDFDMTguMjk5IDEgMjMgNS43MDEgMjMgMTEuNVMxOC4yOTkgMjIgMTIuNSAyMmMtNS4yOSAwLTkuNjY1LTMuOTExLTEwLjM5NC04Ljk5OWgxLjAxMkMzLjgzOCAxNy41MzQgNy43NjQgMjEgMTIuNSAyMWM1LjI0NyAwIDkuNS00LjI1MyA5LjUtOS41UzE3Ljc0NyAyIDEyLjUgMkM4LjQ5IDIgNS4wNiA0LjQ4NSAzLjY2NiA4SDNoNHYxSDJWNGgxdjMuMDIyQzQuNjggMy40NjIgOC4zMDMgMSAxMi41IDF6bS41IDVsLS4wMDEgNS4yOTEgMi41MzcgMi41MzctLjcwOC43MDhMMTIuMjkyIDEySDEyVjZoMXoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC03NDAgLTE2KSB0cmFuc2xhdGUoNTQ3IDgpIHRyYW5zbGF0ZSgxOTMgOCkiLz4KPC9zeW1ib2w+CjxzeW1ib2wgaWQ9ImljLWhpc3RvcnktY2hlY2siIHZpZXdCb3g9IjAgMCAyNCAyNCI+CiAgICA8ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiID4KICAgICAgICA8cGF0aCBzdHJva2U9IiM1NTU1NTUiIGQ9Ik00LjUgLTFMMS41IDIgNi41IDciIHRyYW5zZm9ybT0idHJhbnNsYXRlKC02MCAtODA0KSB0cmFuc2xhdGUoNjAgODA0KSB0cmFuc2xhdGUoMiAzKSByb3RhdGUoLTkwIDQgMykiIC8+CiAgICA8L2c+Cjwvc3ltYm9sPgo8c3ltYm9sIGlkPSJpYy1oaXN0b3J5LWNyb3AiIHZpZXdCb3g9IjAgMCAyNCAyNCI+CiAgICA8ZyBmaWxsPSJub25lIiBzdHJva2U9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCIgPgogICAgICAgIDxwYXRoIGQ9Ik0wIDBIMTJWMTJIMHoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC04NCAtODA0KSB0cmFuc2xhdGUoODQgODA0KSIvPgogICAgICAgIDxwYXRoIGZpbGw9IiM0MzQzNDMiIGQ9Ik0yIDBoMXYxMGMtLjU1MiAwLTEtLjQ0OC0xLTFWMHpNMTAgOXYzSDlWOWgxek05IDJoMXY2SDlWMnoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC04NCAtODA0KSB0cmFuc2xhdGUoODQgODA0KSIvPgogICAgICAgIDxwYXRoIGZpbGw9IiM0MzQzNDMiIGQ9Ik0yIDlIMTJWMTBIMnpNOSAyYy41MTMgMCAuOTM2LjM4Ni45OTMuODgzTDEwIDNIM1YyaDZ6TTIgM0gwVjJoMnYxeiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTg0IC04MDQpIHRyYW5zbGF0ZSg4NCA4MDQpIi8+CiAgICA8L2c+Cjwvc3ltYm9sPgo8IS0tIFRoaXMgaWNvbiBtYWRlIGJ5IFBpeGVsIHBlcmZlY3QgZnJvbSB3d3cuZmxhdGljb24uY29tIC0tPgo8c3ltYm9sIGlkPSJpYy1oaXN0b3J5LXJlc2l6ZSIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICA8ZyBmaWxsPSJub25lIiBzdHJva2U9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCIgPgogICAgPHBhdGggZmlsbD0iIzQzNDM0MyIgZD0iTSA5LjQ5MjE4OCAxLjUwNzgxMiBDIDkuMzk4NDM4IDEuNDE0MDYyIDkuMjUgMS40MTQwNjIgOS4xNTYyNSAxLjUwNzgxMiBMIDUuODEyNSA0Ljg1MTU2MiBDIDUuNzE0ODQ0IDQuOTQ1MzEyIDUuNzE0ODQ0IDUuMDk3NjU2IDUuODEyNSA1LjE4NzUgQyA1Ljg1NTQ2OSA1LjIzNDM3NSA1LjkxNzk2OSA1LjI1NzgxMiA1Ljk3NjU2MiA1LjI1NzgxMiBDIDYuMDM5MDYyIDUuMjU3ODEyIDYuMTAxNTYyIDUuMjM0Mzc1IDYuMTQ4NDM4IDUuMTg3NSBMIDkuNDkyMTg4IDEuODQzNzUgQyA5LjU4NTkzOCAxLjc1IDkuNTg1OTM4IDEuNjAxNTYyIDkuNDkyMTg4IDEuNTA3ODEyIFogTSA5LjQ5MjE4OCAxLjUwNzgxMiAiLz4KICAgIDxwYXRoIGZpbGw9IiM0MzQzNDMiIGQ9Ik0gOS4zMjgxMjUgMS40MzM1OTQgQyA5LjE5NTMxMiAxLjQzMzU5NCA5LjA4NTkzOCAxLjUzOTA2MiA5LjA4NTkzOCAxLjY3MTg3NSBMIDkuMDg1OTM4IDQuNTQyOTY5IEMgOS4wODU5MzggNC42NzE4NzUgOS4xOTUzMTIgNC43ODEyNSA5LjMyODEyNSA0Ljc4MTI1IEMgOS40NjA5MzggNC43ODEyNSA5LjU2NjQwNiA0LjY3MTg3NSA5LjU2NjQwNiA0LjU0Mjk2OSBMIDkuNTY2NDA2IDEuNjcxODc1IEMgOS41NjY0MDYgMS41MzkwNjIgOS40NjA5MzggMS40MzM1OTQgOS4zMjgxMjUgMS40MzM1OTQgWiBNIDkuMzI4MTI1IDEuNDMzNTk0ICIvPgogICAgPHBhdGggZmlsbD0iIzQzNDM0MyIgZD0iTSA5LjMyODEyNSAxLjQzMzU5NCBMIDYuNDU3MDMxIDEuNDMzNTk0IEMgNi4zMjgxMjUgMS40MzM1OTQgNi4yMTg3NSAxLjUzOTA2MiA2LjIxODc1IDEuNjcxODc1IEMgNi4yMTg3NSAxLjgwNDY4OCA2LjMyODEyNSAxLjkxNDA2MiA2LjQ1NzAzMSAxLjkxNDA2MiBMIDkuMzI4MTI1IDEuOTE0MDYyIEMgOS40NjA5MzggMS45MTQwNjIgOS41NjY0MDYgMS44MDQ2ODggOS41NjY0MDYgMS42NzE4NzUgQyA5LjU2NjQwNiAxLjUzOTA2MiA5LjQ2MDkzOCAxLjQzMzU5NCA5LjMyODEyNSAxLjQzMzU5NCBaIE0gOS4zMjgxMjUgMS40MzM1OTQgIi8+CiAgICA8cGF0aCBmaWxsPSIjNDM0MzQzIiBkPSJNIDUuMTg3NSA1LjgxMjUgQyA1LjA5NzY1NiA1LjcxODc1IDQuOTQ1MzEyIDUuNzE4NzUgNC44NTE1NjIgNS44MTI1IEwgMS41MDM5MDYgOS4xNTYyNSBDIDEuNDEwMTU2IDkuMjUgMS40MTAxNTYgOS40MDIzNDQgMS41MDM5MDYgOS40OTYwOTQgQyAxLjU1NDY4OCA5LjU0Mjk2OSAxLjYxMzI4MSA5LjU2NjQwNiAxLjY3MTg3NSA5LjU2NjQwNiBDIDEuNzM0Mzc1IDkuNTY2NDA2IDEuNzk2ODc1IDkuNTQyOTY5IDEuODQzNzUgOS40OTYwOTQgTCA1LjE4NzUgNi4xNDg0MzggQyA1LjI4MTI1IDYuMDU0Njg4IDUuMjgxMjUgNS45MDIzNDQgNS4xODc1IDUuODEyNSBaIE0gNS4xODc1IDUuODEyNSAiLz4KICAgIDxwYXRoIGZpbGw9IiM0MzQzNDMiIGQ9Ik0gMS42NzE4NzUgNi4yMTg3NSBDIDEuNTM5MDYyIDYuMjE4NzUgMS40MzM1OTQgNi4zMjgxMjUgMS40MzM1OTQgNi40NTcwMzEgTCAxLjQzMzU5NCA5LjMyODEyNSBDIDEuNDMzNTk0IDkuNDYwOTM4IDEuNTM5MDYyIDkuNTY2NDA2IDEuNjcxODc1IDkuNTY2NDA2IEMgMS44MDQ2ODggOS41NjY0MDYgMS45MTQwNjIgOS40NjA5MzggMS45MTQwNjIgOS4zMjgxMjUgTCAxLjkxNDA2MiA2LjQ1NzAzMSBDIDEuOTE0MDYyIDYuMzI4MTI1IDEuODA0Njg4IDYuMjE4NzUgMS42NzE4NzUgNi4yMTg3NSBaIE0gMS42NzE4NzUgNi4yMTg3NSAiLz4KICAgIDxwYXRoIGZpbGw9IiM0MzQzNDMiIGQ9Ik0gNC41NDI5NjkgOS4wODU5MzggTCAxLjY3MTg3NSA5LjA4NTkzOCBDIDEuNTM5MDYyIDkuMDg1OTM4IDEuNDMzNTk0IDkuMTk1MzEyIDEuNDMzNTk0IDkuMzI4MTI1IEMgMS40MzM1OTQgOS40NjA5MzggMS41MzkwNjIgOS41NjY0MDYgMS42NzE4NzUgOS41NjY0MDYgTCA0LjU0Mjk2OSA5LjU2NjQwNiBDIDQuNjcxODc1IDkuNTY2NDA2IDQuNzgxMjUgOS40NjA5MzggNC43ODEyNSA5LjMyODEyNSBDIDQuNzgxMjUgOS4xOTUzMTIgNC42NzE4NzUgOS4wODU5MzggNC41NDI5NjkgOS4wODU5MzggWiBNIDQuNTQyOTY5IDkuMDg1OTM4ICIvPgogICAgPHBhdGggZmlsbD0iIzQzNDM0MyIgZD0iTSAxMC4yODEyNSAwIEwgMC43MTg3NSAwIEMgMC4zMjAzMTIgMCAwIDAuMzIwMzEyIDAgMC43MTg3NSBMIDAgMTAuMjgxMjUgQyAwIDEwLjY3OTY4OCAwLjMyMDMxMiAxMSAwLjcxODc1IDExIEwgMTAuMjgxMjUgMTEgQyAxMC42Nzk2ODggMTEgMTEgMTAuNjc5Njg4IDExIDEwLjI4MTI1IEwgMTEgMC43MTg3NSBDIDExIDAuMzIwMzEyIDEwLjY3OTY4OCAwIDEwLjI4MTI1IDAgWiBNIDEwLjUyMzQzOCAxMC4yODEyNSBDIDEwLjUyMzQzOCAxMC40MTQwNjIgMTAuNDE0MDYyIDEwLjUyMzQzOCAxMC4yODEyNSAxMC41MjM0MzggTCAwLjcxODc1IDEwLjUyMzQzOCBDIDAuNTg1OTM4IDEwLjUyMzQzOCAwLjQ3NjU2MiAxMC40MTQwNjIgMC40NzY1NjIgMTAuMjgxMjUgTCAwLjQ3NjU2MiAwLjcxODc1IEMgMC40NzY1NjIgMC41ODU5MzggMC41ODU5MzggMC40NzY1NjIgMC43MTg3NSAwLjQ3NjU2MiBMIDEwLjI4MTI1IDAuNDc2NTYyIEMgMTAuNDE0MDYyIDAuNDc2NTYyIDEwLjUyMzQzOCAwLjU4NTkzOCAxMC41MjM0MzggMC43MTg3NSBaIE0gMTAuNTIzNDM4IDEwLjI4MTI1ICIvPgogIDwvZz4KPC9zeW1ib2w+CjwhLS0gIC0tPgo8c3ltYm9sIGlkPSJpYy1oaXN0b3J5LWRyYXciIHZpZXdCb3g9IjAgMCAyNCAyNCI+CiAgICA8ZyBmaWxsPSJub25lIiBzdHJva2U9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCIgPgogICAgICAgIDxwYXRoIGQ9Ik0wIDFIMTJWMTNIMHoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0xNTYgLTgwNCkgdHJhbnNsYXRlKDE1NiA4MDMpIi8+CiAgICAgICAgPHBhdGggc3Ryb2tlPSIjNDM0MzQzIiBkPSJNOS42MjIgMS41ODRsMS44MzUgMS42NTgtOC4zMSA4LjQwN0wuNSAxMi41VjExbDkuMTIyLTkuNDE2eiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTE1NiAtODA0KSB0cmFuc2xhdGUoMTU2IDgwMykiLz4KICAgICAgICA8cGF0aCBmaWxsPSIjNDM0MzQzIiBkPSJNNy42MjggMy43NTNMMTAuMzc4IDMuNzUzIDEwLjM3OCA0LjI1MyA3LjYyOCA0LjI1M3oiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0xNTYgLTgwNCkgdHJhbnNsYXRlKDE1NiA4MDMpIHJvdGF0ZSg0NSA5LjAwMyA0LjAwMykiLz4KICAgIDwvZz4KPC9zeW1ib2w+CjxzeW1ib2wgaWQ9ImljLWhpc3RvcnktZmlsdGVyIiB2aWV3Qm94PSIwIDAgMjQgMjQiPgogICAgPGcgZmlsbD0ibm9uZSIgc3Ryb2tlPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiID4KICAgICAgICA8cGF0aCBkPSJNMCAwSDEyVjEySDB6IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMjc2IC04MDQpIHRyYW5zbGF0ZSgyNzYgODA0KSIvPgogICAgICAgIDxwYXRoIGZpbGw9IiM0MzQzNDMiIGQ9Ik0xMiAzdjFIOVYzaDN6TTcgNEgwVjNoN3YxeiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTI3NiAtODA0KSB0cmFuc2xhdGUoMjc2IDgwNCkiLz4KICAgICAgICA8cGF0aCBmaWxsPSIjNDM0MzQzIiBkPSJNMTIgOHYxSDlWOGgzek03IDlIMFY4aDd2MXoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0yNzYgLTgwNCkgdHJhbnNsYXRlKDI3NiA4MDQpIG1hdHJpeCgtMSAwIDAgMSAxMiAwKSIvPgogICAgICAgIDxwYXRoIGZpbGw9IiM0MzQzNDMiIGQ9Ik04IDFjMS4xMDUgMCAyIC44OTUgMiAycy0uODk1IDItMiAyLTItLjg5NS0yLTIgLjg5NS0yIDItMnptMCAxYy0uNTUyIDAtMSAuNDQ4LTEgMXMuNDQ4IDEgMSAxIDEtLjQ0OCAxLTEtLjQ0OC0xLTEtMXpNNCA3YzEuMTA1IDAgMiAuODk1IDIgMnMtLjg5NSAyLTIgMi0yLS44OTUtMi0yIC44OTUtMiAyLTJ6bTAgMWMtLjU1MiAwLTEgLjQ0OC0xIDFzLjQ0OCAxIDEgMSAxLS40NDggMS0xLS40NDgtMS0xLTF6IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMjc2IC04MDQpIHRyYW5zbGF0ZSgyNzYgODA0KSIvPgogICAgPC9nPgo8L3N5bWJvbD4KPHN5bWJvbCBpZD0iaWMtaGlzdG9yeS1mbGlwIiB2aWV3Qm94PSIwIDAgMjQgMjQiPgogICAgPGcgZmlsbD0ibm9uZSIgc3Ryb2tlPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiID4KICAgICAgICA8cGF0aCBkPSJNMCAwSDEyVjEySDB6IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTA4IC04MDQpIHRyYW5zbGF0ZSgxMDggODA0KSIvPgogICAgICAgIDxwYXRoIGZpbGw9IiM0MzQzNDMiIGQ9Ik02IDBMNyAwIDcgMTIgNiAxMnpNMTEgMTBWOWgxdjEuNWMwIC4yNzYtLjIyNC41LS41LjVIMTB2LTFoMXpNNSAxdjFIMXY4aDR2MUguNWMtLjI3NiAwLS41LS4yMjQtLjUtLjV2LTljMC0uMjc2LjIyNC0uNS41LS41SDV6bTcgNXYyaC0xVjZoMXptMC0zdjJoLTFWM2gxek05IDF2MUg3VjFoMnptMi41IDBjLjI3NiAwIC41LjIyNC41LjVWMmgtMlYxaDEuNXpNOSAxMUg3di0xaDJ2MXoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0xMDggLTgwNCkgdHJhbnNsYXRlKDEwOCA4MDQpIi8+CiAgICA8L2c+Cjwvc3ltYm9sPgo8c3ltYm9sIGlkPSJpYy1oaXN0b3J5LWljb24iIHZpZXdCb3g9IjAgMCAyNCAyNCI+CiAgICA8ZyBmaWxsPSJub25lIiBzdHJva2U9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCIgPgogICAgICAgIDxwYXRoIGQ9Ik0wIDBIMTJWMTJIMHoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0yMDQgLTgwNCkgdHJhbnNsYXRlKDIwNCA4MDQpIi8+CiAgICAgICAgPHBhdGggc3Ryb2tlPSIjNDM0MzQzIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iMS4xIiBkPSJNNiA5LjU2OEwyLjYwMSAxMSAyLjk3NSA3LjQ2NyAwLjUgNC44MiA0LjEzIDQuMDY4IDYgMSA3Ljg3IDQuMDY4IDExLjUgNC44MiA5LjAyNSA3LjQ2NyA5LjM5OSAxMXoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0yMDQgLTgwNCkgdHJhbnNsYXRlKDIwNCA4MDQpIi8+CiAgICA8L2c+Cjwvc3ltYm9sPgo8c3ltYm9sIGlkPSJpYy1oaXN0b3J5LW1hc2siIHZpZXdCb3g9IjAgMCAyNCAyNCI+CiAgICA8ZyBmaWxsPSJub25lIiBzdHJva2U9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCIgPgogICAgICAgIDxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0yNTIgLTgwNCkgdHJhbnNsYXRlKDI1MiA4MDQpIj4KICAgICAgICAgICAgPHBhdGggZD0iTTAgMEgxMlYxMkgweiIvPgogICAgICAgICAgICA8Y2lyY2xlIGN4PSI2IiBjeT0iNiIgcj0iMi41IiBzdHJva2U9IiM0NDQiLz4KICAgICAgICAgICAgPHBhdGggZmlsbD0iIzQzNDM0MyIgZD0iTTExLjUgMGMuMjc2IDAgLjUuMjI0LjUuNXYxMWMwIC4yNzYtLjIyNC41LS41LjVILjVjLS4yNzYgMC0uNS0uMjI0LS41LS41Vi41QzAgLjIyNC4yMjQgMCAuNSAwaDExek0xMSAxSDF2MTBoMTBWMXoiLz4KICAgICAgICA8L2c+CiAgICA8L2c+Cjwvc3ltYm9sPgo8c3ltYm9sIGlkPSJpYy1oaXN0b3J5LXJvdGF0ZSIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICAgIDxkZWZzPgogICAgICAgIDxwYXRoIGlkPSJyZm40cnlsZmZhIiBkPSJNNyAxMmMtLjMzNSAwLS42NjMtLjAyNS0uOTgzLS4wNzRDMy4xNzEgMTEuNDkyIDEgOS4yMDUgMSA2LjQ0NGMwLTEuMzYzLjUzNC0yLjYxMyAxLjQxNS0zLjU4Ii8+CiAgICAgICAgPG1hc2sgaWQ9IjZmOWduMmR5c2IiIHdpZHRoPSI2IiBoZWlnaHQ9IjkuMTM2IiB4PSIwIiB5PSIwIiBtYXNrVW5pdHM9Im9iamVjdEJvdW5kaW5nQm94Ij4KICAgICAgICAgICAgPHVzZSB4bGluazpocmVmPSIjcmZuNHJ5bGZmYSIgc3Ryb2tlPSI0MzQzNDMiLz4KICAgICAgICA8L21hc2s+CiAgICA8L2RlZnM+CiAgICA8ZyBmaWxsPSJub25lIiBzdHJva2U9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCIgPgogICAgICAgIDxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0xMzIgLTgwNCkgdHJhbnNsYXRlKDEzMiA4MDQpIj4KICAgICAgICAgICAgPHBhdGggZD0iTTAgMC41SDEyVjEyLjVIMHoiLz4KICAgICAgICAgICAgPHBhdGggZmlsbD0iIzQzNDM0MyIgZD0iTTYuNSAxQzkuNTM4IDEgMTIgMy40NjIgMTIgNi41YzAgMi4zNy0xLjUgNC4zOS0zLjYgNS4xNjNsLS40MDctLjkxNkM5Ljc0NCAxMC4xMyAxMSA4LjQ2MiAxMSA2LjUgMTEgNC4wMTUgOC45ODUgMiA2LjUgMmMtLjc3NyAwLTEuNTA5LjE5Ny0yLjE0Ny41NDRMNCAxLjc1bC0uMjA1LS4wNEM0LjU5NCAxLjI1OCA1LjUxNyAxIDYuNSAxeiIvPgogICAgICAgICAgICA8dXNlIHN0cm9rZT0iIzQzNDM0MyIgc3Ryb2tlLWRhc2hhcnJheT0iMiAxLjI1IiBzdHJva2Utd2lkdGg9IjEiIG1hc2s9InVybCgjNmY5Z24yZHlzYikiIHhsaW5rOmhyZWY9IiNyZm40cnlsZmZhIi8+CiAgICAgICAgICAgIDxwYXRoIGZpbGw9IiM0MzQzNDMiIGQ9Ik00LjI3OSAwTDYgMS43NSA0LjI1IDMuNTcxIDMuNTQzIDIuODY0IDQuNTg2IDEuNzUgMy41NzIgMC43MDd6IiB0cmFuc2Zvcm09Im1hdHJpeCgtMSAwIDAgMSA5LjU0MyAwKSIvPgogICAgICAgIDwvZz4KICAgIDwvZz4KPC9zeW1ib2w+CjxzeW1ib2wgaWQ9ImljLWhpc3Rvcnktc2hhcGUiIHZpZXdCb3g9IjAgMCAyNCAyNCI+CiAgICA8ZyBmaWxsPSJub25lIiBzdHJva2U9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCIgPgogICAgICAgIDxwYXRoIGQ9Ik0wIDBIMTJWMTJIMHoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0xODAgLTgwNCkgdHJhbnNsYXRlKDE4MCA4MDQpIi8+CiAgICAgICAgPHBhdGggZmlsbD0iIzQzNDM0MyIgZD0iTTExLjUgNGMuMjc2IDAgLjUuMjI0LjUuNXY3YzAgLjI3Ni0uMjI0LjUtLjUuNWgtN2MtLjI3NiAwLS41LS4yMjQtLjUtLjVWOC44aDFWMTFoNlY1SDguMzQxbC0uNTY4LTFIMTEuNXoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0xODAgLTgwNCkgdHJhbnNsYXRlKDE4MCA4MDQpIi8+CiAgICAgICAgPHBhdGggc3Ryb2tlPSIjNDM0MzQzIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGQ9Ik00LjUgMC41TDguNSA3LjYxMSAwLjUgNy42MTF6IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTgwIC04MDQpIHRyYW5zbGF0ZSgxODAgODA0KSIvPgogICAgPC9nPgo8L3N5bWJvbD4KPHN5bWJvbCBpZD0iaWMtaGlzdG9yeS10ZXh0IiB2aWV3Qm94PSIwIDAgMjQgMjQiPgogICAgPGcgZmlsbD0ibm9uZSIgc3Ryb2tlPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiID4KICAgICAgICA8cGF0aCBkPSJNMCAwSDEyVjEySDB6IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMjI4IC04MDQpIHRyYW5zbGF0ZSgyMjggODA0KSIvPgogICAgICAgIDxwYXRoIGZpbGw9IiM0MzQzNDMiIGQ9Ik0yIDFoOGMuNTUyIDAgMSAuNDQ4IDEgMUgxYzAtLjU1Mi40NDgtMSAxLTF6IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMjI4IC04MDQpIHRyYW5zbGF0ZSgyMjggODA0KSIvPgogICAgICAgIDxwYXRoIGZpbGw9IiM0MzQzNDMiIGQ9Ik0xIDFIMlYzSDF6TTEwIDFIMTFWM0gxMHpNNS41IDFMNi41IDEgNi41IDExIDUuNSAxMXoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0yMjggLTgwNCkgdHJhbnNsYXRlKDIyOCA4MDQpIi8+CiAgICAgICAgPHBhdGggZmlsbD0iIzQzNDM0MyIgZD0iTTQgMTBIOFYxMUg0eiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTIyOCAtODA0KSB0cmFuc2xhdGUoMjI4IDgwNCkiLz4KICAgIDwvZz4KPC9zeW1ib2w+CjxzeW1ib2wgaWQ9ImljLWhpc3RvcnktbG9hZCIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICAgIDxnIGZpbGw9Im5vbmUiIHN0cm9rZT0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8cGF0aCBkPSJNMCAwSDEyVjEySDB6IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMzI0IC04MDUpIHRyYW5zbGF0ZSgzMjQgODA1KSIvPgogICAgICAgIDxwYXRoIGZpbGw9IiM0MzQzNDMiIGQ9Ik01IDBjLjU1MiAwIDEgLjQ0OCAxIDF2MWg1LjVjLjI3NiAwIC41LjIyNC41LjV2OGMwIC4yNzYtLjIyNC41LS41LjVILjVjLS4yNzYgMC0uNS0uMjI0LS41LS41VjFjMC0uNTUyLjQ0OC0xIDEtMWg0em0wIDFIMXY5aDEwVjNINVYxeiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTMyNCAtODA1KSB0cmFuc2xhdGUoMzI0IDgwNSkiLz4KICAgICAgICA8cGF0aCBmaWxsPSIjNDM0MzQzIiBkPSJNMSAyTDUgMiA1IDMgMSAzeiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTMyNCAtODA1KSB0cmFuc2xhdGUoMzI0IDgwNSkiLz4KICAgIDwvZz4KPC9zeW1ib2w+CjxzeW1ib2wgaWQ9ImljLWhpc3RvcnktZGVsZXRlIiB2aWV3Qm94PSIwIDAgMjQgMjQiPgogICAgPGcgZmlsbD0ibm9uZSIgc3Ryb2tlPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIGZpbGw9IiM0MzQzNDMiPgogICAgICAgICAgICA8cGF0aCBkPSJNMiA5aDhWMWgxdjguNWMwIC4yNzYtLjIyNC41LS41LjVoLTljLS4yNzYgMC0uNS0uMjI0LS41LS41VjFoMXY4ek0wIDBIMTJWMUgweiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTMwMCAtODA0KSB0cmFuc2xhdGUoMzAwIDgwNCkgdHJhbnNsYXRlKDAgMikiLz4KICAgICAgICAgICAgPHBhdGggZD0iTTQgM0g1VjdINHpNNyAzSDhWN0g3eiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTMwMCAtODA0KSB0cmFuc2xhdGUoMzAwIDgwNCkgdHJhbnNsYXRlKDAgMikiLz4KICAgICAgICAgICAgPHBhdGggZD0iTTQgMWg0VjBoMXYxLjVjMCAuMjc2LS4yMjQuNS0uNS41aC01Yy0uMjc2IDAtLjUtLjIyNC0uNS0uNVYwaDF2MXoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0zMDAgLTgwNCkgdHJhbnNsYXRlKDMwMCA4MDQpIG1hdHJpeCgxIDAgMCAtMSAwIDIpIi8+CiAgICAgICAgPC9nPgogICAgPC9nPgo8L3N5bWJvbD4KPHN5bWJvbCBpZD0iaWMtaGlzdG9yeS1ncm91cCIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICAgIDxnIGZpbGw9Im5vbmUiIHN0cm9rZT0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMzQ4IC04MDQpIHRyYW5zbGF0ZSgzNDggODA0KSI+CiAgICAgICAgICAgIDxwYXRoIGQ9Ik0wIDBIMTJWMTJIMHoiLz4KICAgICAgICAgICAgPHBhdGggZmlsbD0iIzQzNDM0MyIgZD0iTTEgOXYyaDF2MUguNWMtLjI3NiAwLS41LS4yMjQtLjUtLjVWOWgxem0xMSAxdjEuNWMwIC4yNzYtLjIyNC41LS41LjVIOXYtMWgydi0xaDF6bS00IDF2MUg2di0xaDJ6bS0zIDB2MUgzdi0xaDJ6bTctNHYyaC0xVjdoMXpNMSA2djJIMFY2aDF6bTExLTJ2MmgtMVY0aDF6TTEgM3YySDBWM2gxem0xMC41LTNjLjI3NiAwIC41LjIyNC41LjVWM2gtMVYxaC0xVjBoMS41ek02IDB2MUg0VjBoMnptMyAwdjFIN1YwaDJ6TTAgLjVDMCAuMjI0LjIyNCAwIC41IDBIM3YxSDF2MUgwVi41ek05LjUgNGMuMjc2IDAgLjUuMjI0LjUuNXY1YzAgLjI3Ni0uMjI0LjUtLjUuNWgtNWMtLjI3NiAwLS41LS4yMjQtLjUtLjVWOC4zNTVjLjMxNy4wOTQuNjUyLjE0NSAxIC4xNDVWOWg0VjVoLS41YzAtLjM0OC0uMDUtLjY4My0uMTQ1LTFIOS41eiIvPgogICAgICAgICAgICA8Y2lyY2xlIGN4PSI1IiBjeT0iNSIgcj0iMi41IiBzdHJva2U9IiM0MzQzNDMiLz4KICAgICAgICA8L2c+CiAgICA8L2c+Cjwvc3ltYm9sPgo8c3ltYm9sIGlkPSJpYy1pY29uLWFycm93LTIiIHZpZXdCb3g9IjAgMCAzMiAzMiI+CiAgICA8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9ImluaGVyaXQiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgZD0iTTIxLjc5MyAxOC41SDIuNXYtNWgxOC45MzVsLTcuNi04aDUuODcybDEwLjUgMTAuNS0xMC41IDEwLjVoLTUuOTE0bDgtOHoiLz4KPC9zeW1ib2w+CjxzeW1ib2wgaWQ9ImljLWljb24tYXJyb3ctMyIgdmlld0JveD0iMCAwIDMyIDMyIj4KICAgIDxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iaW5oZXJpdCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBkPSJNMjUuMjg4IDE2LjQyTDE0LjIwOCAyNy41SDYuNzkybDExLjI5MS0xMS4yOTFMNi44MjYgNC41aDcuMzgxbDExLjY2MSAxMS42NjEtLjU4LjI1OHoiLz4KPC9zeW1ib2w+CjxzeW1ib2wgaWQ9ImljLWljb24tYXJyb3ciIHZpZXdCb3g9IjAgMCAzMiAzMiI+CiAgICA8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9ImluaGVyaXQiIGQ9Ik0yLjUgMTEuNXY5aDE4djUuMjkzTDMwLjI5MyAxNiAyMC41IDYuMjA3VjExLjVoLTE4eiIvPgo8L3N5bWJvbD4KPHN5bWJvbCBpZD0iaWMtaWNvbi1idWJibGUiIHZpZXdCb3g9IjAgMCAzMiAzMiI+CiAgICA8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9ImluaGVyaXQiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgZD0iTTIyLjIwNyAyNC41TDE2LjUgMzAuMjA3VjI0LjVIOEE2LjUgNi41IDAgMCAxIDEuNSAxOFY5QTYuNSA2LjUgMCAwIDEgOCAyLjVoMTZBNi41IDYuNSAwIDAgMSAzMC41IDl2OWE2LjUgNi41IDAgMCAxLTYuNSA2LjVoLTEuNzkzeiIvPgo8L3N5bWJvbD4KPHN5bWJvbCBpZD0iaWMtaWNvbi1oZWFydCIgdmlld0JveD0iMCAwIDMyIDMyIj4KICAgIDxwYXRoIGZpbGwtcnVsZT0ibm9uemVybyIgZmlsbD0ibm9uZSIgc3Ryb2tlPSJpbmhlcml0IiBkPSJNMTUuOTk2IDMwLjY3NWwxLjk4MS0xLjc5YzcuODk4LTcuMTc3IDEwLjM2NS05LjcxOCAxMi4xMzUtMTMuMDEyLjkyMi0xLjcxNiAxLjM3Ny0zLjM3IDEuMzc3LTUuMDc2IDAtNC42NS0zLjY0Ny04LjI5Ny04LjI5Ny04LjI5Ny0yLjMzIDAtNC44NiAxLjUyNy02LjgxNyAzLjgyNGwtLjM4LjQ0Ny0uMzgxLS40NDdDMTMuNjU4IDQuMDI3IDExLjEyNiAyLjUgOC43OTcgMi41IDQuMTQ3IDIuNS41IDYuMTQ3LjUgMTAuNzk3YzAgMS43MTQuNDYgMy4zNzUgMS4zODkgNS4wOTggMS43NzUgMy4yODggNC4yNiA1Ljg0MyAxMi4xMjMgMTIuOTc0bDEuOTg0IDEuODA2eiIvPgo8L3N5bWJvbD4KPHN5bWJvbCBpZD0iaWMtaWNvbi1sb2FkIiB2aWV3Qm94PSIwIDAgMzIgMzIiPgogICAgPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSJpbmhlcml0IiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGQ9Ik0xNy4zMTQgMTguODY3bDEuOTUxLTIuNTMgNCA1LjE4NGgtMTdsNi41LTguODQgNC41NDkgNi4xODZ6Ii8+CiAgICA8cGF0aCBzdHJva2U9Im5vbmUiIGZpbGw9ImluaGVyaXQiIGQ9Ik0xOC4wMSA0YTExLjc5OCAxMS43OTggMCAwIDAgMCAxSDN2MjRoMjRWMTQuOTg2YTguNzM4IDguNzM4IDAgMCAwIDEgMFYyOWExIDEgMCAwIDEtMSAxSDNhMSAxIDAgMCAxLTEtMVY1YTEgMSAwIDAgMSAxLTFoMTUuMDF6Ii8+CiAgICA8cGF0aCBzdHJva2U9Im5vbmUiIGZpbGw9ImluaGVyaXQiIGQ9Ik0yNSAzaDF2OWgtMXoiLz4KICAgIDxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iaW5oZXJpdCIgZD0iTTIyIDZsMy41LTMuNUwyOSA2Ii8+Cjwvc3ltYm9sPgo8c3ltYm9sIGlkPSJpYy1pY29uLWxvY2F0aW9uIiB2aWV3Qm94PSIwIDAgMzIgMzIiPgogICAgPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSJpbmhlcml0IiBkPSJNMTYgMzEuMjhDMjMuNjc1IDIzLjMwMiAyNy41IDE3LjE4MSAyNy41IDEzYzAtNi4zNTEtNS4xNDktMTEuNS0xMS41LTExLjVTNC41IDYuNjQ5IDQuNSAxM2MwIDQuMTgxIDMuODI1IDEwLjMwMiAxMS41IDE4LjI4eiIvPgogICAgPGNpcmNsZSBmaWxsPSJub25lIiBzdHJva2U9ImluaGVyaXQiIGN4PSIxNiIgY3k9IjEzIiByPSI0LjUiLz4KPC9zeW1ib2w+CjxzeW1ib2wgaWQ9ImljLWljb24tcG9seWdvbiIgdmlld0JveD0iMCAwIDMyIDMyIj4KICAgIDxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iaW5oZXJpdCIgZD0iTS41NzYgMTZMOC4yOSAyOS41aDE1LjQyTDMxLjQyNCAxNiAyMy43MSAyLjVIOC4yOUwuNTc2IDE2eiIvPgo8L3N5bWJvbD4KPHN5bWJvbCBpZD0iaWMtaWNvbi1zdGFyLTIiIHZpZXdCb3g9IjAgMCAzMiAzMiI+CiAgICA8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9ImluaGVyaXQiIGQ9Ik0xOS40NDYgMzEuNTkybDIuMjY1LTMuMjcyIDMuOTQ2LjI1LjYzNi0zLjk0IDMuNjY1LTEuNTA1LTEuMTItMy44MzIgMi42NTUtMi45NjItMi42NTYtMi45NjIgMS4xMi0zLjgzMi0zLjY2NC0xLjUwNS0uNjM2LTMuOTQxLTMuOTQ2LjI1LTIuMjY1LTMuMjcxTDE2IDMuMDI0IDEyLjU1NCAxLjA3IDEwLjI4OSA0LjM0bC0zLjk0Ni0uMjUtLjYzNiAzLjk0MS0zLjY2NSAxLjUwNSAxLjEyIDMuODMyTC41MDggMTYuMzNsMi42NTYgMi45NjItMS4xMiAzLjgzMiAzLjY2NCAxLjUwNC42MzYgMy45NDIgMy45NDYtLjI1IDIuMjY1IDMuMjdMMTYgMjkuNjM4bDMuNDQ2IDEuOTU1eiIvPgo8L3N5bWJvbD4KPHN5bWJvbCBpZD0iaWMtaWNvbi1zdGFyIiB2aWV3Qm94PSIwIDAgMzIgMzIiPgogICAgPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSJpbmhlcml0IiBkPSJNMjUuMjkyIDI5Ljg3OGwtMS43NzUtMTAuMzQ2IDcuNTE3LTcuMzI3LTEwLjM4OC0xLjUxTDE2IDEuMjgybC00LjY0NiA5LjQxMy0xMC4zODggMS41MSA3LjUxNyA3LjMyNy0xLjc3NSAxMC4zNDZMMTYgMjQuOTkzbDkuMjkyIDQuODg1eiIvPgo8L3N5bWJvbD4KPHN5bWJvbCBpZD0iaWMtaWNvbiIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICAgIDxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iaW5oZXJpdCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBkPSJNMTEuOTIzIDE5LjEzNkw1LjQyNCAyMmwuNzE1LTcuMDY1LTQuNzMxLTUuMjk2IDYuOTQtMS41MDNMMTEuOTIzIDJsMy41NzQgNi4xMzYgNi45NCAxLjUwMy00LjczMSA1LjI5NkwxOC40MiAyMnoiLz4KPC9zeW1ib2w+CjxzeW1ib2wgaWQ9ImljLW1hc2stbG9hZCIgdmlld0JveD0iMCAwIDMyIDMyIj4KICAgIDxwYXRoIHN0cm9rZT0ibm9uZSIgZmlsbD0ibm9uZSIgZD0iTTAgMGgzMnYzMkgweiIvPgogICAgPHBhdGggc3Ryb2tlPSJub25lIiBmaWxsPSJpbmhlcml0IiBkPSJNMTguMDEgNGExMS43OTggMTEuNzk4IDAgMCAwIDAgMUgzdjI0aDI0VjE0Ljk4NmE4LjczOCA4LjczOCAwIDAgMCAxIDBWMjlhMSAxIDAgMCAxLTEgMUgzYTEgMSAwIDAgMS0xLTFWNWExIDEgMCAwIDEgMS0xaDE1LjAxek0xNSAyM2E2IDYgMCAxIDEgMC0xMiA2IDYgMCAwIDEgMCAxMnptMC0xYTUgNSAwIDEgMCAwLTEwIDUgNSAwIDAgMCAwIDEweiIvPgogICAgPHBhdGggc3Ryb2tlPSJub25lIiBmaWxsPSJpbmhlcml0IiBkPSJNMjUgM2gxdjloLTF6Ii8+CiAgICA8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9ImluaGVyaXQiIGQ9Ik0yMiA2bDMuNS0zLjVMMjkgNiIvPgo8L3N5bWJvbD4KPHN5bWJvbCBpZD0iaWMtbWFzayIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICAgIDxjaXJjbGUgY3g9IjEyIiBjeT0iMTIiIHI9IjQuNSIgc3Ryb2tlPSJpbmhlcml0IiBmaWxsPSJub25lIi8+CiAgICA8cGF0aCBzdHJva2U9Im5vbmUiIGZpbGw9ImluaGVyaXQiIGQ9Ik0yIDFoMjBhMSAxIDAgMCAxIDEgMXYyMGExIDEgMCAwIDEtMSAxSDJhMSAxIDAgMCAxLTEtMVYyYTEgMSAwIDAgMSAxLTF6bTAgMXYyMGgyMFYySDJ6Ii8+Cjwvc3ltYm9sPgo8c3ltYm9sIGlkPSJpYy1yZWRvIiB2aWV3Qm94PSIwIDAgMjQgMjQiPgogICAgPHBhdGggZD0iTTAgMGgyNHYyNEgweiIgb3BhY2l0eT0iLjUiIGZpbGw9Im5vbmUiIHN0cm9rZT0ibm9uZSIgLz4KICAgIDxwYXRoIHN0cm9rZT0ibm9uZSIgZmlsbD0iaW5oZXJpdCIgZD0iTTIxIDZIOWE2IDYgMCAxIDAgMCAxMmgxMnYxSDlBNyA3IDAgMCAxIDkgNWgxMnYxeiIvPgogICAgPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSJpbmhlcml0IiBzdHJva2UtbGluZWNhcD0ic3F1YXJlIiBkPSJNMTkgM2wyLjUgMi41TDE5IDgiLz4KPC9zeW1ib2w+CjxzeW1ib2wgaWQ9ImljLXJlc2V0IiB2aWV3Qm94PSIwIDAgMjQgMjQiPgogICAgPHBhdGggZD0iTTAgMGgyNHYyNEgweiIgb3BhY2l0eT0iLjUiIHN0cm9rZT0ibm9uZSIgZmlsbD0ibm9uZSIvPgogICAgPHBhdGggc3Ryb2tlPSJub25lIiBmaWxsPSJpbmhlcml0IiBkPSJNMiAxM3YtMWE3IDcgMCAwIDEgNy03aDEzdjFoLTF2NWgxdjFhNyA3IDAgMCAxLTcgN0gydi0xaDF2LTVIMnptNy03YTYgNiAwIDAgMC02IDZ2NmgxMmE2IDYgMCAwIDAgNi02VjZIOXoiLz4KICAgIDxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iaW5oZXJpdCIgc3Ryb2tlLWxpbmVjYXA9InNxdWFyZSIgZD0iTTE5IDNsMi41IDIuNUwxOSA4TTUgMTZsLTIuNSAyLjVMNSAyMSIvPgo8L3N5bWJvbD4KPHN5bWJvbCBpZD0iaWMtcm90YXRlLWNsb2Nrd2lzZSIgdmlld0JveD0iMCAwIDMyIDMyIj4KICAgIDxwYXRoIHN0cm9rZT0ibm9uZSIgZmlsbD0iaW5oZXJpdCIgZD0iTTI5IDE3aC0uOTI0YzAgNi42MjctNS4zNzMgMTItMTIgMTItNi42MjggMC0xMi01LjM3My0xMi0xMkM0LjA3NiAxMC4zOTggOS40MDcgNS4wNDEgMTYgNVY0QzguODIgNCAzIDkuODIgMyAxN3M1LjgyIDEzIDEzIDEzIDEzLTUuODIgMTMtMTN6Ii8+CiAgICA8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9ImluaGVyaXQiIHN0cm9rZS1saW5lY2FwPSJzcXVhcmUiIGQ9Ik0xNiAxLjVsNCAzLTQgMyIvPgogICAgPHBhdGggc3Ryb2tlPSJub25lIiBmaWxsPSJpbmhlcml0IiBmaWxsLXJ1bGU9Im5vbnplcm8iIGQ9Ik0xNiA0aDR2MWgtNHoiLz4KPC9zeW1ib2w+CjxzeW1ib2wgaWQ9ImljLXJvdGF0ZS1jb3VudGVyY2xvY2t3aXNlIiB2aWV3Qm94PSIwIDAgMzIgMzIiPgogICAgPHBhdGggc3Ryb2tlPSJub25lIiBkPSJNMyAxN2guOTI0YzAgNi42MjcgNS4zNzMgMTIgMTIgMTIgNi42MjggMCAxMi01LjM3MyAxMi0xMiAwLTYuNjAyLTUuMzMxLTExLjk2LTExLjkyNC0xMlY0YzcuMTggMCAxMyA1LjgyIDEzIDEzcy01LjgyIDEzLTEzIDEzUzMgMjQuMTggMyAxN3oiLz4KICAgIDxwYXRoIHN0cm9rZT0ibm9uZSIgZmlsbD0iaW5oZXJpdCIgZmlsbC1ydWxlPSJub256ZXJvIiBkPSJNMTIgNGg0djFoLTR6Ii8+CiAgICA8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9ImluaGVyaXQiIHN0cm9rZS1saW5lY2FwPSJzcXVhcmUiIGQ9Ik0xNiAxLjVsLTQgMyA0IDMiLz4KPC9zeW1ib2w+CjxzeW1ib2wgaWQ9ImljLXJvdGF0ZSIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICAgIDxwYXRoIGQ9Ik0wIDBoMjR2MjRIMHoiIGZpbGw9Im5vbmUiIHN0cm9rZT0ibm9uZSIgLz4KICAgIDxwYXRoIGZpbGw9ImluaGVyaXQiIHN0cm9rZT0ibm9uZSIgZD0iTTguMzQ5IDIyLjI1NGExMC4wMDIgMTAuMDAyIDAgMCAxLTIuNzc4LTEuNzE5bC42NS0uNzZhOS4wMDIgOS4wMDIgMCAwIDAgMi40OTUgMS41NDhsLS4zNjcuOTMxem0yLjg3My43MDRsLjA3OC0uOTk3YTkgOSAwIDEgMC0uNTU3LTE3Ljg1MmwtLjE0LS45OUExMC4wNzYgMTAuMDc2IDAgMCAxIDEyLjE0NSAzYzUuNTIzIDAgMTAgNC40NzcgMTAgMTBzLTQuNDc3IDEwLTEwIDEwYy0uMzEyIDAtLjYyLS4wMTQtLjkyNC0uMDQyem0tNy41NTYtNC42NTVhOS45NDIgOS45NDIgMCAwIDEtMS4yNTMtMi45OTZsLjk3My0uMjM0YTguOTQ4IDguOTQ4IDAgMCAwIDEuMTI0IDIuNjkzbC0uODQ0LjUzN3ptLTEuNTAyLTUuOTFBOS45NDkgOS45NDkgMCAwIDEgMi44OCA5LjIzbC45MjUuMzgyYTguOTU0IDguOTU0IDAgMCAwLS42NDQgMi44NDRsLS45OTgtLjA2MnptMi4yMS01LjY4NmMuNjg3LS44NDggMS41MS0xLjU4IDIuNDM2LTIuMTY2bC41MjMuODUyYTkuMDQ4IDkuMDQ4IDAgMCAwLTIuMTg4IDEuOTVsLS43NzEtLjYzNnoiLz4KICAgIDxwYXRoIHN0cm9rZT0iaW5oZXJpdCIgZmlsbD0ibm9uZSIgc3Ryb2tlLWxpbmVjYXA9InNxdWFyZSIgZD0iTTEzIDFsLTIuNSAyLjVMMTMgNiIvPgo8L3N5bWJvbD4KPHN5bWJvbCBpZD0iaWMtc2hhcGUtY2lyY2xlIiB2aWV3Qm94PSIwIDAgMzIgMzIiPgogICAgPGNpcmNsZSBjeD0iMTYiIGN5PSIxNiIgcj0iMTQuNSIgZmlsbD0ibm9uZSIgc3Ryb2tlPSJpbmhlcml0Ii8+Cjwvc3ltYm9sPgo8c3ltYm9sIGlkPSJpYy1zaGFwZS1yZWN0YW5nbGUiIHZpZXdCb3g9IjAgMCAzMiAzMiI+CiAgICA8cmVjdCB3aWR0aD0iMjciIGhlaWdodD0iMjciIHg9IjIuNSIgeT0iMi41IiBmaWxsPSJub25lIiBzdHJva2U9ImluaGVyaXQiIHJ4PSIxIi8+Cjwvc3ltYm9sPgo8c3ltYm9sIGlkPSJpYy1zaGFwZS10cmlhbmdsZSIgdmlld0JveD0iMCAwIDMyIDMyIj4KICAgIDxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgZD0iTTE2IDIuNWwxNS41IDI3SC41eiIvPgo8L3N5bWJvbD4KPHN5bWJvbCBpZD0iaWMtc2hhcGUiIHZpZXdCb3g9IjAgMCAyNCAyNCI+CiAgICA8cGF0aCBzdHJva2U9Im5vbmUiIGZpbGw9ImluaGVyaXQiIGQ9Ik0xNC43MDYgOEgyMWExIDEgMCAwIDEgMSAxdjEyYTEgMSAwIDAgMS0xIDFIOWExIDEgMCAwIDEtMS0xdi00aDF2NGgxMlY5aC01LjcwNmwtLjU4OC0xeiIvPgogICAgPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSJpbmhlcml0IiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGQ9Ik04LjUgMS41bDcuNSAxM0gxeiIvPgo8L3N5bWJvbD4KPHN5bWJvbCBpZD0iaWMtdGV4dC1hbGlnbi1jZW50ZXIiIHZpZXdCb3g9IjAgMCAzMiAzMiI+CiAgICA8cGF0aCBzdHJva2U9Im5vbmUiIGZpbGw9Im5vbmUiIGQ9Ik0wIDBoMzJ2MzJIMHoiLz4KICAgIDxwYXRoIHN0cm9rZT0ibm9uZSIgZmlsbD0iaW5oZXJpdCIgZD0iTTIgNWgyOHYxSDJ6TTggMTJoMTZ2MUg4ek0yIDE5aDI4djFIMnpNOCAyNmgxNnYxSDh6Ii8+Cjwvc3ltYm9sPgo8c3ltYm9sIGlkPSJpYy10ZXh0LWFsaWduLWxlZnQiIHZpZXdCb3g9IjAgMCAzMiAzMiI+CiAgICA8cGF0aCBzdHJva2U9Im5vbmUiIGZpbGw9Im5vbmUiIGQ9Ik0wIDBoMzJ2MzJIMHoiLz4KICAgIDxwYXRoIHN0cm9rZT0ibm9uZSIgZmlsbD0iaW5oZXJpdCIgZD0iTTIgNWgyOHYxSDJ6TTIgMTJoMTZ2MUgyek0yIDE5aDI4djFIMnpNMiAyNmgxNnYxSDJ6Ii8+Cjwvc3ltYm9sPgo8c3ltYm9sIGlkPSJpYy10ZXh0LWFsaWduLXJpZ2h0IiB2aWV3Qm94PSIwIDAgMzIgMzIiPgogICAgPHBhdGggc3Ryb2tlPSJub25lIiBmaWxsPSJub25lIiBkPSJNMCAwaDMydjMySDB6Ii8+CiAgICA8cGF0aCBzdHJva2U9Im5vbmUiIGZpbGw9ImluaGVyaXQiIGQ9Ik0yIDVoMjh2MUgyek0xNCAxMmgxNnYxSDE0ek0yIDE5aDI4djFIMnpNMTQgMjZoMTZ2MUgxNHoiLz4KPC9zeW1ib2w+CjxzeW1ib2wgaWQ9ImljLXRleHQtYm9sZCIgdmlld0JveD0iMCAwIDMyIDMyIj4KICAgIDxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0ibm9uZSIgZD0iTTAgMGgzMnYzMkgweiIvPgogICAgPHBhdGggc3Ryb2tlPSJub25lIiBmaWxsPSJpbmhlcml0IiBkPSJNNyAyaDJ2Mkg3ek03IDI4aDJ2Mkg3eiIvPgogICAgPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSJpbmhlcml0IiBzdHJva2Utd2lkdGg9IjIiIGQ9Ik05IDN2MTJoOWE2IDYgMCAxIDAgMC0xMkg5ek05IDE1djE0aDEwYTcgNyAwIDAgMCAwLTE0SDl6Ii8+Cjwvc3ltYm9sPgo8c3ltYm9sIGlkPSJpYy10ZXh0LWl0YWxpYyIgdmlld0JveD0iMCAwIDMyIDMyIj4KICAgIDxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0ibm9uZSIgZD0iTTAgMGgzMnYzMkgweiIvPgogICAgPHBhdGggc3Ryb2tlPSJub25lIiBmaWxsPSJpbmhlcml0IiBkPSJNMTUgMmg1djFoLTV6TTExIDI5aDV2MWgtNXpNMTcgM2gxbC00IDI2aC0xeiIvPgo8L3N5bWJvbD4KPHN5bWJvbCBpZD0iaWMtdGV4dC11bmRlcmxpbmUiIHZpZXdCb3g9IjAgMCAzMiAzMiI+CiAgICA8cGF0aCBzdHJva2U9Im5vbmUiIGZpbGw9Im5vbmUiIGQ9Ik0wIDBoMzJ2MzJIMHoiLz4KICAgIDxwYXRoIHN0cm9rZT0ibm9uZSIgZmlsbD0iaW5oZXJpdCIgZD0iTTggMnYxNGE4IDggMCAxIDAgMTYgMFYyaDF2MTRhOSA5IDAgMCAxLTE4IDBWMmgxek0zIDI5aDI2djFIM3oiLz4KICAgIDxwYXRoIHN0cm9rZT0ibm9uZSIgZmlsbD0iaW5oZXJpdCIgZD0iTTUgMmg1djFINXpNMjIgMmg1djFoLTV6Ii8+Cjwvc3ltYm9sPgo8c3ltYm9sIGlkPSJpYy10ZXh0IiB2aWV3Qm94PSIwIDAgMjQgMjQiPgogICAgPHBhdGggc3Ryb2tlPSJub25lIiBmaWxsPSJpbmhlcml0IiBkPSJNNCAzaDE1YTEgMSAwIDAgMSAxIDFIM2ExIDEgMCAwIDEgMS0xek0zIDRoMXYxSDN6TTE5IDRoMXYxaC0xeiIvPgogICAgPHBhdGggc3Ryb2tlPSJub25lIiBmaWxsPSJpbmhlcml0IiBkPSJNMTEgM2gxdjE4aC0xeiIvPgogICAgPHBhdGggc3Ryb2tlPSJub25lIiBmaWxsPSJpbmhlcml0IiBkPSJNMTAgMjBoM3YxaC0zeiIvPgo8L3N5bWJvbD4KPHN5bWJvbCBpZD0iaWMtdW5kbyIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICAgIDxwYXRoIGQ9Ik0yNCAwSDB2MjRoMjR6IiBvcGFjaXR5PSIuNSIgZmlsbD0ibm9uZSIgc3Ryb2tlPSJub25lIiAvPgogICAgPHBhdGggc3Ryb2tlPSJub25lIiBmaWxsPSJpbmhlcml0IiBkPSJNMyA2aDEyYTYgNiAwIDEgMSAwIDEySDN2MWgxMmE3IDcgMCAwIDAgMC0xNEgzdjF6Ii8+CiAgICA8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9ImluaGVyaXQiIHN0cm9rZS1saW5lY2FwPSJzcXVhcmUiIGQ9Ik01IDNMMi41IDUuNSA1IDgiLz4KPC9zeW1ib2w+CjxzeW1ib2wgaWQ9ImljLXpvb20taW4iIHZpZXdCb3g9IjAgMCAyNCAyNCI+CiAgICA8ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMjI5IC0yOTApIHRyYW5zbGF0ZSgyMjkgMjkwKSI+CiAgICAgICAgPGNpcmNsZSBjeD0iMTAuNSIgY3k9IjEwLjUiIHI9IjkiIHN0cm9rZT0iaW5oZXJpdCIgZmlsbD0ibm9uZSIvPgogICAgICAgIDxwYXRoIGZpbGw9ImluaGVyaXQiIGQ9Ik0xOC44MjggMTUuODI4SDE5LjgyOFYyMi44MjhIMTguODI4eiIgdHJhbnNmb3JtPSJyb3RhdGUoLTQ1IDE5LjMyOCAxOS4zMjgpIi8+CiAgICAgICAgPHBhdGggZmlsbD0iaW5oZXJpdCIgZD0iTTcgMTBIMTRWMTFIN3oiLz4KICAgICAgICA8cGF0aCBmaWxsPSJpbmhlcml0IiBkPSJNMTAgN0gxMVYxNEgxMHoiLz4KICAgIDwvZz4KPC9zeW1ib2w+CjxzeW1ib2wgaWQ9ImljLXpvb20tb3V0IiB2aWV3Qm94PSIwIDAgMjQgMjQiPgogICAgPGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTI2MyAtMjkwKSB0cmFuc2xhdGUoMjYzIDI5MCkiPgogICAgICAgIDxjaXJjbGUgY3g9IjEwLjUiIGN5PSIxMC41IiByPSI5IiBzdHJva2U9ImluaGVyaXQiIGZpbGw9Im5vbmUiLz4KICAgICAgICA8cGF0aCBmaWxsPSJpbmhlcml0IiBkPSJNMTguODI4IDE1LjgyOEgxOS44MjhWMjIuODI4SDE4LjgyOHoiIHRyYW5zZm9ybT0icm90YXRlKC00NSAxOS4zMjggMTkuMzI4KSIvPgogICAgICAgIDxwYXRoIGZpbGw9ImluaGVyaXQiIGQ9Ik03IDEwSDE0VjExSDd6Ii8+CiAgICA8L2c+Cjwvc3ltYm9sPgo8c3ltYm9sIGlkPSJpYy1oYW5kIiB2aWV3Qm94PSIwIDAgMjQgMjQiPgogICAgPGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIiBzdHJva2UtbGluZWpvaW49InJvdW5kIj4KICAgICAgICA8cGF0aCBmaWxsPSJpbmhlcml0IiBmaWxsLXJ1bGU9Im5vbnplcm8iIGQ9Ik04LjY3MiAzLjM2YzEuMzI4IDAgMi4xMTQuNzggMi4yOSAxLjg2OWwuMDE0LjEwMS4wMjMuMDA2djEuMDQybC0uNjM4LS4xODVjLS4xODctLjA1NS0uMzIzLS4yMTEtLjM1NC0uMzk5TDEwIDUuNzEzYzAtLjgyNS0uNDItMS4zNTMtMS4zMjgtMS4zNTNDNy42OTUgNC4zNiA3IDUuMDQxIDcgNS43MTN2Ny45NDFjMCAuNDM5LS41MjQuNjY1LS44NDMuMzY0bC0xLjg2OC0xLjc2MWMtLjU5NS0uNTI4LTEuMzE2LS42MTctMS45MTgtLjIxNi0uNTIyLjM0OC0uNTYyIDEuMjAzLS4xOCAxLjhMNy43MzggMjJoMTEuMDEzbC4yODUtLjUxOGMxLjI0Ny0yLjMyNiAxLjg5Ny00LjI1OSAxLjk2LTUuNzg1bC4wMDQtLjIzOVY4LjAzNWMwLS42NTYtLjUtMS4xNy0xLTEuMTctLjUwMyAwLTEgLjQ1Ni0xIDEuMTcgMCAuMzMzLS4zMi41NzMtLjY0LjQ4TDE4IDguNDFWNy4zNjhsLjA4Ni4wMjYuMDQyLS4xMzZjLjI3OS0uODA1Ljk3OC0xLjMzMiAxLjczOC0xLjM4OEwyMCA1Ljg2NWMxLjA1NyAwIDIgLjk2NyAyIDIuMTd2Ny40MjNjMCAxLjkyOS0uODQ1IDQuMzUyLTIuNTIxIDcuMjktLjA5LjE1Ni0uMjU1LjI1Mi0uNDM1LjI1Mkg3LjQ3NGMtLjE2NiAwLS4zMjEtLjA4Mi0uNDE0LS4yMTlsLTUuNzA0LTguMzljLS42NTMtMS4wMTktLjU4NC0yLjQ4Ni40Ni0zLjE4MiAxLS42NjYgMi4yMTYtLjUxNiAzLjE0OC4zMUw2IDEyLjQ5NVY1LjcxM2MwLTEuMTggMS4wNTgtMi4yNjMgMi40OS0yLjM0OHoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0yOTcgLTI5MCkgdHJhbnNsYXRlKDI5NyAyOTApIi8+CiAgICAgICAgPHBhdGggZmlsbD0iaW5oZXJpdCIgZmlsbC1ydWxlPSJub256ZXJvIiBkPSJNMTIuNSAxLjVjMS4zMjUgMCAyLjQxIDEuMDMyIDIuNDk1IDIuMzM2TDE1IDR2Ny4yMmgtMVY0YzAtLjgyOC0uNjcyLTEuNS0xLjUtMS41LS43OCAwLTEuNDIuNTk1LTEuNDkzIDEuMzU2TDExIDR2Ny4yMmgtMVY0YzAtMS4zOCAxLjEyLTIuNSAyLjUtMi41eiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTI5NyAtMjkwKSB0cmFuc2xhdGUoMjk3IDI5MCkiLz4KICAgICAgICA8cGF0aCBmaWxsPSJpbmhlcml0IiBmaWxsLXJ1bGU9Im5vbnplcm8iIGQ9Ik0xNi41IDMuNWMxLjMyNSAwIDIuNDEgMS4wMzIgMi40OTUgMi4zMzZMMTkgNnY2LjNoLTFWNmMwLS44MjgtLjY3Mi0xLjUtMS41LTEuNS0uNzggMC0xLjQyLjU5NS0xLjQ5MyAxLjM1NkwxNSA2djIuNDRoLTFWNmMwLTEuMzggMS4xMi0yLjUgMi41LTIuNXoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0yOTcgLTI5MCkgdHJhbnNsYXRlKDI5NyAyOTApIi8+CiAgICA8L2c+Cjwvc3ltYm9sPgo8L2RlZnM+Cjwvc3ZnPgo="},4858:function(y){y.exports=n},4960:function(){},6759:function(){},6272:function(){}},u={};function b(y){var M=u[y];if(M!==void 0)return M.exports;var l=u[y]={exports:{}};return i[y](l,l.exports,b),l.exports}(function(){b.n=function(y){var M=y&&y.__esModule?function(){return y.default}:function(){return y};return b.d(M,{a:M}),M}})(),function(){b.d=function(y,M){for(var l in M)b.o(M,l)&&!b.o(y,l)&&Object.defineProperty(y,l,{enumerable:!0,get:M[l]})}}(),function(){b.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}()}(),function(){b.o=function(y,M){return Object.prototype.hasOwnProperty.call(y,M)}}();var I={};return function(){b.d(I,{default:function(){return hI}});var y=b(9131),M=b.n(y),l=b(1899),r=b.n(l),w=b(6562),A=b.n(w),D=b(1734),O=b.n(D),N=b(8005),p=b.n(N),a=b(6065),m=b.n(a),v=b(4496),o=b.n(v);Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(j){var _=this;do{if(Element.prototype.matches.call(_,j))return _;_=_.parentElement||_.parentNode}while(_!==null&&_.nodeType===1);return null});/*! @source http://purl.eligrey.com/github/classList.js/blob/master/classList.js */"document"in self&&((!("classList"in document.createElement("_"))||document.createElementNS&&!("classList"in document.createElementNS("http://www.w3.org/2000/svg","g")))&&function(j){if("Element"in j){var _="classList",d="prototype",S=j.Element[d],f=Object,C=M()(String[d])||function(){return this.replace(/^\s+|\s+$/g,"")},P=r()(Array[d])||function(Ce){for(var Me=0,Ie=this.length;Me<Ie;Me++)if(Me in this&&this[Me]===Ce)return Me;return-1},R=function(Me,Ie){this.name=Me,this.code=DOMException[Me],this.message=Ie},z=function(Me,Ie){if(Ie==="")throw new R("SYNTAX_ERR","The token must not be empty.");if(/\s/.test(Ie))throw new R("INVALID_CHARACTER_ERR","The token must not contain space characters.");return P.call(Me,Ie)},B=function(Me){for(var Ie=C.call(Me.getAttribute("class")||""),Ee=Ie?Ie.split(/\s+/):[],Fe=0,rt=Ee.length;Fe<rt;Fe++)this.push(Ee[Fe]);this._updateClassName=function(){Me.setAttribute("class",this.toString())}},X=B[d]=[],q=function(){return new B(this)};if(R[d]=Error[d],X.item=function(Ce){return this[Ce]||null},X.contains=function(Ce){return~z(this,Ce+"")},X.add=function(){var Ce=arguments,Me=0,Ie=Ce.length,Ee,Fe=!1;do Ee=Ce[Me]+"",~z(this,Ee)||(this.push(Ee),Fe=!0);while(++Me<Ie);Fe&&this._updateClassName()},X.remove=function(){var Ce=arguments,Me=0,Ie=Ce.length,Ee,Fe=!1,rt;do for(Ee=Ce[Me]+"",rt=z(this,Ee);~rt;){var ot;A()(ot=this).call(ot,rt,1),Fe=!0,rt=z(this,Ee)}while(++Me<Ie);Fe&&this._updateClassName()},X.toggle=function(Ce,Me){var Ie=this.contains(Ce),Ee=Ie?Me!==!0&&"remove":Me!==!1&&"add";return Ee&&this[Ee](Ce),Me===!0||Me===!1?Me:!Ie},X.replace=function(Ce,Me){var Ie=z(Ce+"");if(~Ie){var Ee;A()(Ee=this).call(Ee,Ie,1,Me),this._updateClassName()}},X.toString=function(){return this.join(" ")},O()){var be={get:q,enumerable:!0,configurable:!0};try{O()(S,_,be)}catch(Ce){(Ce.number===void 0||Ce.number===-2146823252)&&(be.enumerable=!1,O()(S,_,be))}}else f[d].__defineGetter__&&S.__defineGetter__(_,q)}}(self),function(){var j=document.createElement("_");if(j.classList.add("c1","c2"),!j.classList.contains("c2")){var _=function(f){var C=DOMTokenList.prototype[f];DOMTokenList.prototype[f]=function(P){var R,z=arguments.length;for(R=0;R<z;R++)P=arguments[R],C.call(this,P)}};_("add"),_("remove")}if(j.classList.toggle("c3",!1),j.classList.contains("c3")){var d=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(S,f){return 1 in arguments&&!this.contains(S)==!f?f:d.call(this,S)}}"replace"in document.createElement("_").classList||(DOMTokenList.prototype.replace=function(S,f){var C=this.toString().split(" "),P=r()(C).call(C,S+"");~P&&(C=p()(C).call(C,P),this.remove.apply(this,C),this.add(f),this.add.apply(this,p()(C).call(C,1)))}),j=null}());/*!
 * @copyright Copyright (c) 2017 IcoMoon.io
 * @license   Licensed under MIT license
 *            See https://github.com/Keyamoon/svgxuse
 * @version   1.2.6
 */(function(){if(typeof window<"u"&&window.addEventListener){var j=m()(null),_,d,S=function(){clearTimeout(d),d=o()(_,100)},f=function(){},C=function(){var X;window.addEventListener("resize",S,!1),window.addEventListener("orientationchange",S,!1),window.MutationObserver?(X=new MutationObserver(S),X.observe(document.documentElement,{childList:!0,subtree:!0,attributes:!0}),f=function(){try{X.disconnect(),window.removeEventListener("resize",S,!1),window.removeEventListener("orientationchange",S,!1)}catch{}}):(document.documentElement.addEventListener("DOMSubtreeModified",S,!1),f=function(){document.documentElement.removeEventListener("DOMSubtreeModified",S,!1),window.removeEventListener("resize",S,!1),window.removeEventListener("orientationchange",S,!1)})},P=function(X){function q(Ie){var Ee;return Ie.protocol!==void 0?Ee=Ie:(Ee=document.createElement("a"),Ee.href=Ie),Ee.protocol.replace(/:/g,"")+Ee.host}var be,Ce,Me;return window.XMLHttpRequest&&(be=new XMLHttpRequest,Ce=q(location),Me=q(X),be.withCredentials===void 0&&Me!==""&&Me!==Ce?be=XDomainRequest||void 0:be=XMLHttpRequest),be},R="http://www.w3.org/1999/xlink";_=function(){var X,q,be,Ce,Me,Ie=0,Ee,Fe,rt,ot,lt;function Xe(){Ie-=1,Ie===0&&(f(),C())}function Dt(tn){return function(){j[tn.base]!==!0&&(tn.useEl.setAttributeNS(R,"xlink:href","#"+tn.hash),tn.useEl.hasAttribute("href")&&tn.useEl.setAttribute("href","#"+tn.hash))}}function vn(tn){return function(){var ri=document.body,rr=document.createElement("x"),Rn;tn.onload=null,rr.innerHTML=tn.responseText,Rn=rr.getElementsByTagName("svg")[0],Rn&&(Rn.setAttribute("aria-hidden","true"),Rn.style.position="absolute",Rn.style.width=0,Rn.style.height=0,Rn.style.overflow="hidden",ri.insertBefore(Rn,ri.firstChild)),Xe()}}function Nn(tn){return function(){tn.onerror=null,tn.ontimeout=null,Xe()}}for(f(),ot=document.getElementsByTagName("use"),Me=0;Me<ot.length;Me+=1){try{q=ot[Me].getBoundingClientRect()}catch{q=!1}Ce=ot[Me].getAttribute("href")||ot[Me].getAttributeNS(R,"href")||ot[Me].getAttribute("xlink:href"),Ce&&Ce.split?rt=Ce.split("#"):rt=["",""],X=rt[0],be=rt[1],Ee=q&&q.left===0&&q.right===0&&q.top===0&&q.bottom===0,q&&q.width===0&&q.height===0&&!Ee?(ot[Me].hasAttribute("href")&&ot[Me].setAttributeNS(R,"xlink:href",Ce),X.length&&(lt=j[X],lt!==!0&&o()(Dt({useEl:ot[Me],base:X,hash:be}),0),lt===void 0&&(Fe=P(X),Fe!==void 0&&(lt=new Fe,j[X]=lt,lt.onload=vn(lt),lt.onerror=Nn(lt),lt.ontimeout=Nn(lt),lt.open("GET",X),lt.send(),Ie+=1)))):Ee?X.length&&j[X]&&o()(Dt({useEl:ot[Me],base:X,hash:be}),0):j[X]===void 0?j[X]=!0:j[X].onload&&(j[X].abort(),delete j[X].onload,j[X]=!0)}ot="",Ie+=1,Xe()};var z;z=function(){window.removeEventListener("load",z,!1),d=o()(_,0)},document.readyState!=="complete"?window.addEventListener("load",z,!1):z()}})();var c=b(1845);function s(j,_){(_==null||_>j.length)&&(_=j.length);for(var d=0,S=new Array(_);d<_;d++)S[d]=j[d];return S}function g(j){if(c(j))return s(j)}var x=b(184),h=b(662),E=b(7172);function T(j){if(typeof x<"u"&&h(j)!=null||j["@@iterator"]!=null)return E(j)}var k=b(711);function L(j,_){var d;if(j){if(typeof j=="string")return s(j,_);var S=k(d=Object.prototype.toString.call(j)).call(d,8,-1);if(S==="Object"&&j.constructor&&(S=j.constructor.name),S==="Map"||S==="Set")return E(j);if(S==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(S))return s(j,_)}}function F(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function U(j){return g(j)||T(j)||L(j)||F()}var G=b(7077);function Y(j,_,d){return _ in j?G(j,_,{value:d,enumerable:!0,configurable:!0,writable:!0}):j[_]=d,j}function K(j,_){if(!(j instanceof _))throw new TypeError("Cannot call a class as a function")}function he(j,_){for(var d=0;d<_.length;d++){var S=_[d];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),G(j,S.key,S)}}function oe(j,_,d){return _&&he(j.prototype,_),d&&he(j,d),j}var ve=b(4426),ee=b.n(ve),xe=b(9406),Z=b.n(xe),Be=b(8189),we=b.n(Be),ge=b(3972),te=b.n(ge),ae=b(2777),ne=b(961),re=b.n(ne),V=b(5695),H=b.n(V),W=b(8592),J=b.n(W),Q=b(9052),se=b.n(Q),fe=b(2560),ye=b.n(fe),Se=b(2461),me=b.n(Se);function ue(j){if(c(j))return j}function ie(j,_){var d=j==null?null:typeof x<"u"&&h(j)||j["@@iterator"];if(d!=null){var S=[],f=!0,C=!1,P,R;try{for(d=d.call(j);!(f=(P=d.next()).done)&&(S.push(P.value),!(_&&S.length===_));f=!0);}catch(z){C=!0,R=z}finally{try{!f&&d.return!=null&&d.return()}finally{if(C)throw R}}return S}}function le(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function de(j,_){return ue(j)||ie(j,_)||L(j,_)||le()}var pe=b(6397),_e=b.n(pe),Oe=b(7636),Ge=b.n(Oe),Ye=b(789),Te=b.n(Ye),Je=b(4729),et=b.n(Je),ut=b(1610),St=b.n(ut),mt=b(3053),wt=b.n(mt),yt,Pt=["zoomIn","zoomOut","hand"],Kt=["history","undo","redo","reset"],sn=["delete","deleteAll"],Ne=Z()(yt=[]).call(yt,Pt,Kt,sn),je={FILTER:"filter",COLOR:"color"},Ve=["rect","circle","triangle"],Qe={CROPZONE:"cropzone"},nt={VINTAGE:"vintage",SEPIA2:"sepia2",REMOVE_COLOR:"removeColor",COLOR_FILTER:"colorFilter",REMOVE_WHITE:"removeWhite",BLEND_COLOR:"blendColor",BLEND:"blend"},He=it("IMAGE_LOADER","CROPPER","FLIP","ROTATION","FREE_DRAWING","LINE","TEXT","ICON","FILTER","SHAPE","ZOOM","RESIZE"),Qt={lockSkewingX:!0,lockSkewingY:!0,bringForward:!0,isRegular:!1},en={hasRotatingPoint:!1,hasBorders:!1,lockScalingFlip:!0,lockRotation:!0,lockSkewingX:!0,lockSkewingY:!0},tt={CLEAR_OBJECTS:"clearObjects",LOAD_IMAGE:"loadImage",FLIP_IMAGE:"flip",ROTATE_IMAGE:"rotate",ADD_OBJECT:"addObject",REMOVE_OBJECT:"removeObject",APPLY_FILTER:"applyFilter",REMOVE_FILTER:"removeFilter",ADD_ICON:"addIcon",CHANGE_ICON_COLOR:"changeIconColor",ADD_SHAPE:"addShape",CHANGE_SHAPE:"changeShape",ADD_TEXT:"addText",CHANGE_TEXT:"changeText",CHANGE_TEXT_STYLE:"changeTextStyle",ADD_IMAGE_OBJECT:"addImageObject",RESIZE_CANVAS_DIMENSION:"resizeCanvasDimension",SET_OBJECT_PROPERTIES:"setObjectProperties",SET_OBJECT_POSITION:"setObjectPosition",CHANGE_SELECTION:"changeSelection",RESIZE_IMAGE:"resize"},ke={OBJECT_ACTIVATED:"objectActivated",OBJECT_MOVED:"objectMoved",OBJECT_SCALED:"objectScaled",OBJECT_ROTATED:"objectRotated",OBJECT_ADDED:"objectAdded",OBJECT_MODIFIED:"objectModified",TEXT_EDITING:"textEditing",TEXT_CHANGED:"textChanged",ICON_CREATE_RESIZE:"iconCreateResize",ICON_CREATE_END:"iconCreateEnd",ADD_TEXT:"addText",ADD_OBJECT:"addObject",ADD_OBJECT_AFTER:"addObjectAfter",MOUSE_DOWN:"mousedown",REDO_STACK_CHANGED:"redoStackChanged",UNDO_STACK_CHANGED:"undoStackChanged",SELECTION_CLEARED:"selectionCleared",SELECTION_CREATED:"selectionCreated",EXECUTE_COMMAND:"executeCommand",AFTER_UNDO:"afterUndo",AFTER_REDO:"afterRedo",ZOOM_CHANGED:"zoomChanged",HAND_STARTED:"handStarted",HAND_STOPPED:"handStopped",KEY_DOWN:"keydown",KEY_UP:"keyup",INPUT_BOX_EDITING_STARTED:"inputBoxEditingStarted",INPUT_BOX_EDITING_STOPPED:"inputBoxEditingStopped",FOCUS:"focus",BLUR:"blur"},zt={COLOR_PICKER_INPUT_BOX:".tui-colorpicker-palette-hex"},_t={LOAD_IMAGE:"Load",LOAD_MASK_IMAGE:"Mask",ADD_IMAGE_OBJECT:"Mask",CROP:"Crop",RESIZE:"Resize",APPLY_FILTER:"Filter",REMOVE_FILTER:"Filter",CHANGE_SHAPE:"Shape",CHANGE_ICON_COLOR:"Icon",ADD_TEXT:"Text",CHANGE_TEXT_STYLE:"Text",REMOVE_OBJECT:"Delete",CLEAR_OBJECTS:"Delete"},At=it("NORMAL","CROPPER","FREE_DRAWING","LINE_DRAWING","TEXT","SHAPE","ICON","ZOOM","RESIZE"),En={TEXT:"text",CROP:"crop",RESIZE:"resize",SHAPE:"shape",ZOOM:"zoom"},Sn={DEFAULT:"normal",ZOOM:"zoom",HAND:"hand"},Gt={Z:90,Y:89,C:67,V:86,SHIFT:16,BACKSPACE:8,DEL:46,ARROW_DOWN:40,ARROW_UP:38,SPACE:32,DIGIT_0:48,DIGIT_9:57},ni={SELECTION_STYLE:{borderColor:"red",cornerColor:"green",cornerSize:10,originX:"center",originY:"center",transparentCorners:!1}},Lt={addedObject:"The object is already added.",flip:"The flipX and flipY setting values are not changed.",invalidParameters:"Invalid parameters.",isLock:"The executing command state is locked.",loadImage:"The background image is empty.",loadingImageFailed:"Invalid image loaded.",noObject:"The object is not in canvas.",redo:"The promise of redo command is reject.",undo:"The promise of undo command is reject.",unsupportedOperation:"Unsupported operation.",unsupportedType:"Unsupported object type."},Io={"icon-arrow":"M40 12V0l24 24-24 24V36H0V12h40z","icon-arrow-2":"M49,32 H3 V22 h46 l-18,-18 h12 l23,23 L43,50 h-12 l18,-18  z ","icon-arrow-3":"M43.349998,27 L17.354,53 H1.949999 l25.996,-26 L1.949999,1 h15.404 L43.349998,27  z ","icon-star":"M35,54.557999 l-19.912001,10.468 l3.804,-22.172001 l-16.108,-15.7 l22.26,-3.236 L35,3.746 l9.956,20.172001 l22.26,3.236 l-16.108,15.7 l3.804,22.172001  z ","icon-star-2":"M17,31.212 l-7.194,4.08 l-4.728,-6.83 l-8.234,0.524 l-1.328,-8.226 l-7.644,-3.14 l2.338,-7.992 l-5.54,-6.18 l5.54,-6.176 l-2.338,-7.994 l7.644,-3.138 l1.328,-8.226 l8.234,0.522 l4.728,-6.83 L17,-24.312 l7.194,-4.08 l4.728,6.83 l8.234,-0.522 l1.328,8.226 l7.644,3.14 l-2.338,7.992 l5.54,6.178 l-5.54,6.178 l2.338,7.992 l-7.644,3.14 l-1.328,8.226 l-8.234,-0.524 l-4.728,6.83  z ","icon-polygon":"M3,31 L19,3 h32 l16,28 l-16,28 H19  z ","icon-location":"M24 62C8 45.503 0 32.837 0 24 0 10.745 10.745 0 24 0s24 10.745 24 24c0 8.837-8 21.503-24 38zm0-28c5.523 0 10-4.477 10-10s-4.477-10-10-10-10 4.477-10 10 4.477 10 10 10z","icon-heart":"M49.994999,91.349998 l-6.96,-6.333 C18.324001,62.606995 2.01,47.829002 2.01,29.690998 C2.01,14.912998 13.619999,3.299999 28.401001,3.299999 c8.349,0 16.362,5.859 21.594,12 c5.229,-6.141 13.242001,-12 21.591,-12 c14.778,0 26.390999,11.61 26.390999,26.390999 c0,18.138 -16.314001,32.916 -41.025002,55.374001 l-6.96,6.285  z ","icon-bubble":"M44 48L34 58V48H12C5.373 48 0 42.627 0 36V12C0 5.373 5.373 0 12 0h40c6.627 0 12 5.373 12 12v24c0 6.627-5.373 12-12 12h-8z"},_o={realTimeEvent:!0,min:-360,max:360,value:0},Mo={min:5,max:30,value:12},ga={realTimeEvent:!0,min:2,max:300,value:3},Eo={realTimeEvent:!0,min:10,max:100,value:50},di={tintOpacityRange:{realTimeEvent:!0,min:0,max:1,value:.7,useDecimal:!0},removewhiteDistanceRange:{realTimeEvent:!0,min:0,max:1,value:.2,useDecimal:!0},brightnessRange:{realTimeEvent:!0,min:-1,max:1,value:0,useDecimal:!0},noiseRange:{realTimeEvent:!0,min:0,max:1e3,value:100},pixelateRange:{realTimeEvent:!0,min:2,max:20,value:4},colorfilterThresholdRange:{realTimeEvent:!0,min:0,max:1,value:.2,useDecimal:!0},blurFilterRange:{value:.1}},yr={LEFT:0,TOP:0,WIDTH:.5,HEIGHT:.5},ki={realTimeEvent:!0,min:32,max:4088,value:800},Ln=2,va="tui-image-editor-",wo=Math.min,ce=Math.max,Re=!1,Pe=0;function ze(j){return j.__fe_id||(Pe+=1,j.__fe_id=Pe),j.__fe_id}function We(j){return typeof j=="function"}function st(j,_,d){if(_>d){var S=[d,_];_=S[0],d=S[1]}return ce(_,wo(j,d))}function it(){for(var j={},_=arguments.length,d=new Array(_),S=0;S<_;S++)d[S]=arguments[S];return J()(d,function(f){j[f]=f}),j}function Nt(j,_){var d={},S=_.length,f=0,C;for(f=0;f<S;f+=1)C=_[f],d[C]=j[C];return d}function Mt(j){return _e()(j,10)}function qt(j){return j.replace(/-([a-z])/g,function(_,d){return d.toUpperCase()})}function gn(){return!!(window.File&&window.FileList&&window.FileReader)}function Ue(j,_){var d,S,f;if(j.length===4){var C;j=Z()(C="".concat(j)).call(C,p()(j).call(j,1,4))}var P=_e()(p()(j).call(j,1,3),16),R=_e()(p()(j).call(j,3,5),16),z=_e()(p()(j).call(j,5,7),16),B=_;return Z()(d=Z()(S=Z()(f="rgba(".concat(P,", ")).call(f,R,", ")).call(S,z,", ")).call(d,B,")")}function ln(){Re||(Re=!0,et()("image-editor","UA-129999381-1"))}function ii(j,_){var d=document.getElementsByTagName("head"),S=de(d,1),f=S[0],C=document.createElement("link"),P=encodeURIComponent(j);C.setAttribute("rel","stylesheet"),C.setAttribute("type","text/css"),C.setAttribute("href","data:text/css;charset=UTF-8,".concat(P)),f.appendChild(C)}function ma(j){return function(_){return j.querySelector(_)}}function To(j){var _=/data:(image\/.+);base64,/,d="",S,f,C;S=j.replace(_,function(R,z){return d=z,""}),S=atob(S);var P=S.length;for(f=new Uint8Array(P),C=0;C<P;C+=1)f[C]=S.charCodeAt(C);return new Blob([f],{type:d})}function Ao(j){return Number(j.toFixed(Ln))}function Cn(j){J()(j,function(_,d){j[d]=null})}function Oo(){var j,_=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";if(_.charAt(0)==="."){var S;return Z()(S=".".concat(va).concat(d)).call(S,p()(_).call(_,1))}return Z()(j="".concat(va).concat(d)).call(j,_)}function Vy(j,_){var d=_.originX,S=_.originY,f=j.getPointByOrigin(d,S),C=f.x,P=f.y;j.set({left:C,top:P,originX:d,originY:S}),j.setCoords()}function Gy(j){var _,d={};return Ge()(_=me()(j)).call(_,function(S){d[j[S]]=S}),d}function wl(j,_){j.customProps=j.customProps||{},re()(j.customProps,_)}function pa(j,_){var d={};return ye()(_)&&(_=[_]),J()(_,function(S){d[S]=j.customProps[S]}),d}function Xy(j){return j.charAt(0).toUpperCase()+p()(j).call(j,1)}function Do(j,_){return r()(j).call(j,_)>=0}function mf(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return St()(j,"type")||je.COLOR}function Tl(j){var _=Te()(j),d=_===void 0?{}:_;return d.source?je.FILTER:je.COLOR}function pf(j){return wt()(j.get("type"),Ve)>=0}function Al(j){if(Do(Ve,j))return"Shape";switch(j){case"i-text":return"Text";case"path":case"line":return"Draw";case"activeSelection":return"Group";default:return yf(j)}}function Zy(j){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},d=_.useAlpha,S=d===void 0?!0:d,f=_.mode,C=nt.VINTAGE,P=nt.REMOVE_COLOR,R=nt.BLEND_COLOR,z=nt.SEPIA2,B=nt.COLOR_FILTER,X=nt.REMOVE_WHITE,q=nt.BLEND,be;switch(j){case C:be=z;break;case P:be=S?B:X;break;case R:be=f==="add"?q:f;break;default:be=j}return yf(be)}function Jy(j){var _=tt.LOAD_IMAGE;return typeof j=="string"?_===j:_===j.name}function $y(j){var _,d,S=tt.FLIP_IMAGE,f=tt.ROTATE_IMAGE,C=tt.ADD_TEXT,P=tt.APPLY_FILTER,R=tt.REMOVE_FILTER,z=tt.CHANGE_SHAPE,B=tt.CHANGE_ICON_COLOR,X=tt.CHANGE_TEXT_STYLE,q=tt.CLEAR_OBJECTS,be=tt.ADD_IMAGE_OBJECT,Ce=tt.REMOVE_OBJECT,Me=tt.RESIZE_IMAGE,Ie=j.name,Ee=j.args,Fe;switch(Ie){case S:Fe={name:Ie,detail:Ee[1]==="reset"?Ee[1]:p()(_=Ee[1]).call(_,4)};break;case f:Fe={name:Ie,detail:Ee[2]};break;case P:Fe={name:_t.APPLY_FILTER,detail:Zy(Ee[1],Ee[2])};break;case R:Fe={name:_t.REMOVE_FILTER,detail:"Remove"};break;case z:Fe={name:_t.CHANGE_SHAPE,detail:"Change"};break;case B:Fe={name:_t.CHANGE_ICON_COLOR,detail:"Change"};break;case X:Fe={name:_t.CHANGE_TEXT_STYLE,detail:"Change"};break;case Ce:Fe={name:_t.REMOVE_OBJECT,detail:Ee[2]};break;case q:Fe={name:_t.CLEAR_OBJECTS,detail:"All"};break;case be:Fe={name:_t.ADD_IMAGE_OBJECT,detail:"Add"};break;case C:Fe={name:_t.ADD_TEXT};break;case Me:Fe={name:_t.RESIZE,detail:Z()(d="".concat(~~Ee[1].width,"x")).call(d,~~Ee[1].height)};break;default:Fe={name:Ie};break}return Ee[1]==="mask"&&(Fe={name:_t.LOAD_MASK_IMAGE,detail:"Apply"}),Fe}function Ky(j){return j==="top"?"bottom":j==="left"?"right":j==="right"?"left":"top"}function yf(j){return j.replace(/[a-z]/,function(_){return _.toUpperCase()})}function Qy(j){var _=j.left,d=j.top,S=j.width,f=j.height,C=yr.LEFT,P=yr.TOP,R=yr.WIDTH,z=yr.HEIGHT;return _===C&&d===P&&S===R&&f===z}var qy=it("UN_IMPLEMENTATION","NO_COMPONENT_NAME"),bf={UN_IMPLEMENTATION:"Should implement a method: ",NO_COMPONENT_NAME:"Should set a component name"},eb={UN_IMPLEMENTATION:function(_){return bf.UN_IMPLEMENTATION+_},NO_COMPONENT_NAME:function(){return bf.NO_COMPONENT_NAME}},ko={types:re()({},qy),create:function(_){_=_.toLowerCase();for(var d=eb[_],S=arguments.length,f=new Array(S>1?S-1:0),C=1;C<S;C++)f[C-1]=arguments[C];return d.apply(void 0,f)}},Sf=ko.create,Cf=ko.types,tb=function(){function j(_,d){K(this,j),this.name=_.name,this.args=d,this.execute=_.execute,this.undo=_.undo,this.executeCallback=_.executeCallback||null,this.undoCallback=_.undoCallback||null,this.undoData={}}return oe(j,[{key:"execute",value:function(){throw new Error(Sf(Cf.UN_IMPLEMENTATION,"execute"))}},{key:"undo",value:function(){throw new Error(Sf(Cf.UN_IMPLEMENTATION,"undo"))}},{key:"isRedo",get:function(){return me()(this.undoData).length>0}},{key:"setUndoData",value:function(d,S,f){return S&&(d=S),f?S||(S=d):(re()(this.undoData,d),S=null),S}},{key:"setExecuteCallback",value:function(d){return this.executeCallback=d,this}},{key:"setUndoCallback",value:function(d){return this.undoCallback=d,this}}]),j}(),nb=tb,xf={};function ib(j){var _=xf[j];if(_){for(var d=arguments.length,S=new Array(d>1?d-1:0),f=1;f<d;f++)S[f-1]=arguments[f];return new nb(_,S)}return null}function rb(j){xf[j.name]=j}var Xt={create:ib,register:rb},If=function(){function j(){K(this,j),this._undoStack=[],this._redoStack=[],this._isLocked=!1,this._isSilent=!1}return oe(j,[{key:"_invokeExecution",value:function(d){var S=this,f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;this.lock();var C=d.args;return C||(C=[]),d.execute.apply(d,U(C)).then(function(P){return S._isSilent||(S.pushUndoStack(d),S.fire(f?ke.AFTER_REDO:ke.EXECUTE_COMMAND,d)),S.unlock(),We(d.executeCallback)&&d.executeCallback(P),P}).catch(function(P){return S.unlock(),we().reject(P)})}},{key:"_invokeUndo",value:function(d){var S=this;this.lock();var f=d.args;return f||(f=[]),d.undo.apply(d,U(f)).then(function(C){return S.pushRedoStack(d),S.fire(ke.AFTER_UNDO,d),S.unlock(),We(d.undoCallback)&&d.undoCallback(C),C}).catch(function(C){return S.unlock(),we().reject(C)})}},{key:"_fireRedoStackChanged",value:function(){this.fire(ke.REDO_STACK_CHANGED,this._redoStack.length)}},{key:"_fireUndoStackChanged",value:function(){this.fire(ke.UNDO_STACK_CHANGED,this._undoStack.length)}},{key:"lock",value:function(){this._isLocked=!0}},{key:"unlock",value:function(){this._isLocked=!1}},{key:"executeSilent",value:function(){var d=this;this._isSilent=!0;for(var S=arguments.length,f=new Array(S),C=0;C<S;C++)f[C]=arguments[C];return this.execute.apply(this,Z()(f).call(f,[this._isSilent])).then(function(){d._isSilent=!1})}},{key:"execute",value:function(){var d=this;if(this._isLocked)return we().reject(Lt.isLock);for(var S=arguments.length,f=new Array(S),C=0;C<S;C++)f[C]=arguments[C];var P=f[0];return ye()(P)&&(P=Xt.create.apply(Xt,f)),this._invokeExecution(P).then(function(R){return d.clearRedoStack(),R})}},{key:"undo",value:function(){var d=this._undoStack.pop(),S,f="";if(d&&this._isLocked&&(this.pushUndoStack(d,!0),d=null),d)this.isEmptyUndoStack()&&this._fireUndoStackChanged(),S=this._invokeUndo(d);else{if(f=Lt.undo,this._isLocked){var C;f=Z()(C="".concat(f," Because ")).call(C,Lt.isLock)}S=we().reject(f)}return S}},{key:"redo",value:function(){var d=this._redoStack.pop(),S,f="";if(d&&this._isLocked&&(this.pushRedoStack(d,!0),d=null),d)this.isEmptyRedoStack()&&this._fireRedoStackChanged(),S=this._invokeExecution(d,!0);else{if(f=Lt.redo,this._isLocked){var C;f=Z()(C="".concat(f," Because ")).call(C,Lt.isLock)}S=we().reject(f)}return S}},{key:"pushUndoStack",value:function(d,S){this._undoStack.push(d),S||this._fireUndoStackChanged()}},{key:"pushRedoStack",value:function(d,S){this._redoStack.push(d),S||this._fireRedoStackChanged()}},{key:"isEmptyRedoStack",value:function(){return this._redoStack.length===0}},{key:"isEmptyUndoStack",value:function(){return this._undoStack.length===0}},{key:"clearUndoStack",value:function(){this.isEmptyUndoStack()||(this._undoStack=[],this._fireUndoStackChanged())}},{key:"clearRedoStack",value:function(){this.isEmptyRedoStack()||(this._redoStack=[],this._fireRedoStackChanged())}}]),j}();se().mixin(If);var ab=If,ob=b(5214),tr=b.n(ob),sb=function(j){var _,d,S,f,C,P,R,z=j.locale,B=j.biImage,X=j.commonStyle,q=j.headerStyle,be=j.loadButtonStyle,Ce=j.downloadButtonStyle,Me=j.submenuStyle;return Z()(_=Z()(d=Z()(S=Z()(f=Z()(C=Z()(P=Z()(R=`
    <div class="tui-image-editor-main-container" style="`.concat(X,`">
        <div class="tui-image-editor-header" style="`)).call(R,q,`">
            <div class="tui-image-editor-header-logo">
                <img src="`)).call(P,B,`" />
            </div>
            <div class="tui-image-editor-header-buttons">
                <div style="`)).call(C,be,`">
                    `)).call(f,z.localize("Load"),`
                    <input type="file" class="tui-image-editor-load-btn" />
                </div>
                <button class="tui-image-editor-download-btn" style="`)).call(S,Ce,`">
                    `)).call(d,z.localize("Download"),`
                </button>
            </div>
        </div>
        <div class="tui-image-editor-main">
            <div class="tui-image-editor-submenu">
                <div class="tui-image-editor-submenu-style" style="`)).call(_,Me,`"></div>
            </div>
            <div class="tui-image-editor-wrap">
                <div class="tui-image-editor-size-wrap">
                    <div class="tui-image-editor-align-wrap">
                        <div class="tui-image-editor"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
`)},lb=function(j){var _,d,S,f,C,P=j.locale,R=j.biImage,z=j.loadButtonStyle,B=j.downloadButtonStyle,X=j.menuBarPosition;return Z()(_=Z()(d=Z()(S=Z()(f=Z()(C=`
    <ul class="tui-image-editor-help-menu `.concat(Ky(X),`"></ul>
    <div class="tui-image-editor-controls">
        <div class="tui-image-editor-controls-logo">
            <img src="`)).call(C,R,`" />
        </div>
        <ul class="tui-image-editor-menu"></ul>

        <div class="tui-image-editor-controls-buttons">
            <div style="`)).call(f,z,`">
                `)).call(S,P.localize("Load"),`
                <input type="file" class="tui-image-editor-load-btn" />
            </div>
            <button class="tui-image-editor-download-btn" style="`)).call(d,B,`">
                `)).call(_,P.localize("Download"),`
            </button>
        </div>
    </div>
`)},cb=b(899),gi=b.n(cb),ub=function(j){var _,d,S,f,C,P,R,z,B,X,q,be,Ce,Me,Ie,Ee,Fe,rt,ot,lt,Xe,Dt,vn,Nn,tn,ri,rr,Rn,xa,zo=j.subMenuLabelActive,Ho=j.subMenuLabelNormal,Uo=j.subMenuRangeTitle,Wo=j.submenuPartitionVertical,Yo=j.submenuPartitionHorizontal,Vo=j.submenuCheckbox,Go=j.submenuRangePointer,Xo=j.submenuRangeValue,Zo=j.submenuColorpickerTitle,Jo=j.submenuColorpickerButton,$o=j.submenuRangeBar,Ko=j.submenuRangeSubbar,Qo=j.submenuDisabledRangePointer,qo=j.submenuDisabledRangeBar,es=j.submenuDisabledRangeSubbar,ts=j.submenuIconSize,ns=j.menuIconSize,is=j.biSize,ai=j.menuIconStyle,br=j.submenuIconStyle;return Z()(_=Z()(d=Z()(S=Z()(f=Z()(C=Z()(P=Z()(R=Z()(z=Z()(B=Z()(X=Z()(q=Z()(be=Z()(Ce=Z()(Me=Z()(Ie=Z()(Ee=Z()(Fe=Z()(rt=Z()(ot=Z()(lt=Z()(Xe=Z()(Dt=Z()(vn=Z()(Nn=Z()(tn=Z()(ri=Z()(rr=Z()(Rn=Z()(xa=`
    .tie-icon-add-button.icon-bubble .tui-image-editor-button[data-icontype="icon-bubble"] label,
    .tie-icon-add-button.icon-heart .tui-image-editor-button[data-icontype="icon-heart"] label,
    .tie-icon-add-button.icon-location .tui-image-editor-button[data-icontype="icon-location"] label,
    .tie-icon-add-button.icon-polygon .tui-image-editor-button[data-icontype="icon-polygon"] label,
    .tie-icon-add-button.icon-star .tui-image-editor-button[data-icontype="icon-star"] label,
    .tie-icon-add-button.icon-star-2 .tui-image-editor-button[data-icontype="icon-star-2"] label,
    .tie-icon-add-button.icon-arrow-3 .tui-image-editor-button[data-icontype="icon-arrow-3"] label,
    .tie-icon-add-button.icon-arrow-2 .tui-image-editor-button[data-icontype="icon-arrow-2"] label,
    .tie-icon-add-button.icon-arrow .tui-image-editor-button[data-icontype="icon-arrow"] label,
    .tie-icon-add-button.icon-bubble .tui-image-editor-button[data-icontype="icon-bubble"] label,
    .tie-draw-line-select-button.line .tui-image-editor-button.line label,
    .tie-draw-line-select-button.free .tui-image-editor-button.free label,
    .tie-flip-button.flipX .tui-image-editor-button.flipX label,
    .tie-flip-button.flipY .tui-image-editor-button.flipY label,
    .tie-flip-button.resetFlip .tui-image-editor-button.resetFlip label,
    .tie-crop-button .tui-image-editor-button.apply.active label,
    .tie-crop-preset-button .tui-image-editor-button.preset.active label,
    .tie-resize-button .tui-image-editor-button.apply.active label,
    .tie-resize-preset-button .tui-image-editor-button.preset.active label,
    .tie-shape-button.rect .tui-image-editor-button.rect label,
    .tie-shape-button.circle .tui-image-editor-button.circle label,
    .tie-shape-button.triangle .tui-image-editor-button.triangle label,
    .tie-text-effect-button .tui-image-editor-button.active label,
    .tie-text-align-button.tie-text-align-left .tui-image-editor-button.left label,
    .tie-text-align-button.tie-text-align-center .tui-image-editor-button.center label,
    .tie-text-align-button.tie-text-align-right .tui-image-editor-button.right label,
    .tie-mask-apply.apply.active .tui-image-editor-button.apply label,
    .tui-image-editor-container .tui-image-editor-submenu .tui-image-editor-button:hover > label,
    .tui-image-editor-container .tui-image-editor-checkbox label > span {
        `.concat(zo,`
    }
    .tui-image-editor-container .tui-image-editor-submenu .tui-image-editor-button > label,
    .tui-image-editor-container .tui-image-editor-range-wrap.tui-image-editor-newline.short label,
    .tui-image-editor-container .tui-image-editor-range-wrap.tui-image-editor-newline.short label > span {
        `)).call(xa,Ho,`
    }
    .tui-image-editor-container .tui-image-editor-range-wrap label > span {
        `)).call(Rn,Uo,`
    }
    .tui-image-editor-container .tui-image-editor-partition > div {
        `)).call(rr,Wo,`
    }
    .tui-image-editor-container.left .tui-image-editor-submenu .tui-image-editor-partition > div,
    .tui-image-editor-container.right .tui-image-editor-submenu .tui-image-editor-partition > div {
        `)).call(ri,Yo,`
    }
    .tui-image-editor-container .tui-image-editor-checkbox label > span:before {
        `)).call(tn,Vo,`
    }
    .tui-image-editor-container .tui-image-editor-checkbox label > input:checked + span:before {
        border: 0;
    }
    .tui-image-editor-container .tui-image-editor-virtual-range-pointer {
        `)).call(Nn,Go,`
    }
    .tui-image-editor-container .tui-image-editor-virtual-range-bar {
        `)).call(vn,$o,`
    }
    .tui-image-editor-container .tui-image-editor-virtual-range-subbar {
        `)).call(Dt,Ko,`
    }
    .tui-image-editor-container .tui-image-editor-disabled .tui-image-editor-virtual-range-pointer {
        `)).call(Xe,Qo,`
    }
    .tui-image-editor-container .tui-image-editor-disabled .tui-image-editor-virtual-range-subbar {
        `)).call(lt,es,`
    }
    .tui-image-editor-container .tui-image-editor-disabled .tui-image-editor-virtual-range-bar {
        `)).call(ot,qo,`
    }
    .tui-image-editor-container .tui-image-editor-range-value {
        `)).call(rt,Xo,`
    }
    .tui-image-editor-container .tui-image-editor-submenu .tui-image-editor-button .color-picker-value + label {
        `)).call(Fe,Zo,`
    }
    .tui-image-editor-container .tui-image-editor-submenu .tui-image-editor-button .color-picker-value {
        `)).call(Ee,Jo,`
    }
    .tui-image-editor-container .svg_ic-menu {
        `)).call(Ie,ns,`
    }
    .tui-image-editor-container .svg_ic-submenu {
        `)).call(Me,ts,`
    }
    .tui-image-editor-container .tui-image-editor-controls-logo > img,
    .tui-image-editor-container .tui-image-editor-header-logo > img {
        `)).call(Ce,is,`
    }
    .tui-image-editor-menu use.normal.use-default,
    .tui-image-editor-help-menu use.normal.use-default {
        fill-rule: evenodd;
        fill: `)).call(be,ai.normal.color,`;
        stroke: `)).call(q,ai.normal.color,`;
    }
    .tui-image-editor-menu use.active.use-default,
    .tui-image-editor-help-menu use.active.use-default {
        fill-rule: evenodd;
        fill: `)).call(X,ai.active.color,`;
        stroke: `)).call(B,ai.active.color,`;
    }
    .tui-image-editor-menu use.hover.use-default,
    .tui-image-editor-help-menu use.hover.use-default {
        fill-rule: evenodd;
        fill: `)).call(z,ai.hover.color,`;
        stroke: `)).call(R,ai.hover.color,`;
    }
    .tui-image-editor-menu use.disabled.use-default,
    .tui-image-editor-help-menu use.disabled.use-default {
        fill-rule: evenodd;
        fill: `)).call(P,ai.disabled.color,`;
        stroke: `)).call(C,ai.disabled.color,`;
    }
    .tui-image-editor-submenu use.normal.use-default {
        fill-rule: evenodd;
        fill: `)).call(f,br.normal.color,`;
        stroke: `)).call(S,br.normal.color,`;
    }
    .tui-image-editor-submenu use.active.use-default {
        fill-rule: evenodd;
        fill: `)).call(d,br.active.color,`;
        stroke: `)).call(_,br.active.color,`;
    }
`)},fb={"common.bi.image":"https://uicdn.toast.com/toastui/img/tui-image-editor-bi.png","common.bisize.width":"251px","common.bisize.height":"21px","common.backgroundImage":"none","common.backgroundColor":"#1e1e1e","common.border":"0px","header.backgroundImage":"none","header.backgroundColor":"transparent","header.border":"0px","loadButton.backgroundColor":"#fff","loadButton.border":"1px solid #ddd","loadButton.color":"#222","loadButton.fontFamily":"'Noto Sans', sans-serif","loadButton.fontSize":"12px","downloadButton.backgroundColor":"#fdba3b","downloadButton.border":"1px solid #fdba3b","downloadButton.color":"#fff","downloadButton.fontFamily":"'Noto Sans', sans-serif","downloadButton.fontSize":"12px","menu.normalIcon.color":"#8a8a8a","menu.activeIcon.color":"#555555","menu.disabledIcon.color":"#434343","menu.hoverIcon.color":"#e9e9e9","submenu.normalIcon.color":"#8a8a8a","submenu.activeIcon.color":"#e9e9e9","menu.iconSize.width":"24px","menu.iconSize.height":"24px","submenu.iconSize.width":"32px","submenu.iconSize.height":"32px","submenu.backgroundColor":"#1e1e1e","submenu.partition.color":"#3c3c3c","submenu.normalLabel.color":"#8a8a8a","submenu.normalLabel.fontWeight":"lighter","submenu.activeLabel.color":"#fff","submenu.activeLabel.fontWeight":"lighter","checkbox.border":"0px","checkbox.backgroundColor":"#fff","range.pointer.color":"#fff","range.bar.color":"#666","range.subbar.color":"#d1d1d1","range.disabledPointer.color":"#414141","range.disabledBar.color":"#282828","range.disabledSubbar.color":"#414141","range.value.color":"#fff","range.value.fontWeight":"lighter","range.value.fontSize":"11px","range.value.border":"1px solid #353535","range.value.backgroundColor":"#151515","range.title.color":"#fff","range.title.fontWeight":"lighter","colorpicker.button.border":"1px solid #1e1e1e","colorpicker.title.color":"#fff"},hb=b(2534),db=function(){function j(_){K(this,j),this.styles=this._changeToObject(re()({},fb,_)),ii(this._styleMaker()),this._loadDefaultSvgIcon()}return oe(j,[{key:"getStyle",value:function(d){var S=null,f=d.replace(/\..+$/,""),C=this.styles[d];switch(d){case"common.bi":S=this.styles[d].image;break;case"menu.icon":S={active:this.styles["".concat(f,".activeIcon")],normal:this.styles["".concat(f,".normalIcon")],hover:this.styles["".concat(f,".hoverIcon")],disabled:this.styles["".concat(f,".disabledIcon")]};break;case"submenu.icon":S={active:this.styles["".concat(f,".activeIcon")],normal:this.styles["".concat(f,".normalIcon")]};break;case"submenu.label":S={active:this._makeCssText(this.styles["".concat(f,".activeLabel")]),normal:this._makeCssText(this.styles["".concat(f,".normalLabel")])};break;case"submenu.partition":S={vertical:this._makeCssText(re()({},C,{borderLeft:"1px solid ".concat(C.color)})),horizontal:this._makeCssText(re()({},C,{borderBottom:"1px solid ".concat(C.color)}))};break;case"range.disabledPointer":case"range.disabledBar":case"range.disabledSubbar":case"range.pointer":case"range.bar":case"range.subbar":C.backgroundColor=C.color,S=this._makeCssText(C);break;default:S=this._makeCssText(C);break}return S}},{key:"_styleMaker",value:function(){var d=this.getStyle("submenu.label"),S=this.getStyle("submenu.partition");return ub({subMenuLabelActive:d.active,subMenuLabelNormal:d.normal,submenuPartitionVertical:S.vertical,submenuPartitionHorizontal:S.horizontal,biSize:this.getStyle("common.bisize"),subMenuRangeTitle:this.getStyle("range.title"),submenuRangePointer:this.getStyle("range.pointer"),submenuRangeBar:this.getStyle("range.bar"),submenuRangeSubbar:this.getStyle("range.subbar"),submenuDisabledRangePointer:this.getStyle("range.disabledPointer"),submenuDisabledRangeBar:this.getStyle("range.disabledBar"),submenuDisabledRangeSubbar:this.getStyle("range.disabledSubbar"),submenuRangeValue:this.getStyle("range.value"),submenuColorpickerTitle:this.getStyle("colorpicker.title"),submenuColorpickerButton:this.getStyle("colorpicker.button"),submenuCheckbox:this.getStyle("checkbox"),menuIconSize:this.getStyle("menu.iconSize"),submenuIconSize:this.getStyle("submenu.iconSize"),menuIconStyle:this.getStyle("menu.icon"),submenuIconStyle:this.getStyle("submenu.icon")})}},{key:"_changeToObject",value:function(d){var S={};return J()(d,function(f,C){var P=C.match(/^(.+)\.([a-z]+)$/i),R=de(P,3),z=R[1],B=R[2];S[z]||(S[z]={}),S[z][B]=f}),S}},{key:"_makeCssText",value:function(d){var S=this,f=[];return J()(d,function(C,P){var R,z;r()(R=["backgroundImage"]).call(R,P)>-1&&C!=="none"&&(C="url(".concat(C,")")),f.push(Z()(z="".concat(S._toUnderScore(P),": ")).call(z,C))}),f.join(";")}},{key:"_toUnderScore",value:function(d){return d.replace(/([A-Z])/g,function(S,f){return"-".concat(f.toLowerCase())})}},{key:"_loadDefaultSvgIcon",value:function(){if(!document.getElementById("tui-image-editor-svg-default-icons")){var d=new DOMParser,S=hb.replace(/data:image\/svg\+xml;base64,/,""),f=d.parseFromString(atob(S),"text/xml");document.body.appendChild(f.documentElement)}}},{key:"_makeIconClassName",value:function(d,S){var f=S?this.getStyle("submenu.icon"):this.getStyle("menu.icon"),C=f[d],P=C.path,R=C.name;return P&&R?d:"".concat(d," use-default")}},{key:"_makeSvgIconPrefix",value:function(d,S){var f,C=S?this.getStyle("submenu.icon"):this.getStyle("menu.icon"),P=C[d],R=P.path,z=P.name;return R&&z?Z()(f="".concat(R,"#")).call(f,z,"-"):"#"}},{key:"_makeSvgItem",value:function(d,S,f){var C=this;return gi()(d).call(d,function(P){var R,z,B=C._makeSvgIconPrefix(P,f),X=C._toUnderScore(S),q=C._makeIconClassName(P,f);return Z()(R=Z()(z='<use xlink:href="'.concat(B,"ic-")).call(z,X,'" class="')).call(R,q,'"/>')}).join("")}},{key:"makeMenSvgIconSet",value:function(d,S){var f,C=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return Z()(f='<svg class="svg_ic-'.concat(C?"submenu":"menu",'">')).call(f,this._makeSvgItem(d,S,C),"</svg>")}}]),j}(),gb=db,vb=b(9146),Le=b.n(vb),mb=b(6623),_f=b(4230);function Ol(j,_){return Ol=_f||function(S,f){return S.__proto__=f,S},Ol(j,_)}function Rt(j,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function");j.prototype=mb(_&&_.prototype,{constructor:{value:j,writable:!0,configurable:!0}}),_&&Ol(j,_)}var pb=b(3742);function Po(j){"@babel/helpers - typeof";return typeof x=="function"&&typeof pb=="symbol"?Po=function(d){return typeof d}:Po=function(d){return d&&typeof x=="function"&&d.constructor===x&&d!==x.prototype?"symbol":typeof d},Po(j)}function Tt(j){if(j===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return j}function jt(j,_){if(_&&(Po(_)==="object"||typeof _=="function"))return _;if(_!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Tt(j)}var Mf=b(9856);function at(j){return at=_f?Mf:function(d){return d.__proto__||Mf(d)},at(j)}var yb=b(6092),ya=b.n(yb),bb=b(4858),Sb=b.n(bb),Cb=["#000000","#2a2a2a","#545454","#7e7e7e","#a8a8a8","#d2d2d2","#ffffff","","#ff4040","#ff6518","#ffbb3b","#03bd9e","#00a9ff","#515ce6","#9e5fff","#ff5583"],Ef=function(){function j(_,d){var S=d.defaultColor,f=S===void 0?"#7e7e7e":S,C=d.toggleDirection,P=C===void 0?"up":C,R=d.usageStatistics;K(this,j),this.colorpickerElement=_,this.usageStatistics=R,this._show=!1,this._colorpickerElement=_,this._toggleDirection=P,this._makePickerButtonElement(f),this._makePickerLayerElement(_,_.getAttribute("title")),this._color=f,this.picker=Sb().create({container:this.pickerElement,preset:Cb,color:f,usageStatistics:this.usageStatistics}),this._addEvent()}return oe(j,[{key:"destroy",value:function(){var d=this;this._removeEvent(),this.picker.destroy(),this.colorpickerElement.innerHTML="",J()(this,function(S,f){d[f]=null})}},{key:"color",get:function(){return this._color},set:function(d){this._color=d,this._changeColorElement(d)}},{key:"_changeColorElement",value:function(d){d?(this.colorElement.classList.remove("transparent"),this.colorElement.style.backgroundColor=d):(this.colorElement.style.backgroundColor="#fff",this.colorElement.classList.add("transparent"))}},{key:"_makePickerButtonElement",value:function(d){this.colorpickerElement.classList.add("tui-image-editor-button"),this.colorElement=document.createElement("div"),this.colorElement.className="color-picker-value",d?this.colorElement.style.backgroundColor=d:this.colorElement.classList.add("transparent")}},{key:"_makePickerLayerElement",value:function(d,S){var f=document.createElement("label"),C=document.createElement("div");this.pickerControl=document.createElement("div"),this.pickerControl.className="color-picker-control",this.pickerElement=document.createElement("div"),this.pickerElement.className="color-picker",f.innerHTML=S,C.className="triangle",this.pickerControl.appendChild(this.pickerElement),this.pickerControl.appendChild(C),d.appendChild(this.pickerControl),d.appendChild(this.colorElement),d.appendChild(f)}},{key:"_addEvent",value:function(){var d=this,S;this.picker.on("selectColor",function(f){d._changeColorElement(f.color),d._color=f.color,d.fire("change",f.color)}),this.eventHandler={pickerToggle:ee()(S=this._pickerToggleEventHandler).call(S,this),pickerHide:function(){return d.hide()}},this.colorpickerElement.addEventListener("click",this.eventHandler.pickerToggle),document.body.addEventListener("click",this.eventHandler.pickerHide)}},{key:"_removeEvent",value:function(){this.colorpickerElement.removeEventListener("click",this.eventHandler.pickerToggle),document.body.removeEventListener("click",this.eventHandler.pickerHide),this.picker.off()}},{key:"_pickerToggleEventHandler",value:function(d){var S=d.target,f=S&&this._isElementInColorPickerControl(S);(!f||f&&this._isPaletteButton(S))&&(this._show=!this._show,this.pickerControl.style.display=this._show?"block":"none",this._setPickerControlPosition(),this.fire("changeShow",this)),d.stopPropagation()}},{key:"_isPaletteButton",value:function(d){return d.className==="tui-colorpicker-palette-button"}},{key:"_isElementInColorPickerControl",value:function(d){for(var S=d;S!==document.body&&S;){if(S===this.pickerControl)return!0;S=S.parentNode}return!1}},{key:"hide",value:function(){this._show=!1,this.pickerControl.style.display="none"}},{key:"_setPickerControlPosition",value:function(){var d=this.pickerControl.style,S=this._colorpickerElement.clientWidth/2+2,f=this.pickerControl.offsetWidth/2-S,C=(this.pickerControl.offsetHeight+10)*-1;this._toggleDirection==="down"&&(C=30),d.top="".concat(C,"px"),d.left="-".concat(f,"px")}}]),j}();se().mixin(Ef);var nr=Ef,xb=/(-?)([0-9]*)[^0-9]*([0-9]*)/g,wf=function(){function j(_){var d,S,f,C,P,R,z,B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};K(this,j),this._value=B.value||0,this.rangeElement=_.slider,this.rangeInputElement=_.input,this._drawRangeElement(),this.rangeWidth=this._getRangeWidth(),this._min=B.min||0,this._max=B.max||100,this._useDecimal=B.useDecimal,this._absMax=this._min*-1+this._max,this.realTimeEvent=B.realTimeEvent||!1,this._userInputTimer=null,this.eventHandler={startChangingSlide:ee()(d=this._startChangingSlide).call(d,this),stopChangingSlide:ee()(S=this._stopChangingSlide).call(S,this),changeSlide:ee()(f=this._changeSlide).call(f,this),changeSlideFinally:ee()(C=this._changeSlideFinally).call(C,this),changeInput:ee()(P=this._changeInput).call(P,this),changeInputFinally:ee()(R=this._changeValueWithInput).call(R,this,!0),changeInputWithArrow:ee()(z=this._changeValueWithInputKeyEvent).call(z,this)},this._addClickEvent(),this._addDragEvent(),this._addInputEvent(),this.value=B.value,this.trigger("change")}return oe(j,[{key:"destroy",value:function(){var d=this;this._removeClickEvent(),this._removeDragEvent(),this._removeInputEvent(),this.rangeElement.innerHTML="",J()(this,function(S,f){d[f]=null})}},{key:"max",get:function(){return this._max},set:function(d){this._max=d,this._absMax=this._min*-1+this._max,this.value=this._value}},{key:"min",get:function(){return this._min},set:function(d){this._min=d,this.max=this._max}},{key:"value",get:function(){return this._value},set:function(d){d=this._useDecimal?d:Mt(d);var S=d-this._min,f=S*this.rangeWidth/this._absMax;this.rangeWidth<f&&(f=this.rangeWidth),this.pointer.style.left="".concat(f,"px"),this.subbar.style.right="".concat(this.rangeWidth-f,"px"),this._value=d,this.rangeInputElement&&(this.rangeInputElement.value=d)}},{key:"trigger",value:function(d){this.fire(d,this._value)}},{key:"_getRangeWidth",value:function(){var d=function(f){return Mt(window.getComputedStyle(f,null).width)};return d(this.rangeElement)-d(this.pointer)}},{key:"_drawRangeElement",value:function(){this.rangeElement.classList.add("tui-image-editor-range"),this.bar=document.createElement("div"),this.bar.className="tui-image-editor-virtual-range-bar",this.subbar=document.createElement("div"),this.subbar.className="tui-image-editor-virtual-range-subbar",this.pointer=document.createElement("div"),this.pointer.className="tui-image-editor-virtual-range-pointer",this.bar.appendChild(this.subbar),this.bar.appendChild(this.pointer),this.rangeElement.appendChild(this.bar)}},{key:"_addInputEvent",value:function(){this.rangeInputElement&&(this.rangeInputElement.addEventListener("keydown",this.eventHandler.changeInputWithArrow),this.rangeInputElement.addEventListener("keydown",this.eventHandler.changeInput),this.rangeInputElement.addEventListener("blur",this.eventHandler.changeInputFinally))}},{key:"_removeInputEvent",value:function(){this.rangeInputElement&&(this.rangeInputElement.removeEventListener("keydown",this.eventHandler.changeInputWithArrow),this.rangeInputElement.removeEventListener("keydown",this.eventHandler.changeInput),this.rangeInputElement.removeEventListener("blur",this.eventHandler.changeInputFinally))}},{key:"_changeValueWithInputKeyEvent",value:function(d){var S,f=d.keyCode,C=d.target;if(!(r()(S=[Gt.ARROW_UP,Gt.ARROW_DOWN]).call(S,f)<0)){var P=Number(C.value);P=this._valueUpDownForKeyEvent(P,f);var R=P<this._min||P>this._max;if(!R){var z=st(P,this._min,this.max);this.value=z,this.fire("change",z,!1)}}}},{key:"_valueUpDownForKeyEvent",value:function(d,S){var f=this._useDecimal?.1:1;return S===Gt.ARROW_UP?d+=f:S===Gt.ARROW_DOWN&&(d-=f),d}},{key:"_changeInput",value:function(d){var S=this;clearTimeout(this._userInputTimer);var f=d.keyCode;if(f<Gt.DIGIT_0||f>Gt.DIGIT_9){d.preventDefault();return}this._userInputTimer=o()(function(){S._inputSetValue(d.target.value)},350)}},{key:"_inputSetValue",value:function(d){var S=this._useDecimal?Number(d):Mt(d);S=st(S,this._min,this.max),this.value=S,this.fire("change",S,!0)}},{key:"_changeValueWithInput",value:function(d,S){var f,C=S.keyCode,P=S.target;if(!(r()(f=[Gt.ARROW_UP,Gt.ARROW_DOWN]).call(f,C)>=0)){var R=this._filterForInputText(P.value),z=!R||isNaN(R);P.value=R,z||this._inputSetValue(R)}}},{key:"_addClickEvent",value:function(){this.rangeElement.addEventListener("click",this.eventHandler.changeSlideFinally)}},{key:"_removeClickEvent",value:function(){this.rangeElement.removeEventListener("click",this.eventHandler.changeSlideFinally)}},{key:"_addDragEvent",value:function(){this.pointer.addEventListener("mousedown",this.eventHandler.startChangingSlide)}},{key:"_removeDragEvent",value:function(){this.pointer.removeEventListener("mousedown",this.eventHandler.startChangingSlide)}},{key:"_changeSlide",value:function(d){var S=d.screenX,f=S-this.firstPosition,C=this.firstLeft+f;C=C>this.rangeWidth?this.rangeWidth:C,C=C<0?0:C,this.pointer.style.left="".concat(C,"px"),this.subbar.style.right="".concat(this.rangeWidth-C,"px");var P=C/this.rangeWidth,R=this._absMax*P+this._min,z=this._useDecimal?R:Mt(R),B=this.value!==z;B&&(this.value=z,this.realTimeEvent&&this.fire("change",this._value,!1))}},{key:"_changeSlideFinally",value:function(d){if(d.stopPropagation(),d.target.className==="tui-image-editor-range"){var S=d.offsetX,f=S/this.rangeWidth,C=this._absMax*f+this._min;this.pointer.style.left="".concat(f*this.rangeWidth,"px"),this.subbar.style.right="".concat((1-f)*this.rangeWidth,"px"),this.value=C,this.fire("change",C,!0)}}},{key:"_startChangingSlide",value:function(d){this.firstPosition=d.screenX,this.firstLeft=Mt(this.pointer.style.left)||0,document.addEventListener("mousemove",this.eventHandler.changeSlide),document.addEventListener("mouseup",this.eventHandler.stopChangingSlide)}},{key:"_stopChangingSlide",value:function(){this.fire("change",this._value,!0),document.removeEventListener("mousemove",this.eventHandler.changeSlide),document.removeEventListener("mouseup",this.eventHandler.stopChangingSlide)}},{key:"_filterForInputText",value:function(d){return d.replace(xb,"$1$2$3")}}]),j}();se().mixin(wf);var Kn=wf,Tf=function(){function j(_,d){var S=d.locale,f=d.name,C=d.makeSvgIcon,P=d.menuBarPosition,R=d.templateHtml,z=d.usageStatistics;K(this,j),this.subMenuElement=_,this.menuBarPosition=P,this.toggleDirection=P==="top"?"down":"up",this.colorPickerControls=[],this.usageStatistics=z,this.eventHandler={},this._makeSubMenuElement({locale:S,name:f,makeSvgIcon:C,templateHtml:R})}return oe(j,[{key:"selector",value:function(d){return this.subMenuElement.querySelector(d)}},{key:"colorPickerChangeShow",value:function(d){var S;Ge()(S=this.colorPickerControls).call(S,function(f){d!==f&&f.hide()})}},{key:"getButtonType",value:function(d,S){return d.className.match(RegExp("(".concat(S.join("|"),")")))[0]}},{key:"changeClass",value:function(d,S,f){d.classList.remove(S),d.classList.add(f)}},{key:"changeStandbyMode",value:function(){}},{key:"changeStartMode",value:function(){}},{key:"_makeSubMenuElement",value:function(d){var S=d.locale,f=d.name,C=d.iconStyle,P=d.makeSvgIcon,R=d.templateHtml,z=document.createElement("div");z.className="tui-image-editor-menu-".concat(f),z.innerHTML=R({locale:S,iconStyle:C,makeSvgIcon:P}),this.subMenuElement.appendChild(z)}},{key:"_onStartEditingInputBox",value:function(){this.fire(ke.INPUT_BOX_EDITING_STARTED)}},{key:"_onStopEditingInputBox",value:function(){this.fire(ke.INPUT_BOX_EDITING_STOPPED)}}]),j}();se().mixin(Tf);var vi=Tf,Ib=function(j){var _,d,S,f,C,P,R,z,B=j.locale,X=j.makeSvgIcon;return Z()(_=Z()(d=Z()(S=Z()(f=Z()(C=Z()(P=Z()(R=Z()(z=`
    <ul class="tui-image-editor-submenu-item">
        <li class="tie-shape-button">
            <div class="tui-image-editor-button rect">
                <div>
                    `.concat(X(["normal","active"],"shape-rectangle",!0),`
                </div>
                <label> `)).call(z,B.localize("Rectangle"),` </label>
            </div>
            <div class="tui-image-editor-button circle">
                <div>
                    `)).call(R,X(["normal","active"],"shape-circle",!0),`
                </div>
                <label> `)).call(P,B.localize("Circle"),` </label>
            </div>
            <div class="tui-image-editor-button triangle">
                <div>
                    `)).call(C,X(["normal","active"],"shape-triangle",!0),`
                </div>
                <label> `)).call(f,B.localize("Triangle"),` </label>
            </div>
        </li>
        <li class="tui-image-editor-partition">
            <div></div>
        </li>
        <li class="tie-shape-color-button">
            <div class="tie-color-fill" title="`)).call(S,B.localize("Fill"),`"></div>
            <div class="tie-color-stroke" title="`)).call(d,B.localize("Stroke"),`"></div>
        </li>
        <li class="tui-image-editor-partition only-left-right">
            <div></div>
        </li>
        <li class="tui-image-editor-newline tui-image-editor-range-wrap">
            <label class="range">`)).call(_,B.localize("Stroke"),`</label>
            <div class="tie-stroke-range"></div>
            <input class="tie-stroke-range-value tui-image-editor-range-value" value="0" />
        </li>
    </ul>
`)};function _b(j){var _=Mb();return function(){var S=at(j),f;if(_){var C=at(this).constructor;f=Le()(S,arguments,C)}else f=S.apply(this,arguments);return jt(this,f)}}function Mb(){if(typeof Reflect>"u"||!Le()||Le().sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Le()(Boolean,[],function(){})),!0}catch{return!1}}var Eb={stroke:"#ffbb3b",fill:"",strokeWidth:3},wb=function(j){Rt(d,j);var _=_b(d);function d(S,f){var C,P=f.locale,R=f.makeSvgIcon,z=f.menuBarPosition,B=f.usageStatistics;return K(this,d),C=_.call(this,S,{locale:P,name:"shape",makeSvgIcon:R,menuBarPosition:z,templateHtml:Ib,usageStatistics:B}),C.type=null,C.options=Eb,C._els={shapeSelectButton:C.selector(".tie-shape-button"),shapeColorButton:C.selector(".tie-shape-color-button"),strokeRange:new Kn({slider:C.selector(".tie-stroke-range"),input:C.selector(".tie-stroke-range-value")},ga),fillColorpicker:new nr(C.selector(".tie-color-fill"),{defaultColor:"",toggleDirection:C.toggleDirection,usageStatistics:C.usageStatistics}),strokeColorpicker:new nr(C.selector(".tie-color-stroke"),{defaultColor:"#ffbb3b",toggleDirection:C.toggleDirection,usageStatistics:C.usageStatistics})},C.colorPickerControls.push(C._els.fillColorpicker),C.colorPickerControls.push(C._els.strokeColorpicker),C.colorPickerInputBoxes=[],C.colorPickerInputBoxes.push(C._els.fillColorpicker.colorpickerElement.querySelector(zt.COLOR_PICKER_INPUT_BOX)),C.colorPickerInputBoxes.push(C._els.strokeColorpicker.colorpickerElement.querySelector(zt.COLOR_PICKER_INPUT_BOX)),C}return oe(d,[{key:"destroy",value:function(){this._removeEvent(),this._els.strokeRange.destroy(),this._els.fillColorpicker.destroy(),this._els.strokeColorpicker.destroy(),Cn(this)}},{key:"addEvent",value:function(f){var C,P,R,z,B,X,q=this;this.eventHandler.shapeTypeSelected=ee()(C=this._changeShapeHandler).call(C,this),this.actions=f,this._els.shapeSelectButton.addEventListener("click",this.eventHandler.shapeTypeSelected),this._els.strokeRange.on("change",ee()(P=this._changeStrokeRangeHandler).call(P,this)),this._els.fillColorpicker.on("change",ee()(R=this._changeFillColorHandler).call(R,this)),this._els.strokeColorpicker.on("change",ee()(z=this._changeStrokeColorHandler).call(z,this)),this._els.fillColorpicker.on("changeShow",ee()(B=this.colorPickerChangeShow).call(B,this)),this._els.strokeColorpicker.on("changeShow",ee()(X=this.colorPickerChangeShow).call(X,this)),ya()(this.colorPickerInputBoxes,function(be){var Ce,Me;be.addEventListener(ke.FOCUS,ee()(Ce=q._onStartEditingInputBox).call(Ce,q)),be.addEventListener(ke.BLUR,ee()(Me=q._onStopEditingInputBox).call(Me,q))},this)}},{key:"_removeEvent",value:function(){var f=this;this._els.shapeSelectButton.removeEventListener("click",this.eventHandler.shapeTypeSelected),this._els.strokeRange.off(),this._els.fillColorpicker.off(),this._els.strokeColorpicker.off(),ya()(this.colorPickerInputBoxes,function(C){var P,R;C.removeEventListener(ke.FOCUS,ee()(P=f._onStartEditingInputBox).call(P,f)),C.removeEventListener(ke.BLUR,ee()(R=f._onStopEditingInputBox).call(R,f))},this)}},{key:"setShapeStatus",value:function(f){var C=f.strokeWidth,P=f.strokeColor,R=f.fillColor;this._els.strokeRange.value=C,this._els.strokeColorpicker.color=P,this._els.fillColorpicker.color=R,this.options.stroke=P,this.options.fill=R,this.options.strokeWidth=C,this.actions.setDrawingShape(this.type,{strokeWidth:C})}},{key:"changeStartMode",value:function(){this.actions.stopDrawingMode()}},{key:"changeStandbyMode",value:function(){this.type=null,this.actions.changeSelectableAll(!0),this._els.shapeSelectButton.classList.remove("circle"),this._els.shapeSelectButton.classList.remove("triangle"),this._els.shapeSelectButton.classList.remove("rect")}},{key:"setMaxStrokeValue",value:function(f){var C=f;C<=0&&(C=ga.max),this._els.strokeRange.max=C}},{key:"setStrokeValue",value:function(f){this._els.strokeRange.value=f,this._els.strokeRange.trigger("change")}},{key:"getStrokeValue",value:function(){return this._els.strokeRange.value}},{key:"_changeShapeHandler",value:function(f){var C=f.target.closest(".tui-image-editor-button");if(C){this.actions.stopDrawingMode(),this.actions.discardSelection();var P=this.getButtonType(C,["circle","triangle","rect"]);if(this.type===P){this.changeStandbyMode();return}this.changeStandbyMode(),this.type=P,f.currentTarget.classList.add(P),this.actions.changeSelectableAll(!1),this.actions.modeChange("shape")}}},{key:"_changeStrokeRangeHandler",value:function(f,C){this.options.strokeWidth=Mt(f),this.actions.changeShape({strokeWidth:f},!C),this.actions.setDrawingShape(this.type,this.options)}},{key:"_changeFillColorHandler",value:function(f){f=f||"transparent",this.options.fill=f,this.actions.changeShape({fill:f})}},{key:"_changeStrokeColorHandler",value:function(f){f=f||"transparent",this.options.stroke=f,this.actions.changeShape({stroke:f})}}]),d}(vi),Tb=wb,Ab=function(j){var _,d,S,f,C,P,R,z,B,X,q,be,Ce,Me,Ie,Ee,Fe,rt=j.locale,ot=j.makeSvgIcon;return Z()(_=Z()(d=Z()(S=Z()(f=Z()(C=Z()(P=Z()(R=Z()(z=Z()(B=Z()(X=Z()(q=Z()(be=Z()(Ce=Z()(Me=Z()(Ie=Z()(Ee=Z()(Fe=`
    <ul class="tui-image-editor-submenu-item">
        <li class="tie-crop-preset-button">
            <div class="tui-image-editor-button preset preset-none active">
                <div>
                    `.concat(ot(["normal","active"],"shape-rectangle",!0),`
                </div>
                <label> `)).call(Fe,rt.localize("Custom"),` </label>
            </div>
            <div class="tui-image-editor-button preset preset-square">
                <div>
                    `)).call(Ee,ot(["normal","active"],"crop",!0),`
                </div>
                <label> `)).call(Ie,rt.localize("Square"),` </label>
            </div>
            <div class="tui-image-editor-button preset preset-3-2">
                <div>
                    `)).call(Me,ot(["normal","active"],"crop",!0),`
                </div>
                <label> `)).call(Ce,rt.localize("3:2"),` </label>
            </div>
            <div class="tui-image-editor-button preset preset-4-3">
                <div>
                    `)).call(be,ot(["normal","active"],"crop",!0),`
                </div>
                <label> `)).call(q,rt.localize("4:3"),` </label>
            </div>
            <div class="tui-image-editor-button preset preset-5-4">
                <div>
                    `)).call(X,ot(["normal","active"],"crop",!0),`
                </div>
                <label> `)).call(B,rt.localize("5:4"),` </label>
            </div>
            <div class="tui-image-editor-button preset preset-7-5">
                <div>
                    `)).call(z,ot(["normal","active"],"crop",!0),`
                </div>
                <label> `)).call(R,rt.localize("7:5"),` </label>
            </div>
            <div class="tui-image-editor-button preset preset-16-9">
                <div>
                    `)).call(P,ot(["normal","active"],"crop",!0),`
                </div>
                <label> `)).call(C,rt.localize("16:9"),` </label>
            </div>
        </li>
        <li class="tui-image-editor-partition tui-image-editor-newline">
        </li>
        <li class="tui-image-editor-partition only-left-right">
            <div></div>
        </li>
        <li class="tie-crop-button action">
            <div class="tui-image-editor-button apply">
                `)).call(f,ot(["normal","active"],"apply"),`
                <label>
                    `)).call(S,rt.localize("Apply"),`
                </label>
            </div>
            <div class="tui-image-editor-button cancel">
                `)).call(d,ot(["normal","active"],"cancel"),`
                <label>
                    `)).call(_,rt.localize("Cancel"),`
                </label>
            </div>
        </li>
    </ul>
`)};function Ob(j){var _=Db();return function(){var S=at(j),f;if(_){var C=at(this).constructor;f=Le()(S,arguments,C)}else f=S.apply(this,arguments);return jt(this,f)}}function Db(){if(typeof Reflect>"u"||!Le()||Le().sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Le()(Boolean,[],function(){})),!0}catch{return!1}}var kb=function(j){Rt(d,j);var _=Ob(d);function d(S,f){var C,P=f.locale,R=f.makeSvgIcon,z=f.menuBarPosition,B=f.usageStatistics;return K(this,d),C=_.call(this,S,{locale:P,name:"crop",makeSvgIcon:R,menuBarPosition:z,templateHtml:Ab,usageStatistics:B}),C.status="active",C._els={apply:C.selector(".tie-crop-button .apply"),cancel:C.selector(".tie-crop-button .cancel"),preset:C.selector(".tie-crop-preset-button")},C.defaultPresetButton=C._els.preset.querySelector(".preset-none"),C}return oe(d,[{key:"destroy",value:function(){this._removeEvent(),Cn(this)}},{key:"addEvent",value:function(f){var C,P,R,z=ee()(C=this._applyEventHandler).call(C,this),B=ee()(P=this._cancelEventHandler).call(P,this),X=ee()(R=this._cropzonePresetEventHandler).call(R,this);this.eventHandler={apply:z,cancel:B,cropzonePreset:X},this.actions=f,this._els.apply.addEventListener("click",z),this._els.cancel.addEventListener("click",B),this._els.preset.addEventListener("click",X)}},{key:"_removeEvent",value:function(){this._els.apply.removeEventListener("click",this.eventHandler.apply),this._els.cancel.removeEventListener("click",this.eventHandler.cancel),this._els.preset.removeEventListener("click",this.eventHandler.cropzonePreset)}},{key:"_applyEventHandler",value:function(){this.actions.crop(),this._els.apply.classList.remove("active")}},{key:"_cancelEventHandler",value:function(){this.actions.cancel(),this._els.apply.classList.remove("active")}},{key:"_cropzonePresetEventHandler",value:function(f){var C=f.target.closest(".tui-image-editor-button.preset");if(C){var P=C.className.match(/preset-[^\s]+/),R=de(P,1),z=R[0];this._setPresetButtonActive(C),this.actions.preset(z)}}},{key:"changeStartMode",value:function(){this.actions.modeChange("crop")}},{key:"changeStandbyMode",value:function(){this.actions.stopDrawingMode(),this._setPresetButtonActive()}},{key:"changeApplyButtonStatus",value:function(f){f?this._els.apply.classList.add("active"):this._els.apply.classList.remove("active")}},{key:"_setPresetButtonActive",value:function(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.defaultPresetButton;J()(this._els.preset.querySelectorAll(".preset"),function(C){C.classList.remove("active")}),f&&f.classList.add("active")}}]),d}(vi),Pb=kb,Lb=function(j){var _,d,S,f,C,P,R=j.locale,z=j.makeSvgIcon;return Z()(_=Z()(d=Z()(S=Z()(f=Z()(C=Z()(P=`
    <ul class="tui-image-editor-submenu-item">
        <li class="tui-image-editor-submenu-align">
            <div class="tui-image-editor-range-wrap tui-image-editor-newline">
                <label class="range">`.concat(R.localize("Width"),`&nbsp;</label>
                <div class="tie-width-range"></div>
                <input class="tie-width-range-value tui-image-editor-range-value" value="0" /> <label>px</label>
                <div class="tui-image-editor-partition tui-image-editor-newline"></div>
                <label class="range">`)).call(P,R.localize("Height"),`</label>
                <div class="tie-height-range"></div>
                <input class="tie-height-range-value tui-image-editor-range-value" value="0" /> <label>px</label>
            </div>
        </li>
        <li class="tui-image-editor-partition tui-image-editor-newline"></li>
        <li class="tui-image-editor-partition only-left-right">
            <div></div>
        </li>
        <li class="tui-image-editor-submenu-align">
            <div class="tui-image-editor-checkbox-wrap">
                <div class="tui-image-editor-checkbox">
                    <label>
                        <input type="checkbox" class="tie-lock-aspect-ratio">
                        <span>`)).call(C,R.localize("Lock Aspect Ratio"),`</span>
                    </label>
                </div>
            </div>
        </li>
        <li class="tui-image-editor-partition tui-image-editor-newline"></li>
        <li class="tui-image-editor-partition only-left-right">
            <div></div>
        </li>
        <li class="tui-image-editor-partition tui-image-editor-newline"></li>
        <li class="tie-resize-button action">
            <div class="tui-image-editor-button apply">
                `)).call(f,z(["normal","active"],"apply"),`
                <label>
                    `)).call(S,R.localize("Apply"),`
                </label>
            </div>
            <div class="tui-image-editor-button cancel">
                `)).call(d,z(["normal","active"],"cancel"),`
                <label>
                    `)).call(_,R.localize("Cancel"),`
                </label>
            </div>
        </li>
    </ul>
`)};function Nb(j){var _=Rb();return function(){var S=at(j),f;if(_){var C=at(this).constructor;f=Le()(S,arguments,C)}else f=S.apply(this,arguments);return jt(this,f)}}function Rb(){if(typeof Reflect>"u"||!Le()||Le().sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Le()(Boolean,[],function(){})),!0}catch{return!1}}var jb=function(j){Rt(d,j);var _=Nb(d);function d(S,f){var C,P=f.locale,R=f.makeSvgIcon,z=f.menuBarPosition,B=f.usageStatistics;return K(this,d),C=_.call(this,S,{locale:P,name:"resize",makeSvgIcon:R,menuBarPosition:z,templateHtml:Lb,usageStatistics:B}),C.status="active",C._lockState=!1,C._originalDimensions=null,C._els={widthRange:new Kn({slider:C.selector(".tie-width-range"),input:C.selector(".tie-width-range-value")},ki),heightRange:new Kn({slider:C.selector(".tie-height-range"),input:C.selector(".tie-height-range-value")},ki),lockAspectRatio:C.selector(".tie-lock-aspect-ratio"),apply:C.selector(".tie-resize-button .apply"),cancel:C.selector(".tie-resize-button .cancel")},C}return oe(d,[{key:"changeStartMode",value:function(){this.actions.modeChange("resize");var f=this.actions.getCurrentDimensions();this._originalDimensions=f,this.setWidthValue(f.width),this.setHeightValue(f.height)}},{key:"changeStandbyMode",value:function(){this.actions.stopDrawingMode(),this.actions.reset(!0)}},{key:"setLimit",value:function(f){this._els.widthRange.min=this.calcMinValue(f.minWidth),this._els.heightRange.min=this.calcMinValue(f.minHeight),this._els.widthRange.max=this.calcMaxValue(f.maxWidth),this._els.heightRange.max=this.calcMaxValue(f.maxHeight)}},{key:"calcMaxValue",value:function(f){return f<=0&&(f=ki.max),f}},{key:"calcMinValue",value:function(f){return f<=0&&(f=ki.min),f}},{key:"setWidthValue",value:function(f){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;this._els.widthRange.value=f,C&&this._els.widthRange.trigger("change")}},{key:"setHeightValue",value:function(f){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;this._els.heightRange.value=f,C&&this._els.heightRange.trigger("change")}},{key:"destroy",value:function(){this._removeEvent(),Cn(this)}},{key:"addEvent",value:function(f){var C,P,R,z,B;this._els.widthRange.on("change",ee()(C=this._changeWidthRangeHandler).call(C,this)),this._els.heightRange.on("change",ee()(P=this._changeHeightRangeHandler).call(P,this)),this._els.lockAspectRatio.addEventListener("change",ee()(R=this._changeLockAspectRatio).call(R,this));var X=ee()(z=this._applyEventHandler).call(z,this),q=ee()(B=this._cancelEventHandler).call(B,this);this.eventHandler={apply:X,cancel:q},this.actions=f,this._els.apply.addEventListener("click",X),this._els.cancel.addEventListener("click",q)}},{key:"_changeWidthRangeHandler",value:function(f){this.actions.preview("width",Mt(f),this._lockState)}},{key:"_changeHeightRangeHandler",value:function(f){this.actions.preview("height",Mt(f),this._lockState)}},{key:"_changeLockAspectRatio",value:function(f){this._lockState=f.target.checked,this.actions.lockAspectRatio(this._lockState,ki.min,ki.max)}},{key:"_removeEvent",value:function(){this._els.apply.removeEventListener("click",this.eventHandler.apply),this._els.cancel.removeEventListener("click",this.eventHandler.cancel)}},{key:"_applyEventHandler",value:function(){this.actions.resize(),this._els.apply.classList.remove("active")}},{key:"_cancelEventHandler",value:function(){this.actions.reset(),this._els.cancel.classList.remove("active")}},{key:"changeApplyButtonStatus",value:function(f){f?this._els.apply.classList.add("active"):this._els.apply.classList.remove("active")}}]),d}(vi),Fb=jb,Bb=function(j){var _,d,S,f,C,P=j.locale,R=j.makeSvgIcon;return Z()(_=Z()(d=Z()(S=Z()(f=Z()(C=`
    <ul class="tie-flip-button tui-image-editor-submenu-item">
        <li>
            <div class="tui-image-editor-button flipX">
                <div>
                    `.concat(R(["normal","active"],"flip-x",!0),`
                </div>
                <label>
                    `)).call(C,P.localize("Flip X"),`
                </label>
            </div>
            <div class="tui-image-editor-button flipY">
                <div>
                    `)).call(f,R(["normal","active"],"flip-y",!0),`
                </div>
                <label>
                    `)).call(S,P.localize("Flip Y"),`
                </label>
            </div>
        </li>
        <li class="tui-image-editor-partition">
            <div></div>
        </li>
        <li>
            <div class="tui-image-editor-button resetFlip">
                <div>
                    `)).call(d,R(["normal","active"],"flip-reset",!0),`
                </div>
                <label>
                    `)).call(_,P.localize("Reset"),`
                </label>
            </div>
        </li>
    </ul>
`)};function zb(j){var _=Hb();return function(){var S=at(j),f;if(_){var C=at(this).constructor;f=Le()(S,arguments,C)}else f=S.apply(this,arguments);return jt(this,f)}}function Hb(){if(typeof Reflect>"u"||!Le()||Le().sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Le()(Boolean,[],function(){})),!0}catch{return!1}}var Ub=function(j){Rt(d,j);var _=zb(d);function d(S,f){var C,P=f.locale,R=f.makeSvgIcon,z=f.menuBarPosition,B=f.usageStatistics;return K(this,d),C=_.call(this,S,{locale:P,name:"flip",makeSvgIcon:R,menuBarPosition:z,templateHtml:Bb,usageStatistics:B}),C.flipStatus=!1,C._els={flipButton:C.selector(".tie-flip-button")},C}return oe(d,[{key:"destroy",value:function(){this._removeEvent(),Cn(this)}},{key:"addEvent",value:function(f){var C;this.eventHandler.changeFlip=ee()(C=this._changeFlip).call(C,this),this._actions=f,this._els.flipButton.addEventListener("click",this.eventHandler.changeFlip)}},{key:"_removeEvent",value:function(){this._els.flipButton.removeEventListener("click",this.eventHandler.changeFlip)}},{key:"_changeFlip",value:function(f){var C=this,P=f.target.closest(".tui-image-editor-button");if(P){var R=this.getButtonType(P,["flipX","flipY","resetFlip"]);if(!this.flipStatus&&R==="resetFlip")return;this._actions.flip(R).then(function(z){var B=C._els.flipButton.classList;C.flipStatus=!1,B.remove("resetFlip"),J()(["flipX","flipY"],function(X){B.remove(X),z[X]&&(B.add(X),B.add("resetFlip"),C.flipStatus=!0)})})}}}]),d}(vi),Wb=Ub,Yb=function(j){var _,d,S=j.locale,f=j.makeSvgIcon;return Z()(_=Z()(d=`
    <ul class="tui-image-editor-submenu-item">
        <li class="tie-rotate-button">
            <div class="tui-image-editor-button clockwise">
                <div>
                    `.concat(f(["normal","active"],"rotate-clockwise",!0),`
                </div>
                <label> 30 </label>
            </div>
            <div class="tui-image-editor-button counterclockwise">
                <div>
                    `)).call(d,f(["normal","active"],"rotate-counterclockwise",!0),`
                </div>
                <label> -30 </label>
            </div>
        </li>
        <li class="tui-image-editor-partition only-left-right">
            <div></div>
        </li>
        <li class="tui-image-editor-newline tui-image-editor-range-wrap">
            <label class="range">`)).call(_,S.localize("Range"),`</label>
            <div class="tie-rotate-range"></div>
            <input class="tie-rotate-range-value tui-image-editor-range-value" value="0" />
        </li>
    </ul>
`)};function Vb(j){var _=Gb();return function(){var S=at(j),f;if(_){var C=at(this).constructor;f=Le()(S,arguments,C)}else f=S.apply(this,arguments);return jt(this,f)}}function Gb(){if(typeof Reflect>"u"||!Le()||Le().sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Le()(Boolean,[],function(){})),!0}catch{return!1}}var Xb=30,Zb=-30,Jb=function(j){Rt(d,j);var _=Vb(d);function d(S,f){var C,P=f.locale,R=f.makeSvgIcon,z=f.menuBarPosition,B=f.usageStatistics;return K(this,d),C=_.call(this,S,{locale:P,name:"rotate",makeSvgIcon:R,menuBarPosition:z,templateHtml:Yb,usageStatistics:B}),C._value=0,C._els={rotateButton:C.selector(".tie-rotate-button"),rotateRange:new Kn({slider:C.selector(".tie-rotate-range"),input:C.selector(".tie-rotate-range-value")},_o)},C}return oe(d,[{key:"destroy",value:function(){this._removeEvent(),this._els.rotateRange.destroy(),Cn(this)}},{key:"setRangeBarAngle",value:function(f,C){var P=C;f==="rotate"&&(P=_e()(this._els.rotateRange.value,10)+C),this._setRangeBarRatio(P)}},{key:"_setRangeBarRatio",value:function(f){this._els.rotateRange.value=f}},{key:"addEvent",value:function(f){var C,P;this.eventHandler.rotationAngleChanged=ee()(C=this._changeRotateForButton).call(C,this),this.actions=f,this._els.rotateButton.addEventListener("click",this.eventHandler.rotationAngleChanged),this._els.rotateRange.on("change",ee()(P=this._changeRotateForRange).call(P,this))}},{key:"_removeEvent",value:function(){this._els.rotateButton.removeEventListener("click",this.eventHandler.rotationAngleChanged),this._els.rotateRange.off()}},{key:"_changeRotateForRange",value:function(f,C){var P=Mt(f);this.actions.setAngle(P,!C),this._value=P}},{key:"_changeRotateForButton",value:function(f){var C=f.target.closest(".tui-image-editor-button"),P=this._els.rotateRange.value;if(C){var R=this.getButtonType(C,["counterclockwise","clockwise"]),z={clockwise:Xb,counterclockwise:Zb}[R],B=_e()(P,10)+z,X=B>=-360&&B<=360;X&&this.actions.rotate(z)}}}]),d}(vi),$b=Jb,Kb=function(j){var _,d,S,f,C,P,R,z,B,X,q,be,Ce,Me=j.locale,Ie=j.makeSvgIcon;return Z()(_=Z()(d=Z()(S=Z()(f=Z()(C=Z()(P=Z()(R=Z()(z=Z()(B=Z()(X=Z()(q=Z()(be=Z()(Ce=`
    <ul class="tui-image-editor-submenu-item">
        <li class="tie-text-effect-button">
            <div class="tui-image-editor-button bold">
                <div>
                    `.concat(Ie(["normal","active"],"text-bold",!0),`
                </div>
                <label> `)).call(Ce,Me.localize("Bold"),` </label>
            </div>
            <div class="tui-image-editor-button italic">
                <div>
                    `)).call(be,Ie(["normal","active"],"text-italic",!0),`
                </div>
                <label> `)).call(q,Me.localize("Italic"),` </label>
            </div>
            <div class="tui-image-editor-button underline">
                <div>
                    `)).call(X,Ie(["normal","active"],"text-underline",!0),`
                </div>
                <label> `)).call(B,Me.localize("Underline"),` </label>
            </div>
        </li>
        <li class="tui-image-editor-partition">
            <div></div>
        </li>
        <li class="tie-text-align-button">
            <div class="tui-image-editor-button left">
                <div>
                    `)).call(z,Ie(["normal","active"],"text-align-left",!0),`
                </div>
                <label> `)).call(R,Me.localize("Left"),` </label>
            </div>
            <div class="tui-image-editor-button center">
                <div>
                    `)).call(P,Ie(["normal","active"],"text-align-center",!0),`
                </div>
                <label> `)).call(C,Me.localize("Center"),` </label>
            </div>
            <div class="tui-image-editor-button right">
                <div>
                    `)).call(f,Ie(["normal","active"],"text-align-right",!0),`
                </div>
                <label> `)).call(S,Me.localize("Right"),` </label>
            </div>
        </li>
        <li class="tui-image-editor-partition">
            <div></div>
        </li>
        <li>
            <div class="tie-text-color" title="`)).call(d,Me.localize("Color"),`"></div>
        </li>
        <li class="tui-image-editor-partition only-left-right">
            <div></div>
        </li>
        <li class="tui-image-editor-newline tui-image-editor-range-wrap">
            <label class="range">`)).call(_,Me.localize("Text size"),`</label>
            <div class="tie-text-range"></div>
            <input class="tie-text-range-value tui-image-editor-range-value" value="0" />
        </li>
    </ul>
`)};function Qb(j){var _=qb();return function(){var S=at(j),f;if(_){var C=at(this).constructor;f=Le()(S,arguments,C)}else f=S.apply(this,arguments);return jt(this,f)}}function qb(){if(typeof Reflect>"u"||!Le()||Le().sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Le()(Boolean,[],function(){})),!0}catch{return!1}}var e0=function(j){Rt(d,j);var _=Qb(d);function d(S,f){var C,P=f.locale,R=f.makeSvgIcon,z=f.menuBarPosition,B=f.usageStatistics;return K(this,d),C=_.call(this,S,{locale:P,name:"text",makeSvgIcon:R,menuBarPosition:z,templateHtml:Kb,usageStatistics:B}),C.effect={bold:!1,italic:!1,underline:!1},C.align="tie-text-align-left",C._els={textEffectButton:C.selector(".tie-text-effect-button"),textAlignButton:C.selector(".tie-text-align-button"),textColorpicker:new nr(C.selector(".tie-text-color"),{defaultColor:"#ffbb3b",toggleDirection:C.toggleDirection,usageStatistics:C.usageStatistics}),textRange:new Kn({slider:C.selector(".tie-text-range"),input:C.selector(".tie-text-range-value")},Eo)},C.colorPickerInputBox=C._els.textColorpicker.colorpickerElement.querySelector(zt.COLOR_PICKER_INPUT_BOX),C}return oe(d,[{key:"destroy",value:function(){this._removeEvent(),this._els.textColorpicker.destroy(),this._els.textRange.destroy(),Cn(this)}},{key:"addEvent",value:function(f){var C,P,R,z,B,X,q=ee()(C=this._setTextEffectHandler).call(C,this),be=ee()(P=this._setTextAlignHandler).call(P,this);this.eventHandler={setTextEffect:q,setTextAlign:be},this.actions=f,this._els.textEffectButton.addEventListener("click",q),this._els.textAlignButton.addEventListener("click",be),this._els.textRange.on("change",ee()(R=this._changeTextRnageHandler).call(R,this)),this._els.textColorpicker.on("change",ee()(z=this._changeColorHandler).call(z,this)),this.colorPickerInputBox.addEventListener(ke.FOCUS,ee()(B=this._onStartEditingInputBox).call(B,this)),this.colorPickerInputBox.addEventListener(ke.BLUR,ee()(X=this._onStopEditingInputBox).call(X,this))}},{key:"_removeEvent",value:function(){var f,C,P=this.eventHandler,R=P.setTextEffect,z=P.setTextAlign;this._els.textEffectButton.removeEventListener("click",R),this._els.textAlignButton.removeEventListener("click",z),this._els.textRange.off(),this._els.textColorpicker.off(),this.colorPickerInputBox.removeEventListener(ke.FOCUS,ee()(f=this._onStartEditingInputBox).call(f,this)),this.colorPickerInputBox.removeEventListener(ke.BLUR,ee()(C=this._onStopEditingInputBox).call(C,this))}},{key:"changeStandbyMode",value:function(){this.actions.stopDrawingMode()}},{key:"changeStartMode",value:function(){this.actions.modeChange("text")}},{key:"textColor",get:function(){return this._els.textColorpicker.color},set:function(f){this._els.textColorpicker.color=f}},{key:"fontSize",get:function(){return this._els.textRange.value},set:function(f){this._els.textRange.value=f}},{key:"fontStyle",get:function(){return this.effect.italic?"italic":"normal"}},{key:"fontWeight",get:function(){return this.effect.bold?"bold":"normal"}},{key:"underline",get:function(){return this.effect.underline}},{key:"setTextStyleStateOnAction",value:function(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},C=Te()(f),P=f.fontSize,R=f.fontStyle,z=f.fontWeight,B=f.textDecoration,X=f.textAlign;this.textColor=C,this.fontSize=P,this.setEffectState("italic",R),this.setEffectState("bold",z),this.setEffectState("underline",B),this.setAlignState("tie-text-align-".concat(X))}},{key:"setEffectState",value:function(f,C){var P=C==="italic"||C==="bold"||C==="underline",R=this._els.textEffectButton.querySelector(".tui-image-editor-button.".concat(f));this.effect[f]=P,R.classList[P?"add":"remove"]("active")}},{key:"setAlignState",value:function(f){var C=this._els.textAlignButton;C.classList.remove(this.align),C.classList.add(f),this.align=f}},{key:"_setTextEffectHandler",value:function(f){var C=f.target.closest(".tui-image-editor-button");if(C){var P=C.className.match(/(bold|italic|underline)/),R=de(P,1),z=R[0],B={bold:{fontWeight:"bold"},italic:{fontStyle:"italic"},underline:{textDecoration:"underline"}}[z];this.effect[z]=!this.effect[z],C.classList.toggle("active"),this.actions.changeTextStyle(B)}}},{key:"_setTextAlignHandler",value:function(f){var C=f.target.closest(".tui-image-editor-button");if(C){var P=this.getButtonType(C,["left","center","right"]),R="tie-text-align-".concat(P);f.currentTarget.classList.remove(this.align),this.align!==R&&f.currentTarget.classList.add(R),this.actions.changeTextStyle({textAlign:P}),this.align=R}}},{key:"_changeTextRnageHandler",value:function(f,C){this.actions.changeTextStyle({fontSize:f},!C)}},{key:"_changeColorHandler",value:function(f){f=f||"transparent",this.actions.changeTextStyle({fill:f})}}]),d}(vi),t0=e0,n0=function(j){var _,d,S,f=j.locale,C=j.makeSvgIcon;return Z()(_=Z()(d=Z()(S=`
    <ul class="tui-image-editor-submenu-item">
        <li>
            <div class="tui-image-editor-button">
                <div>
                    <input type="file" accept="image/*" class="tie-mask-image-file">
                    `.concat(C(["normal","active"],"mask-load",!0),`
                </div>
                <label> `)).call(S,f.localize("Load Mask Image"),` </label>
            </div>
        </li>
        <li class="tui-image-editor-partition only-left-right">
            <div></div>
        </li>
        <li class="tie-mask-apply tui-image-editor-newline apply" style="margin-top: 22px;margin-bottom: 5px">
            <div class="tui-image-editor-button apply">
                `)).call(d,C(["normal","active"],"apply"),`
                <label>
                    `)).call(_,f.localize("Apply"),`
                </label>
            </div>
        </li>
    </ul>
`)};function i0(j){var _=r0();return function(){var S=at(j),f;if(_){var C=at(this).constructor;f=Le()(S,arguments,C)}else f=S.apply(this,arguments);return jt(this,f)}}function r0(){if(typeof Reflect>"u"||!Le()||Le().sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Le()(Boolean,[],function(){})),!0}catch{return!1}}var a0=function(j){Rt(d,j);var _=i0(d);function d(S,f){var C,P=f.locale,R=f.makeSvgIcon,z=f.menuBarPosition,B=f.usageStatistics;return K(this,d),C=_.call(this,S,{locale:P,name:"mask",makeSvgIcon:R,menuBarPosition:z,templateHtml:n0,usageStatistics:B}),C._els={applyButton:C.selector(".tie-mask-apply"),maskImageButton:C.selector(".tie-mask-image-file")},C}return oe(d,[{key:"destroy",value:function(){this._removeEvent(),Cn(this)}},{key:"addEvent",value:function(f){var C,P,R=ee()(C=this._loadMaskFile).call(C,this),z=ee()(P=this._applyMask).call(P,this);this.eventHandler={loadMaskFile:R,applyMask:z},this.actions=f,this._els.maskImageButton.addEventListener("change",R),this._els.applyButton.addEventListener("click",z)}},{key:"_removeEvent",value:function(){this._els.maskImageButton.removeEventListener("change",this.eventHandler.loadMaskFile),this._els.applyButton.removeEventListener("click",this.eventHandler.applyMask)}},{key:"_applyMask",value:function(){this.actions.applyFilter(),this._els.applyButton.classList.remove("active")}},{key:"_loadMaskFile",value:function(f){var C;gn()||alert("This browser does not support file-api");var P=de(f.target.files,1),R=P[0];R&&(C=te().createObjectURL(R),this.actions.loadImageFromURL(C,R),this._els.applyButton.classList.add("active"))}}]),d}(vi),o0=a0,s0=function(j){var _,d,S,f,C,P,R,z,B,X,q,be,Ce,Me,Ie,Ee,Fe,rt,ot,lt,Xe=j.locale,Dt=j.makeSvgIcon;return Z()(_=Z()(d=Z()(S=Z()(f=Z()(C=Z()(P=Z()(R=Z()(z=Z()(B=Z()(X=Z()(q=Z()(be=Z()(Ce=Z()(Me=Z()(Ie=Z()(Ee=Z()(Fe=Z()(rt=Z()(ot=Z()(lt=`
    <ul class="tui-image-editor-submenu-item">
        <li class="tie-icon-add-button">
            <div class="tui-image-editor-button" data-icontype="icon-arrow">
                <div>
                    `.concat(Dt(["normal","active"],"icon-arrow",!0),`
                </div>
                <label>
                    `)).call(lt,Xe.localize("Arrow"),`
                </label>
            </div>
            <div class="tui-image-editor-button" data-icontype="icon-arrow-2">
                <div>
                    `)).call(ot,Dt(["normal","active"],"icon-arrow-2",!0),`
                </div>
                <label>
                    `)).call(rt,Xe.localize("Arrow-2"),`
                </label>
            </div>
            <div class="tui-image-editor-button" data-icontype="icon-arrow-3">
                <div>
                    `)).call(Fe,Dt(["normal","active"],"icon-arrow-3",!0),`
                </div>
                <label>
                    `)).call(Ee,Xe.localize("Arrow-3"),`
                </label>
            </div>
            <div class="tui-image-editor-button" data-icontype="icon-star">
                <div>
                    `)).call(Ie,Dt(["normal","active"],"icon-star",!0),`
                </div>
                <label>
                    `)).call(Me,Xe.localize("Star-1"),`
                </label>
            </div>
            <div class="tui-image-editor-button" data-icontype="icon-star-2">
                <div>
                    `)).call(Ce,Dt(["normal","active"],"icon-star-2",!0),`
                </div>
                <label>
                    `)).call(be,Xe.localize("Star-2"),`
                </label>
            </div>

            <div class="tui-image-editor-button" data-icontype="icon-polygon">
                <div>
                    `)).call(q,Dt(["normal","active"],"icon-polygon",!0),`
                </div>
                <label>
                    `)).call(X,Xe.localize("Polygon"),`
                </label>
            </div>

            <div class="tui-image-editor-button" data-icontype="icon-location">
                <div>
                    `)).call(B,Dt(["normal","active"],"icon-location",!0),`
                </div>
                <label>
                    `)).call(z,Xe.localize("Location"),`
                </label>
            </div>

            <div class="tui-image-editor-button" data-icontype="icon-heart">
                <div>
                    `)).call(R,Dt(["normal","active"],"icon-heart",!0),`
                </div>
                <label>
                    `)).call(P,Xe.localize("Heart"),`
                </label>
            </div>

            <div class="tui-image-editor-button" data-icontype="icon-bubble">
                <div>
                    `)).call(C,Dt(["normal","active"],"icon-bubble",!0),`
                </div>
                <label>
                    `)).call(f,Xe.localize("Bubble"),`
                </label>
            </div>
        </li>
        <li class="tui-image-editor-partition">
            <div></div>
        </li>
        <li class="tie-icon-add-button">
            <div class="tui-image-editor-button" style="margin:0">
                <div>
                    <input type="file" accept="image/*" class="tie-icon-image-file">
                    `)).call(S,Dt(["normal","active"],"icon-load",!0),`
                </div>
                <label>
                    `)).call(d,Xe.localize("Custom icon"),`
                </label>
            </div>
        </li>
        <li class="tui-image-editor-partition">
            <div></div>
        </li>
        <li>
            <div class="tie-icon-color" title="`)).call(_,Xe.localize("Color"),`"></div>
        </li>
    </ul>
`)};function l0(j){var _=c0();return function(){var S=at(j),f;if(_){var C=at(this).constructor;f=Le()(S,arguments,C)}else f=S.apply(this,arguments);return jt(this,f)}}function c0(){if(typeof Reflect>"u"||!Le()||Le().sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Le()(Boolean,[],function(){})),!0}catch{return!1}}var u0=function(j){Rt(d,j);var _=l0(d);function d(S,f){var C,P=f.locale,R=f.makeSvgIcon,z=f.menuBarPosition,B=f.usageStatistics;return K(this,d),C=_.call(this,S,{locale:P,name:"icon",makeSvgIcon:R,menuBarPosition:z,templateHtml:s0,usageStatistics:B}),C.iconType=null,C._iconMap={},C._els={registerIconButton:C.selector(".tie-icon-image-file"),addIconButton:C.selector(".tie-icon-add-button"),iconColorpicker:new nr(C.selector(".tie-icon-color"),{defaultColor:"#ffbb3b",toggleDirection:C.toggleDirection,usageStatistics:C.usageStatistics})},C.colorPickerInputBox=C._els.iconColorpicker.colorpickerElement.querySelector(zt.COLOR_PICKER_INPUT_BOX),C}return oe(d,[{key:"destroy",value:function(){this._removeEvent(),this._els.iconColorpicker.destroy(),Cn(this)}},{key:"addEvent",value:function(f){var C,P,R,z,B,X=ee()(C=this._registerIconHandler).call(C,this),q=ee()(P=this._addIconHandler).call(P,this);this.eventHandler={registerIcon:X,addIcon:q},this.actions=f,this._els.iconColorpicker.on("change",ee()(R=this._changeColorHandler).call(R,this)),this._els.registerIconButton.addEventListener("change",X),this._els.addIconButton.addEventListener("click",q),this.colorPickerInputBox.addEventListener(ke.FOCUS,ee()(z=this._onStartEditingInputBox).call(z,this)),this.colorPickerInputBox.addEventListener(ke.BLUR,ee()(B=this._onStopEditingInputBox).call(B,this))}},{key:"_removeEvent",value:function(){var f,C;this._els.iconColorpicker.off(),this._els.registerIconButton.removeEventListener("change",this.eventHandler.registerIcon),this._els.addIconButton.removeEventListener("click",this.eventHandler.addIcon),this.colorPickerInputBox.removeEventListener(ke.FOCUS,ee()(f=this._onStartEditingInputBox).call(f,this)),this.colorPickerInputBox.removeEventListener(ke.BLUR,ee()(C=this._onStopEditingInputBox).call(C,this))}},{key:"clearIconType",value:function(){this._els.addIconButton.classList.remove(this.iconType),this.iconType=null}},{key:"registerDefaultIcon",value:function(){var f=this;J()(Io,function(C,P){f.actions.registerDefaultIcons(P,C)})}},{key:"setIconPickerColor",value:function(f){this._els.iconColorpicker.color=f}},{key:"changeStandbyMode",value:function(){this.clearIconType(),this.actions.cancelAddIcon()}},{key:"_changeColorHandler",value:function(f){f=f||"transparent",this.actions.changeColor(f)}},{key:"_addIconHandler",value:function(f){var C=f.target.closest(".tui-image-editor-button");if(C){var P=C.getAttribute("data-icontype"),R=this._els.iconColorpicker.color;this.actions.discardSelection(),this.actions.changeSelectableAll(!1),this._els.addIconButton.classList.remove(this.iconType),this._els.addIconButton.classList.add(P),this.iconType===P?this.changeStandbyMode():(this.actions.addIcon(P,R),this.iconType=P)}}},{key:"_registerIconHandler",value:function(f){var C;gn||alert("This browser does not support file-api");var P=de(f.target.files,1),R=P[0];R&&(C=te().createObjectURL(R),this.actions.registerCustomIcon(C,R))}}]),d}(vi),f0=u0,h0=function(j){var _,d,S,f,C,P=j.locale,R=j.makeSvgIcon;return Z()(_=Z()(d=Z()(S=Z()(f=Z()(C=`
    <ul class="tui-image-editor-submenu-item">
        <li class="tie-draw-line-select-button">
            <div class="tui-image-editor-button free">
                <div>
                    `.concat(R(["normal","active"],"draw-free",!0),`
                </div>
                <label>
                    `)).call(C,P.localize("Free"),`
                </label>
            </div>
            <div class="tui-image-editor-button line">
                <div>
                    `)).call(f,R(["normal","active"],"draw-line",!0),`
                </div>
                <label>
                    `)).call(S,P.localize("Straight"),`
                </label>
            </div>
        </li>
        <li class="tui-image-editor-partition">
            <div></div>
        </li>
        <li>
            <div class="tie-draw-color" title="`)).call(d,P.localize("Color"),`"></div>
        </li>
        <li class="tui-image-editor-partition only-left-right">
            <div></div>
        </li>
        <li class="tui-image-editor-newline tui-image-editor-range-wrap">
            <label class="range">`)).call(_,P.localize("Range"),`</label>
            <div class="tie-draw-range"></div>
            <input class="tie-draw-range-value tui-image-editor-range-value" value="0" />
        </li>
    </ul>
`)};function d0(j){var _=g0();return function(){var S=at(j),f;if(_){var C=at(this).constructor;f=Le()(S,arguments,C)}else f=S.apply(this,arguments);return jt(this,f)}}function g0(){if(typeof Reflect>"u"||!Le()||Le().sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Le()(Boolean,[],function(){})),!0}catch{return!1}}var v0=.7,m0=function(j){Rt(d,j);var _=d0(d);function d(S,f){var C,P=f.locale,R=f.makeSvgIcon,z=f.menuBarPosition,B=f.usageStatistics;return K(this,d),C=_.call(this,S,{locale:P,name:"draw",makeSvgIcon:R,menuBarPosition:z,templateHtml:h0,usageStatistics:B}),C._els={lineSelectButton:C.selector(".tie-draw-line-select-button"),drawColorPicker:new nr(C.selector(".tie-draw-color"),{defaultColor:"#00a9ff",toggleDirection:C.toggleDirection,usageStatistics:C.usageStatistics}),drawRange:new Kn({slider:C.selector(".tie-draw-range"),input:C.selector(".tie-draw-range-value")},Mo)},C.type=null,C.color=C._els.drawColorPicker.color,C.width=C._els.drawRange.value,C.colorPickerInputBox=C._els.drawColorPicker.colorpickerElement.querySelector(zt.COLOR_PICKER_INPUT_BOX),C}return oe(d,[{key:"destroy",value:function(){this._removeEvent(),this._els.drawColorPicker.destroy(),this._els.drawRange.destroy(),Cn(this)}},{key:"addEvent",value:function(f){var C,P,R,z,B;this.eventHandler.changeDrawType=ee()(C=this._changeDrawType).call(C,this),this.actions=f,this._els.lineSelectButton.addEventListener("click",this.eventHandler.changeDrawType),this._els.drawColorPicker.on("change",ee()(P=this._changeDrawColor).call(P,this)),this._els.drawRange.on("change",ee()(R=this._changeDrawRange).call(R,this)),this.colorPickerInputBox.addEventListener(ke.FOCUS,ee()(z=this._onStartEditingInputBox).call(z,this)),this.colorPickerInputBox.addEventListener(ke.BLUR,ee()(B=this._onStopEditingInputBox).call(B,this))}},{key:"_removeEvent",value:function(){var f,C;this._els.lineSelectButton.removeEventListener("click",this.eventHandler.changeDrawType),this._els.drawColorPicker.off(),this._els.drawRange.off(),this.colorPickerInputBox.removeEventListener(ke.FOCUS,ee()(f=this._onStartEditingInputBox).call(f,this)),this.colorPickerInputBox.removeEventListener(ke.BLUR,ee()(C=this._onStopEditingInputBox).call(C,this))}},{key:"setDrawMode",value:function(){this.actions.setDrawMode(this.type,{width:this.width,color:Ue(this.color,v0)})}},{key:"changeStandbyMode",value:function(){this.type=null,this.actions.stopDrawingMode(),this.actions.changeSelectableAll(!0),this._els.lineSelectButton.classList.remove("free"),this._els.lineSelectButton.classList.remove("line")}},{key:"changeStartMode",value:function(){this.type="free",this._els.lineSelectButton.classList.add("free"),this.setDrawMode()}},{key:"_changeDrawType",value:function(f){var C=f.target.closest(".tui-image-editor-button");if(C){var P=this.getButtonType(C,["free","line"]);if(this.actions.discardSelection(),this.type===P){this.changeStandbyMode();return}this.changeStandbyMode(),this.type=P,this._els.lineSelectButton.classList.add(P),this.setDrawMode()}}},{key:"_changeDrawColor",value:function(f){this.color=f||"transparent",this.type?this.setDrawMode():this.changeStartMode()}},{key:"_changeDrawRange",value:function(f){this.width=f,this.type?this.setDrawMode():this.changeStartMode()}}]),d}(vi),p0=m0,y0=b(9886),Af=b.n(y0),b0=function(j){var _,d,S,f,C,P,R,z,B,X,q,be,Ce,Me,Ie,Ee,Fe=j.locale;return Z()(_=Z()(d=Z()(S=Z()(f=Z()(C=Z()(P=Z()(R=Z()(z=Z()(B=Z()(X=Z()(q=Z()(be=Z()(Ce=Z()(Me=Z()(Ie=Z()(Ee=`
    <ul class="tui-image-editor-submenu-item">
        <li class="tui-image-editor-submenu-align">
            <div class="tui-image-editor-checkbox-wrap fixed-width">
                <div class="tui-image-editor-checkbox">
                    <label>
                        <input type="checkbox" class="tie-grayscale">
                        <span>`.concat(Fe.localize("Grayscale"),`</span>
                    </label>
                </div>
                <div class="tui-image-editor-checkbox">
                    <label>
                        <input type="checkbox" class="tie-invert">
                        <span>`)).call(Ee,Fe.localize("Invert"),`</span>
                    </label>
                </div>
                <div class="tui-image-editor-checkbox">
                    <label>
                        <input type="checkbox" class="tie-sepia">
                        <span>`)).call(Ie,Fe.localize("Sepia"),`</span>
                    </label>
                </div>
                <div class="tui-image-editor-checkbox">
                    <label>
                        <input type="checkbox" class="tie-vintage">
                        <span>`)).call(Me,Fe.localize("Sepia2"),`</span>
                    </label>
                </div>
                <div class="tui-image-editor-checkbox">
                    <label>
                        <input type="checkbox" class="tie-blur">
                        <span>`)).call(Ce,Fe.localize("Blur"),`</span>
                    </label>
                </div>
                <div class="tui-image-editor-checkbox">
                    <label>
                        <input type="checkbox" class="tie-sharpen">
                        <span>`)).call(be,Fe.localize("Sharpen"),`</span>
                    </label>
                </div>
                <div class="tui-image-editor-checkbox">
                    <label>
                        <input type="checkbox" class="tie-emboss">
                        <span>`)).call(q,Fe.localize("Emboss"),`</span>
                    </label>
                </div>
            </div>
        </li>
        <li class="tui-image-editor-partition">
            <div></div>
        </li>
        <li class="tui-image-editor-submenu-align">
            <div class="tui-image-editor-checkbox-group tui-image-editor-disabled" style="margin-bottom: 7px;">
                <div class="tui-image-editor-checkbox-wrap">
                    <div class="tui-image-editor-checkbox">
                        <label>
                            <input type="checkbox" class="tie-remove-white">
                            <span>`)).call(X,Fe.localize("Remove White"),`</span>
                        </label>
                    </div>
                </div>
                <div class="tui-image-editor-newline tui-image-editor-range-wrap short">
                    <label>`)).call(B,Fe.localize("Distance"),`</label>
                    <div class="tie-removewhite-distance-range"></div>
                </div>
            </div>
            <div class="tui-image-editor-checkbox-group tui-image-editor-disabled">
                <div class="tui-image-editor-checkbox">
                    <label>
                        <input type="checkbox" class="tie-brightness">
                        <span>`)).call(z,Fe.localize("Brightness"),`</span>
                    </label>
                </div>
                <div class="tui-image-editor-range-wrap short">
                    <div class="tie-brightness-range"></div>
                </div>
            </div>
            <div class="tui-image-editor-checkbox-group tui-image-editor-disabled">
                <div class="tui-image-editor-checkbox">
                    <label>
                        <input type="checkbox" class="tie-noise">
                        <span>`)).call(R,Fe.localize("Noise"),`</span>
                    </label>
                </div>
                <div class="tui-image-editor-range-wrap short">
                    <div class="tie-noise-range"></div>
                </div>
            </div>
        </li>
        <li class="tui-image-editor-partition only-left-right">
            <div></div>
        </li>
        <li class="tui-image-editor-submenu-align">
            <div class="tui-image-editor-checkbox-group tui-image-editor-disabled">
                <div class="tui-image-editor-checkbox">
                    <label>
                        <input type="checkbox" class="tie-pixelate">
                        <span>`)).call(P,Fe.localize("Pixelate"),`</span>
                    </label>
                </div>
                <div class="tui-image-editor-range-wrap short">
                    <div class="tie-pixelate-range"></div>
                </div>
            </div>
            <div class="tui-image-editor-checkbox-group tui-image-editor-disabled">
                <div class="tui-image-editor-newline tui-image-editor-checkbox-wrap">
                    <div class="tui-image-editor-checkbox">
                        <label>
                            <input type="checkbox" class="tie-color-filter">
                            <span>`)).call(C,Fe.localize("Color Filter"),`</span>
                        </label>
                    </div>
                </div>
                <div class="tui-image-editor-newline tui-image-editor-range-wrap short">
                    <label>`)).call(f,Fe.localize("Threshold"),`</label>
                    <div class="tie-colorfilter-threshold-range"></div>
                </div>
            </div>
        </li>
        <li class="tui-image-editor-partition">
            <div></div>
        </li>
        <li>
            <div class="filter-color-item">
                <div class="tie-filter-tint-color" title="`)).call(S,Fe.localize("Tint"),`"></div>
                <div class="tui-image-editor-checkbox">
                    <label>
                        <input type="checkbox" class="tie-tint">
                        <span></span>
                    </label>
                </div>
            </div>
            <div class="filter-color-item">
                <div class="tie-filter-multiply-color" title="`)).call(d,Fe.localize("Multiply"),`"></div>
                <div class="tui-image-editor-checkbox">
                    <label>
                        <input type="checkbox" class="tie-multiply">
                        <span></span>
                    </label>
                </div>
            </div>
            <div class="filter-color-item">
                <div class="tie-filter-blend-color" title="`)).call(_,Fe.localize("Blend"),`"></div>
                <div class="tui-image-editor-checkbox">
                    <label>
                        <input type="checkbox" class="tie-blend">
                        <span></span>
                    </label>
                </div>
            </div>
        </li>
    </ul>
`)};function S0(j){var _=C0();return function(){var S=at(j),f;if(_){var C=at(this).constructor;f=Le()(S,arguments,C)}else f=S.apply(this,arguments);return jt(this,f)}}function C0(){if(typeof Reflect>"u"||!Le()||Le().sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Le()(Boolean,[],function(){})),!0}catch{return!1}}var Of="130px",x0=["add","diff","subtract","multiply","screen","lighten","darken"],Df=["grayscale","invert","sepia","vintage","blur","sharpen","emboss","remove-white","brightness","noise","pixelate","color-filter","tint","multiply","blend"],I0={grayscale:"grayscale",invert:"invert",sepia:"sepia",blur:"blur",sharpen:"sharpen",emboss:"emboss",removeWhite:"removeColor",brightness:"brightness",contrast:"contrast",saturation:"saturation",vintage:"vintage",polaroid:"polaroid",noise:"noise",pixelate:"pixelate",colorFilter:"removeColor",tint:"blendColor",multiply:"blendColor",blend:"blendColor",hue:"hue",gamma:"gamma"},kf=["removewhiteDistanceRange","colorfilterThresholdRange","pixelateRange","noiseRange","brightnessRange","tintOpacity"],Pf=["filterBlendColor","filterMultiplyColor","filterTintColor"],_0=function(j){Rt(d,j);var _=S0(d);function d(S,f){var C,P=f.locale,R=f.menuBarPosition,z=f.usageStatistics;return K(this,d),C=_.call(this,S,{locale:P,name:"filter",menuBarPosition:R,templateHtml:b0,usageStatistics:z}),C.selectBoxShow=!1,C.checkedMap={},C._makeControlElement(),C}return oe(d,[{key:"destroy",value:function(){this._removeEvent(),this._destroyToolInstance(),Cn(this)}},{key:"_removeEvent",value:function(){var f=this,C;J()(Df,function(P){var R=f.selector(".tie-".concat(P)),z=qt(P);R.removeEventListener("change",f.eventHandler[z])}),J()(Z()(C=[]).call(C,kf,Pf),function(P){f._els[P].off()}),this._els.blendType.removeEventListener("change",this.eventHandler.changeBlendFilter),this._els.blendType.removeEventListener("click",this.eventHandler.changeBlendFilter),ya()(this.colorPickerInputBoxes,function(P){var R,z;P.removeEventListener(ke.FOCUS,ee()(R=f._onStartEditingInputBox).call(R,f)),P.removeEventListener(ke.BLUR,ee()(z=f._onStopEditingInputBox).call(z,f))},this)}},{key:"_destroyToolInstance",value:function(){var f,C=this;J()(Z()(f=[]).call(f,kf,Pf),function(P){C._els[P].destroy()})}},{key:"addEvent",value:function(f){var C=this,P,R,z,B=f.applyFilter,X=function(Ce){var Me;return ee()(Me=C._changeFilterState).call(Me,C,B,Ce)},q=function(Ce){return function(Me,Ie){return C._changeFilterState(B,Ce,Ie)}};this.eventHandler={changeBlendFilter:X("blend"),blandTypeClick:function(Ce){return Ce.stopPropagation()}},J()(Df,function(be){var Ce=C.selector(".tie-".concat(be)),Me=qt(be);C.checkedMap[Me]=Ce,C.eventHandler[Me]=X(Me),Ce.addEventListener("change",C.eventHandler[Me])}),this._els.removewhiteDistanceRange.on("change",q("removeWhite")),this._els.colorfilterThresholdRange.on("change",q("colorFilter")),this._els.pixelateRange.on("change",q("pixelate")),this._els.noiseRange.on("change",q("noise")),this._els.brightnessRange.on("change",q("brightness")),this._els.filterBlendColor.on("change",this.eventHandler.changeBlendFilter),this._els.filterMultiplyColor.on("change",X("multiply")),this._els.filterTintColor.on("change",X("tint")),this._els.tintOpacity.on("change",q("tint")),this._els.filterMultiplyColor.on("changeShow",ee()(P=this.colorPickerChangeShow).call(P,this)),this._els.filterTintColor.on("changeShow",ee()(R=this.colorPickerChangeShow).call(R,this)),this._els.filterBlendColor.on("changeShow",ee()(z=this.colorPickerChangeShow).call(z,this)),this._els.blendType.addEventListener("change",this.eventHandler.changeBlendFilter),this._els.blendType.addEventListener("click",this.eventHandler.blandTypeClick),ya()(this.colorPickerInputBoxes,function(be){var Ce,Me;be.addEventListener(ke.FOCUS,ee()(Ce=C._onStartEditingInputBox).call(Ce,C)),be.addEventListener(ke.BLUR,ee()(Me=C._onStopEditingInputBox).call(Me,C))},this)}},{key:"setFilterState",value:function(f){var C=f.type,P=f.options,R=f.action,z=this._getFilterNameFromOptions(C,P),B=R==="remove";B||this._setFilterState(z,P),this.checkedMap[z].checked=!B}},{key:"initFilterCheckBoxState",value:function(){J()(this.checkedMap,function(f){f.checked=!1},this)}},{key:"_setFilterState",value:function(f,C){f==="colorFilter"?this._els.colorfilterThresholdRange.value=C.distance:f==="removeWhite"?this._els.removewhiteDistanceRange.value=C.distance:f==="pixelate"?this._els.pixelateRange.value=C.blocksize:f==="brightness"?this._els.brightnessRange.value=C.brightness:f==="noise"?this._els.noiseRange.value=C.noise:f==="tint"?(this._els.tintOpacity.value=C.alpha,this._els.filterTintColor.color=C.color):f==="blend"?this._els.filterBlendColor.color=C.color:f==="multiply"&&(this._els.filterMultiplyColor.color=C.color)}},{key:"_getFilterNameFromOptions",value:function(f,C){var P=f;return f==="removeColor"?P=Af()(C.useAlpha)?"removeWhite":"colorFilter":f==="blendColor"&&(P={add:"blend",multiply:"multiply",tint:"tint"}[C.mode]),P}},{key:"_changeFilterState",value:function(f,C){var P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,R=this.checkedMap[C].checked,z=I0[C],B=this.checkedMap[C].closest(".tui-image-editor-checkbox-group");B&&(R?B.classList.remove("tui-image-editor-disabled"):B.classList.add("tui-image-editor-disabled")),f(R,z,this._getFilterOption(C),!P)}},{key:"_getFilterOption",value:function(f){var C={};switch(f){case"removeWhite":C.color="#FFFFFF",C.useAlpha=!1,C.distance=tr()(this._els.removewhiteDistanceRange.value);break;case"colorFilter":C.color="#FFFFFF",C.distance=tr()(this._els.colorfilterThresholdRange.value);break;case"pixelate":C.blocksize=Mt(this._els.pixelateRange.value);break;case"noise":C.noise=Mt(this._els.noiseRange.value);break;case"brightness":C.brightness=tr()(this._els.brightnessRange.value);break;case"blend":C.mode="add",C.color=this._els.filterBlendColor.color,C.mode=this._els.blendType.value;break;case"multiply":C.mode="multiply",C.color=this._els.filterMultiplyColor.color;break;case"tint":C.mode="tint",C.color=this._els.filterTintColor.color,C.alpha=this._els.tintOpacity.value;break;case"blur":C.blur=this._els.blurRange.value;break}return C}},{key:"_makeControlElement",value:function(){this._els={removewhiteDistanceRange:new Kn({slider:this.selector(".tie-removewhite-distance-range")},di.removewhiteDistanceRange),brightnessRange:new Kn({slider:this.selector(".tie-brightness-range")},di.brightnessRange),noiseRange:new Kn({slider:this.selector(".tie-noise-range")},di.noiseRange),pixelateRange:new Kn({slider:this.selector(".tie-pixelate-range")},di.pixelateRange),colorfilterThresholdRange:new Kn({slider:this.selector(".tie-colorfilter-threshold-range")},di.colorfilterThresholdRange),filterTintColor:new nr(this.selector(".tie-filter-tint-color"),{defaultColor:"#03bd9e",toggleDirection:this.toggleDirection,usageStatistics:this.usageStatistics}),filterMultiplyColor:new nr(this.selector(".tie-filter-multiply-color"),{defaultColor:"#515ce6",toggleDirection:this.toggleDirection,usageStatistics:this.usageStatistics}),filterBlendColor:new nr(this.selector(".tie-filter-blend-color"),{defaultColor:"#ffbb3b",toggleDirection:this.toggleDirection,usageStatistics:this.usageStatistics}),blurRange:di.blurFilterRange},this._els.tintOpacity=this._pickerWithRange(this._els.filterTintColor.pickerControl),this._els.blendType=this._pickerWithSelectbox(this._els.filterBlendColor.pickerControl),this.colorPickerControls.push(this._els.filterTintColor),this.colorPickerControls.push(this._els.filterMultiplyColor),this.colorPickerControls.push(this._els.filterBlendColor),this.colorPickerInputBoxes=[],this.colorPickerInputBoxes.push(this._els.filterTintColor.colorpickerElement.querySelector(zt.COLOR_PICKER_INPUT_BOX)),this.colorPickerInputBoxes.push(this._els.filterMultiplyColor.colorpickerElement.querySelector(zt.COLOR_PICKER_INPUT_BOX)),this.colorPickerInputBoxes.push(this._els.filterBlendColor.colorpickerElement.querySelector(zt.COLOR_PICKER_INPUT_BOX))}},{key:"_pickerWithRange",value:function(f){var C=document.createElement("div"),P=document.createElement("label"),R=document.createElement("div");return R.id="tie-filter-tint-opacity",P.innerHTML="Opacity",C.appendChild(P),C.appendChild(R),f.appendChild(C),f.style.height=Of,new Kn({slider:R},di.tintOpacityRange)}},{key:"_pickerWithSelectbox",value:function(f){var C=document.createElement("div"),P=document.createElement("select"),R=document.createElement("ul");return C.className="tui-image-editor-selectlist-wrap",R.className="tui-image-editor-selectlist",C.appendChild(P),C.appendChild(R),this._makeSelectOptionList(P),f.appendChild(C),f.style.height=Of,this._drawSelectOptionList(P,R),this._pickerWithSelectboxForAddEvent(P,R),P}},{key:"_drawSelectOptionList",value:function(f,C){var P=f.querySelectorAll("option");J()(P,function(R){var z=document.createElement("li");z.innerHTML=R.innerHTML,z.setAttribute("data-item",R.value),C.appendChild(z)})}},{key:"_pickerWithSelectboxForAddEvent",value:function(f,C){var P=this;C.addEventListener("click",function(R){var z=R.target.getAttribute("data-item"),B=document.createEvent("HTMLEvents");f.querySelector('[value="'.concat(z,'"]')).selected=!0,B.initEvent("change",!0,!0),f.dispatchEvent(B),P.selectBoxShow=!1,C.style.display="none"}),f.addEventListener("mousedown",function(R){R.preventDefault(),P.selectBoxShow=!P.selectBoxShow,C.style.display=P.selectBoxShow?"block":"none",C.setAttribute("data-selectitem",f.value),C.querySelector("[data-item='".concat(f.value,"']")).classList.add("active")})}},{key:"_makeSelectOptionList",value:function(f){J()(x0,function(C){var P=document.createElement("option");P.setAttribute("value",C),P.innerHTML=C.replace(/^[a-z]/,function(R){return R.toUpperCase()}),f.appendChild(P)})}}]),d}(vi),M0=_0,E0=b(4383),w0=b.n(E0),T0=function(){function j(_,d){var S=d.name;K(this,j),this.name=S,this.items=[],this.panelElement=this._makePanelElement(),this.listElement=this._makeListElement(),this.panelElement.appendChild(this.listElement),_.appendChild(this.panelElement)}return oe(j,[{key:"_makePanelElement",value:function(){var d=document.createElement("div");return d.className="tie-panel-".concat(this.name),d}},{key:"_makeListElement",value:function(){var d=document.createElement("ol");return d.className="".concat(this.name,"-list"),d}},{key:"makeListItemElement",value:function(d){var S=document.createElement("li");return S.innerHTML=d,S.className="".concat(this.name,"-item"),S.setAttribute("data-index",this.items.length),S}},{key:"pushListItemElement",value:function(d){this.listElement.appendChild(d),this.listElement.scrollTop+=d.offsetHeight,this.items.push(d)}},{key:"deleteListItemElement",value:function(d,S){for(var f=this.items,C=d;C<S;C+=1)this.listElement.removeChild(f[C]);A()(f).call(f,d,S-d+1)}},{key:"getListLength",value:function(){return this.items.length}},{key:"addClass",value:function(d,S){this.items[d]&&this.items[d].classList.add(S)}},{key:"removeClass",value:function(d,S){this.items[d]&&this.items[d].classList.remove(S)}},{key:"toggleClass",value:function(d,S){this.items[d]&&this.items[d].classList.toggle(S)}}]),j}(),A0=T0,O0=function(j){var _,d,S,f=j.locale,C=j.makeSvgIcon,P=j.name,R=j.detail;return Z()(_=Z()(d=Z()(S=`
    <div class="tui-image-editor-history-item history">
        <div class="history-item-icon">
            `.concat(C(["normal","active"],"history-".concat(P.toLowerCase()),!0),`
        </div>
        <span>
            `)).call(S,f.localize(P),`
            `)).call(d,R?"(".concat(f.localize(R),")"):"",`
        </span>
        <div class="history-item-checkbox">
            `)).call(_,C(["normal"],"history-check",!0),`
        </div>
    </div>
`)};function D0(j){var _=k0();return function(){var S=at(j),f;if(_){var C=at(this).constructor;f=Le()(S,arguments,C)}else f=S.apply(this,arguments);return jt(this,f)}}function k0(){if(typeof Reflect>"u"||!Le()||Le().sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Le()(Boolean,[],function(){})),!0}catch{return!1}}var P0="history-item",Lf="selected-item",Nf="disabled-item",L0=function(j){Rt(d,j);var _=D0(d);function d(S,f){var C,P=f.locale,R=f.makeSvgIcon;return K(this,d),C=_.call(this,S,{name:"history"}),S.classList.add("enabled"),C.locale=P,C.makeSvgIcon=R,C._eventHandler={},C._historyIndex=C.getListLength(),C}return oe(d,[{key:"add",value:function(f){var C=f.name,P=f.detail;this._hasDisabledItem()&&this.deleteListItemElement(this._historyIndex+1,this.getListLength());var R=O0({locale:this.locale,makeSvgIcon:this.makeSvgIcon,name:C,detail:P}),z=this.makeListItemElement(R);this.pushListItemElement(z),this._historyIndex=this.getListLength()-1,this._selectItem(this._historyIndex)}},{key:"init",value:function(){this.deleteListItemElement(1,this.getListLength()),this._historyIndex=0,this._selectItem(this._historyIndex)}},{key:"clear",value:function(){this.deleteListItemElement(0,this.getListLength()),this._historyIndex=-1}},{key:"prev",value:function(){this._historyIndex-=1,this._selectItem(this._historyIndex)}},{key:"next",value:function(){this._historyIndex+=1,this._selectItem(this._historyIndex)}},{key:"_hasDisabledItem",value:function(){return this.getListLength()-1>this._historyIndex}},{key:"_addHistoryEventListener",value:function(){var f=this;this._eventHandler.history=function(C){return f._clickHistoryItem(C)},this.listElement.addEventListener("click",this._eventHandler.history)}},{key:"_removeHistoryEventListener",value:function(){this.listElement.removeEventListener("click",this._eventHandler.history)}},{key:"_clickHistoryItem",value:function(f){var C=f.target,P=C.closest(".".concat(P0));if(P){var R=w0()(P.getAttribute("data-index"),10);if(R!==this._historyIndex){var z=Math.abs(R-this._historyIndex);R<this._historyIndex?this._actions.undo(z):this._actions.redo(z)}}}},{key:"_selectItem",value:function(f){for(var C=0;C<this.getListLength();C+=1)this.removeClass(C,Lf),this.removeClass(C,Nf),C>f&&this.addClass(C,Nf);this.addClass(f,Lf)}},{key:"destroy",value:function(){this.removeEvent(),Cn(this)}},{key:"addEvent",value:function(f){this._actions=f,this._addHistoryEventListener()}},{key:"removeEvent",value:function(){this._removeHistoryEventListener()}}]),d}(A0),N0=L0,R0=function(){function j(_){K(this,j),this._locale=_}return oe(j,[{key:"localize",value:function(d){return this._locale[d]||d}}]),j}(),j0=R0,F0={Shape:Tb,Crop:Pb,Resize:Fb,Flip:Wb,Rotate:$b,Text:t0,Mask:o0,Icon:f0,Draw:p0,Filter:M0},B0="1300",Rf="history",z0="tie-panel-history",ba="on",Sa={ZOOM_IN:"zoomIn",HAND:"hand"},jf=function(){function j(_,d,S){K(this,j),this.options=this._initializeOption(d),this._actions=S,this.submenu=!1,this.imageSize={},this.uiSize={},this._locale=new j0(this.options.locale),this.theme=new gb(this.options.theme),this.eventHandler={},this._submenuChangeTransection=!1,this._selectedElement=null,this._mainElement=null,this._editorElementWrap=null,this._editorElement=null,this._menuBarElement=null,this._subMenuElement=null,this._makeUiElement(_),this._setUiSize(),this._initMenuEvent=!1,this._makeSubMenu(),this._attachHistoryEvent(),this._attachZoomEvent()}return oe(j,[{key:"destroy",value:function(){this._removeUiEvent(),this._destroyAllMenu(),this._selectedElement.innerHTML="",Cn(this)}},{key:"setUiDefaultSelectionStyle",value:function(d){return re()({applyCropSelectionStyle:!0,applyGroupSelectionStyle:!0,selectionStyle:{cornerStyle:"circle",cornerSize:16,cornerColor:"#fff",cornerStrokeColor:"#fff",transparentCorners:!1,lineWidth:2,borderColor:"#fff"}},d)}},{key:"resizeEditor",value:function(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},S=d.uiSize,f=d.imageSize,C=f===void 0?this.imageSize:f;C!==this.imageSize&&(this.imageSize=C),S&&this._setUiSize(S);var P=this._getCanvasMaxDimension(),R=P.width,z=P.height,B=this._editorElement.style,X=this.options.menuBarPosition;B.height="".concat(z,"px"),B.width="".concat(R,"px"),this._setEditorPosition(X),this._editorElementWrap.style.bottom="0px",this._editorElementWrap.style.top="0px",this._editorElementWrap.style.left="0px",this._editorElementWrap.style.width="100%";var q=this._selectedElement.classList;X==="top"&&this._selectedElement.offsetWidth<B0?q.add("tui-image-editor-top-optimization"):q.remove("tui-image-editor-top-optimization")}},{key:"toggleZoomButtonStatus",value:function(d){var S=this._buttonElements[d].classList;S.toggle(ba),d===Sa.ZOOM_IN?this._buttonElements[Sa.HAND].classList.remove(ba):this._buttonElements[Sa.ZOOM_IN].classList.remove(ba)}},{key:"offZoomInButtonStatus",value:function(){var d=this._buttonElements[Sa.ZOOM_IN].classList;d.remove(ba)}},{key:"changeHandButtonStatus",value:function(d){var S=this._buttonElements[Sa.HAND].classList;S[d?"add":"remove"](ba)}},{key:"changeHelpButtonEnabled",value:function(d,S){var f=this._buttonElements[d].classList;f[S?"add":"remove"]("enabled")}},{key:"_initializeOption",value:function(d){return re()({loadImage:{path:"",name:""},locale:{},menuIconPath:"",menu:["resize","crop","flip","rotate","draw","shape","icon","text","mask","filter"],initMenu:"",uiSize:{width:"100%",height:"100%"},menuBarPosition:"bottom"},d)}},{key:"_setUiSize",value:function(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.uiSize,S=this._selectedElement.style;S.width=d.width,S.height=d.height}},{key:"_makeSubMenu",value:function(){var d=this;J()(this.options.menu,function(S){var f,C=F0[S.replace(/^[a-z]/,function(P){return P.toUpperCase()})];d._makeMenuElement(S),d._buttonElements[S]=d._menuBarElement.querySelector(".tie-btn-".concat(S)),d[S]=new C(d._subMenuElement,{locale:d._locale,makeSvgIcon:ee()(f=d.theme.makeMenSvgIconSet).call(f,d.theme),menuBarPosition:d.options.menuBarPosition,usageStatistics:d.options.usageStatistics})})}},{key:"_attachHistoryEvent",value:function(){var d,S,f;this.on(ke.EXECUTE_COMMAND,ee()(d=this._addHistory).call(d,this)),this.on(ke.AFTER_UNDO,ee()(S=this._selectPrevHistory).call(S,this)),this.on(ke.AFTER_REDO,ee()(f=this._selectNextHistory).call(f,this))}},{key:"_attachZoomEvent",value:function(){var d=this;this.on(ke.HAND_STARTED,function(){d.offZoomInButtonStatus(),d.changeHandButtonStatus(!0)}),this.on(ke.HAND_STOPPED,function(){return d.changeHandButtonStatus(!1)})}},{key:"_makeUiElement",value:function(d){var S,f;d.nodeType?f=d:f=document.querySelector(d);var C=ma(f);f.classList.add("tui-image-editor-container"),f.innerHTML=lb({locale:this._locale,biImage:this.theme.getStyle("common.bi"),loadButtonStyle:this.theme.getStyle("loadButton"),downloadButtonStyle:this.theme.getStyle("downloadButton"),menuBarPosition:this.options.menuBarPosition})+sb({locale:this._locale,biImage:this.theme.getStyle("common.bi"),commonStyle:this.theme.getStyle("common"),headerStyle:this.theme.getStyle("header"),loadButtonStyle:this.theme.getStyle("loadButton"),downloadButtonStyle:this.theme.getStyle("downloadButton"),submenuStyle:this.theme.getStyle("submenu")}),this._selectedElement=f,this._selectedElement.classList.add(this.options.menuBarPosition),this._mainElement=C(".tui-image-editor-main"),this._editorElementWrap=C(".tui-image-editor-wrap"),this._editorElement=C(".tui-image-editor"),this._helpMenuBarElement=C(".tui-image-editor-help-menu"),this._menuBarElement=C(".tui-image-editor-menu"),this._subMenuElement=C(".tui-image-editor-submenu"),this._buttonElements={download:this._selectedElement.querySelectorAll(".tui-image-editor-download-btn"),load:this._selectedElement.querySelectorAll(".tui-image-editor-load-btn")},this._addHelpMenus(),this._historyMenu=new N0(this._buttonElements[Rf],{locale:this._locale,makeSvgIcon:ee()(S=this.theme.makeMenSvgIconSet).call(S,this.theme)}),this._activateZoomMenus()}},{key:"_activateZoomMenus",value:function(){var d=this;J()(Pt,function(S){d.changeHelpButtonEnabled(S,!0)})}},{key:"_makeHelpMenuWithPartition",value:function(){var d;return Z()(d=[]).call(d,U(Pt),[""],U(Kt),[""],U(sn))}},{key:"_addHelpMenus",value:function(){var d=this,S=this._makeHelpMenuWithPartition();J()(S,function(f){f?(d._makeMenuElement(f,["normal","disabled","hover"],"help"),d._buttonElements[f]=d._helpMenuBarElement.querySelector(".tie-btn-".concat(f))):d._makeMenuPartitionElement()})}},{key:"_makeMenuPartitionElement",value:function(){var d=document.createElement("li"),S=document.createElement("div");d.className=Oo("item"),S.className=Oo("icpartition"),d.appendChild(S),this._helpMenuBarElement.appendChild(d)}},{key:"_makeMenuElement",value:function(d){var S,f,C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:["normal","active","hover"],P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"normal",R=document.createElement("li"),z=this.theme.makeMenSvgIconSet(C,d);this._addTooltipAttribute(R,d),R.className=Z()(S=Z()(f="tie-btn-".concat(d," ")).call(f,Oo("item")," ")).call(S,P),R.innerHTML=z,P==="normal"?this._menuBarElement.appendChild(R):this._helpMenuBarElement.appendChild(R)}},{key:"_addHelpActionEvent",value:function(){var d=this;J()(Ne,function(S){d.eventHandler[S]=function(f){return d._actions.main[S](f)},d._buttonElements[S].addEventListener("click",d.eventHandler[S])})}},{key:"_removeHelpActionEvent",value:function(){var d=this;J()(Ne,function(S){d._buttonElements[S].removeEventListener("click",d.eventHandler[S])})}},{key:"_addHistory",value:function(d){if(!Jy(d)){var S=typeof d=="string"?{name:d}:$y(d);this._historyMenu.add(S)}}},{key:"initHistory",value:function(){this._historyMenu.init()}},{key:"clearHistory",value:function(){this._historyMenu.clear()}},{key:"_selectPrevHistory",value:function(){this._historyMenu.prev()}},{key:"_selectNextHistory",value:function(){this._historyMenu.next()}},{key:"toggleHistoryMenu",value:function(d){var S=d.target,f=S.closest(".".concat(z0));if(!f){var C=this._buttonElements[Rf].classList;C.toggle("opened")}}},{key:"_addTooltipAttribute",value:function(d,S){d.setAttribute("tooltip-content",this._locale.localize(S.replace(/^[a-z]/g,function(f){return f.toUpperCase()})))}},{key:"_addDownloadEvent",value:function(){var d=this;this.eventHandler.download=function(){return d._actions.main.download()},J()(this._buttonElements.download,function(S){S.addEventListener("click",d.eventHandler.download)})}},{key:"_removeDownloadEvent",value:function(){var d=this;J()(this._buttonElements.download,function(S){S.removeEventListener("click",d.eventHandler.download)})}},{key:"_addLoadEvent",value:function(){var d=this;this.eventHandler.loadImage=function(S){return d._actions.main.load(S.target.files[0])},J()(this._buttonElements.load,function(S){S.addEventListener("change",d.eventHandler.loadImage)})}},{key:"_removeLoadEvent",value:function(){var d=this;J()(this._buttonElements.load,function(S){S.removeEventListener("change",d.eventHandler.loadImage)})}},{key:"_addMainMenuEvent",value:function(d){var S=this;this.eventHandler[d]=function(){return S.changeMenu(d)},this._buttonElements[d].addEventListener("click",this.eventHandler[d])}},{key:"_addSubMenuEvent",value:function(d){var S=this;this[d].addEvent(this._actions[d]),this[d].on(ke.INPUT_BOX_EDITING_STARTED,function(){return S.fire(ke.INPUT_BOX_EDITING_STARTED)}),this[d].on(ke.INPUT_BOX_EDITING_STOPPED,function(){return S.fire(ke.INPUT_BOX_EDITING_STOPPED)})}},{key:"_addMenuEvent",value:function(){var d=this;J()(this.options.menu,function(S){d._addMainMenuEvent(S),d._addSubMenuEvent(S)})}},{key:"_removeMainMenuEvent",value:function(){var d=this;J()(this.options.menu,function(S){d._buttonElements[S].removeEventListener("click",d.eventHandler[S]),d[S].off(ke.INPUT_BOX_EDITING_STARTED),d[S].off(ke.INPUT_BOX_EDITING_STOPPED)})}},{key:"getEditorArea",value:function(){return this._editorElement}},{key:"activeMenuEvent",value:function(){this._initMenuEvent||(this._addHelpActionEvent(),this._addDownloadEvent(),this._addMenuEvent(),this._initMenu(),this._historyMenu.addEvent(this._actions.history),this._initMenuEvent=!0)}},{key:"_removeUiEvent",value:function(){this._removeHelpActionEvent(),this._removeDownloadEvent(),this._removeLoadEvent(),this._removeMainMenuEvent(),this._historyMenu.removeEvent()}},{key:"_destroyAllMenu",value:function(){var d=this;J()(this.options.menu,function(S){d[S].destroy()}),this._historyMenu.destroy()}},{key:"initCanvas",value:function(){var d=this,S=this._getLoadImage();S.path&&this._actions.main.initLoadImage(S.path,S.name).then(function(){d.activeMenuEvent()}),this._addLoadEvent();var f=document.createElement("div");f.className=Oo("grid-visual");var C=`<table>
           <tr><td class="dot left-top"></td><td></td><td class="dot right-top"></td></tr>
           <tr><td></td><td></td><td></td></tr>
           <tr><td class="dot left-bottom"></td><td></td><td class="dot right-bottom"></td></tr>
         </table>`;f.innerHTML=C,this._editorContainerElement=this._editorElement.querySelector(".tui-image-editor-canvas-container"),this._editorContainerElement.appendChild(f)}},{key:"_getLoadImage",value:function(){return this.options.loadImage}},{key:"changeMenu",value:function(d){var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;this._submenuChangeTransection||(this._submenuChangeTransection=!0,this._changeMenu(d,S,f),this._submenuChangeTransection=!1)}},{key:"_changeMenu",value:function(d,S,f){this.submenu&&(this._buttonElements[this.submenu].classList.remove("active"),this._mainElement.classList.remove("tui-image-editor-menu-".concat(this.submenu)),f&&this._actions.main.discardSelection(),this._actions.main.changeSelectableAll(!0),this[this.submenu].changeStandbyMode()),this.submenu===d&&S?this.submenu=null:(this._buttonElements[d].classList.add("active"),this._mainElement.classList.add("tui-image-editor-menu-".concat(d)),this.submenu=d,this[this.submenu].changeStartMode()),this.resizeEditor()}},{key:"_initMenu",value:function(){if(this.options.initMenu){var d=document.createEvent("MouseEvents");d.initEvent("click",!0,!1),this._buttonElements[this.options.initMenu].dispatchEvent(d)}this.icon&&this.icon.registerDefaultIcon()}},{key:"_getCanvasMaxDimension",value:function(){var d=this._editorContainerElement.style,S=d.maxWidth,f=d.maxHeight,C=tr()(S),P=tr()(f);return{width:C,height:P}}},{key:"_setEditorPosition",value:function(d){var S=this._getCanvasMaxDimension(),f=S.width,C=S.height,P=this._editorElement.style,R=0,z=0;this.submenu&&(d==="bottom"?C>this._editorElementWrap.scrollHeight-150?R=(C-this._editorElementWrap.scrollHeight)/2:R=150/2*-1:d==="top"?C>this._editorElementWrap.offsetHeight-150?R=150/2-(C-(this._editorElementWrap.offsetHeight-150))/2:R=150/2:d==="left"?f>this._editorElementWrap.offsetWidth-248?z=248/2-(f-(this._editorElementWrap.offsetWidth-248))/2:z=248/2:d==="right"&&(f>this._editorElementWrap.scrollWidth-248?z=(f-this._editorElementWrap.scrollWidth)/2:z=248/2*-1)),P.top="".concat(R,"px"),P.left="".concat(z,"px")}}]),j}();se().mixin(jf);var H0=jf,U0=b(381),Ur=b.n(U0),Ff=function(){function j(){K(this,j),this.versionnumber="1.2.4",this.optionpresets={default:{corsenabled:!1,ltres:1,qtres:1,pathomit:8,rightangleenhance:!0,colorsampling:2,numberofcolors:16,mincolorratio:0,colorquantcycles:3,layering:0,strokewidth:1,linefilter:!1,scale:1,roundcoords:1,viewbox:!1,desc:!1,lcpr:0,qcpr:0,blurradius:0,blurdelta:20},posterized1:{colorsampling:0,numberofcolors:2},posterized2:{numberofcolors:4,blurradius:5},curvy:{ltres:.01,linefilter:!0,rightangleenhance:!1},sharp:{qtres:.01,linefilter:!1},detailed:{pathomit:0,roundcoords:2,ltres:.5,qtres:.5,numberofcolors:64},smoothed:{blurradius:5,blurdelta:64},grayscale:{colorsampling:0,colorquantcycles:1,numberofcolors:7},fixedpalette:{colorsampling:0,colorquantcycles:1,numberofcolors:27},randomsampling1:{colorsampling:1,numberofcolors:8},randomsampling2:{colorsampling:1,numberofcolors:64},artistic1:{colorsampling:0,colorquantcycles:1,pathomit:0,blurradius:5,blurdelta:64,ltres:.01,linefilter:!0,numberofcolors:16,strokewidth:2},artistic2:{qtres:.01,colorsampling:0,colorquantcycles:1,numberofcolors:4,strokewidth:0},artistic3:{qtres:10,ltres:10,numberofcolors:8},artistic4:{qtres:10,ltres:10,numberofcolors:64,blurradius:5,blurdelta:256,strokewidth:2},posterized3:{ltres:1,qtres:1,pathomit:20,rightangleenhance:!0,colorsampling:0,numberofcolors:3,mincolorratio:0,colorquantcycles:3,blurradius:3,blurdelta:20,strokewidth:0,linefilter:!1,roundcoords:1,pal:[{r:0,g:0,b:100,a:255},{r:255,g:255,b:255,a:255}]}},this.pathscan_combined_lookup=[[[-1,-1,-1,-1],[-1,-1,-1,-1],[-1,-1,-1,-1],[-1,-1,-1,-1]],[[0,1,0,-1],[-1,-1,-1,-1],[-1,-1,-1,-1],[0,2,-1,0]],[[-1,-1,-1,-1],[-1,-1,-1,-1],[0,1,0,-1],[0,0,1,0]],[[0,0,1,0],[-1,-1,-1,-1],[0,2,-1,0],[-1,-1,-1,-1]],[[-1,-1,-1,-1],[0,0,1,0],[0,3,0,1],[-1,-1,-1,-1]],[[13,3,0,1],[13,2,-1,0],[7,1,0,-1],[7,0,1,0]],[[-1,-1,-1,-1],[0,1,0,-1],[-1,-1,-1,-1],[0,3,0,1]],[[0,3,0,1],[0,2,-1,0],[-1,-1,-1,-1],[-1,-1,-1,-1]],[[0,3,0,1],[0,2,-1,0],[-1,-1,-1,-1],[-1,-1,-1,-1]],[[-1,-1,-1,-1],[0,1,0,-1],[-1,-1,-1,-1],[0,3,0,1]],[[11,1,0,-1],[14,0,1,0],[14,3,0,1],[11,2,-1,0]],[[-1,-1,-1,-1],[0,0,1,0],[0,3,0,1],[-1,-1,-1,-1]],[[0,0,1,0],[-1,-1,-1,-1],[0,2,-1,0],[-1,-1,-1,-1]],[[-1,-1,-1,-1],[-1,-1,-1,-1],[0,1,0,-1],[0,0,1,0]],[[0,1,0,-1],[-1,-1,-1,-1],[-1,-1,-1,-1],[0,2,-1,0]],[[-1,-1,-1,-1],[-1,-1,-1,-1],[-1,-1,-1,-1],[-1,-1,-1,-1]]],this.gks=[[.27901,.44198,.27901],[.135336,.228569,.272192,.228569,.135336],[.086776,.136394,.178908,.195843,.178908,.136394,.086776],[.063327,.093095,.122589,.144599,.152781,.144599,.122589,.093095,.063327],[.049692,.069304,.089767,.107988,.120651,.125194,.120651,.107988,.089767,.069304,.049692]],this.specpalette=[{r:0,g:0,b:0,a:255},{r:128,g:128,b:128,a:255},{r:0,g:0,b:128,a:255},{r:64,g:64,b:128,a:255},{r:192,g:192,b:192,a:255},{r:255,g:255,b:255,a:255},{r:128,g:128,b:192,a:255},{r:0,g:0,b:192,a:255},{r:128,g:0,b:0,a:255},{r:128,g:64,b:64,a:255},{r:128,g:0,b:128,a:255},{r:168,g:168,b:168,a:255},{r:192,g:128,b:128,a:255},{r:192,g:0,b:0,a:255},{r:255,g:255,b:255,a:255},{r:0,g:128,b:0,a:255}]}return oe(j,[{key:"imageToSVG",value:function(d,S,f){var C=this;f=this.checkoptions(f),this.loadImage(d,function(P){S(C.imagedataToSVG(C.getImgdata(P),f))},f)}},{key:"imagedataToSVG",value:function(d,S){S=this.checkoptions(S);var f=this.imagedataToTracedata(d,S);return this.getsvgstring(f,S)}},{key:"imageToTracedata",value:function(d,S,f){var C=this;f=this.checkoptions(f),this.loadImage(d,function(P){S(C.imagedataToTracedata(C.getImgdata(P),f))},f)}},{key:"imagedataToTracedata",value:function(d,S){S=this.checkoptions(S);var f=this.colorquantization(d,S),C;if(S.layering===0){C={layers:[],palette:f.palette,width:f.array[0].length-2,height:f.array.length-2};for(var P=0;P<f.palette.length;P+=1){var R=this.batchtracepaths(this.internodes(this.pathscan(this.layeringstep(f,P),S.pathomit),S),S.ltres,S.qtres);C.layers.push(R)}}else{var z=this.layering(f);S.layercontainerid&&this.drawLayers(z,this.specpalette,S.scale,S.layercontainerid);var B=this.batchpathscan(z,S.pathomit),X=this.batchinternodes(B,S);C={layers:this.batchtracelayers(X,S.ltres,S.qtres),palette:f.palette,width:d.width,height:d.height}}return C}},{key:"checkoptions",value:function(d){d=d||{},typeof d=="string"&&(d=d.toLowerCase(),this.optionpresets[d]?d=this.optionpresets[d]:d={});for(var S=me()(this.optionpresets.default),f=0;f<S.length;f+=1)d.hasOwnProperty(S[f])||(d[S[f]]=this.optionpresets.default[S[f]]);return d}},{key:"colorquantization",value:function(d,S){var f=[],C=0,P,R,z,B=[],X=d.width*d.height,q,be,Ce,Me,Ie;for(be=0;be<d.height+2;be+=1)for(f[be]=[],q=0;q<d.width+2;q+=1)f[be][q]=-1;for(S.pal?Ie=S.pal:S.colorsampling===0?Ie=this.generatepalette(S.numberofcolors):S.colorsampling===1?Ie=this.samplepalette(S.numberofcolors,d):Ie=this.samplepalette2(S.numberofcolors,d),S.blurradius>0&&(d=this.blur(d,S.blurradius,S.blurdelta)),Me=0;Me<S.colorquantcycles;Me+=1){if(Me>0)for(Ce=0;Ce<Ie.length;Ce+=1)B[Ce].n>0&&(Ie[Ce]={r:Math.floor(B[Ce].r/B[Ce].n),g:Math.floor(B[Ce].g/B[Ce].n),b:Math.floor(B[Ce].b/B[Ce].n),a:Math.floor(B[Ce].a/B[Ce].n)}),B[Ce].n/X<S.mincolorratio&&Me<S.colorquantcycles-1&&(Ie[Ce]={r:Math.floor(Math.random()*255),g:Math.floor(Math.random()*255),b:Math.floor(Math.random()*255),a:Math.floor(Math.random()*255)});for(q=0;q<Ie.length;q+=1)B[q]={r:0,g:0,b:0,a:0,n:0};for(be=0;be<d.height;be+=1)for(q=0;q<d.width;q+=1){for(C=(be*d.width+q)*4,z=0,R=1024,Ce=0;Ce<Ie.length;Ce+=1)P=Math.abs(Ie[Ce].r-d.data[C])+Math.abs(Ie[Ce].g-d.data[C+1])+Math.abs(Ie[Ce].b-d.data[C+2])+Math.abs(Ie[Ce].a-d.data[C+3]),P<R&&(R=P,z=Ce);B[z].r+=d.data[C],B[z].g+=d.data[C+1],B[z].b+=d.data[C+2],B[z].a+=d.data[C+3],B[z].n+=1,f[be+1][q+1]=z}}return{array:f,palette:Ie}}},{key:"samplepalette",value:function(d,S){for(var f,C=[],P=0;P<d;P+=1)f=Math.floor(Math.random()*S.data.length/4)*4,C.push({r:S.data[f],g:S.data[f+1],b:S.data[f+2],a:S.data[f+3]});return C}},{key:"samplepalette2",value:function(d,S){for(var f,C=[],P=Math.ceil(Math.sqrt(d)),R=Math.ceil(d/P),z=S.width/(P+1),B=S.height/(R+1),X=0;X<R;X+=1)for(var q=0;q<P&&C.length!==d;q+=1)f=Math.floor((X+1)*B*S.width+(q+1)*z)*4,C.push({r:S.data[f],g:S.data[f+1],b:S.data[f+2],a:S.data[f+3]});return C}},{key:"generatepalette",value:function(d){var S=[],f,C,P;if(d<8)for(var R=Math.floor(255/(d-1)),z=0;z<d;z+=1)S.push({r:z*R,g:z*R,b:z*R,a:255});else{var B=Math.floor(Math.pow(d,.3333333333333333)),X=Math.floor(255/(B-1)),q=d-B*B*B;for(f=0;f<B;f+=1)for(C=0;C<B;C+=1)for(P=0;P<B;P+=1)S.push({r:f*X,g:C*X,b:P*X,a:255});for(f=0;f<q;f+=1)S.push({r:Math.floor(Math.random()*255),g:Math.floor(Math.random()*255),b:Math.floor(Math.random()*255),a:Math.floor(Math.random()*255)})}return S}},{key:"layering",value:function(d){var S=[],f=0,C=d.array.length,P=d.array[0].length,R,z,B,X,q,be,Ce,Me,Ie,Ee,Fe;for(Fe=0;Fe<d.palette.length;Fe+=1)for(S[Fe]=[],Ee=0;Ee<C;Ee+=1)for(S[Fe][Ee]=[],Ie=0;Ie<P;Ie+=1)S[Fe][Ee][Ie]=0;for(Ee=1;Ee<C-1;Ee+=1)for(Ie=1;Ie<P-1;Ie+=1)f=d.array[Ee][Ie],R=d.array[Ee-1][Ie-1]===f?1:0,z=d.array[Ee-1][Ie]===f?1:0,B=d.array[Ee-1][Ie+1]===f?1:0,X=d.array[Ee][Ie-1]===f?1:0,q=d.array[Ee][Ie+1]===f?1:0,be=d.array[Ee+1][Ie-1]===f?1:0,Ce=d.array[Ee+1][Ie]===f?1:0,Me=d.array[Ee+1][Ie+1]===f?1:0,S[f][Ee+1][Ie+1]=1+q*2+Me*4+Ce*8,X||(S[f][Ee+1][Ie]=2+Ce*4+be*8),z||(S[f][Ee][Ie+1]=0+B*2+q*4+8),R||(S[f][Ee][Ie]=0+z*2+4+X*8);return S}},{key:"layeringstep",value:function(d,S){var f=[],C=d.array.length,P=d.array[0].length,R,z;for(z=0;z<C;z+=1)for(f[z]=[],R=0;R<P;R+=1)f[z][R]=0;for(z=1;z<C;z+=1)for(R=1;R<P;R+=1)f[z][R]=(d.array[z-1][R-1]===S?1:0)+(d.array[z-1][R]===S?2:0)+(d.array[z][R-1]===S?8:0)+(d.array[z][R]===S?4:0);return f}},{key:"pathscan",value:function(d,S){for(var f=[],C=0,P=0,R=0,z=0,B=d[0].length,X=d.length,q=0,be=!0,Ce=!1,Me,Ie=0;Ie<X;Ie+=1)for(var Ee=0;Ee<B;Ee+=1)if(d[Ie][Ee]===4||d[Ie][Ee]===11)for(R=Ee,z=Ie,f[C]={},f[C].points=[],f[C].boundingbox=[R,z,R,z],f[C].holechildren=[],be=!1,P=0,Ce=d[Ie][Ee]===11,q=1;!be;){if(f[C].points[P]={},f[C].points[P].x=R-1,f[C].points[P].y=z-1,f[C].points[P].t=d[z][R],R-1<f[C].boundingbox[0]&&(f[C].boundingbox[0]=R-1),R-1>f[C].boundingbox[2]&&(f[C].boundingbox[2]=R-1),z-1<f[C].boundingbox[1]&&(f[C].boundingbox[1]=z-1),z-1>f[C].boundingbox[3]&&(f[C].boundingbox[3]=z-1),Me=this.pathscan_combined_lookup[d[z][R]][q],d[z][R]=Me[0],q=Me[1],R+=Me[2],z+=Me[3],R-1===f[C].points[0].x&&z-1===f[C].points[0].y)if(be=!0,f[C].points.length<S)f.pop();else{if(f[C].isholepath=!!Ce,Ce){for(var Fe=0,rt=[-1,-1,B+1,X+1],ot=0;ot<C;ot++)!f[ot].isholepath&&this.boundingboxincludes(f[ot].boundingbox,f[C].boundingbox)&&this.boundingboxincludes(rt,f[ot].boundingbox)&&(Fe=ot,rt=f[ot].boundingbox);f[Fe].holechildren.push(C)}C+=1}P+=1}return f}},{key:"boundingboxincludes",value:function(d,S){return d[0]<S[0]&&d[1]<S[1]&&d[2]>S[2]&&d[3]>S[3]}},{key:"batchpathscan",value:function(d,S){var f=[];for(var C in d)d.hasOwnProperty(C)&&(f[C]=this.pathscan(d[C],S));return f}},{key:"internodes",value:function(d,S){var f=[],C=0,P=0,R=0,z=0,B=0,X,q;for(X=0;X<d.length;X+=1)for(f[X]={},f[X].points=[],f[X].boundingbox=d[X].boundingbox,f[X].holechildren=d[X].holechildren,f[X].isholepath=d[X].isholepath,C=d[X].points.length,q=0;q<C;q+=1)P=(q+1)%C,R=(q+2)%C,z=(q-1+C)%C,B=(q-2+C)%C,S.rightangleenhance&&this.testrightangle(d[X],B,z,q,P,R)&&(f[X].points.length>0&&(f[X].points[f[X].points.length-1].linesegment=this.getdirection(f[X].points[f[X].points.length-1].x,f[X].points[f[X].points.length-1].y,d[X].points[q].x,d[X].points[q].y)),f[X].points.push({x:d[X].points[q].x,y:d[X].points[q].y,linesegment:this.getdirection(d[X].points[q].x,d[X].points[q].y,(d[X].points[q].x+d[X].points[P].x)/2,(d[X].points[q].y+d[X].points[P].y)/2)})),f[X].points.push({x:(d[X].points[q].x+d[X].points[P].x)/2,y:(d[X].points[q].y+d[X].points[P].y)/2,linesegment:this.getdirection((d[X].points[q].x+d[X].points[P].x)/2,(d[X].points[q].y+d[X].points[P].y)/2,(d[X].points[P].x+d[X].points[R].x)/2,(d[X].points[P].y+d[X].points[R].y)/2)});return f}},{key:"testrightangle",value:function(d,S,f,C,P,R){return d.points[C].x===d.points[S].x&&d.points[C].x===d.points[f].x&&d.points[C].y===d.points[P].y&&d.points[C].y===d.points[R].y||d.points[C].y===d.points[S].y&&d.points[C].y===d.points[f].y&&d.points[C].x===d.points[P].x&&d.points[C].x===d.points[R].x}},{key:"getdirection",value:function(d,S,f,C){var P=8;return d<f?S<C?P=1:S>C?P=7:P=0:d>f?S<C?P=3:S>C?P=5:P=4:S<C?P=2:S>C?P=6:P=8,P}},{key:"batchinternodes",value:function(d,S){var f=[];for(var C in d)d.hasOwnProperty(C)&&(f[C]=this.internodes(d[C],S));return f}},{key:"tracepath",value:function(d,S,f){var C=0,P,R,z,B={};for(B.segments=[],B.boundingbox=d.boundingbox,B.holechildren=d.holechildren,B.isholepath=d.isholepath;C<d.points.length;){var X;for(P=d.points[C].linesegment,R=-1,z=C+1;(d.points[z].linesegment===P||d.points[z].linesegment===R||R===-1)&&z<d.points.length-1;)d.points[z].linesegment!==P&&R===-1&&(R=d.points[z].linesegment),z+=1;z===d.points.length-1&&(z=0),B.segments=Z()(X=B.segments).call(X,this.fitseq(d,S,f,C,z)),z>0?C=z:C=d.points.length}return B}},{key:"fitseq",value:function(d,S,f,C,P){var R;if(P>d.points.length||P<0)return[];var z=C,B=0,X=!0,q,be,Ce,Me=P-C;Me<0&&(Me+=d.points.length);for(var Ie=(d.points[P].x-d.points[C].x)/Me,Ee=(d.points[P].y-d.points[C].y)/Me,Fe=(C+1)%d.points.length,rt;Fe!=P;)rt=Fe-C,rt<0&&(rt+=d.points.length),q=d.points[C].x+Ie*rt,be=d.points[C].y+Ee*rt,Ce=(d.points[Fe].x-q)*(d.points[Fe].x-q)+(d.points[Fe].y-be)*(d.points[Fe].y-be),Ce>S&&(X=!1),Ce>B&&(z=Fe,B=Ce),Fe=(Fe+1)%d.points.length;if(X)return[{type:"L",x1:d.points[C].x,y1:d.points[C].y,x2:d.points[P].x,y2:d.points[P].y}];var ot=z;X=!0,B=0;var lt=(ot-C)/Me,Xe=(1-lt)*(1-lt),Dt=2*(1-lt)*lt,vn=lt*lt,Nn=(Xe*d.points[C].x+vn*d.points[P].x-d.points[ot].x)/-Dt,tn=(Xe*d.points[C].y+vn*d.points[P].y-d.points[ot].y)/-Dt;for(Fe=C+1;Fe!=P;)lt=(Fe-C)/Me,Xe=(1-lt)*(1-lt),Dt=2*(1-lt)*lt,vn=lt*lt,q=Xe*d.points[C].x+Dt*Nn+vn*d.points[P].x,be=Xe*d.points[C].y+Dt*tn+vn*d.points[P].y,Ce=(d.points[Fe].x-q)*(d.points[Fe].x-q)+(d.points[Fe].y-be)*(d.points[Fe].y-be),Ce>f&&(X=!1),Ce>B&&(z=Fe,B=Ce),Fe=(Fe+1)%d.points.length;if(X)return[{type:"Q",x1:d.points[C].x,y1:d.points[C].y,x2:Nn,y2:tn,x3:d.points[P].x,y3:d.points[P].y}];var ri=ot;return Z()(R=this.fitseq(d,S,f,C,ri)).call(R,this.fitseq(d,S,f,ri,P))}},{key:"batchtracepaths",value:function(d,S,f){var C=[];for(var P in d)d.hasOwnProperty(P)&&C.push(this.tracepath(d[P],S,f));return C}},{key:"batchtracelayers",value:function(d,S,f){var C=[];for(var P in d)d.hasOwnProperty(P)&&(C[P]=this.batchtracepaths(d[P],S,f));return C}},{key:"roundtodec",value:function(d,S){return Number(d.toFixed(S))}},{key:"svgpathstring",value:function(d,S,f,C){var P,R,z=d.layers[S],B=z[f],X="",q;if(C.linefilter&&B.segments.length<3)return X;if(X=Z()(P="<path ".concat(C.desc?Z()(R='desc="l '.concat(S," p ")).call(R,f,'" '):"")).call(P,this.tosvgcolorstr(d.palette[S],C),'d="'),C.roundcoords===-1){var be;for(X+=Z()(be="M ".concat(B.segments[0].x1*C.scale," ")).call(be,B.segments[0].y1*C.scale," "),q=0;q<B.segments.length;q++){var Ce,Me;if(X+=Z()(Ce=Z()(Me="".concat(B.segments[q].type," ")).call(Me,B.segments[q].x2*C.scale," ")).call(Ce,B.segments[q].y2*C.scale," "),B.segments[q].hasOwnProperty("x3")){var Ie;X+=Z()(Ie="".concat(B.segments[q].x3*C.scale," ")).call(Ie,B.segments[q].y3*C.scale," ")}}X+="Z "}else{var Ee;for(X+=Z()(Ee="M ".concat(this.roundtodec(B.segments[0].x1*C.scale,C.roundcoords)," ")).call(Ee,this.roundtodec(B.segments[0].y1*C.scale,C.roundcoords)," "),q=0;q<B.segments.length;q++){var Fe,rt;if(X+=Z()(Fe=Z()(rt="".concat(B.segments[q].type," ")).call(rt,this.roundtodec(B.segments[q].x2*C.scale,C.roundcoords)," ")).call(Fe,this.roundtodec(B.segments[q].y2*C.scale,C.roundcoords)," "),B.segments[q].hasOwnProperty("x3")){var ot;X+=Z()(ot="".concat(this.roundtodec(B.segments[q].x3*C.scale,C.roundcoords)," ")).call(ot,this.roundtodec(B.segments[q].y3*C.scale,C.roundcoords)," ")}}X+="Z "}for(var lt=0;lt<B.holechildren.length;lt++){var Xe=z[B.holechildren[lt]];if(C.roundcoords===-1){if(Xe.segments[Xe.segments.length-1].hasOwnProperty("x3")){var Dt;X+=Z()(Dt="M ".concat(Xe.segments[Xe.segments.length-1].x3*C.scale," ")).call(Dt,Xe.segments[Xe.segments.length-1].y3*C.scale," ")}else{var vn;X+=Z()(vn="M ".concat(Xe.segments[Xe.segments.length-1].x2*C.scale," ")).call(vn,Xe.segments[Xe.segments.length-1].y2*C.scale," ")}for(q=Xe.segments.length-1;q>=0;q--){var Nn;if(X+="".concat(Xe.segments[q].type," "),Xe.segments[q].hasOwnProperty("x3")){var tn;X+=Z()(tn="".concat(Xe.segments[q].x2*C.scale," ")).call(tn,Xe.segments[q].y2*C.scale," ")}X+=Z()(Nn="".concat(Xe.segments[q].x1*C.scale," ")).call(Nn,Xe.segments[q].y1*C.scale," ")}}else{if(Xe.segments[Xe.segments.length-1].hasOwnProperty("x3")){var ri;X+=Z()(ri="M ".concat(this.roundtodec(Xe.segments[Xe.segments.length-1].x3*C.scale)," ")).call(ri,this.roundtodec(Xe.segments[Xe.segments.length-1].y3*C.scale)," ")}else{var rr;X+=Z()(rr="M ".concat(this.roundtodec(Xe.segments[Xe.segments.length-1].x2*C.scale)," ")).call(rr,this.roundtodec(Xe.segments[Xe.segments.length-1].y2*C.scale)," ")}for(q=Xe.segments.length-1;q>=0;q--){var Rn;if(X+="".concat(Xe.segments[q].type," "),Xe.segments[q].hasOwnProperty("x3")){var xa;X+=Z()(xa="".concat(this.roundtodec(Xe.segments[q].x2*C.scale)," ")).call(xa,this.roundtodec(Xe.segments[q].y2*C.scale)," ")}X+=Z()(Rn="".concat(this.roundtodec(Xe.segments[q].x1*C.scale)," ")).call(Rn,this.roundtodec(Xe.segments[q].y1*C.scale)," ")}}X+="Z "}if(X+='" />',C.lcpr||C.qcpr){for(q=0;q<B.segments.length;q++){if(B.segments[q].hasOwnProperty("x3")&&C.qcpr){var zo,Ho,Uo,Wo,Yo,Vo,Go,Xo,Zo,Jo,$o,Ko,Qo,qo;X+=Z()(zo=Z()(Ho=Z()(Uo='<circle cx="'.concat(B.segments[q].x2*C.scale,'" cy="')).call(Uo,B.segments[q].y2*C.scale,'" r="')).call(Ho,C.qcpr,'" fill="cyan" stroke-width="')).call(zo,C.qcpr*.2,'" stroke="black" />'),X+=Z()(Wo=Z()(Yo=Z()(Vo='<circle cx="'.concat(B.segments[q].x3*C.scale,'" cy="')).call(Vo,B.segments[q].y3*C.scale,'" r="')).call(Yo,C.qcpr,'" fill="white" stroke-width="')).call(Wo,C.qcpr*.2,'" stroke="black" />'),X+=Z()(Go=Z()(Xo=Z()(Zo=Z()(Jo='<line x1="'.concat(B.segments[q].x1*C.scale,'" y1="')).call(Jo,B.segments[q].y1*C.scale,'" x2="')).call(Zo,B.segments[q].x2*C.scale,'" y2="')).call(Xo,B.segments[q].y2*C.scale,'" stroke-width="')).call(Go,C.qcpr*.2,'" stroke="cyan" />'),X+=Z()($o=Z()(Ko=Z()(Qo=Z()(qo='<line x1="'.concat(B.segments[q].x2*C.scale,'" y1="')).call(qo,B.segments[q].y2*C.scale,'" x2="')).call(Qo,B.segments[q].x3*C.scale,'" y2="')).call(Ko,B.segments[q].y3*C.scale,'" stroke-width="')).call($o,C.qcpr*.2,'" stroke="cyan" />')}if(!B.segments[q].hasOwnProperty("x3")&&C.lcpr){var es,ts,ns;X+=Z()(es=Z()(ts=Z()(ns='<circle cx="'.concat(B.segments[q].x2*C.scale,'" cy="')).call(ns,B.segments[q].y2*C.scale,'" r="')).call(ts,C.lcpr,'" fill="white" stroke-width="')).call(es,C.lcpr*.2,'" stroke="black" />')}}for(var lt=0;lt<B.holechildren.length;lt++){var Xe=z[B.holechildren[lt]];for(q=0;q<Xe.segments.length;q++){if(Xe.segments[q].hasOwnProperty("x3")&&C.qcpr){var is,ai,br,xh,Ih,_h,Mh,Eh,wh,Th,Ah,Oh,Dh,kh;X+=Z()(is=Z()(ai=Z()(br='<circle cx="'.concat(Xe.segments[q].x2*C.scale,'" cy="')).call(br,Xe.segments[q].y2*C.scale,'" r="')).call(ai,C.qcpr,'" fill="cyan" stroke-width="')).call(is,C.qcpr*.2,'" stroke="black" />'),X+=Z()(xh=Z()(Ih=Z()(_h='<circle cx="'.concat(Xe.segments[q].x3*C.scale,'" cy="')).call(_h,Xe.segments[q].y3*C.scale,'" r="')).call(Ih,C.qcpr,'" fill="white" stroke-width="')).call(xh,C.qcpr*.2,'" stroke="black" />'),X+=Z()(Mh=Z()(Eh=Z()(wh=Z()(Th='<line x1="'.concat(Xe.segments[q].x1*C.scale,'" y1="')).call(Th,Xe.segments[q].y1*C.scale,'" x2="')).call(wh,Xe.segments[q].x2*C.scale,'" y2="')).call(Eh,Xe.segments[q].y2*C.scale,'" stroke-width="')).call(Mh,C.qcpr*.2,'" stroke="cyan" />'),X+=Z()(Ah=Z()(Oh=Z()(Dh=Z()(kh='<line x1="'.concat(Xe.segments[q].x2*C.scale,'" y1="')).call(kh,Xe.segments[q].y2*C.scale,'" x2="')).call(Dh,Xe.segments[q].x3*C.scale,'" y2="')).call(Oh,Xe.segments[q].y3*C.scale,'" stroke-width="')).call(Ah,C.qcpr*.2,'" stroke="cyan" />')}if(!Xe.segments[q].hasOwnProperty("x3")&&C.lcpr){var Ph,Lh,Nh;X+=Z()(Ph=Z()(Lh=Z()(Nh='<circle cx="'.concat(Xe.segments[q].x2*C.scale,'" cy="')).call(Nh,Xe.segments[q].y2*C.scale,'" r="')).call(Lh,C.lcpr,'" fill="white" stroke-width="')).call(Ph,C.lcpr*.2,'" stroke="black" />')}}}}return X}},{key:"getsvgstring",value:function(d,S){var f,C,P;S=this.checkoptions(S);for(var R=d.width*S.scale,z=d.height*S.scale,B=Z()(f="<svg ".concat(S.viewbox?Z()(C='viewBox="0 0 '.concat(R," ")).call(C,z,'" '):Z()(P='width="'.concat(R,'" height="')).call(P,z,'" '),'version="1.1" xmlns="http://www.w3.org/2000/svg" desc="Created with imagetracer.js version ')).call(f,this.versionnumber,'" >'),X=0;X<d.layers.length;X+=1)for(var q=0;q<d.layers[X].length;q+=1)d.layers[X][q].isholepath||(B+=this.svgpathstring(d,X,q,S));return B+="</svg>",B}},{key:"compareNumbers",value:function(d,S){return d-S}},{key:"torgbastr",value:function(d){var S,f,C;return Z()(S=Z()(f=Z()(C="rgba(".concat(d.r,",")).call(C,d.g,",")).call(f,d.b,",")).call(S,d.a,")")}},{key:"tosvgcolorstr",value:function(d,S){var f,C,P,R,z,B,X;return Z()(f=Z()(C=Z()(P=Z()(R=Z()(z=Z()(B=Z()(X='fill="rgb('.concat(d.r,",")).call(X,d.g,",")).call(B,d.b,')" stroke="rgb(')).call(z,d.r,",")).call(R,d.g,",")).call(P,d.b,')" stroke-width="')).call(C,S.strokewidth,'" opacity="')).call(f,d.a/255,'" ')}},{key:"appendSVGString",value:function(d,S){var f;S?(f=document.getElementById(S),f||(f=document.createElement("div"),f.id=S,document.body.appendChild(f))):(f=document.createElement("div"),document.body.appendChild(f)),f.innerHTML+=d}},{key:"blur",value:function(d,S,f){var C,P,R,z,B,X,q,be,Ce,Me,Ie={width:d.width,height:d.height,data:[]};if(S=Math.floor(S),S<1)return d;S>5&&(S=5),f=Math.abs(f),f>1024&&(f=1024);var Ee=this.gks[S-1];for(P=0;P<d.height;P++)for(C=0;C<d.width;C++){for(X=0,q=0,be=0,Ce=0,Me=0,R=-S;R<S+1;R++)C+R>0&&C+R<d.width&&(B=(P*d.width+C+R)*4,X+=d.data[B]*Ee[R+S],q+=d.data[B+1]*Ee[R+S],be+=d.data[B+2]*Ee[R+S],Ce+=d.data[B+3]*Ee[R+S],Me+=Ee[R+S]);B=(P*d.width+C)*4,Ie.data[B]=Math.floor(X/Me),Ie.data[B+1]=Math.floor(q/Me),Ie.data[B+2]=Math.floor(be/Me),Ie.data[B+3]=Math.floor(Ce/Me)}var Fe=new Uint8ClampedArray(Ie.data);for(P=0;P<d.height;P++)for(C=0;C<d.width;C++){for(X=0,q=0,be=0,Ce=0,Me=0,R=-S;R<S+1;R++)P+R>0&&P+R<d.height&&(B=((P+R)*d.width+C)*4,X+=Fe[B]*Ee[R+S],q+=Fe[B+1]*Ee[R+S],be+=Fe[B+2]*Ee[R+S],Ce+=Fe[B+3]*Ee[R+S],Me+=Ee[R+S]);B=(P*d.width+C)*4,Ie.data[B]=Math.floor(X/Me),Ie.data[B+1]=Math.floor(q/Me),Ie.data[B+2]=Math.floor(be/Me),Ie.data[B+3]=Math.floor(Ce/Me)}for(P=0;P<d.height;P++)for(C=0;C<d.width;C++)B=(P*d.width+C)*4,z=Math.abs(Ie.data[B]-d.data[B])+Math.abs(Ie.data[B+1]-d.data[B+1])+Math.abs(Ie.data[B+2]-d.data[B+2])+Math.abs(Ie.data[B+3]-d.data[B+3]),z>f&&(Ie.data[B]=d.data[B],Ie.data[B+1]=d.data[B+1],Ie.data[B+2]=d.data[B+2],Ie.data[B+3]=d.data[B+3]);return Ie}},{key:"loadImage",value:function(d,S,f){var C=new Image;f&&f.corsenabled&&(C.crossOrigin="Anonymous"),C.src=d,C.onload=function(){var P=document.createElement("canvas");P.width=C.width,P.height=C.height;var R=P.getContext("2d");R.drawImage(C,0,0),S(P)}}},{key:"getImgdata",value:function(d){var S=d.getContext("2d");return S.getImageData(0,0,d.width,d.height)}},{key:"drawLayers",value:function(d,S,f,C){f=f||1;var P,R,z,B,X,q;C?(q=document.getElementById(C),q||(q=document.createElement("div"),q.id=C,document.body.appendChild(q))):(q=document.createElement("div"),document.body.appendChild(q));for(X in d)if(d.hasOwnProperty(X)){P=d[X][0].length,R=d[X].length;var be=document.createElement("canvas");be.width=P*f,be.height=R*f;var Ce=be.getContext("2d");for(B=0;B<R;B+=1)for(z=0;z<P;z+=1)Ce.fillStyle=this.torgbastr(S[d[X][B][z]%S.length]),Ce.fillRect(z*f,B*f,f,f);q.appendChild(be)}}}],[{key:"tracerDefaultOption",value:function(){return{pathomit:100,ltres:.1,qtres:1,scale:1,strokewidth:5,viewbox:!1,linefilter:!0,desc:!1,rightangleenhance:!1,pal:[{r:0,g:0,b:0,a:255},{r:255,g:255,b:255,a:255}]}}}]),j}(),W0={getActions:function(){return{main:this._mainAction(),shape:this._shapeAction(),crop:this._cropAction(),resize:this._resizeAction(),flip:this._flipAction(),rotate:this._rotateAction(),text:this._textAction(),mask:this._maskAction(),draw:this._drawAction(),icon:this._iconAction(),filter:this._filterAction(),history:this._historyAction()}},_mainAction:function(){var _=this,d=function(){_.ui.submenu==="crop"&&(_.stopDrawingMode(),_.ui.changeMenu("crop"))},S=function(X){_.ui.submenu==="rotate"&&_.ui.rotate.setRangeBarAngle("setAngle",X)},f=function(X){_.ui.submenu==="filter"&&Ur()(_.ui).setFilterState(X)},C=function(X){return S(X),f(X),X},P=function(){var X=_._graphics.getZoomMode();_.stopDrawingMode(),X!==Sn.ZOOM?(_.startDrawingMode(At.ZOOM),_._graphics.startZoomInMode()):_._graphics.endZoomInMode()},R=function(){var X=_._graphics.getZoomMode();_.stopDrawingMode(),X!==Sn.HAND?(_.startDrawingMode(At.ZOOM),_._graphics.startHandMode()):_._graphics.endHandMode()},z=function(){Ur()(_.ui)&&Ur()(_.ui).initFilterCheckBoxState()};return re()({initLoadImage:function(X,q){return _.loadImageFromURL(X,q).then(function(be){d(),_.ui.initializeImgUrl=X,_.ui.resizeEditor({imageSize:be}),_.clearUndoStack(),_._invoker.fire(ke.EXECUTE_COMMAND,_t.LOAD_IMAGE)})},undo:function(){_.isEmptyUndoStack()||(d(),_.deactivateAll(),_.undo().then(C))},redo:function(){_.isEmptyRedoStack()||(d(),_.deactivateAll(),_.redo().then(C))},reset:function(){d(),_.loadImageFromURL(_.ui.initializeImgUrl,"resetImage").then(function(X){d(),z(),_.ui.resizeEditor({imageSize:X}),_.clearUndoStack(),_._initHistory()})},delete:function(){_.ui.changeHelpButtonEnabled("delete",!1),d(),_.removeActiveObject(),_.activeObjectId=null},deleteAll:function(){d(),_.clearObjects(),_.ui.changeHelpButtonEnabled("delete",!1),_.ui.changeHelpButtonEnabled("deleteAll",!1)},load:function(X){gn()||alert("This browser does not support file-api"),_.ui.initializeImgUrl=te().createObjectURL(X),_.loadImageFromFile(X).then(function(q){d(),z(),_.clearUndoStack(),_.ui.activeMenuEvent(),_.ui.resizeEditor({imageSize:q}),_._clearHistory(),_._invoker.fire(ke.EXECUTE_COMMAND,_t.LOAD_IMAGE)}).catch(function(q){return we().reject(q)})},download:function(){var X=_.toDataURL(),q=_.getImageName(),be,Ce,Me;gn()&&window.saveAs?(be=To(X),Ce=be.type.split("/")[1],q.split(".").pop()!==Ce&&(q+=".".concat(Ce)),saveAs(be,q)):(Me=window.open(),Me.document.body.innerHTML="<img src='".concat(X,"'>"))},history:function(X){_.ui.toggleHistoryMenu(X)},zoomIn:function(){_.ui.toggleZoomButtonStatus("zoomIn"),_.deactivateAll(),P()},zoomOut:function(){_._graphics.zoomOut()},hand:function(){_.ui.offZoomInButtonStatus(),_.ui.toggleZoomButtonStatus("hand"),_.deactivateAll(),R()}},this._commonAction())},_iconAction:function(){var _=this;return re()({changeColor:function(S){_.activeObjectId&&_.changeIconColor(_.activeObjectId,S)},addIcon:function(S,f){_.startDrawingMode("ICON"),_.setDrawingIcon(S,f)},cancelAddIcon:function(){_.ui.icon.clearIconType(),_.changeSelectableAll(!0),_.changeCursor("default"),_.stopDrawingMode()},registerDefaultIcons:function(S,f){var C={};C[S]=f,_.registerIcons(C)},registerCustomIcon:function(S,f){var C=new Ff;C.imageToSVG(S,function(P){var R=P.match(/path[^>]*d="([^"]*)"/),z=de(R,2),B=z[1],X={};X[f.name]=B,_.registerIcons(X),_.addIcon(f.name,{left:100,top:100})},Ff.tracerDefaultOption())}},this._commonAction())},_drawAction:function(){var _=this;return re()({setDrawMode:function(S,f){_.stopDrawingMode(),S==="free"?_.startDrawingMode("FREE_DRAWING",f):_.startDrawingMode("LINE_DRAWING",f)},setColor:function(S){_.setBrush({color:S})}},this._commonAction())},_maskAction:function(){var _=this;return re()({loadImageFromURL:function(S,f){return _.loadImageFromURL(_.toDataURL(),"FilterImage").then(function(){_.addImageObject(S).then(function(){te().revokeObjectURL(f)}),_._invoker.fire(ke.EXECUTE_COMMAND,_t.LOAD_MASK_IMAGE)})},applyFilter:function(){_.applyFilter("mask",{maskObjId:_.activeObjectId})}},this._commonAction())},_textAction:function(){var _=this;return re()({changeTextStyle:function(S,f){_.activeObjectId&&_.changeTextStyle(_.activeObjectId,S,f)}},this._commonAction())},_rotateAction:function(){var _=this;return re()({rotate:function(S,f){_.rotate(S,f),_.ui.resizeEditor(),_.ui.rotate.setRangeBarAngle("rotate",S)},setAngle:function(S,f){_.setAngle(S,f),_.ui.resizeEditor(),_.ui.rotate.setRangeBarAngle("setAngle",S)}},this._commonAction())},_shapeAction:function(){var _=this;return re()({changeShape:function(S,f){_.activeObjectId&&_.changeShape(_.activeObjectId,S,f)},setDrawingShape:function(S){_.setDrawingShape(S)}},this._commonAction())},_cropAction:function(){var _=this;return re()({crop:function(){var S=_.getCropzoneRect();S&&!Qy(S)&&_.crop(S).then(function(){_.stopDrawingMode(),_.ui.resizeEditor(),_.ui.changeMenu("crop"),_._invoker.fire(ke.EXECUTE_COMMAND,_t.CROP)}).catch(function(f){return we().reject(f)})},cancel:function(){_.stopDrawingMode(),_.ui.changeMenu("crop")},preset:function(S){switch(S){case"preset-square":_.setCropzoneRect(1/1);break;case"preset-3-2":_.setCropzoneRect(3/2);break;case"preset-4-3":_.setCropzoneRect(4/3);break;case"preset-5-4":_.setCropzoneRect(5/4);break;case"preset-7-5":_.setCropzoneRect(7/5);break;case"preset-16-9":_.setCropzoneRect(16/9);break;default:_.setCropzoneRect(),_.ui.crop.changeApplyButtonStatus(!1);break}}},this._commonAction())},_resizeAction:function(){var _=this;return re()({getCurrentDimensions:function(){return _._graphics.getCurrentDimensions()},preview:function(S,f,C){var P=_._graphics.getCurrentDimensions(),R=function(){return P.width/P.height},z={};switch(S){case"width":z.width=f,C?z.height=f/R():z.height=P.height;break;case"height":z.height=f,C?z.width=f*R():z.width=P.width;break;default:z=P}_._graphics.resize(z).then(function(){_.ui.resizeEditor()}),C&&(_.ui.resize.setWidthValue(z.width),_.ui.resize.setHeightValue(z.height))},lockAspectRatio:function(S,f,C){var P=_._graphics.getCurrentDimensions(),R=P.width,z=P.height,B=R/z;if(S)if(R>z){var X=C/B,q=f*B;_.ui.resize.setLimit({minWidth:q>f?q:f,minHeight:f,maxWidth:C,maxHeight:X<C?X:C})}else{var be=C*B,Ce=f/B;_.ui.resize.setLimit({minWidth:f,minHeight:Ce>f?Ce:f,maxWidth:be<C?be:C,maxHeight:C})}else _.ui.resize.setLimit({minWidth:f,minHeight:f,maxWidth:C,maxHeight:C})},resize:function(){var S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;S||(S=_._graphics.getCurrentDimensions()),_.resize(S).then(function(){_._graphics.setOriginalDimensions(S),_.stopDrawingMode(),_.ui.resizeEditor(),_.ui.changeMenu("resize")}).catch(function(f){return we().reject(f)})},reset:function(){var S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,f=_._graphics.getOriginalDimensions();_.ui.resize.setWidthValue(f.width,!0),_.ui.resize.setHeightValue(f.height,!0),_._graphics.resize(f).then(function(){S||(_.stopDrawingMode(),_.ui.resizeEditor(),_.ui.changeMenu("resize"))})}},this._commonAction())},_flipAction:function(){var _=this;return re()({flip:function(S){return _[S]()}},this._commonAction())},_filterAction:function(){var _=this;return re()({applyFilter:function(S,f,C,P){S?_.applyFilter(f,C,P):_.hasFilter(f)&&_.removeFilter(f)}},this._commonAction())},setReAction:function(){var _=this;this.on({undoStackChanged:function(S){S?(_.ui.changeHelpButtonEnabled("undo",!0),_.ui.changeHelpButtonEnabled("reset",!0)):(_.ui.changeHelpButtonEnabled("undo",!1),_.ui.changeHelpButtonEnabled("reset",!1)),_.ui.resizeEditor()},redoStackChanged:function(S){S?_.ui.changeHelpButtonEnabled("redo",!0):_.ui.changeHelpButtonEnabled("redo",!1),_.ui.resizeEditor()},objectActivated:function(S){var f,C;_.activeObjectId=S.id,_.ui.changeHelpButtonEnabled("delete",!0),_.ui.changeHelpButtonEnabled("deleteAll",!0),S.type==="cropzone"?_.ui.crop.changeApplyButtonStatus(!0):r()(f=["rect","circle","triangle"]).call(f,S.type)>-1?(_.stopDrawingMode(),_.ui.submenu!=="shape"&&_.ui.changeMenu("shape",!1,!1),_.ui.shape.setShapeStatus({strokeColor:S.stroke,strokeWidth:S.strokeWidth,fillColor:Te()(S)}),_.ui.shape.setMaxStrokeValue(Math.min(S.width,S.height))):S.type==="path"||S.type==="line"?_.ui.submenu!=="draw"&&(_.ui.changeMenu("draw",!1,!1),_.ui.draw.changeStandbyMode()):r()(C=["i-text","text"]).call(C,S.type)>-1?(_.ui.submenu!=="text"&&_.ui.changeMenu("text",!1,!1),_.ui.text.setTextStyleStateOnAction(S)):S.type==="icon"&&(_.stopDrawingMode(),_.ui.submenu!=="icon"&&_.ui.changeMenu("icon",!1,!1),_.ui.icon.setIconPickerColor(Te()(S)))},addText:function(S){var f=_.ui.text,C=f.textColor,P=f.fontSize,R=f.fontStyle,z=f.fontWeight,B=f.underline,X="Noto Sans";_.addText("Double Click",{position:S.originPosition,styles:{fill:C,fontSize:P,fontFamily:X,fontStyle:R,fontWeight:z,underline:B}}).then(function(){_.changeCursor("default")})},addObjectAfter:function(S){var f;S.type==="icon"?_.ui.icon.changeStandbyMode():r()(f=["rect","circle","triangle"]).call(f,S.type)>-1&&(_.ui.shape.setMaxStrokeValue(Math.min(S.width,S.height)),_.ui.shape.changeStandbyMode())},objectScaled:function(S){var f,C;if(r()(f=["i-text","text"]).call(f,S.type)>-1)_.ui.text.fontSize=Mt(S.fontSize);else if(r()(C=["rect","circle","triangle"]).call(C,S.type)>=0){var P=S.width,R=S.height,z=_.ui.shape.getStrokeValue();P<z&&_.ui.shape.setStrokeValue(P),R<z&&_.ui.shape.setStrokeValue(R)}},selectionCleared:function(){_.activeObjectId=null,_.ui.submenu==="text"?_.changeCursor("text"):Do(["draw","crop","resize"],_.ui.submenu)||_.stopDrawingMode()}})},_historyAction:function(){var _=this;return{undo:function(S){return _.undo(S)},redo:function(S){return _.redo(S)}}},_commonAction:function(){var _=this,d,S,f,C,P=At.TEXT,R=At.CROPPER,z=At.SHAPE,B=At.ZOOM,X=At.RESIZE;return{modeChange:function(be){switch(be){case En.TEXT:_._changeActivateMode(P);break;case En.CROP:_.startDrawingMode(R);break;case En.SHAPE:_._changeActivateMode(z),_.setDrawingShape(_.ui.shape.type,_.ui.shape.options);break;case En.ZOOM:_.startDrawingMode(B);break;case En.RESIZE:_.startDrawingMode(X);break}},deactivateAll:ee()(d=this.deactivateAll).call(d,this),changeSelectableAll:ee()(S=this.changeSelectableAll).call(S,this),discardSelection:ee()(f=this.discardSelection).call(f,this),stopDrawingMode:ee()(C=this.stopDrawingMode).call(C,this)}},mixin:function(_){re()(_.prototype,this)}},Y0=b(602),Bf=b.n(Y0),V0=b(5573),Lo=b.n(V0),G0=function(){function j(_,d){K(this,j),this.name=_,this.graphics=d}return oe(j,[{key:"fire",value:function(){for(var d=this.graphics,S=arguments.length,f=new Array(S),C=0;C<S;C++)f[C]=arguments[C];return this.graphics.fire.apply(d,f)}},{key:"setCanvasImage",value:function(d,S){this.graphics.setCanvasImage(d,S)}},{key:"getCanvasElement",value:function(){return this.graphics.getCanvasElement()}},{key:"getCanvas",value:function(){return this.graphics.getCanvas()}},{key:"getCanvasImage",value:function(){return this.graphics.getCanvasImage()}},{key:"getImageName",value:function(){return this.graphics.getImageName()}},{key:"getEditor",value:function(){return this.graphics.getEditor()}},{key:"getName",value:function(){return this.name}},{key:"setImageProperties",value:function(d,S){this.graphics.setImageProperties(d,S)}},{key:"setCanvasCssDimension",value:function(d){this.graphics.setCanvasCssDimension(d)}},{key:"setCanvasBackstoreDimension",value:function(d){this.graphics.setCanvasBackstoreDimension(d)}},{key:"adjustCanvasDimension",value:function(){this.graphics.adjustCanvasDimension()}},{key:"adjustCanvasDimensionBase",value:function(){this.graphics.adjustCanvasDimensionBase()}}]),j}(),Qn=G0;function X0(j){var _=Z0();return function(){var S=at(j),f;if(_){var C=at(this).constructor;f=Le()(S,arguments,C)}else f=S.apply(this,arguments);return jt(this,f)}}function Z0(){if(typeof Reflect>"u"||!Le()||Le().sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Le()(Boolean,[],function(){})),!0}catch{return!1}}var J0={padding:0,crossOrigin:"Anonymous"},$0=function(j){Rt(d,j);var _=X0(d);function d(S){return K(this,d),_.call(this,He.IMAGE_LOADER,S)}return oe(d,[{key:"load",value:function(f,C){var P=this,R;if(!f&&!C){var z=this.getCanvas();z.backgroundImage=null,z.renderAll(),R=new(we())(function(B){P.setCanvasImage("",null),B()})}else R=this._setBackgroundImage(C).then(function(B){return P.setCanvasImage(f,B),P.adjustCanvasDimension(),B});return R}},{key:"_setBackgroundImage",value:function(f){var C=this;return f?new(we())(function(P,R){var z=C.getCanvas();z.setBackgroundImage(f,function(){var B=z.backgroundImage;B&&B.getElement()?P(B):R(Lt.loadingImageFailed)},J0)}):we().reject(Lt.loadImage)}}]),d}(Qn),K0=$0,Q0="tl",q0="tr",eS="mt",tS="ml",nS="mr",iS="mb",rS="bl",aS="br",zf=[Q0,q0,eS,tS,nS,iS,rS,aS],Dl=function(){};function oS(j){return r()(zf).call(zf,j)>=0}function No(j,_){return j>_?"width":"height"}var sS=ae.fabric.util.createClass(ae.fabric.Rect,{initialize:function(_,d,S){d=re()(d,S),d.type="cropzone",this.callSuper("initialize",d),this._addEventHandler(),this.canvas=_,this.options=d},canvasEventDelegation:function(_){var d,S="unregistered",f=this.canvasEventTrigger[_]!==Dl;return f?S="registered":r()(d=[ke.OBJECT_MOVED,ke.OBJECT_SCALED]).call(d,_)<0&&(S="none"),S},canvasEventRegister:function(_,d){this.canvasEventTrigger[_]=d},_addEventHandler:function(){var _,d,S,f,C;this.canvasEventTrigger=(_={},Y(_,ke.OBJECT_MOVED,Dl),Y(_,ke.OBJECT_SCALED,Dl),_),this.on({moving:ee()(d=this._onMoving).call(d,this),scaling:ee()(S=this._onScaling).call(S,this)}),ae.fabric.util.addListener(document,"keydown",ee()(f=this._onKeyDown).call(f,this)),ae.fabric.util.addListener(document,"keyup",ee()(C=this._onKeyUp).call(C,this))},_renderCropzone:function(_){var d=7,S=7,f=this.flipX?-1:1,C=this.flipY?-1:1,P=f/this.scaleX,R=C/this.scaleY;_.scale(P,R),this._fillOuterRect(_,"rgba(0, 0, 0, 0.5)"),this.options.lineWidth?(this._fillInnerRect(_),this._strokeBorder(_,"rgb(255, 255, 255)",{lineWidth:this.options.lineWidth})):(this._strokeBorder(_,"rgb(0, 0, 0)",{lineDashWidth:d}),this._strokeBorder(_,"rgb(255, 255, 255)",{lineDashWidth:d,lineDashOffset:S})),_.scale(1/P,1/R)},_render:function(_){this.callSuper("_render",_),this._renderCropzone(_)},_fillOuterRect:function(_,d){var S=this._getCoordinates(),f=S.x,C=S.y;_.save(),_.fillStyle=d,_.beginPath(),_.moveTo(f[0]-1,C[0]-1),_.lineTo(f[3]+1,C[0]-1),_.lineTo(f[3]+1,C[3]+1),_.lineTo(f[0]-1,C[3]+1),_.lineTo(f[0]-1,C[0]-1),_.closePath(),_.moveTo(f[1],C[1]),_.lineTo(f[1],C[2]),_.lineTo(f[2],C[2]),_.lineTo(f[2],C[1]),_.lineTo(f[1],C[1]),_.closePath(),Te()(_).call(_),_.restore()},_fillInnerRect:function(_){var d=this._getCoordinates(),S=d.x,f=d.y,C=this._caculateInnerPosition(S,(S[2]-S[1])/3),P=this._caculateInnerPosition(f,(f[2]-f[1])/3);_.save(),_.strokeStyle="rgba(255, 255, 255, 0.7)",_.lineWidth=this.options.lineWidth,_.beginPath(),_.moveTo(C[0],P[1]),_.lineTo(C[3],P[1]),_.moveTo(C[0],P[2]),_.lineTo(C[3],P[2]),_.moveTo(C[1],P[0]),_.lineTo(C[1],P[3]),_.moveTo(C[2],P[0]),_.lineTo(C[2],P[3]),_.stroke(),_.closePath(),_.restore()},_caculateInnerPosition:function(_,d){var S=[];return S[0]=_[1],S[1]=_[1]+d,S[2]=_[1]+d*2,S[3]=_[2],S},_getCoordinates:function(){var _,d,S=this.canvas,f=this.width,C=this.height,P=this.left,R=this.top,z=f/2,B=C/2,X=S.getHeight(),q=S.getWidth();return{x:gi()(_=[-(z+P),-z,z,z+(q-P-f)]).call(_,Math.ceil),y:gi()(d=[-(B+R),-B,B,B+(X-R-C)]).call(d,Math.ceil)}},_strokeBorder:function(_,d,S){var f=S.lineDashWidth,C=S.lineDashOffset,P=S.lineWidth,R=this.width/2,z=this.height/2;_.save(),_.strokeStyle=d,_.setLineDash&&_.setLineDash([f,f]),C&&(_.lineDashOffset=C),P&&(_.lineWidth=P),_.beginPath(),_.moveTo(-R,-z),_.lineTo(R,-z),_.lineTo(R,z),_.lineTo(-R,z),_.lineTo(-R,-z),_.stroke(),_.restore()},_onMoving:function(){var _=this.height,d=this.width,S=this.left,f=this.top,C=this.canvas.getWidth()-d,P=this.canvas.getHeight()-_;this.left=st(S,0,C),this.top=st(f,0,P),this.canvasEventTrigger[ke.OBJECT_MOVED](this)},_onScaling:function(_){var d=_.transform.corner,S=this.canvas.getPointer(_.e),f=this._calcScalingSizeFromPointer(S,d);this.scale(1).set(f),this.canvasEventTrigger[ke.OBJECT_SCALED](this)},_calcScalingSizeFromPointer:function(_,d){var S=oS(d);return S&&this._resizeCropZone(_,d)},adjustRatioCropzoneSize:function(_){var d=_.width,S=_.height,f=_.leftMaker,C=_.topMaker,P=_.maxWidth,R=_.maxHeight,z=_.scaleTo;if(d=P?st(d,1,P):d,S=R?st(S,1,R):S,!this.presetRatio)return this._withShiftKey&&(d>S?S=d:S>d&&(d=S)),{width:d,height:S,left:f(d),top:C(S)};z==="width"?S=d/this.presetRatio:d=S*this.presetRatio;var B=Math.min(P/d,R/S);if(B<=1){var X,q=gi()(X=[d,S]).call(X,function(Ce){return Ce*B}),be=de(q,2);d=be[0],S=be[1]}return{width:d,height:S,left:f(d),top:C(S)}},_getCropzoneRectInfo:function(){var _=this.canvas,d=_.width,S=_.height,f=this.getBoundingRect(!1,!0),C=f.top,P=f.left,R=f.width,z=f.height;return{rectTop:C,rectLeft:P,rectWidth:R,rectHeight:z,rectRight:P+R,rectBottom:C+z,canvasWidth:d,canvasHeight:S}},_resizeCropZone:function(_,d){var S=_.x,f=_.y,C=this._getCropzoneRectInfo(),P=C.rectWidth,R=C.rectHeight,z=C.rectTop,B=C.rectLeft,X=C.rectBottom,q=C.rectRight,be=C.canvasWidth,Ce=C.canvasHeight,Me={tl:{width:q-S,height:X-f,leftMaker:function(Ee){return q-Ee},topMaker:function(Ee){return X-Ee},maxWidth:q,maxHeight:X,scaleTo:No(B-S,z-f)},tr:{width:S-B,height:X-f,leftMaker:function(){return B},topMaker:function(Ee){return X-Ee},maxWidth:be-B,maxHeight:X,scaleTo:No(S-q,z-f)},mt:{width:P,height:X-f,leftMaker:function(){return B},topMaker:function(Ee){return X-Ee},maxWidth:be-B,maxHeight:X,scaleTo:"height"},ml:{width:q-S,height:R,leftMaker:function(Ee){return q-Ee},topMaker:function(){return z},maxWidth:q,maxHeight:Ce-z,scaleTo:"width"},mr:{width:S-B,height:R,leftMaker:function(){return B},topMaker:function(){return z},maxWidth:be-B,maxHeight:Ce-z,scaleTo:"width"},mb:{width:P,height:f-z,leftMaker:function(){return B},topMaker:function(){return z},maxWidth:be-B,maxHeight:Ce-z,scaleTo:"height"},bl:{width:q-S,height:f-z,leftMaker:function(Ee){return q-Ee},topMaker:function(){return z},maxWidth:q,maxHeight:Ce-z,scaleTo:No(B-S,f-X)},br:{width:S-B,height:f-z,leftMaker:function(){return B},topMaker:function(){return z},maxWidth:be-B,maxHeight:Ce-z,scaleTo:No(S-q,f-X)}};return this.adjustRatioCropzoneSize(Me[d])},isValid:function(){return this.left>=0&&this.top>=0&&this.width>0&&this.height>0},_onKeyDown:function(_){var d=_.keyCode;d===Gt.SHIFT&&(this._withShiftKey=!0)},_onKeyUp:function(_){var d=_.keyCode;d===Gt.SHIFT&&(this._withShiftKey=!1)}}),lS=sS;function cS(j){var _=uS();return function(){var S=at(j),f;if(_){var C=at(this).constructor;f=Le()(S,arguments,C)}else f=S.apply(this,arguments);return jt(this,f)}}function uS(){if(typeof Reflect>"u"||!Le()||Le().sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Le()(Boolean,[],function(){})),!0}catch{return!1}}var fS=10,hS={presetRatio:null,top:-10,left:-10,height:1,width:1},dS=function(j){Rt(d,j);var _=cS(d);function d(S){var f,C,P,R,z,B;return K(this,d),B=_.call(this,He.CROPPER,S),B._cropzone=null,B._startX=null,B._startY=null,B._withShiftKey=!1,B._listeners={keydown:ee()(f=B._onKeyDown).call(f,Tt(B)),keyup:ee()(C=B._onKeyUp).call(C,Tt(B)),mousedown:ee()(P=B._onFabricMouseDown).call(P,Tt(B)),mousemove:ee()(R=B._onFabricMouseMove).call(R,Tt(B)),mouseup:ee()(z=B._onFabricMouseUp).call(z,Tt(B))},B}return oe(d,[{key:"start",value:function(){if(!this._cropzone){var f=this.getCanvas();f.forEachObject(function(C){C.evented=!1}),this._cropzone=new lS(f,re()({left:0,top:0,width:.5,height:.5,strokeWidth:0,cornerSize:10,cornerColor:"black",fill:"transparent"},en,this.graphics.cropSelectionStyle)),f.discardActiveObject(),f.add(this._cropzone),f.on("mouse:down",this._listeners.mousedown),f.selection=!1,f.defaultCursor="crosshair",ae.fabric.util.addListener(document,"keydown",this._listeners.keydown),ae.fabric.util.addListener(document,"keyup",this._listeners.keyup)}}},{key:"end",value:function(){var f=this.getCanvas(),C=this._cropzone;C&&(f.remove(C),f.selection=!0,f.defaultCursor="default",f.off("mouse:down",this._listeners.mousedown),f.forEachObject(function(P){P.evented=!0}),this._cropzone=null,ae.fabric.util.removeListener(document,"keydown",this._listeners.keydown),ae.fabric.util.removeListener(document,"keyup",this._listeners.keyup))}},{key:"changeVisibility",value:function(f){this._cropzone&&this._cropzone.set({visible:f})}},{key:"_onFabricMouseDown",value:function(f){var C=this.getCanvas();if(!f.target){C.selection=!1;var P=C.getPointer(f.e);this._startX=P.x,this._startY=P.y,C.on({"mouse:move":this._listeners.mousemove,"mouse:up":this._listeners.mouseup})}}},{key:"_onFabricMouseMove",value:function(f){var C=this.getCanvas(),P=C.getPointer(f.e),R=P.x,z=P.y,B=this._cropzone;Math.abs(R-this._startX)+Math.abs(z-this._startY)>fS&&(C.remove(B),B.set(this._calcRectDimensionFromPoint(R,z,B.presetRatio)),C.add(B),C.setActiveObject(B))}},{key:"_calcRectDimensionFromPoint",value:function(f,C){var P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,R=this.getCanvas(),z=R.getWidth(),B=R.getHeight(),X=this._startX,q=this._startY,be=st(f,0,X),Ce=st(C,0,q),Me=st(f,X,z)-be,Ie=st(C,q,B)-Ce;return this._withShiftKey&&!P?(Me>Ie?Ie=Me:Ie>Me&&(Me=Ie),X>=f&&(be=X-Me),q>=C&&(Ce=q-Ie)):P&&(Ie=Me/P,X>=f&&(be=st(X-Me,0,z)),q>=C&&(Ce=st(q-Ie,0,B)),Ce+Ie>B&&(Ie=B-Ce,Me=Ie*P,X>=f&&(be=st(X-Me,0,z)),q>=C&&(Ce=st(q-Ie,0,B)))),{left:be,top:Ce,width:Me,height:Ie}}},{key:"_onFabricMouseUp",value:function(){var f=this._cropzone,C=this._listeners,P=this.getCanvas();P.setActiveObject(f),P.off({"mouse:move":C.mousemove,"mouse:up":C.mouseup})}},{key:"getCroppedImageData",value:function(f){var C=this.getCanvas(),P=C.contains(this._cropzone);if(!f)return null;P&&C.remove(this._cropzone);var R={imageName:this.getImageName(),url:C.toDataURL(f)};return P&&C.add(this._cropzone),R}},{key:"getCropzoneRect",value:function(){var f=this._cropzone;return f.isValid()?{left:f.left,top:f.top,width:f.width,height:f.height}:null}},{key:"setCropzoneRect",value:function(f){var C=this.getCanvas(),P=this._cropzone;C.discardActiveObject(),C.selection=!1,C.remove(P),P.set(f?this._getPresetPropertiesForCropSize(f):hS),C.add(P),C.selection=!0,f&&C.setActiveObject(P)}},{key:"_getPresetPropertiesForCropSize",value:function(f){var C,P,R=this.getCanvas(),z=R.getWidth(),B=R.getHeight(),X=z>=B?z:B,q=function(Xe,Dt){return Xe>Dt?Dt/Xe:1},be=X*f,Ce=X,Me=q(be,z),Ie=gi()(C=[be,Ce]).call(C,function(lt){return lt*Me}),Ee=de(Ie,2);be=Ee[0],Ce=Ee[1];var Fe=q(Ce,B),rt=gi()(P=[be,Ce]).call(P,function(lt){return Ao(lt*Fe)}),ot=de(rt,2);return be=ot[0],Ce=ot[1],{presetRatio:f,top:(B-Ce)/2,left:(z-be)/2,width:be,height:Ce}}},{key:"_onKeyDown",value:function(f){f.keyCode===Gt.SHIFT&&(this._withShiftKey=!0)}},{key:"_onKeyUp",value:function(f){f.keyCode===Gt.SHIFT&&(this._withShiftKey=!1)}}]),d}(Qn),gS=dS;function vS(j){var _=mS();return function(){var S=at(j),f;if(_){var C=at(this).constructor;f=Le()(S,arguments,C)}else f=S.apply(this,arguments);return jt(this,f)}}function mS(){if(typeof Reflect>"u"||!Le()||Le().sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Le()(Boolean,[],function(){})),!0}catch{return!1}}var pS=function(j){Rt(d,j);var _=vS(d);function d(S){return K(this,d),_.call(this,He.FLIP,S)}return oe(d,[{key:"getCurrentSetting",value:function(){var f=this.getCanvasImage();return{flipX:f.flipX,flipY:f.flipY}}},{key:"set",value:function(f){var C=this.getCurrentSetting(),P=C.flipX!==f.flipX,R=C.flipY!==f.flipY;return!P&&!R?we().reject(Lt.flip):(re()(C,f),this.setImageProperties(C,!0),this._invertAngle(P,R),this._flipObjects(P,R),we().resolve({flipX:C.flipX,flipY:C.flipY,angle:this.getCanvasImage().angle}))}},{key:"_invertAngle",value:function(f,C){var P=this.getCanvasImage(),R=P.angle;f&&(R*=-1),C&&(R*=-1),P.rotate(tr()(R)).setCoords()}},{key:"_flipObjects",value:function(f,C){var P=this.getCanvas();f&&P.forEachObject(function(R){R.set({angle:tr()(R.angle*-1),flipX:!R.flipX,left:P.width-R.left}).setCoords()}),C&&P.forEachObject(function(R){R.set({angle:tr()(R.angle*-1),flipY:!R.flipY,top:P.height-R.top}).setCoords()}),P.renderAll()}},{key:"reset",value:function(){return this.set({flipX:!1,flipY:!1})}},{key:"flipX",value:function(){var f=this.getCurrentSetting();return this.set({flipX:!f.flipX,flipY:f.flipY})}},{key:"flipY",value:function(){var f=this.getCurrentSetting();return this.set({flipX:f.flipX,flipY:!f.flipY})}}]),d}(Qn),yS=pS;function bS(j){var _=SS();return function(){var S=at(j),f;if(_){var C=at(this).constructor;f=Le()(S,arguments,C)}else f=S.apply(this,arguments);return jt(this,f)}}function SS(){if(typeof Reflect>"u"||!Le()||Le().sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Le()(Boolean,[],function(){})),!0}catch{return!1}}var CS=function(j){Rt(d,j);var _=bS(d);function d(S){return K(this,d),_.call(this,He.ROTATION,S)}return oe(d,[{key:"getCurrentAngle",value:function(){return this.getCanvasImage().angle}},{key:"setAngle",value:function(f){var C=this.getCurrentAngle()%360;f%=360;var P=this.getCanvasImage(),R=P.getCenterPoint();P.set({angle:f}).setCoords(),this.adjustCanvasDimension();var z=P.getCenterPoint();return this._rotateForEachObject(R,z,f-C),we().resolve(f)}},{key:"_rotateForEachObject",value:function(f,C,P){var R=this.getCanvas(),z={x:f.x-C.x,y:f.y-C.y};R.forEachObject(function(B){var X=B.getCenterPoint(),q=ae.fabric.util.degreesToRadians(P),be=ae.fabric.util.rotatePoint(X,f,q);B.set({left:be.x-z.x,top:be.y-z.y,angle:(B.angle+P)%360}),B.setCoords()}),R.renderAll()}},{key:"rotate",value:function(f){var C=this.getCurrentAngle();return this.setAngle(C+f)}}]),d}(Qn),xS=CS;function IS(j){var _=_S();return function(){var S=at(j),f;if(_){var C=at(this).constructor;f=Le()(S,arguments,C)}else f=S.apply(this,arguments);return jt(this,f)}}function _S(){if(typeof Reflect>"u"||!Le()||Le().sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Le()(Boolean,[],function(){})),!0}catch{return!1}}var MS=function(j){Rt(d,j);var _=IS(d);function d(S){var f;return K(this,d),f=_.call(this,He.FREE_DRAWING,S),f.width=12,f.oColor=new ae.fabric.Color("rgba(0, 0, 0, 0.5)"),f}return oe(d,[{key:"start",value:function(f){var C=this.getCanvas();C.isDrawingMode=!0,this.setBrush(f)}},{key:"setBrush",value:function(f){var C=this.getCanvas().freeDrawingBrush;f=f||{},this.width=f.width||this.width,f.color&&(this.oColor=new ae.fabric.Color(f.color)),C.width=this.width,C.color=this.oColor.toRgba()}},{key:"end",value:function(){var f=this.getCanvas();f.isDrawingMode=!1}}]),d}(Qn),ES=MS,Hf=30,wS=2.7,TS=1.7,Uf=180,AS=ae.fabric.util.createClass(ae.fabric.Line,{type:"line",initialize:function(_){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.callSuper("initialize",_,d),this.arrowType=d.arrowType},_render:function(_){var d=this.calcLinePoints(),S=d.x1,f=d.y1,C=d.x2,P=d.y2,R={fromX:S,fromY:f,toX:C,toY:P};this.ctx=_,_.lineWidth=this.strokeWidth,this._renderBasicLinePath(R),this._drawDecoratorPath(R),this._renderStroke(_)},_renderBasicLinePath:function(_){var d=_.fromX,S=_.fromY,f=_.toX,C=_.toY;this.ctx.beginPath(),this.ctx.moveTo(d,S),this.ctx.lineTo(f,C)},_drawDecoratorPath:function(_){this._drawDecoratorPathType("head",_),this._drawDecoratorPathType("tail",_)},_drawDecoratorPathType:function(_,d){switch(this.arrowType[_]){case"triangle":this._drawTrianglePath(_,d);break;case"chevron":this._drawChevronPath(_,d);break}},_drawTrianglePath:function(_,d){var S=this.ctx.lineWidth*TS;this._drawChevronPath(_,d,S),this.ctx.closePath()},_drawChevronPath:function(_,d,S){var f=this,C=d.fromX,P=d.fromY,R=d.toX,z=d.toY,B=this.ctx;S||(S=this.ctx.lineWidth*wS);var X=_==="head"?[C,P]:[R,z],q=de(X,2),be=q[0],Ce=q[1],Me=_==="head"?[R,z]:[C,P],Ie=de(Me,2),Ee=Ie[0],Fe=Ie[1],rt=Math.atan2(Fe-Ce,Ee-be)*Uf/Math.PI,ot=function(Xe){return f.getRotatePosition(S,Xe,{x:be,y:Ce})};B.moveTo.apply(B,U(ot(rt+Hf))),B.lineTo(be,Ce),B.lineTo.apply(B,U(ot(rt-Hf)))},getRotatePosition:function(_,d,S){var f=d*Math.PI/Uf,C=S.x,P=S.y;return[_*Math.cos(f)+C,_*Math.sin(f)+P]}}),OS=AS;function DS(j){var _=kS();return function(){var S=at(j),f;if(_){var C=at(this).constructor;f=Le()(S,arguments,C)}else f=S.apply(this,arguments);return jt(this,f)}}function kS(){if(typeof Reflect>"u"||!Le()||Le().sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Le()(Boolean,[],function(){})),!0}catch{return!1}}var PS=function(j){Rt(d,j);var _=DS(d);function d(S){var f,C,P,R;return K(this,d),R=_.call(this,He.LINE,S),R._width=12,R._oColor=new ae.fabric.Color("rgba(0, 0, 0, 0.5)"),R._listeners={mousedown:ee()(f=R._onFabricMouseDown).call(f,Tt(R)),mousemove:ee()(C=R._onFabricMouseMove).call(C,Tt(R)),mouseup:ee()(P=R._onFabricMouseUp).call(P,Tt(R))},R}return oe(d,[{key:"setHeadOption",value:function(f){var C=f.arrowType,P=C===void 0?{head:null,tail:null}:C;this._arrowType=P}},{key:"start",value:function(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},C=this.getCanvas();C.defaultCursor="crosshair",C.selection=!1,this.setHeadOption(f),this.setBrush(f),C.forEachObject(function(P){P.set({evented:!1})}),C.on({"mouse:down":this._listeners.mousedown})}},{key:"setBrush",value:function(f){var C=this.getCanvas().freeDrawingBrush;f=f||{},this._width=f.width||this._width,f.color&&(this._oColor=new ae.fabric.Color(f.color)),C.width=this._width,C.color=this._oColor.toRgba()}},{key:"end",value:function(){var f=this.getCanvas();f.defaultCursor="default",f.selection=!0,f.forEachObject(function(C){C.set({evented:!0})}),f.off("mouse:down",this._listeners.mousedown)}},{key:"_onFabricMouseDown",value:function(f){var C=this.getCanvas(),P=C.getPointer(f.e),R=P.x,z=P.y,B=[R,z,R,z];this._line=new OS(B,{stroke:this._oColor.toRgba(),strokeWidth:this._width,arrowType:this._arrowType,evented:!1}),this._line.set(ni.SELECTION_STYLE),C.add(this._line),C.on({"mouse:move":this._listeners.mousemove,"mouse:up":this._listeners.mouseup}),this.fire(ke.ADD_OBJECT,this._createLineEventObjectProperties())}},{key:"_onFabricMouseMove",value:function(f){var C=this.getCanvas(),P=C.getPointer(f.e);this._line.set({x2:P.x,y2:P.y}),this._line.setCoords(),C.renderAll()}},{key:"_onFabricMouseUp",value:function(){var f=this.getCanvas();this.fire(ke.OBJECT_ADDED,this._createLineEventObjectProperties()),this._line=null,f.off({"mouse:move":this._listeners.mousemove,"mouse:up":this._listeners.mouseup})}},{key:"_createLineEventObjectProperties",value:function(){var f=this.graphics.createObjectProperties(this._line),C=this._line,P=C.x1,R=C.x2,z=C.y1,B=C.y2;return re()({},f,{startPosition:{x:P,y:z},endPosition:{x:R,y:B}})}}]),d}(Qn),LS=PS;function NS(j){var _=RS();return function(){var S=at(j),f;if(_){var C=at(this).constructor;f=Le()(S,arguments,C)}else f=S.apply(this,arguments);return jt(this,f)}}function RS(){if(typeof Reflect>"u"||!Le()||Le().sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Le()(Boolean,[],function(){})),!0}catch{return!1}}var jS={fill:"#000000",left:0,top:0},FS={fill:"#000000",fontStyle:"normal",fontWeight:"normal",textAlign:"tie-text-align-left",underline:!1},BS=500,zS=function(j){Rt(d,j);var _=NS(d);function d(S){var f,C,P,R,z,B;return K(this,d),B=_.call(this,He.TEXT,S),B._defaultStyles=jS,B._isSelected=!1,B._selectedObj={},B._editingObj={},B._listeners={mousedown:ee()(f=B._onFabricMouseDown).call(f,Tt(B)),select:ee()(C=B._onFabricSelect).call(C,Tt(B)),selectClear:ee()(P=B._onFabricSelectClear).call(P,Tt(B)),scaling:ee()(R=B._onFabricScaling).call(R,Tt(B)),textChanged:ee()(z=B._onFabricTextChanged).call(z,Tt(B))},B._textarea=null,B._ratio=1,B._lastClickTime=new Date().getTime(),B._editingObjInfos={},B.isPrevEditing=!1,B}return oe(d,[{key:"start",value:function(){var f=this,C=this.getCanvas();C.selection=!1,C.defaultCursor="text",C.on({"mouse:down":this._listeners.mousedown,"selection:created":this._listeners.select,"selection:updated":this._listeners.select,"before:selection:cleared":this._listeners.selectClear,"object:scaling":this._listeners.scaling,"text:changed":this._listeners.textChanged}),C.forEachObject(function(P){P.type==="i-text"&&f.adjustOriginPosition(P,"start")}),this.setCanvasRatio()}},{key:"end",value:function(){var f=this,C=this.getCanvas();C.selection=!0,C.defaultCursor="default",C.forEachObject(function(P){P.type==="i-text"&&(P.text===""?C.remove(P):f.adjustOriginPosition(P,"end"))}),C.off({"mouse:down":this._listeners.mousedown,"selection:created":this._listeners.select,"selection:updated":this._listeners.select,"before:selection:cleared":this._listeners.selectClear,"object:selected":this._listeners.select,"object:scaling":this._listeners.scaling,"text:changed":this._listeners.textChanged})}},{key:"adjustOriginPosition",value:function(f,C){var P="center",R="center";C==="start"&&(P="left",R="top");var z=f.getPointByOrigin(P,R),B=z.x,X=z.y;f.set({left:B,top:X,originX:P,originY:R}),f.setCoords()}},{key:"add",value:function(f,C){var P=this;return new(we())(function(R){var z,B=P.getCanvas(),X=null,q=ni.SELECTION_STYLE,be=P._defaultStyles;P._setInitPos(C.position),C.styles&&(be=re()(be,C.styles)),Af()(C.autofocus)||(C.autofocus=!0),X=new ae.fabric.IText(f,be),q=re()({},q,{originX:"left",originY:"top"}),X.set(q),X.on({mouseup:ee()(z=P._onFabricMouseUp).call(z,P)}),B.add(X),C.autofocus&&(X.enterEditing(),X.selectAll()),B.getActiveObject()||B.setActiveObject(X),P.isPrevEditing=!0,R(P.graphics.createObjectProperties(X))})}},{key:"change",value:function(f,C){var P=this;return new(we())(function(R){f.set("text",C),P.getCanvas().renderAll(),R()})}},{key:"setStyle",value:function(f,C){var P=this;return new(we())(function(R){J()(C,function(z,B){f[B]===z&&B!=="fontSize"&&(C[B]=FS[B]||"")},P),"textDecoration"in C&&re()(C,P._getTextDecorationAdaptObject(C.textDecoration)),f.set(C),P.getCanvas().renderAll(),R()})}},{key:"getText",value:function(f){return f.text}},{key:"setSelectedInfo",value:function(f,C){this._selectedObj=f,this._isSelected=C}},{key:"isSelected",value:function(){return this._isSelected}},{key:"getSelectedObj",value:function(){return this._selectedObj}},{key:"setCanvasRatio",value:function(){var f=this.getCanvasElement(),C=_e()(f.style.maxWidth,10),P=f.width;this._ratio=P/C}},{key:"getCanvasRatio",value:function(){return this._ratio}},{key:"_getTextDecorationAdaptObject",value:function(f){return{underline:f==="underline",linethrough:f==="line-through",overline:f==="overline"}}},{key:"_setInitPos",value:function(f){f=f||this.getCanvasImage().getCenterPoint(),this._defaultStyles.left=f.x,this._defaultStyles.top=f.y}},{key:"_onInput",value:function(){var f=this.getCanvasRatio(),C=this._editingObj,P=this._textarea.style;P.width="".concat(Math.ceil(C.width/f),"px"),P.height="".concat(Math.ceil(C.height/f),"px")}},{key:"_onKeyDown",value:function(){var f=this,C=this.getCanvasRatio(),P=this._editingObj,R=this._textarea.style;o()(function(){P.text(f._textarea.value),R.width="".concat(Math.ceil(P.width/C),"px"),R.height="".concat(Math.ceil(P.height/C),"px")},0)}},{key:"_onBlur",value:function(){var f=this.getCanvasRatio(),C=this._editingObj,P=this._editingObjInfos,R=this._textarea.value,z=C.width/f-P.width/f,B=C.height/f-P.height/f;if(f===1&&(z/=2,B/=2),this._textarea.style.display="none",C.set({left:P.left+z,top:P.top+B}),R.length){this.getCanvas().add(C);var X={id:ze(C),type:C.type,text:R};this.fire(ke.TEXT_CHANGED,X)}}},{key:"_onScroll",value:function(){this._textarea.scrollLeft=0,this._textarea.scrollTop=0}},{key:"_onFabricScaling",value:function(f){var C=f.target;C.fontSize=C.fontSize*C.scaleY,C.scaleX=1,C.scaleY=1}},{key:"_onFabricTextChanged",value:function(f){this.fire(ke.TEXT_CHANGED,f.target)}},{key:"_onFabricSelectClear",value:function(f){var C=this.getSelectedObj();this.isPrevEditing=!0,this.setSelectedInfo(f.target,!1),C&&C.text===""&&this.getCanvas().remove(C)}},{key:"_onFabricSelect",value:function(f){this.isPrevEditing=!0,this.setSelectedInfo(f.target,!0)}},{key:"_onFabricMouseDown",value:function(f){var C=f.target;if(!(C&&!C.isType("text"))){if(this.isPrevEditing){this.isPrevEditing=!1;return}this._fireAddText(f)}}},{key:"_fireAddText",value:function(f){var C=f.target,P=f.e||{},R=this.getCanvas().getPointer(P);C||this.fire(ke.ADD_TEXT,{originPosition:{x:R.x,y:R.y},clientPosition:{x:P.clientX||0,y:P.clientY||0}})}},{key:"_onFabricMouseUp",value:function(f){var C=f.target,P=new Date().getTime();this._isDoubleClick(P)&&!C.isEditing&&C.enterEditing(),C.isEditing&&this.fire(ke.TEXT_EDITING),this._lastClickTime=P}},{key:"_isDoubleClick",value:function(f){return f-this._lastClickTime<BS}}]),d}(Qn),HS=zS;function US(j){var _=WS();return function(){var S=at(j),f;if(_){var C=at(this).constructor;f=Le()(S,arguments,C)}else f=S.apply(this,arguments);return jt(this,f)}}function WS(){if(typeof Reflect>"u"||!Le()||Le().sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Le()(Boolean,[],function(){})),!0}catch{return!1}}var YS={arrow:"M 0 90 H 105 V 120 L 160 60 L 105 0 V 30 H 0 Z",cancel:"M 0 30 L 30 60 L 0 90 L 30 120 L 60 90 L 90 120 L 120 90 L 90 60 L 120 30 L 90 0 L 60 30 L 30 0 Z"},VS=function(j){Rt(d,j);var _=US(d);function d(S){var f,C,P,R;return K(this,d),R=_.call(this,He.ICON,S),R._oColor="#000000",R._pathMap=YS,R._type=null,R._iconColor=null,R._handlers={mousedown:ee()(f=R._onFabricMouseDown).call(f,Tt(R)),mousemove:ee()(C=R._onFabricMouseMove).call(C,Tt(R)),mouseup:ee()(P=R._onFabricMouseUp).call(P,Tt(R))},R}return oe(d,[{key:"setStates",value:function(f,C){this._type=f,this._iconColor=C}},{key:"start",value:function(){var f=this.getCanvas();f.selection=!1,f.on("mouse:down",this._handlers.mousedown)}},{key:"end",value:function(){var f=this.getCanvas();f.selection=!0,f.off({"mouse:down":this._handlers.mousedown})}},{key:"add",value:function(f,C){var P=this;return new(we())(function(R,z){var B=P.getCanvas(),X=P._pathMap[f],q=ni.SELECTION_STYLE,be=X?P._createIcon(X):null;P._icon=be,be||z(Lt.invalidParameters),be.set(re()({type:"icon",fill:P._oColor},q,C,P.graphics.controlStyle)),B.add(be).setActiveObject(be),R(P.graphics.createObjectProperties(be))})}},{key:"registerPaths",value:function(f){var C=this;J()(f,function(P,R){C._pathMap[R]=P},this)}},{key:"setColor",value:function(f,C){this._oColor=f,C&&C.get("type")==="icon"&&(C.set({fill:this._oColor}),this.getCanvas().renderAll())}},{key:"getColor",value:function(f){return Te()(f)}},{key:"_createIcon",value:function(f){return new ae.fabric.Path(f)}},{key:"_onFabricMouseDown",value:function(f){var C=this,P=this.getCanvas();this._startPoint=P.getPointer(f.e);var R=this._startPoint,z=R.x,B=R.y;this.add(this._type,{left:z,top:B,fill:this._iconColor}).then(function(){C.fire(ke.ADD_OBJECT,C.graphics.createObjectProperties(C._icon)),P.on("mouse:move",C._handlers.mousemove),P.on("mouse:up",C._handlers.mouseup)})}},{key:"_onFabricMouseMove",value:function(f){var C=this.getCanvas();if(this._icon){var P=C.getPointer(f.e),R=(P.x-this._startPoint.x)/this._icon.width,z=(P.y-this._startPoint.y)/this._icon.height;this._icon.set({scaleX:Math.abs(R*2),scaleY:Math.abs(z*2)}),this._icon.setCoords(),C.renderAll()}}},{key:"_onFabricMouseUp",value:function(){var f=this.getCanvas();this.fire(ke.OBJECT_ADDED,this.graphics.createObjectProperties(this._icon)),this._icon=null,f.off("mouse:down",this._handlers.mousedown),f.off("mouse:move",this._handlers.mousemove),f.off("mouse:up",this._handlers.mouseup)}}]),d}(Qn),GS=VS,XS=ae.fabric.util.createClass(ae.fabric.Image.filters.BlendImage,{applyTo:function(_){if(this.mask){var d=_.canvasEl,S=d.width,f=d.height,C=this._createCanvasOfMask(S,f),P=d.getContext("2d"),R=C.getContext("2d"),z=P.getImageData(0,0,S,f);this._drawMask(R,d,P),this._mapData(R,z,S,f),_.imageData=z}},_createCanvasOfMask:function(_,d){var S=ae.fabric.util.createCanvasElement();return S.width=_,S.height=d,S},_drawMask:function(_){var d=this.mask,S=d.getElement(),f=d.angle,C=d.left,P=d.scaleX,R=d.scaleY,z=d.top;_.save(),_.translate(C,z),_.rotate(f*Math.PI/180),_.scale(P,R),_.drawImage(S,-S.width/2,-S.height/2),_.restore()},_mapData:function(_,d,S,f){for(var C=d.data,P=d.height,R=d.width,z=C,B=R*P*4,X=_.getImageData(0,0,S,f).data,q=0;q<B;q+=4)z[q+3]=X[q]}}),ZS=XS,JS=ae.fabric.util.createClass(ae.fabric.Image.filters.Convolute,{type:"Sharpen",initialize:function(){this.matrix=[0,-1,0,-1,5,-1,0,-1,0]}}),$S=JS,KS=ae.fabric.util.createClass(ae.fabric.Image.filters.Convolute,{type:"Emboss",initialize:function(){this.matrix=[1,1,1,1,.7,-1,-1,-1,-1]}}),QS=KS,qS=ae.fabric.util.createClass(ae.fabric.Image.filters.BaseFilter,{type:"ColorFilter",initialize:function(_){_||(_={}),this.color=_.color||"#FFFFFF",this.threshold=_.threshold||45,this.x=_.x||null,this.y=_.y||null},applyTo:function(_){var d=_.canvasEl,S=d.getContext("2d"),f=S.getImageData(0,0,d.width,d.height),C=f.data,P=this.threshold,R=ae.fabric.Color.sourceFromHex(this.color),z,B;for(this.x&&this.y&&(R=this._getColor(f,this.x,this.y)),z=0,B=C.length;z<B;z+=4)this._isOutsideThreshold(C[z],R[0],P)||this._isOutsideThreshold(C[z+1],R[1],P)||this._isOutsideThreshold(C[z+2],R[2],P)||(C[z]=C[z+1]=C[z+2]=C[z+3]=0);S.putImageData(f,0,0)},_isOutsideThreshold:function(_,d,S){var f=_-d;return Math.abs(f)>S},_getColor:function(_,d,S){var f=[0,0,0,0],C=_.data,P=_.width,R=4,z=(P*S+d)*R;return f[0]=C[z],f[1]=C[z+1],f[2]=C[z+2],f[3]=C[z+3],f}}),eC=qS;function tC(j){var _=nC();return function(){var S=at(j),f;if(_){var C=at(this).constructor;f=Le()(S,arguments,C)}else f=S.apply(this,arguments);return jt(this,f)}}function nC(){if(typeof Reflect>"u"||!Le()||Le().sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Le()(Boolean,[],function(){})),!0}catch{return!1}}var Ro=ae.fabric.Image.filters;Ro.Mask=ZS,Ro.Sharpen=$S,Ro.Emboss=QS,Ro.ColorFilter=eC;var iC=function(j){Rt(d,j);var _=tC(d);function d(S){return K(this,d),_.call(this,He.FILTER,S)}return oe(d,[{key:"add",value:function(f,C){var P=this;return new(we())(function(R,z){var B=P._getSourceImage(),X=P.getCanvas(),q=P._getFilter(B,f);q||(q=P._createFilter(B,f,C)),q||z(Lt.invalidParameters),P._changeFilterValues(q,C),P._apply(B,function(){X.renderAll(),R({type:f,action:"add",options:C})})})}},{key:"remove",value:function(f){var C=this;return new(we())(function(P,R){var z=C._getSourceImage(),B=C.getCanvas(),X=C.getOptions(f);z.filters.length||R(Lt.unsupportedOperation),C._removeFilter(z,f),C._apply(z,function(){B.renderAll(),P({type:f,action:"remove",options:X})})})}},{key:"hasFilter",value:function(f){return!!this._getFilter(this._getSourceImage(),f)}},{key:"getOptions",value:function(f){var C=this._getSourceImage(),P=this._getFilter(C,f);return P?re()({},P.options):null}},{key:"_changeFilterValues",value:function(f,C){J()(C,function(P,R){H()(f[R])||(f[R]=P)}),J()(f.options,function(P,R){H()(C[R])||(f.options[R]=C[R])})}},{key:"_apply",value:function(f,C){f.filters.push();var P=f.applyFilters();P&&C()}},{key:"_getSourceImage",value:function(){return this.getCanvasImage()}},{key:"_createFilter",value:function(f,C,P){var R,z=this._getFabricFilterType(C),B=ae.fabric.Image.filters[z];return B&&(R=new B(P),R.options=P,f.filters.push(R)),R}},{key:"_getFilter",value:function(f,C){var P=null;if(f){var R=this._getFabricFilterType(C),z=f.filters.length,B,X;for(X=0;X<z;X+=1)if(B=f.filters[X],B.type===R){P=B;break}}return P}},{key:"_removeFilter",value:function(f,C){var P,R=this._getFabricFilterType(C);f.filters=Ur()(P=f.filters).call(P,function(z){return z.type!==R})}},{key:"_getFabricFilterType",value:function(f){return f.charAt(0).toUpperCase()+p()(f).call(f,1)}}]),d}(Qn),rC=iC,aC=b(1801),Pi=b.n(aC),Wf={pixelate:"blocksize",blur:"blur"},kl={x:"width",y:"height"},oC=Gy(Wf),Ca=null;function jo(j){var _=pa(j,"patternSourceCanvas"),d=_.patternSourceCanvas,S=d.getObjects(),f=de(S,1),C=f[0];return C}function sC(j){var _=j.angle,d=j.flipX,S=j.flipY,f=jo(j),C=bC(j),P=C.right,R=C.bottom,z=C.width,B=C.height,X=(z-j.width)/2,q=(B-j.height)/2,be=j.left-j.width/2-X,Ce=j.top-j.height/2-q,Me=z/2-X,Ie=B/2-q,Ee=Math.max(z,B)+Math.max(X,q),Fe=lC({shapeObj:j,left:Me,top:Ie,width:z,height:B,cropX:be,cropY:Ce,flipX:d,flipY:S,right:P,bottom:R}),rt=de(Fe,4);Me=rt[0],Ie=rt[1],z=rt[2],B=rt[3],f.set({angle:d===S?-_:_,left:Me,top:Ie,width:z,height:B,cropX:be,cropY:Ce,flipX:d,flipY:S}),wl(f,{fillImageMaxSize:Ee})}function Pl(j){var _;return gi()(_=j.filters).call(_,function(d){var S=me()(d),f=de(S,1),C=f[0];return Y({},oC[C],d[C])})}function lC(j){var _=j.shapeObj,d=j.left,S=j.top,f=j.width,C=j.height,P=j.cropX,R=j.cropY,z=j.flipX,B=j.flipY,X=j.right,q=j.bottom,be=function(lt,Xe,Dt,vn){return dC({type:lt,outDistance:Xe,shapeObj:_,flipX:z,flipY:B,left:Dt,top:vn})},Ce=f,Me=C,Ie=uC(be,{left:d,top:S,width:f,height:C,cropX:P,cropY:R}),Ee=de(Ie,4);d=Ee[0],S=Ee[1],f=Ee[2],C=Ee[3];var Fe=cC(be,{left:d,top:S,insideCanvasRealImageWidth:f,insideCanvasRealImageHeight:C,right:X,bottom:q,cropX:P,cropY:R,originalWidth:Ce,originalHeight:Me}),rt=de(Fe,4);return d=rt[0],S=rt[1],f=rt[2],C=rt[3],[d,S,f,C]}function cC(j,_){var d=_.left,S=_.top,f=_.insideCanvasRealImageWidth,C=_.insideCanvasRealImageHeight,P=_.right,R=_.bottom,z=_.cropX,B=_.cropY,X=_.originalWidth,q=_.originalHeight,be=f,Ce=C,Me=Ca,Ie=Me.width,Ee=Me.height;P>Ie&&z>0&&(be=X-Math.abs(P-Ie)),R>Ee&&B>0&&(Ce=q-Math.abs(R-Ee));var Fe={x:(f-be)/2,y:(C-Ce)/2};return J()(["x","y"],function(rt){var ot=Fe[rt];if(ot>0){var lt=j(rt,ot,d,S),Xe=de(lt,2);d=Xe[0],S=Xe[1]}}),[d,S,be,Ce]}function uC(j,_){var d=_.left,S=_.top,f=_.width,C=_.height,P=_.cropX,R=_.cropY,z={width:f,height:C};return J()(["x","y"],function(B){var X=B==="x"?P:R,q=z[kl[B]],be=Ca[kl[B]];if(q>be){var Ce=(q-be)/2;z[kl[B]]=be;var Me=j(B,Ce,d,S),Ie=de(Me,2);d=Ie[0],S=Ie[1]}if(X<0){var Ee=j(B,X,d,S),Fe=de(Ee,2);d=Fe[0],S=Fe[1]}}),[d,S,z.width,z.height]}function Yf(j,_,d){var S=Vf(j),f=Xf(S,j.angle,_);d.add(f);var C={fill:new ae.fabric.Pattern({source:d.getElement(),repeat:"no-repeat"})};return wl(C,{patternSourceCanvas:d}),C}function fC(j){var _=j.getObjects(),d=de(_,1),S=d[0],f=pa(S,"fillImageMaxSize"),C=f.fillImageMaxSize;C=Math.max(1,C),j.setDimensions({width:C,height:C}),j.renderAll()}function hC(j,_){var d=pa(j,"patternSourceCanvas"),S=d.patternSourceCanvas,f=S.getObjects(),C=de(f,1),P=C[0],R=Pl(P);S.remove(P);var z=Vf(_,!0),B=Xf(z,_.angle,R);S.add(B)}function Vf(j){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return(!Ca||_)&&(Ca=j.toCanvasElement()),Ca}function dC(j){var _=j.type,d=j.shapeObj,S=j.outDistance,f=j.left,C=j.top,P=j.flipX,R=j.flipY,z=Gf(d),B=[[1,2],[0,3],[0,3],[1,2]],X=vC(_,z,B),q=mC(_,z,X),be=X.startPointIndex,Ce=gC({outDistance:S,startPointIndex:be,flipX:P,flipY:R,reatAngles:q});return[f+Ce.left,C+Ce.top]}function gC(j){var _=j.outDistance,d=j.startPointIndex,S=j.flipX,f=j.flipY,C=j.reatAngles,P=_*Math.cos(C[0]*Math.PI/180),R=_*Math.cos(C[1]*Math.PI/180),z=d===2||d===3,B={top:z?P:R,left:z?R:P};return pC(d,S,f)&&(B.left=B.left*-1),yC(d,S,f)&&(B.top=B.top*-1),B}function vC(j,_,d){var S=0,f=0;J()(_,function(z,B){z[j]<S&&(S=z[j],f=B)});var C=de(d[f],2),P=C[0],R=C[1];return{startPointIndex:f,endPointIndex1:P,endPointIndex2:R}}function mC(j,_,d){var S,f=d.startPointIndex,C=d.endPointIndex1,P=d.endPointIndex2,R=j==="x"?180:270;return gi()(S=[C,P]).call(S,function(z){var B=_[f],X=_[z],q=B.y-X.y,be=B.x-X.x;return Math.atan2(q,be)*180/Math.PI-R})}function pC(j,_,d){return(!_&&d||!_&&!d)&&j===0||(_&&d||_&&!d)&&j===1||(!_&&!d||!_&&d)&&j===2||(_&&!d||_&&d)&&j===3}function yC(j,_,d){return(_&&!d||!_&&!d)&&j===0||(!_&&!d||_&&!d)&&j===1||(_&&d||!_&&d)&&j===2||(!_&&d||_&&d)&&j===3}function Gf(j){return[j.getPointByOrigin("left","top"),j.getPointByOrigin("right","top"),j.getPointByOrigin("left","bottom"),j.getPointByOrigin("right","bottom")]}function bC(j){var _=Gf(j),d=de(_,4),S=d[0],f=S.x,C=S.y,P=d[1],R=P.x,z=P.y,B=d[2],X=B.x,q=B.y,be=d[3],Ce=be.x,Me=be.y,Ie=Math.min(f,R,X,Ce),Ee=Math.min(C,z,q,Me),Fe=Math.max(f,R,X,Ce),rt=Math.max(C,z,q,Me);return{left:Ie,top:Ee,right:Fe,bottom:rt,width:Fe-Ie,height:rt-Ee}}function Xf(j,_,d){var S,f=new ae.fabric.Image(j);return J()(re().apply(void 0,Z()(S=[{}]).call(S,U(d))),function(C,P){var R=Xy(P),z=new ae.fabric.Image.filters[R](Y({},Wf[P],C));f.filters.push(z)}),f.applyFilters(),wl(f,{originalAngle:_,fillImageMaxSize:Math.max(f.width,f.height)}),Pi().adjustOriginToCenter(f),f}function SC(j){var _=CC();return function(){var S=at(j),f;if(_){var C=at(this).constructor;f=Le()(S,arguments,C)}else f=S.apply(this,arguments);return jt(this,f)}}function CC(){if(typeof Reflect>"u"||!Le()||Le().sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Le()(Boolean,[],function(){})),!0}catch{return!1}}var Zf=re()({strokeWidth:1,stroke:"#000000",fill:"#ffffff",width:1,height:1,rx:0,ry:0},Qt),xC="rect",IC=20,_C=20;function Jf(j,_,d){var S=Te()(j),f=mf(Te()(j)),C=S;S.color&&(C=S.color);var P=null;if(f==="filter"){var R=d();P=Yf(_,Ur()(S),R)}else P={fill:C};return re()({},j,P)}var MC=function(j){Rt(d,j);var _=SC(d);function d(S){var f,C,P,R,z,B;return K(this,d),B=_.call(this,He.SHAPE,S),B._shapeObj=null,B._type=xC,B._options=re()({},Zf),B._isSelected=!1,B._startPoint={},B._withShiftKey=!1,B._handlers={mousedown:ee()(f=B._onFabricMouseDown).call(f,Tt(B)),mousemove:ee()(C=B._onFabricMouseMove).call(C,Tt(B)),mouseup:ee()(P=B._onFabricMouseUp).call(P,Tt(B)),keydown:ee()(R=B._onKeyDown).call(R,Tt(B)),keyup:ee()(z=B._onKeyUp).call(z,Tt(B))},B}return oe(d,[{key:"start",value:function(){var f=this.getCanvas();this._isSelected=!1,f.defaultCursor="crosshair",f.selection=!1,f.uniformScaling=!0,f.on({"mouse:down":this._handlers.mousedown}),ae.fabric.util.addListener(document,"keydown",this._handlers.keydown),ae.fabric.util.addListener(document,"keyup",this._handlers.keyup)}},{key:"end",value:function(){var f=this.getCanvas();this._isSelected=!1,f.defaultCursor="default",f.selection=!0,f.uniformScaling=!1,f.off({"mouse:down":this._handlers.mousedown}),ae.fabric.util.removeListener(document,"keydown",this._handlers.keydown),ae.fabric.util.removeListener(document,"keyup",this._handlers.keyup)}},{key:"setStates",value:function(f,C){this._type=f,C&&(this._options=re()(this._options,C))}},{key:"add",value:function(f,C){var P=this;return new(we())(function(R){var z=P.getCanvas(),B=P._extendOptions(C),X=P._createInstance(f,B),q=P.graphics.createObjectProperties(X);P._bindEventOnShape(X),z.add(X).setActiveObject(X),P._resetPositionFillFilter(X),R(q)})}},{key:"change",value:function(f,C){var P=this;return new(we())(function(R,z){pf(f)||z(Lt.unsupportedType);var B=mf(Te()(C))==="filter",X=P.graphics,q=X.canvasImage,be=X.createStaticCanvas;f.set(B?Jf(C,q,be):C),B&&P._resetPositionFillFilter(f),P.getCanvas().renderAll(),R()})}},{key:"makeFillPropertyForUserEvent",value:function(f){var C=Tl(f),P={};if(C===je.FILTER){var R=jo(f),z=Pl(R);P.type=C,P.filter=z}else P.type=je.COLOR,P.color=Te()(f)||"transparent";return P}},{key:"processForCopiedObject",value:function(f,C){if(this._bindEventOnShape(f),Tl(f)==="filter"){var P=jo(C),R=Pl(P),z=this.graphics.createStaticCanvas();f.set(Yf(this.graphics.canvasImage,R,z)),this._resetPositionFillFilter(f)}}},{key:"_createInstance",value:function(f,C){var P;switch(f){case"rect":P=new ae.fabric.Rect(C);break;case"circle":P=new ae.fabric.Ellipse(re()({type:"circle"},C));break;case"triangle":P=new ae.fabric.Triangle(C);break;default:P={}}return P}},{key:"_extendOptions",value:function(f){var C=ni.SELECTION_STYLE,P=this.graphics,R=P.canvasImage,z=P.createStaticCanvas;return f=re()({},Zf,this._options,C,f),Jf(f,R,z)}},{key:"_bindEventOnShape",value:function(f){var C=this,P=this.getCanvas();f.on({added:function(){C._shapeObj=this,Pi().setOrigins(C._shapeObj)},selected:function(){C._isSelected=!0,C._shapeObj=this,P.uniformScaling=!0,P.defaultCursor="default",Pi().setOrigins(C._shapeObj)},deselected:function(){C._isSelected=!1,C._shapeObj=null,P.defaultCursor="crosshair",P.uniformScaling=!1},modified:function(){var z=C._shapeObj;Pi().adjustOriginToCenter(z),Pi().setOrigins(z)},modifiedInGroup:function(z){C._fillFilterRePositionInGroupSelection(f,z)},moving:function(){C._resetPositionFillFilter(this)},rotating:function(){C._resetPositionFillFilter(this)},scaling:function(z){var B=P.getPointer(z.e),X=C._shapeObj;P.setCursor("crosshair"),Pi().resize(X,B,!0),C._resetPositionFillFilter(this)}})}},{key:"_onFabricMouseDown",value:function(f){if(f.target||(this._isSelected=!1,this._shapeObj=!1),!this._isSelected&&!this._shapeObj){var C=this.getCanvas();this._startPoint=C.getPointer(f.e),C.on({"mouse:move":this._handlers.mousemove,"mouse:up":this._handlers.mouseup})}}},{key:"_onFabricMouseMove",value:function(f){var C=this,P=this.getCanvas(),R=P.getPointer(f.e),z=this._startPoint.x,B=this._startPoint.y,X=z-R.x,q=B-R.y,be=this._shapeObj;be?(this._shapeObj.set({isRegular:this._withShiftKey}),Pi().resize(be,R),P.renderAll(),this._resetPositionFillFilter(be)):this.add(this._type,{left:z,top:B,width:X,height:q}).then(function(Ce){C.fire(ke.ADD_OBJECT,Ce)})}},{key:"_onFabricMouseUp",value:function(){var f=this,C=this.getCanvas(),P=this._startPoint.x,R=this._startPoint.y,z=this._shapeObj;z?z&&(Pi().adjustOriginToCenter(z),this.fire(ke.OBJECT_ADDED,this.graphics.createObjectProperties(z))):this.add(this._type,{left:P,top:R,width:IC,height:_C}).then(function(B){f.fire(ke.ADD_OBJECT,B)}),C.off({"mouse:move":this._handlers.mousemove,"mouse:up":this._handlers.mouseup})}},{key:"_onKeyDown",value:function(f){f.keyCode===Gt.SHIFT&&(this._withShiftKey=!0,this._shapeObj&&(this._shapeObj.isRegular=!0))}},{key:"_onKeyUp",value:function(f){f.keyCode===Gt.SHIFT&&(this._withShiftKey=!1,this._shapeObj&&(this._shapeObj.isRegular=!1))}},{key:"_resetPositionFillFilter",value:function(f){if(Tl(f)==="filter"){var C=pa(f,"patternSourceCanvas"),P=C.patternSourceCanvas,R=jo(f),z=pa(R,"originalAngle"),B=z.originalAngle;this.graphics.canvasImage.angle!==B&&hC(f,this.graphics.canvasImage);var X=f.originX,q=f.originY;Pi().adjustOriginToCenter(f),f.width*=f.scaleX,f.height*=f.scaleY,f.rx*=f.scaleX,f.ry*=f.scaleY,f.scaleX=1,f.scaleY=1,sC(f),Vy(f,{originX:X,originY:q}),fC(P)}}},{key:"_fillFilterRePositionInGroupSelection",value:function(f,C){(C.scaleX!==1||C.scaleY!==1)&&C.addWithUpdate();var P=f.angle,R=f.left,z=f.top;ae.fabric.util.addTransformToObject(f,C.calcTransformMatrix()),this._resetPositionFillFilter(f),f.set({angle:P,left:R,top:z})}}]),d}(Qn);function EC(j){var _=wC();return function(){var S=at(j),f;if(_){var C=at(this).constructor;f=Le()(S,arguments,C)}else f=S.apply(this,arguments);return jt(this,f)}}function wC(){if(typeof Reflect>"u"||!Le()||Le().sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Le()(Boolean,[],function(){})),!0}catch{return!1}}var Ll=10,$f={left:0,top:0,width:0,height:0,stroke:"#000000",strokeWidth:0,fill:"#000000",opacity:.4,evented:!1,selectable:!1,hoverCursor:"auto"},Nl={SIZE:.0045,MARGIN:.003,BORDER_RADIUS:.003},Rl={SIZE:.0066,MARGIN:.0044,BORDER_RADIUS:.003},Fo=1,Kf=ke.ZOOM_CHANGED,TC=ke.ADD_TEXT,AC=ke.TEXT_EDITING,OC=ke.OBJECT_MODIFIED,Qf=ke.KEY_DOWN,qf=ke.KEY_UP,DC=ke.HAND_STARTED,kC=ke.HAND_STOPPED,PC=function(j){Rt(d,j);var _=EC(d);function d(S){var f,C,P,R,z,B,X,q,be,Ce,Me,Ie,Ee;K(this,d),Ee=_.call(this,He.ZOOM,S),Ee.zoomArea=null,Ee._startPoint=null,Ee._centerPoints=[],Ee.zoomLevel=Fo,Ee.zoomMode=Sn.DEFAULT,Ee._listeners={startZoom:ee()(f=Ee._onMouseDownWithZoomMode).call(f,Tt(Ee)),moveZoom:ee()(C=Ee._onMouseMoveWithZoomMode).call(C,Tt(Ee)),stopZoom:ee()(P=Ee._onMouseUpWithZoomMode).call(P,Tt(Ee)),startHand:ee()(R=Ee._onMouseDownWithHandMode).call(R,Tt(Ee)),moveHand:ee()(z=Ee._onMouseMoveWithHandMode).call(z,Tt(Ee)),stopHand:ee()(B=Ee._onMouseUpWithHandMode).call(B,Tt(Ee)),zoomChanged:ee()(X=Ee._changeScrollState).call(X,Tt(Ee)),keydown:ee()(q=Ee._startHandModeWithSpaceBar).call(q,Tt(Ee)),keyup:ee()(be=Ee._endHandModeWithSpaceBar).call(be,Tt(Ee))};var Fe=Ee.getCanvas();return Ee.aspectRatio=Fe.width/Fe.height,Ee._verticalScroll=new ae.fabric.Rect($f),Ee._horizontalScroll=new ae.fabric.Rect($f),Fe.on(Kf,Ee._listeners.zoomChanged),Ee.graphics.on(TC,ee()(Ce=Ee._startTextEditingHandler).call(Ce,Tt(Ee))),Ee.graphics.on(AC,ee()(Me=Ee._startTextEditingHandler).call(Me,Tt(Ee))),Ee.graphics.on(OC,ee()(Ie=Ee._stopTextEditingHandler).call(Ie,Tt(Ee))),Ee}return oe(d,[{key:"attachKeyboardZoomEvents",value:function(){ae.fabric.util.addListener(document,Qf,this._listeners.keydown),ae.fabric.util.addListener(document,qf,this._listeners.keyup)}},{key:"detachKeyboardZoomEvents",value:function(){ae.fabric.util.removeListener(document,Qf,this._listeners.keydown),ae.fabric.util.removeListener(document,qf,this._listeners.keyup)}},{key:"_startTextEditingHandler",value:function(){this.isTextEditing=!0}},{key:"_stopTextEditingHandler",value:function(){this.isTextEditing=!1}},{key:"_startHandModeWithSpaceBar",value:function(f){this.withSpace||this.isTextEditing||f.keyCode===Gt.SPACE&&(this.withSpace=!0,this.startHandMode())}},{key:"_endHandModeWithSpaceBar",value:function(f){f.keyCode===Gt.SPACE&&(this.withSpace=!1,this.endHandMode())}},{key:"startZoomInMode",value:function(){if(!this.zoomArea){this.endHandMode(),this.zoomMode=Sn.ZOOM;var f=this.getCanvas();this._changeObjectsEventedState(!1),this.zoomArea=new ae.fabric.Rect({left:0,top:0,width:.5,height:.5,stroke:"black",strokeWidth:1,fill:"transparent",hoverCursor:"zoom-in"}),f.discardActiveObject(),f.add(this.zoomArea),f.on("mouse:down",this._listeners.startZoom),f.selection=!1,f.defaultCursor="zoom-in"}}},{key:"endZoomInMode",value:function(){this.zoomMode=Sn.DEFAULT;var f=this.getCanvas(),C=this._listeners,P=C.startZoom,R=C.moveZoom,z=C.stopZoom;f.selection=!0,f.defaultCursor="auto",f.off({"mouse:down":P,"mouse:move":R,"mouse:up":z}),this._changeObjectsEventedState(!0),f.remove(this.zoomArea),this.zoomArea=null}},{key:"start",value:function(){this.zoomArea=null,this._startPoint=null,this._startHandPoint=null}},{key:"end",value:function(){this.endZoomInMode(),this.endHandMode()}},{key:"startHandMode",value:function(){this.endZoomInMode(),this.zoomMode=Sn.HAND;var f=this.getCanvas();this._changeObjectsEventedState(!1),f.discardActiveObject(),f.off("mouse:down",this._listeners.startHand),f.on("mouse:down",this._listeners.startHand),f.selection=!1,f.defaultCursor="grab",f.fire(DC)}},{key:"endHandMode",value:function(){this.zoomMode=Sn.DEFAULT;var f=this.getCanvas();this._changeObjectsEventedState(!0),f.off("mouse:down",this._listeners.startHand),f.selection=!0,f.defaultCursor="auto",this._startHandPoint=null,f.fire(kC)}},{key:"_onMouseDownWithZoomMode",value:function(f){var C=f.target,P=f.e;if(!C){var R=this.getCanvas();R.selection=!1,this._startPoint=R.getPointer(P),this.zoomArea.set({width:0,height:0});var z=this._listeners,B=z.moveZoom,X=z.stopZoom;R.on({"mouse:move":B,"mouse:up":X})}}},{key:"_onMouseMoveWithZoomMode",value:function(f){var C=f.e,P=this.getCanvas(),R=P.getPointer(C),z=R.x,B=R.y,X=this.zoomArea,q=this._startPoint,be=Math.abs(z-q.x),Ce=Math.abs(B-q.y);be+Ce>Ll&&(P.remove(X),X.set(this._calcRectDimensionFromPoint(z,B)),P.add(X))}},{key:"_calcRectDimensionFromPoint",value:function(f,C){var P=this.getCanvas(),R=P.getWidth(),z=P.getHeight(),B=this._startPoint,X=B.x,q=B.y,be=Math.min,Ce=be(X,f),Me=be(q,C),Ie=st(f,X,R)-Ce,Ee=st(C,q,z)-Me;return{left:Ce,top:Me,width:Ie,height:Ee}}},{key:"_onMouseUpWithZoomMode",value:function(){var f=this.zoomLevel,C=this.zoomArea,P=this._listeners,R=P.moveZoom,z=P.stopZoom,B=this.getCanvas(),X=this._getCenterPoint(),q=X.x,be=X.y;this._isMaxZoomLevel()||(this._centerPoints.push({x:q,y:be,prevZoomLevel:f,zoomLevel:f+1}),f+=1,B.zoomToPoint({x:q,y:be},f),this._fireZoomChanged(B,f),this.zoomLevel=f),B.off({"mouse:move":R,"mouse:up":z}),B.remove(C),this._startPoint=null}},{key:"_getCenterPoint",value:function(){var f=this.zoomArea,C=f.left,P=f.top,R=f.width,z=f.height,B=this._startPoint,X=B.x,q=B.y,be=this.aspectRatio;return R<Ll&&z<Ll?{x:X,y:q}:R>z?{x:C+be*z/2,y:P+z/2}:{x:C+R/2,y:P+R/be/2}}},{key:"zoom",value:function(f){for(var C=f.x,P=f.y,R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.zoomLevel,z=this.getCanvas(),B=this._centerPoints,X=B.length-1;X>=0&&!(B[X].zoomLevel<R);X-=1){var q=B.pop(),be=q.x,Ce=q.y,Me=q.prevZoomLevel;z.zoomToPoint({x:be,y:Ce},Me),this.zoomLevel=Me}z.zoomToPoint({x:C,y:P},R),this._isDefaultZoomLevel(R)||this._centerPoints.push({x:C,y:P,zoomLevel:R,prevZoomLevel:this.zoomLevel}),this.zoomLevel=R,this._fireZoomChanged(z,R)}},{key:"zoomOut",value:function(){var f=this._centerPoints;if(f.length){var C=this.getCanvas(),P=f.pop(),R=P.x,z=P.y,B=P.prevZoomLevel;this._isDefaultZoomLevel(B)?C.setViewportTransform([1,0,0,1,0,0]):C.zoomToPoint({x:R,y:z},B),this.zoomLevel=B,this._fireZoomChanged(C,this.zoomLevel)}}},{key:"resetZoom",value:function(){var f=this.getCanvas();f.setViewportTransform([1,0,0,1,0,0]),this.zoomLevel=Fo,this._centerPoints=[],this._fireZoomChanged(f,this.zoomLevel)}},{key:"_isMaxZoomLevel",value:function(){return this.zoomLevel>=5}},{key:"_movePointOfZoom",value:function(f){var C=f.x,P=f.y,R=this._centerPoints;if(R.length){var z=this.getCanvas(),B=this.zoomLevel,X=R.pop(),q=X.x,be=X.y,Ce=X.prevZoomLevel,Me=q-C,Ie=be-P;z.zoomToPoint({x:q,y:be},Ce),z.zoomToPoint({x:Me,y:Ie},B),R.push({x:Me,y:Ie,prevZoomLevel:Ce,zoomLevel:B}),this._fireZoomChanged(z,B)}}},{key:"_onMouseDownWithHandMode",value:function(f){var C=f.target,P=f.e;if(!C){var R=this.getCanvas();if(!(this.zoomLevel<=Fo)){R.selection=!1,this._startHandPoint=R.getPointer(P);var z=this._listeners,B=z.moveHand,X=z.stopHand;R.on({"mouse:move":B,"mouse:up":X})}}}},{key:"_onMouseMoveWithHandMode",value:function(f){var C=f.e,P=this.getCanvas(),R=P.getPointer(C),z=R.x,B=R.y,X=z-this._startHandPoint.x,q=B-this._startHandPoint.y;this._movePointOfZoom({x:X,y:q})}},{key:"_onMouseUpWithHandMode",value:function(){var f=this.getCanvas(),C=this._listeners,P=C.moveHand,R=C.stopHand;f.off({"mouse:move":P,"mouse:up":R}),this._startHandPoint=null}},{key:"_changeScrollState",value:function(f){var C=f.viewport,P=f.zoomLevel,R=this.getCanvas();if(R.remove(this._verticalScroll),R.remove(this._horizontalScroll),!this._isDefaultZoomLevel(P)){var z=R.width,B=R.height,X=C.tl,q=C.tr,be=C.bl,Ce=q.x-X.x,Me=be.y-X.y,Ie=Ce*Ce/z,Ee=Me*Rl.SIZE,Fe=st(X.x+X.x/z*Ce,X.x,q.x-Ie),rt=Me*Rl.MARGIN,ot=Me*Rl.BORDER_RADIUS;this._horizontalScroll.set({left:Fe,top:be.y-Ee-rt,width:Ie,height:Ee,rx:ot,ry:ot});var lt=Ce*Nl.SIZE,Xe=Me*Me/B,Dt=st(X.y+X.y/B*Me,q.y,be.y-Xe),vn=Ce*Nl.MARGIN,Nn=Ce*Nl.BORDER_RADIUS;this._verticalScroll.set({left:q.x-lt-vn,top:Dt,width:lt,height:Xe,rx:Nn,ry:Nn}),this._addScrollBar()}}},{key:"_changeObjectsEventedState",value:function(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,C=this.getCanvas();C.forEachObject(function(P){P.evented=f})}},{key:"_addScrollBar",value:function(){var f=this,C=this.getCanvas();C.add(this._horizontalScroll),C.add(this._verticalScroll),this.scrollBarTid&&clearTimeout(this.scrollBarTid),this.scrollBarTid=o()(function(){C.remove(f._horizontalScroll),C.remove(f._verticalScroll)},3e3)}},{key:"_isDefaultZoomLevel",value:function(f){return f===Fo}},{key:"_fireZoomChanged",value:function(f,C){f.fire(Kf,{viewport:f.calcViewportBoundaries(),zoomLevel:C})}},{key:"mode",get:function(){return this.zoomMode}}]),d}(Qn),LC=PC,eh=ko.create,th=ko.types,NC=function(){function j(_){K(this,j),this.name=_}return oe(j,[{key:"getName",value:function(){return this.name}},{key:"start",value:function(){throw new Error(eh(th.UN_IMPLEMENTATION,"start"))}},{key:"end",value:function(){throw new Error(eh(th.UN_IMPLEMENTATION,"stop"))}}]),j}(),ir=NC;function RC(j){var _=jC();return function(){var S=at(j),f;if(_){var C=at(this).constructor;f=Le()(S,arguments,C)}else f=S.apply(this,arguments);return jt(this,f)}}function jC(){if(typeof Reflect>"u"||!Le()||Le().sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Le()(Boolean,[],function(){})),!0}catch{return!1}}var FC=function(j){Rt(d,j);var _=RC(d);function d(){return K(this,d),_.call(this,At.CROPPER)}return oe(d,[{key:"start",value:function(f){var C=f.getComponent(He.CROPPER);C.start()}},{key:"end",value:function(f){var C=f.getComponent(He.CROPPER);C.end()}}]),d}(ir),BC=FC;function zC(j){var _=HC();return function(){var S=at(j),f;if(_){var C=at(this).constructor;f=Le()(S,arguments,C)}else f=S.apply(this,arguments);return jt(this,f)}}function HC(){if(typeof Reflect>"u"||!Le()||Le().sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Le()(Boolean,[],function(){})),!0}catch{return!1}}var UC=function(j){Rt(d,j);var _=zC(d);function d(){return K(this,d),_.call(this,At.FREE_DRAWING)}return oe(d,[{key:"start",value:function(f,C){var P=f.getComponent(He.FREE_DRAWING);P.start(C)}},{key:"end",value:function(f){var C=f.getComponent(He.FREE_DRAWING);C.end()}}]),d}(ir),WC=UC;function YC(j){var _=VC();return function(){var S=at(j),f;if(_){var C=at(this).constructor;f=Le()(S,arguments,C)}else f=S.apply(this,arguments);return jt(this,f)}}function VC(){if(typeof Reflect>"u"||!Le()||Le().sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Le()(Boolean,[],function(){})),!0}catch{return!1}}var GC=function(j){Rt(d,j);var _=YC(d);function d(){return K(this,d),_.call(this,At.LINE_DRAWING)}return oe(d,[{key:"start",value:function(f,C){var P=f.getComponent(He.LINE);P.start(C)}},{key:"end",value:function(f){var C=f.getComponent(He.LINE);C.end()}}]),d}(ir),XC=GC;function ZC(j){var _=JC();return function(){var S=at(j),f;if(_){var C=at(this).constructor;f=Le()(S,arguments,C)}else f=S.apply(this,arguments);return jt(this,f)}}function JC(){if(typeof Reflect>"u"||!Le()||Le().sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Le()(Boolean,[],function(){})),!0}catch{return!1}}var $C=function(j){Rt(d,j);var _=ZC(d);function d(){return K(this,d),_.call(this,At.SHAPE)}return oe(d,[{key:"start",value:function(f){var C=f.getComponent(He.SHAPE);C.start()}},{key:"end",value:function(f){var C=f.getComponent(He.SHAPE);C.end()}}]),d}(ir),KC=$C;function QC(j){var _=qC();return function(){var S=at(j),f;if(_){var C=at(this).constructor;f=Le()(S,arguments,C)}else f=S.apply(this,arguments);return jt(this,f)}}function qC(){if(typeof Reflect>"u"||!Le()||Le().sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Le()(Boolean,[],function(){})),!0}catch{return!1}}var ex=function(j){Rt(d,j);var _=QC(d);function d(){return K(this,d),_.call(this,At.TEXT)}return oe(d,[{key:"start",value:function(f){var C=f.getComponent(He.TEXT);C.start()}},{key:"end",value:function(f){var C=f.getComponent(He.TEXT);C.end()}}]),d}(ir),tx=ex;function nx(j){var _=ix();return function(){var S=at(j),f;if(_){var C=at(this).constructor;f=Le()(S,arguments,C)}else f=S.apply(this,arguments);return jt(this,f)}}function ix(){if(typeof Reflect>"u"||!Le()||Le().sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Le()(Boolean,[],function(){})),!0}catch{return!1}}var rx=function(j){Rt(d,j);var _=nx(d);function d(){return K(this,d),_.call(this,At.ICON)}return oe(d,[{key:"start",value:function(f){var C=f.getComponent(He.ICON);C.start()}},{key:"end",value:function(f){var C=f.getComponent(He.ICON);C.end()}}]),d}(ir),ax=rx;function ox(j){var _=sx();return function(){var S=at(j),f;if(_){var C=at(this).constructor;f=Le()(S,arguments,C)}else f=S.apply(this,arguments);return jt(this,f)}}function sx(){if(typeof Reflect>"u"||!Le()||Le().sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Le()(Boolean,[],function(){})),!0}catch{return!1}}var lx=function(j){Rt(d,j);var _=ox(d);function d(){return K(this,d),_.call(this,At.ZOOM)}return oe(d,[{key:"start",value:function(f){var C=f.getComponent(He.ZOOM);C.start()}},{key:"end",value:function(f){var C=f.getComponent(He.ZOOM);C.end()}}]),d}(ir),cx=lx,nh=null;function ih(j){nh=j}function ux(){return nh}function jl(j,_){var d;if(j.type==="activeSelection"){var S;d=gi()(S=j.getObjects()).call(S,function(f){var C=f.angle,P=f.left,R=f.top,z=f.scaleX,B=f.scaleY,X=f.width,q=f.height;ae.fabric.util.addTransformToObject(f,j.calcTransformMatrix());var be=_(f);return f.set({angle:C,left:P,top:R,width:X,height:q,scaleX:z,scaleY:B}),be})}else d=[_(j)];return d}function Fl(j,_,d){return d?{id:j,width:_.width,height:_.height,top:_.top,left:_.left,angle:_.angle,scaleX:_.scaleX,scaleY:_.scaleY}:re()({id:j},_)}function fx(j){var _=hx();return function(){var S=at(j),f;if(_){var C=at(this).constructor;f=Le()(S,arguments,C)}else f=S.apply(this,arguments);return jt(this,f)}}function hx(){if(typeof Reflect>"u"||!Le()||Le().sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Le()(Boolean,[],function(){})),!0}catch{return!1}}var dx=function(j){Rt(d,j);var _=fx(d);function d(S){var f;return K(this,d),f=_.call(this,He.RESIZE,S),f._dimensions=null,f._originalDimensions=null,f}return oe(d,[{key:"getCurrentDimensions",value:function(){var f=this.getCanvasImage();if(!this._dimensions&&f){var C=f.width,P=f.height;this._dimensions={width:C,height:P}}return this._dimensions}},{key:"getOriginalDimensions",value:function(){return this._originalDimensions}},{key:"setOriginalDimensions",value:function(f){this._originalDimensions=f}},{key:"resize",value:function(f){var C=this.getCanvasImage(),P=C.width,R=C.height,z=C.scaleX,B=C.scaleY,X=f.width,q=f.height,be={scaleX:X?X/P:z,scaleY:q?q/R:B};return(z!==be.scaleX||B!==be.scaleY)&&(C.set(be).setCoords(),this._dimensions={width:C.width*C.scaleX,height:C.height*C.scaleY}),this.adjustCanvasDimensionBase(),we().resolve()}},{key:"start",value:function(){var f=this.getCurrentDimensions();this.setOriginalDimensions(f)}},{key:"end",value:function(){}}]),d}(Qn),gx=dx;function vx(j){var _=mx();return function(){var S=at(j),f;if(_){var C=at(this).constructor;f=Le()(S,arguments,C)}else f=S.apply(this,arguments);return jt(this,f)}}function mx(){if(typeof Reflect>"u"||!Le()||Le().sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Le()(Boolean,[],function(){})),!0}catch{return!1}}var px=function(j){Rt(d,j);var _=vx(d);function d(){return K(this,d),_.call(this,At.RESIZE)}return oe(d,[{key:"start",value:function(f){var C=f.getComponent(He.RESIZE);C.start()}},{key:"end",value:function(f){var C=f.getComponent(He.RESIZE);C.end()}}]),d}(ir),yx=px,bx=1e3,Sx=800,Bo=10,Cx={cssOnly:!0},xx={backstoreOnly:!0},rh=function(){function j(_){var d,S,f,C,P,R,z,B,X,q,be,Ce=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Me=Ce.cssMaxWidth,Ie=Ce.cssMaxHeight;K(this,j),this.canvasImage=null,this.cssMaxWidth=Me||bx,this.cssMaxHeight=Ie||Sx,this.cropSelectionStyle={},this.targetObjectForCopyPaste=null,this.imageName="",this._objects={},this._canvas=null,this._drawingMode=At.NORMAL,this._drawingModeMap={},this._componentMap={},this._handler={onMouseDown:ee()(d=this._onMouseDown).call(d,this),onObjectAdded:ee()(S=this._onObjectAdded).call(S,this),onObjectRemoved:ee()(f=this._onObjectRemoved).call(f,this),onObjectMoved:ee()(C=this._onObjectMoved).call(C,this),onObjectScaled:ee()(P=this._onObjectScaled).call(P,this),onObjectModified:ee()(R=this._onObjectModified).call(R,this),onObjectRotated:ee()(z=this._onObjectRotated).call(z,this),onObjectSelected:ee()(B=this._onObjectSelected).call(B,this),onPathCreated:ee()(X=this._onPathCreated).call(X,this),onSelectionCleared:ee()(q=this._onSelectionCleared).call(q,this),onSelectionCreated:ee()(be=this._onSelectionCreated).call(be,this)},this._setObjectCachingToFalse(),this._setCanvasElement(_),this._createDrawingModeInstances(),this._createComponents(),this._attachCanvasEvents(),this._attachZoomEvents()}return oe(j,[{key:"destroy",value:function(){var d=this._canvas.wrapperEl;this._canvas.clear(),d.parentNode.removeChild(d),this._detachZoomEvents()}},{key:"_attachZoomEvents",value:function(){var d=this.getComponent(He.ZOOM);d.attachKeyboardZoomEvents()}},{key:"_detachZoomEvents",value:function(){var d=this.getComponent(He.ZOOM);d.detachKeyboardZoomEvents()}},{key:"deactivateAll",value:function(){return this._canvas.discardActiveObject(),this}},{key:"renderAll",value:function(){return this._canvas.renderAll(),this}},{key:"add",value:function(d){var S,f=[];Bf()(d)?f=d:f.push(d),(S=this._canvas).add.apply(S,U(f))}},{key:"contains",value:function(d){return this._canvas.contains(d)}},{key:"getObjects",value:function(){var d;return p()(d=this._canvas.getObjects()).call(d)}},{key:"getObject",value:function(d){return this._objects[d]}},{key:"remove",value:function(d){this._canvas.remove(d)}},{key:"removeAll",value:function(d){var S,f=this._canvas,C=p()(S=f.getObjects()).call(S);return f.remove.apply(f,U(this._canvas.getObjects())),d&&f.clear(),C}},{key:"removeObjectById",value:function(d){var S=[],f=this._canvas,C=this.getObject(d),P=C&&C.isType("group")&&!C.isEmpty();return P?(f.discardActiveObject(),C.forEachObject(function(R){S.push(R),f.remove(R)})):f.contains(C)&&(S.push(C),f.remove(C)),S}},{key:"getObjectId",value:function(d){var S=null;for(S in this._objects)if(this._objects.hasOwnProperty(S)&&d===this._objects[S])return S;return null}},{key:"getActiveObject",value:function(){return this._canvas._activeObject}},{key:"getActiveObjectIdForRemove",value:function(){var d=this.getActiveObject(),S=d.type,f=d.left,C=d.top,P=S==="activeSelection";if(P){var R=new ae.fabric.Group(U(d.getObjects()),{left:f,top:C});return this._addFabricObject(R)}return this.getObjectId(d)}},{key:"isReadyRemoveObject",value:function(){var d=this.getActiveObject();return d&&!d.isEditing}},{key:"getActiveObjects",value:function(){var d=this._canvas._activeObject;return d&&d.type==="activeSelection"?d:null}},{key:"getActiveSelectionFromObjects",value:function(d){var S=this.getCanvas();return new ae.fabric.ActiveSelection(d,{canvas:S})}},{key:"setActiveObject",value:function(d){this._canvas.setActiveObject(d)}},{key:"setCropSelectionStyle",value:function(d){this.cropSelectionStyle=d}},{key:"getComponent",value:function(d){return this._componentMap[d]}},{key:"getDrawingMode",value:function(){return this._drawingMode}},{key:"startDrawingMode",value:function(d,S){if(this._isSameDrawingMode(d))return!0;this.stopDrawingMode();var f=this._getDrawingModeInstance(d);return f&&f.start&&(f.start(this,S),this._drawingMode=d),!!f}},{key:"stopDrawingMode",value:function(){if(!this._isSameDrawingMode(At.NORMAL)){var d=this._getDrawingModeInstance(this.getDrawingMode());d&&d.end&&d.end(this),this._drawingMode=At.NORMAL}}},{key:"zoom",value:function(d,S){var f=d.x,C=d.y,P=this.getComponent(He.ZOOM);P.zoom({x:f,y:C},S)}},{key:"getZoomMode",value:function(){var d=this.getComponent(He.ZOOM);return d.mode}},{key:"startZoomInMode",value:function(){var d=this.getComponent(He.ZOOM);d.startZoomInMode()}},{key:"endZoomInMode",value:function(){var d=this.getComponent(He.ZOOM);d.endZoomInMode()}},{key:"zoomOut",value:function(){var d=this.getComponent(He.ZOOM);d.zoomOut()}},{key:"startHandMode",value:function(){var d=this.getComponent(He.ZOOM);d.startHandMode()}},{key:"endHandMode",value:function(){var d=this.getComponent(He.ZOOM);d.endHandMode()}},{key:"resetZoom",value:function(){var d=this.getComponent(He.ZOOM);d.resetZoom()}},{key:"toDataURL",value:function(d){var S=this.getComponent(He.CROPPER);S.changeVisibility(!1);var f=this._canvas&&this._canvas.toDataURL(d);return S.changeVisibility(!0),f}},{key:"setCanvasImage",value:function(d,S){S&&ze(S),this.imageName=d,this.canvasImage=S}},{key:"setCssMaxDimension",value:function(d){this.cssMaxWidth=d.width||this.cssMaxWidth,this.cssMaxHeight=d.height||this.cssMaxHeight}},{key:"adjustCanvasDimension",value:function(){this.adjustCanvasDimensionBase(this.canvasImage.scale(1))}},{key:"adjustCanvasDimensionBase",value:function(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;d||(d=this.canvasImage);var S=d.getBoundingRect(),f=S.width,C=S.height,P=this._calcMaxDimension(f,C);this.setCanvasCssDimension({width:"100%",height:"100%","max-width":"".concat(P.width,"px"),"max-height":"".concat(P.height,"px")}),this.setCanvasBackstoreDimension({width:f,height:C}),this._canvas.centerObject(d)}},{key:"setCanvasCssDimension",value:function(d){this._canvas.setDimensions(d,Cx)}},{key:"setCanvasBackstoreDimension",value:function(d){this._canvas.setDimensions(d,xx)}},{key:"setImageProperties",value:function(d,S){var f=this.canvasImage;f&&(f.set(d).setCoords(),S&&this._canvas.renderAll())}},{key:"getCanvasElement",value:function(){return this._canvas.getElement()}},{key:"getCanvas",value:function(){return this._canvas}},{key:"getCanvasImage",value:function(){return this.canvasImage}},{key:"getImageName",value:function(){return this.imageName}},{key:"addImageObject",value:function(d){var S,f=this,C=ee()(S=this._callbackAfterLoadingImageObject).call(S,this);return new(we())(function(P){ae.fabric.Image.fromURL(d,function(R){C(R),P(f.createObjectProperties(R))},{crossOrigin:"Anonymous"})})}},{key:"getCenter",value:function(){return this._canvas.getCenter()}},{key:"getCropzoneRect",value:function(){return this.getComponent(He.CROPPER).getCropzoneRect()}},{key:"setCropzoneRect",value:function(d){this.getComponent(He.CROPPER).setCropzoneRect(d)}},{key:"getCroppedImageData",value:function(d){return this.getComponent(He.CROPPER).getCroppedImageData(d)}},{key:"setBrush",value:function(d){var S=this._drawingMode,f=He.FREE_DRAWING;S===At.LINE_DRAWING&&(f=He.LINE),this.getComponent(f).setBrush(d)}},{key:"setDrawingShape",value:function(d,S){this.getComponent(He.SHAPE).setStates(d,S)}},{key:"setIconStyle",value:function(d,S){this.getComponent(He.ICON).setStates(d,S)}},{key:"registerPaths",value:function(d){this.getComponent(He.ICON).registerPaths(d)}},{key:"changeCursor",value:function(d){var S=this.getCanvas();S.defaultCursor=d,S.renderAll()}},{key:"hasFilter",value:function(d){return this.getComponent(He.FILTER).hasFilter(d)}},{key:"setSelectionStyle",value:function(d){re()(ni.SELECTION_STYLE,d)}},{key:"setObjectProperties",value:function(d,S){var f=this.getObject(d),C=re()({},S);return f.set(C),f.setCoords(),this.getCanvas().renderAll(),C}},{key:"getObjectProperties",value:function(d,S){var f=this.getObject(d),C={};return ye()(S)?C[S]=f[S]:Bf()(S)?ya()(S,function(P){C[P]=f[P]}):Lo()(S,function(P,R){C[R]=f[R]}),C}},{key:"getObjectPosition",value:function(d,S,f){var C=this.getObject(d);return C?C.getPointByOrigin(S,f):null}},{key:"setObjectPosition",value:function(d,S){var f=this.getObject(d),C=S.x,P=S.y,R=S.originX,z=S.originY;if(!f)return!1;var B=f.getPointByOrigin(R,z),X=f.getPointByOrigin("center","center"),q=X.x-B.x,be=X.y-B.y;return f.set({left:C+q,top:P+be}),f.setCoords(),!0}},{key:"getCanvasSize",value:function(){var d=this.getCanvasImage();return{width:d?d.width:0,height:d?d.height:0}}},{key:"createStaticCanvas",value:function(){var d=new ae.fabric.StaticCanvas;return d.set({enableRetinaScaling:!1}),d}},{key:"_getDrawingModeInstance",value:function(d){return this._drawingModeMap[d]}},{key:"_setObjectCachingToFalse",value:function(){ae.fabric.Object.prototype.objectCaching=!1}},{key:"_setCanvasElement",value:function(d){var S,f;d.nodeType?S=d:S=document.querySelector(d),S.nodeName.toUpperCase()!=="CANVAS"&&(f=document.createElement("canvas"),S.appendChild(f)),this._canvas=new ae.fabric.Canvas(f,{containerClass:"tui-image-editor-canvas-container",enableRetinaScaling:!1})}},{key:"_createDrawingModeInstances",value:function(){this._register(this._drawingModeMap,new BC),this._register(this._drawingModeMap,new WC),this._register(this._drawingModeMap,new XC),this._register(this._drawingModeMap,new KC),this._register(this._drawingModeMap,new tx),this._register(this._drawingModeMap,new ax),this._register(this._drawingModeMap,new cx),this._register(this._drawingModeMap,new yx)}},{key:"_createComponents",value:function(){this._register(this._componentMap,new K0(this)),this._register(this._componentMap,new gS(this)),this._register(this._componentMap,new yS(this)),this._register(this._componentMap,new xS(this)),this._register(this._componentMap,new ES(this)),this._register(this._componentMap,new LS(this)),this._register(this._componentMap,new HS(this)),this._register(this._componentMap,new GS(this)),this._register(this._componentMap,new rC(this)),this._register(this._componentMap,new MC(this)),this._register(this._componentMap,new LC(this)),this._register(this._componentMap,new gx(this))}},{key:"_register",value:function(d,S){d[S.getName()]=S}},{key:"_isSameDrawingMode",value:function(d){return this.getDrawingMode()===d}},{key:"_calcMaxDimension",value:function(d,S){var f=this.cssMaxWidth/d,C=this.cssMaxHeight/S,P=Math.min(d,this.cssMaxWidth),R=Math.min(S,this.cssMaxHeight);return f<1&&f<C?(P=d*f,R=S*f):C<1&&C<f&&(P=d*C,R=S*C),{width:Math.floor(P),height:Math.floor(R)}}},{key:"_callbackAfterLoadingImageObject",value:function(d){var S=this.getCanvasImage().getCenterPoint();d.set(ni.SELECTION_STYLE),d.set({left:S.x,top:S.y,crossOrigin:"Anonymous"}),this.getCanvas().add(d).setActiveObject(d)}},{key:"_attachCanvasEvents",value:function(){var d=this._canvas,S=this._handler;d.on({"mouse:down":S.onMouseDown,"object:added":S.onObjectAdded,"object:removed":S.onObjectRemoved,"object:moving":S.onObjectMoved,"object:scaling":S.onObjectScaled,"object:modified":S.onObjectModified,"object:rotating":S.onObjectRotated,"path:created":S.onPathCreated,"selection:cleared":S.onSelectionCleared,"selection:created":S.onSelectionCreated,"selection:updated":S.onObjectSelected})}},{key:"_onMouseDown",value:function(d){var S=this,f=d.e,C=d.target,P=this._canvas.getPointer(f);if(C){var R=C.type,z=jl(C,function(B){return Fl(S.getObjectId(B),B,R==="activeSelection")});ih(z)}this.fire(ke.MOUSE_DOWN,f,P)}},{key:"_onObjectAdded",value:function(d){var S=d.target;S.isType("cropzone")||this._addFabricObject(S)}},{key:"_onObjectRemoved",value:function(d){var S=d.target;this._removeFabricObject(ze(S))}},{key:"_onObjectMoved",value:function(d){var S=this;this._lazyFire(ke.OBJECT_MOVED,function(f){return S.createObjectProperties(f)},d.target)}},{key:"_onObjectScaled",value:function(d){var S=this;this._lazyFire(ke.OBJECT_SCALED,function(f){return S.createObjectProperties(f)},d.target)}},{key:"_onObjectModified",value:function(d){var S=d.target;if(S.type==="activeSelection"){var f=S.getObjects();Ge()(f).call(f,function(C){return C.fire("modifiedInGroup",S)})}this.fire(ke.OBJECT_MODIFIED,S,this.getObjectId(S))}},{key:"_onObjectRotated",value:function(d){var S=this;this._lazyFire(ke.OBJECT_ROTATED,function(f){return S.createObjectProperties(f)},d.target)}},{key:"_lazyFire",value:function(d,S,f){var C=this,P=f&&f.canvasEventDelegation,R=P?f.canvasEventDelegation(d):"none";R==="unregistered"&&f.canvasEventRegister(d,function(z){C.fire(d,S(z))}),R==="none"&&this.fire(d,S(f))}},{key:"_onObjectSelected",value:function(d){var S=d.target,f=this.createObjectProperties(S);this.fire(ke.OBJECT_ACTIVATED,f)}},{key:"_onPathCreated",value:function(d){var S=d.path.getCenterPoint(),f=S.x,C=S.y;d.path.set(re()({left:f,top:C},ni.SELECTION_STYLE));var P=this.createObjectProperties(d.path);this.fire(ke.ADD_OBJECT,P)}},{key:"_onSelectionCleared",value:function(){this.fire(ke.SELECTION_CLEARED)}},{key:"_onSelectionCreated",value:function(d){var S=d.target,f=this.createObjectProperties(S);this.fire(ke.OBJECT_ACTIVATED,f),this.fire(ke.SELECTION_CREATED,d.target)}},{key:"discardSelection",value:function(){this._canvas.discardActiveObject(),this._canvas.renderAll()}},{key:"changeSelectableAll",value:function(d){this._canvas.forEachObject(function(S){S.selectable=d,S.hoverCursor=d?"move":"crosshair"})}},{key:"createObjectProperties",value:function(d){var S=["left","top","width","height","fill","stroke","strokeWidth","opacity","angle"],f={id:ze(d),type:d.type};if(re()(f,Nt(d,S)),Do(["i-text","text"],d.type))re()(f,this._createTextProperties(d,f));else if(Do(["rect","triangle","circle"],d.type)){var C=this.getComponent(He.SHAPE);re()(f,{fill:C.makeFillPropertyForUserEvent(d)})}return f}},{key:"_createTextProperties",value:function(d){var S=["text","fontFamily","fontSize","fontStyle","textAlign","textDecoration","fontWeight"],f={};return re()(f,Nt(d,S)),f}},{key:"_addFabricObject",value:function(d){var S=ze(d);return this._objects[S]=d,S}},{key:"_removeFabricObject",value:function(d){delete this._objects[d]}},{key:"resetTargetObjectForCopyPaste",value:function(){var d=this.getActiveObject();d&&(this.targetObjectForCopyPaste=d)}},{key:"pasteObject",value:function(){var d=this;if(!this.targetObjectForCopyPaste)return we().resolve([]);var S=this.targetObjectForCopyPaste,f=S.type==="activeSelection",C=f?S.getObjects():[S],P=null;return this.discardSelection(),this._cloneObject(C).then(function(R){if(R.length>1)P=d.getActiveSelectionFromObjects(R);else{var z=de(R,1);P=z[0]}d.targetObjectForCopyPaste=P,d.setActiveObject(P)})}},{key:"_cloneObject",value:function(d){var S=this,f=gi()(d).call(d,function(C){return S._cloneObjectItem(C)});return we().all(f)}},{key:"_cloneObjectItem",value:function(d){var S=this;return this._copyFabricObjectForPaste(d).then(function(f){var C=S.createObjectProperties(f);return S.add(f),S.fire(ke.ADD_OBJECT,C),f})}},{key:"_copyFabricObjectForPaste",value:function(d){var S=this,f=function(P,R){return R?P-Bo:P+Bo};return this._copyFabricObject(d).then(function(C){var P=C.left,R=C.top,z=C.width,B=C.height,X=S.getCanvasSize(),q=X.width,be=X.height,Ce=P+z/2,Me=R+B/2;return C.set(re()({left:f(P,Ce+Bo>q),top:f(R,Me+Bo>be)},ni.SELECTION_STYLE)),C})}},{key:"_copyFabricObject",value:function(d){var S=this;return new(we())(function(f){d.clone(function(C){var P=S.getComponent(He.SHAPE);pf(C)&&P.processForCopiedObject(C,d),f(C)})})}},{key:"getCurrentDimensions",value:function(){var d=this.getComponent(He.RESIZE);return d.getCurrentDimensions()}},{key:"getOriginalDimensions",value:function(){var d=this.getComponent(He.RESIZE);return d.getOriginalDimensions()}},{key:"setOriginalDimensions",value:function(d){var S=this.getComponent(He.RESIZE);S.setOriginalDimensions(d)}},{key:"resize",value:function(d){var S=this.getComponent(He.RESIZE);return S.resize(d)}}]),j}();se().mixin(rh);var Ix=rh,_x=ke.MOUSE_DOWN,Mx=ke.OBJECT_MOVED,Ex=ke.OBJECT_SCALED,wx=ke.OBJECT_ACTIVATED,Tx=ke.OBJECT_ROTATED,ah=ke.OBJECT_ADDED,Ax=ke.OBJECT_MODIFIED,Ox=ke.ADD_TEXT,Dx=ke.ADD_OBJECT,kx=ke.TEXT_EDITING,Px=ke.TEXT_CHANGED,Lx=ke.ICON_CREATE_RESIZE,Nx=ke.ICON_CREATE_END,oh=ke.SELECTION_CLEARED,sh=ke.SELECTION_CREATED,Rx=ke.ADD_OBJECT_AFTER,Bl=function(){function j(_,d){var S,f,C,P,R,z,B,X,q,be,Ce,Me,Ie,Ee,Fe,rt;if(K(this,j),d=re()({includeUI:!1,usageStatistics:!0},d),this.mode=null,this.activeObjectId=null,d.includeUI){var ot=d.includeUI;ot.usageStatistics=d.usageStatistics,this.ui=new H0(_,ot,this.getActions()),d=this.ui.setUiDefaultSelectionStyle(d)}this._invoker=new ab,this._graphics=new Ix(this.ui?this.ui.getEditorArea():_,{cssMaxWidth:d.cssMaxWidth,cssMaxHeight:d.cssMaxHeight}),this._handlers={keydown:ee()(S=this._onKeyDown).call(S,this),mousedown:ee()(f=this._onMouseDown).call(f,this),objectActivated:ee()(C=this._onObjectActivated).call(C,this),objectMoved:ee()(P=this._onObjectMoved).call(P,this),objectScaled:ee()(R=this._onObjectScaled).call(R,this),objectRotated:ee()(z=this._onObjectRotated).call(z,this),objectAdded:ee()(B=this._onObjectAdded).call(B,this),objectModified:ee()(X=this._onObjectModified).call(X,this),createdPath:this._onCreatedPath,addText:ee()(q=this._onAddText).call(q,this),addObject:ee()(be=this._onAddObject).call(be,this),textEditing:ee()(Ce=this._onTextEditing).call(Ce,this),textChanged:ee()(Me=this._onTextChanged).call(Me,this),iconCreateResize:ee()(Ie=this._onIconCreateResize).call(Ie,this),iconCreateEnd:ee()(Ee=this._onIconCreateEnd).call(Ee,this),selectionCleared:ee()(Fe=this._selectionCleared).call(Fe,this),selectionCreated:ee()(rt=this._selectionCreated).call(rt,this)},this._attachInvokerEvents(),this._attachGraphicsEvents(),this._attachDomEvents(),this._setSelectionStyle(d.selectionStyle,{applyCropSelectionStyle:d.applyCropSelectionStyle,applyGroupSelectionStyle:d.applyGroupSelectionStyle}),d.usageStatistics&&ln(),this.ui&&(this.ui.initCanvas(),this.setReAction(),this._attachColorPickerInputBoxEvents()),ae.fabric.enableGLFiltering=!1}return oe(j,[{key:"_attachColorPickerInputBoxEvents",value:function(){var d=this;this.ui.on(ke.INPUT_BOX_EDITING_STARTED,function(){d.isColorPickerInputBoxEditing=!0}),this.ui.on(ke.INPUT_BOX_EDITING_STOPPED,function(){d.isColorPickerInputBoxEditing=!1})}},{key:"_detachColorPickerInputBoxEvents",value:function(){this.ui.off(ke.INPUT_BOX_EDITING_STARTED),this.ui.off(ke.INPUT_BOX_EDITING_STOPPED)}},{key:"_setSelectionStyle",value:function(d,S){var f=S.applyCropSelectionStyle,C=S.applyGroupSelectionStyle;d&&this._graphics.setSelectionStyle(d),f&&this._graphics.setCropSelectionStyle(d),C&&this.on("selectionCreated",function(P){P.type==="activeSelection"&&P.set(d)})}},{key:"_attachInvokerEvents",value:function(){var d,S,f=this,C=ke.UNDO_STACK_CHANGED,P=ke.REDO_STACK_CHANGED,R=ke.EXECUTE_COMMAND,z=ke.AFTER_UNDO,B=ke.AFTER_REDO,X=ke.HAND_STARTED,q=ke.HAND_STOPPED;if(this._invoker.on(C,ee()(d=this.fire).call(d,this,C)),this._invoker.on(P,ee()(S=this.fire).call(S,this,P)),this.ui){var be=this._graphics.getCanvas();this._invoker.on(R,function(Ce){return f.ui.fire(R,Ce)}),this._invoker.on(z,function(Ce){return f.ui.fire(z,Ce)}),this._invoker.on(B,function(Ce){return f.ui.fire(B,Ce)}),be.on(X,function(){return f.ui.fire(X)}),be.on(q,function(){return f.ui.fire(q)})}}},{key:"_attachGraphicsEvents",value:function(){var d;this._graphics.on((d={},Y(d,_x,this._handlers.mousedown),Y(d,Mx,this._handlers.objectMoved),Y(d,Ex,this._handlers.objectScaled),Y(d,Tx,this._handlers.objectRotated),Y(d,wx,this._handlers.objectActivated),Y(d,ah,this._handlers.objectAdded),Y(d,Ax,this._handlers.objectModified),Y(d,Ox,this._handlers.addText),Y(d,Dx,this._handlers.addObject),Y(d,kx,this._handlers.textEditing),Y(d,Px,this._handlers.textChanged),Y(d,Lx,this._handlers.iconCreateResize),Y(d,Nx,this._handlers.iconCreateEnd),Y(d,oh,this._handlers.selectionCleared),Y(d,sh,this._handlers.selectionCreated),d))}},{key:"_attachDomEvents",value:function(){document.addEventListener("keydown",this._handlers.keydown)}},{key:"_detachDomEvents",value:function(){document.removeEventListener("keydown",this._handlers.keydown)}},{key:"_onKeyDown",value:function(d){var S=d.ctrlKey,f=d.keyCode,C=d.metaKey,P=S||C;P&&(f===Gt.C?this._graphics.resetTargetObjectForCopyPaste():f===Gt.V?(this._graphics.pasteObject(),this.clearRedoStack()):f===Gt.Z?this.undo().catch(function(){}):f===Gt.Y&&this.redo().catch(function(){}));var R=f===Gt.BACKSPACE||f===Gt.DEL,z=this._graphics.isReadyRemoveObject();!this.isColorPickerInputBoxEditing&&z&&R&&(d.preventDefault(),this.removeActiveObject())}},{key:"removeActiveObject",value:function(){var d=this._graphics.getActiveObjectIdForRemove();this.removeObject(d)}},{key:"_onMouseDown",value:function(d,S){this.fire(ke.MOUSE_DOWN,d,S)}},{key:"_pushAddObjectCommand",value:function(d){var S=Xt.create(tt.ADD_OBJECT,this._graphics,d);this._invoker.pushUndoStack(S)}},{key:"_pushModifyObjectCommand",value:function(d){var S=this,f=d.type,C=jl(d,function(R){return Fl(S._graphics.getObjectId(R),R,f==="activeSelection")}),P=Xt.create(tt.CHANGE_SELECTION,this._graphics,C);P.execute(this._graphics,C),this._invoker.pushUndoStack(P)}},{key:"_onObjectActivated",value:function(d){this.fire(ke.OBJECT_ACTIVATED,d)}},{key:"_onObjectMoved",value:function(d){this.fire(ke.OBJECT_MOVED,d)}},{key:"_onObjectScaled",value:function(d){this.fire(ke.OBJECT_SCALED,d)}},{key:"_onObjectRotated",value:function(d){this.fire(ke.OBJECT_ROTATED,d)}},{key:"getDrawingMode",value:function(){return this._graphics.getDrawingMode()}},{key:"clearObjects",value:function(){return this.execute(tt.CLEAR_OBJECTS)}},{key:"deactivateAll",value:function(){this._graphics.deactivateAll(),this._graphics.renderAll()}},{key:"discardSelection",value:function(){this._graphics.discardSelection()}},{key:"changeSelectableAll",value:function(d){this._graphics.changeSelectableAll(d)}},{key:"_initHistory",value:function(){this.ui&&this.ui.initHistory()}},{key:"_clearHistory",value:function(){this.ui&&this.ui.clearHistory()}},{key:"execute",value:function(d){for(var S,f,C,P=arguments.length,R=new Array(P>1?P-1:0),z=1;z<P;z++)R[z-1]=arguments[z];var B=Z()(S=[this._graphics]).call(S,R);return(f=this._invoker).execute.apply(f,Z()(C=[d]).call(C,U(B)))}},{key:"executeSilent",value:function(d){for(var S,f,C,P=arguments.length,R=new Array(P>1?P-1:0),z=1;z<P;z++)R[z-1]=arguments[z];var B=Z()(S=[this._graphics]).call(S,R);return(f=this._invoker).executeSilent.apply(f,Z()(C=[d]).call(C,U(B)))}},{key:"undo",value:function(){for(var d=this,S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1,f=we().resolve(),C=0;C<S;C+=1)f=f.then(function(){return d._invoker.undo()});return f}},{key:"redo",value:function(){for(var d=this,S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1,f=we().resolve(),C=0;C<S;C+=1)f=f.then(function(){return d._invoker.redo()});return f}},{key:"zoom",value:function(d){var S=d.x,f=d.y,C=d.zoomLevel;this._graphics.zoom({x:S,y:f},C)}},{key:"resetZoom",value:function(){this._graphics.resetZoom()}},{key:"loadImageFromFile",value:function(d,S){if(!d)return we().reject(Lt.invalidParameters);var f=te().createObjectURL(d);return S=S||d.name,this.loadImageFromURL(f,S).then(function(C){return te().revokeObjectURL(d),C})}},{key:"loadImageFromURL",value:function(d,S){return!S||!d?we().reject(Lt.invalidParameters):this.execute(tt.LOAD_IMAGE,S,d)}},{key:"addImageObject",value:function(d){return d?this.execute(tt.ADD_IMAGE_OBJECT,d):we().reject(Lt.invalidParameters)}},{key:"startDrawingMode",value:function(d,S){return this._graphics.startDrawingMode(d,S)}},{key:"stopDrawingMode",value:function(){this._graphics.stopDrawingMode()}},{key:"crop",value:function(d){var S=this._graphics.getCroppedImageData(d);return S?this.loadImageFromURL(S.url,S.imageName):we().reject(Lt.invalidParameters)}},{key:"getCropzoneRect",value:function(){return this._graphics.getCropzoneRect()}},{key:"setCropzoneRect",value:function(d){this._graphics.setCropzoneRect(d)}},{key:"_flip",value:function(d){return this.execute(tt.FLIP_IMAGE,d)}},{key:"flipX",value:function(){return this._flip("flipX")}},{key:"flipY",value:function(){return this._flip("flipY")}},{key:"resetFlip",value:function(){return this._flip("reset")}},{key:"_rotate",value:function(d,S,f){var C=null;return f?C=this.executeSilent(tt.ROTATE_IMAGE,d,S):C=this.execute(tt.ROTATE_IMAGE,d,S),C}},{key:"rotate",value:function(d,S){return this._rotate("rotate",d,S)}},{key:"setAngle",value:function(d,S){return this._rotate("setAngle",d,S)}},{key:"setBrush",value:function(d){this._graphics.setBrush(d)}},{key:"setDrawingShape",value:function(d,S){this._graphics.setDrawingShape(d,S)}},{key:"setDrawingIcon",value:function(d,S){this._graphics.setIconStyle(d,S)}},{key:"addShape",value:function(d,S){return S=S||{},this._setPositions(S),this.execute(tt.ADD_SHAPE,d,S)}},{key:"changeShape",value:function(d,S,f){var C=f?"executeSilent":"execute";return this[C](tt.CHANGE_SHAPE,d,S)}},{key:"addText",value:function(d,S){return d=d||"",S=S||{},this.execute(tt.ADD_TEXT,d,S)}},{key:"changeText",value:function(d,S){return S=S||"",this.execute(tt.CHANGE_TEXT,d,S)}},{key:"changeTextStyle",value:function(d,S,f){var C=f?"executeSilent":"execute";return this[C](tt.CHANGE_TEXT_STYLE,d,S)}},{key:"_changeActivateMode",value:function(d){d!=="ICON"&&this.getDrawingMode()!==d&&this.startDrawingMode(d)}},{key:"_onTextChanged",value:function(d){this.fire(ke.TEXT_CHANGED,d)}},{key:"_onIconCreateResize",value:function(d){this.fire(ke.ICON_CREATE_RESIZE,d)}},{key:"_onIconCreateEnd",value:function(d){this.fire(ke.ICON_CREATE_END,d)}},{key:"_onTextEditing",value:function(){this.fire(ke.TEXT_EDITING)}},{key:"_onAddText",value:function(d){this.fire(ke.ADD_TEXT,{originPosition:d.originPosition,clientPosition:d.clientPosition})}},{key:"_onAddObject",value:function(d){var S=this._graphics.getObject(d.id);this._invoker.fire(ke.EXECUTE_COMMAND,Al(S.type)),this._pushAddObjectCommand(S)}},{key:"_onObjectAdded",value:function(d){this.fire(ah,d),this.fire(Rx,d)}},{key:"_onObjectModified",value:function(d){d.type!==Qe.CROPZONE&&(this._invoker.fire(ke.EXECUTE_COMMAND,Al(d.type)),this._pushModifyObjectCommand(d))}},{key:"_selectionCleared",value:function(){this.fire(oh)}},{key:"_selectionCreated",value:function(d){this.fire(sh,d)}},{key:"registerIcons",value:function(d){this._graphics.registerPaths(d)}},{key:"changeCursor",value:function(d){this._graphics.changeCursor(d)}},{key:"addIcon",value:function(d,S){return S=S||{},this._setPositions(S),this.execute(tt.ADD_ICON,d,S)}},{key:"changeIconColor",value:function(d,S){return this.execute(tt.CHANGE_ICON_COLOR,d,S)}},{key:"removeObject",value:function(d){var S=this._graphics.getObject(d),f=S.type;return this.execute(tt.REMOVE_OBJECT,d,Al(f))}},{key:"hasFilter",value:function(d){return this._graphics.hasFilter(d)}},{key:"removeFilter",value:function(d){return this.execute(tt.REMOVE_FILTER,d)}},{key:"applyFilter",value:function(d,S,f){var C=f?"executeSilent":"execute";return this[C](tt.APPLY_FILTER,d,S)}},{key:"toDataURL",value:function(d){return this._graphics.toDataURL(d)}},{key:"getImageName",value:function(){return this._graphics.getImageName()}},{key:"clearUndoStack",value:function(){this._invoker.clearUndoStack()}},{key:"clearRedoStack",value:function(){this._invoker.clearRedoStack()}},{key:"isEmptyUndoStack",value:function(){return this._invoker.isEmptyUndoStack()}},{key:"isEmptyRedoStack",value:function(){return this._invoker.isEmptyRedoStack()}},{key:"resizeCanvasDimension",value:function(d){return d?this.execute(tt.RESIZE_CANVAS_DIMENSION,d):we().reject(Lt.invalidParameters)}},{key:"destroy",value:function(){var d=this;this.stopDrawingMode(),this._detachDomEvents(),this._graphics.destroy(),this._graphics=null,this.ui&&(this._detachColorPickerInputBoxEvents(),this.ui.destroy()),J()(this,function(S,f){d[f]=null},this)}},{key:"_setPositions",value:function(d){var S=this._graphics.getCenter();H()(d.left)&&(d.left=S.left),H()(d.top)&&(d.top=S.top)}},{key:"setObjectProperties",value:function(d,S){return this.execute(tt.SET_OBJECT_PROPERTIES,d,S)}},{key:"setObjectPropertiesQuietly",value:function(d,S){this._graphics.setObjectProperties(d,S)}},{key:"getObjectProperties",value:function(d,S){var f=this._graphics.getObject(d);return f?this._graphics.getObjectProperties(d,S):null}},{key:"getCanvasSize",value:function(){return this._graphics.getCanvasSize()}},{key:"getObjectPosition",value:function(d,S,f){return this._graphics.getObjectPosition(d,S,f)}},{key:"setObjectPosition",value:function(d,S){return this.execute(tt.SET_OBJECT_POSITION,d,S)}},{key:"resize",value:function(d){return this.execute(tt.RESIZE_IMAGE,d)}}]),j}();W0.mixin(Bl),se().mixin(Bl);var jx=Bl,Fx=He.ICON,Bx={name:tt.ADD_ICON,execute:function(_,d,S){var f=this,C=_.getComponent(Fx);return C.add(d,S).then(function(P){return f.undoData.object=_.getObject(P.id),P})},undo:function(_){return _.remove(this.undoData.object),we().resolve()}};Xt.register(Bx);var zx={name:tt.ADD_IMAGE_OBJECT,execute:function(_,d){var S=this;return _.addImageObject(d).then(function(f){return S.undoData.object=_.getObject(f.id),f})},undo:function(_){return _.remove(this.undoData.object),we().resolve()}};Xt.register(zx);var Hx={name:tt.ADD_OBJECT,execute:function(_,d){return new(we())(function(S,f){_.contains(d)?f(Lt.addedObject):(_.add(d),S(d))})},undo:function(_,d){return new(we())(function(S,f){_.contains(d)?(_.remove(d),S(d)):f(Lt.noObject)})}};Xt.register(Hx);var Ux=He.SHAPE,Wx={name:tt.ADD_SHAPE,execute:function(_,d,S){var f=this,C=_.getComponent(Ux);return C.add(d,S).then(function(P){var R=P.id;return f.undoData.object=_.getObject(R),P})},undo:function(_){return _.remove(this.undoData.object),we().resolve()}};Xt.register(Wx);var Yx=He.TEXT,Vx={name:tt.ADD_TEXT,execute:function(_,d,S){var f=this,C=_.getComponent(Yx);if(this.undoData.object){var P=this.undoData.object;return new(we())(function(R,z){_.contains(P)?z(Lt.redo):(_.add(P),R(P))})}return C.add(d,S).then(function(R){var z=R.id,B=_.getObject(z);return f.undoData.object=B,ih(jl(B,function(){return Fl(z,B,!1)})),R})},undo:function(_){return _.remove(this.undoData.object),we().resolve()}};Xt.register(Vx);var lh=He.FILTER,ch=null;function Gx(j,_,d){var S={};return j==="mask"&&(S.object=d.mask),S.options=_,S}var Xx={name:tt.APPLY_FILTER,execute:function(_,d,S,f){var C=_.getComponent(lh);if(d==="mask"){var P=_.getObject(S.maskObjId);if(!(P&&P.isType("image")))return we().reject(Lt.invalidParameters);re()(S,{mask:P}),_.remove(S.mask)}if(!this.isRedo){var R=C.getOptions(d),z=Gx(d,R,S);ch=this.setUndoData(z,ch,f)}return C.add(d,S)},undo:function(_,d){var S=_.getComponent(lh);if(d==="mask"){var f=this.undoData.object;return _.add(f),_.setActiveObject(f),S.remove(d)}return this.undoData.options?S.add(d,this.undoData.options):S.remove(d)}};Xt.register(Xx);var uh=He.ICON,Zx={name:tt.CHANGE_ICON_COLOR,execute:function(_,d,S){var f=this;return new(we())(function(C,P){var R=_.getComponent(uh),z=_.getObject(d);z||P(Lt.noObject),f.undoData.object=z,f.undoData.color=R.getColor(z),R.setColor(S,z),C()})},undo:function(_){var d=_.getComponent(uh),S=this.undoData,f=S.object,C=S.color;return d.setColor(C,f),we().resolve()}};Xt.register(Zx);var fh=He.SHAPE,hh=null;function Jx(j,_){var d={object:_,options:{}};return Lo()(j,function(S,f){d.options[f]=_[f]}),d}var $x={name:tt.CHANGE_SHAPE,execute:function(_,d,S,f){var C=_.getComponent(fh),P=_.getObject(d);if(!P)return we().reject(Lt.noObject);if(!this.isRedo){var R=Jx(S,P);hh=this.setUndoData(R,hh,f)}return C.change(P,S)},undo:function(_){var d=_.getComponent(fh),S=this.undoData,f=S.object,C=S.options;return d.change(f,C)}};Xt.register($x);var dh=He.TEXT,Kx={name:tt.CHANGE_TEXT,execute:function(_,d,S){var f=_.getComponent(dh),C=_.getObject(d);return C?(this.undoData.object=C,this.undoData.text=f.getText(C),f.change(C,S)):we().reject(Lt.noObject)},undo:function(_){var d=_.getComponent(dh),S=this.undoData,f=S.object,C=S.text;return d.change(f,C)}};Xt.register(Kx);var gh=He.TEXT,vh=null;function Qx(j,_){var d={object:_,styles:{}};return Lo()(j,function(S,f){var C=_[f];d.styles[f]=C}),d}var qx={name:tt.CHANGE_TEXT_STYLE,execute:function(_,d,S,f){var C=_.getComponent(gh),P=_.getObject(d);if(!P)return we().reject(Lt.noObject);if(!this.isRedo){var R=Qx(S,P);vh=this.setUndoData(R,vh,f)}return C.setStyle(P,S)},undo:function(_){var d=_.getComponent(gh),S=this.undoData,f=S.object,C=S.styles;return d.setStyle(f,C)}};Xt.register(qx);var eI={name:tt.CLEAR_OBJECTS,execute:function(_){var d=this;return new(we())(function(S){d.undoData.objects=_.removeAll(),S()})},undo:function(_){return _.add(this.undoData.objects),we().resolve()}};Xt.register(eI);var mh=He.FLIP,tI={name:tt.FLIP_IMAGE,execute:function(_,d){var S=_.getComponent(mh);return this.undoData.setting=S.getCurrentSetting(),S[d]()},undo:function(_){var d=_.getComponent(mh);return d.set(this.undoData.setting)}};Xt.register(tI);var ph=He.IMAGE_LOADER,nI={name:tt.LOAD_IMAGE,execute:function(_,d,S){var f,C=_.getComponent(ph),P=C.getCanvasImage(),R=P?P.width:0,z=P?P.height:0,B=Ur()(f=_.removeAll(!0)).call(f,function(X){return X.type!=="cropzone"});return Ge()(B).call(B,function(X){X.evented=!0}),this.undoData={name:C.getImageName(),image:P,objects:B},C.load(d,S).then(function(X){return{oldWidth:R,oldHeight:z,newWidth:X.width,newHeight:X.height}})},undo:function(_){var d=_.getComponent(ph),S=this.undoData,f=S.objects,C=S.name,P=S.image;return _.removeAll(!0),_.add(f),d.load(C,P)}};Xt.register(nI);var yh=He.FILTER,iI={name:tt.REMOVE_FILTER,execute:function(_,d){var S=_.getComponent(yh);return this.undoData.options=S.getOptions(d),S.remove(d)},undo:function(_,d){var S=_.getComponent(yh),f=this.undoData.options;return S.add(d,f)}};Xt.register(iI);var rI={name:tt.REMOVE_OBJECT,execute:function(_,d){var S=this;return new(we())(function(f,C){S.undoData.objects=_.removeObjectById(d),S.undoData.objects.length?f():C(Lt.noObject)})},undo:function(_){return _.add(this.undoData.objects),we().resolve()}};Xt.register(rI);var aI={name:tt.RESIZE_CANVAS_DIMENSION,execute:function(_,d){var S=this;return new(we())(function(f){S.undoData.size={width:_.cssMaxWidth,height:_.cssMaxHeight},_.setCssMaxDimension(d),_.adjustCanvasDimension(),f()})},undo:function(_){return _.setCssMaxDimension(this.undoData.size),_.adjustCanvasDimension(),we().resolve()}};Xt.register(aI);var bh=He.ROTATION,Sh=null;function oI(j){return{angle:j.getCurrentAngle()}}var sI={name:tt.ROTATE_IMAGE,execute:function(_,d,S,f){var C=_.getComponent(bh);if(!this.isRedo){var P=oI(C);Sh=this.setUndoData(P,Sh,f)}return C[d](S)},undo:function(_){var d=_.getComponent(bh),S=de(this.args,3),f=S[1],C=S[2];return f==="setAngle"?d[f](this.undoData.angle):d.rotate(-C)}};Xt.register(sI);var lI={name:tt.SET_OBJECT_PROPERTIES,execute:function(_,d,S){var f=this,C=_.getObject(d);return C?(this.undoData.props={},Lo()(S,function(P,R){f.undoData.props[R]=C[R]}),_.setObjectProperties(d,S),we().resolve()):we().reject(Lt.noObject)},undo:function(_,d){var S=this.undoData.props;return _.setObjectProperties(d,S),we().resolve()}};Xt.register(lI);var cI={name:tt.SET_OBJECT_POSITION,execute:function(_,d,S){var f=_.getObject(d);return f?(this.undoData.objectId=d,this.undoData.props=_.getObjectProperties(d,["left","top"]),_.setObjectPosition(d,S),_.renderAll(),we().resolve()):we().reject(Lt.noObject)},undo:function(_){var d=this.undoData,S=d.objectId,f=d.props;return _.setObjectProperties(S,f),_.renderAll(),we().resolve()}};Xt.register(cI);var uI={name:tt.CHANGE_SELECTION,execute:function(_,d){return this.isRedo?Ge()(d).call(d,function(S){_.setObjectProperties(S.id,S)}):this.undoData=ux(),we().resolve()},undo:function(_){var d;return Ge()(d=this.undoData).call(d,function(S){_.setObjectProperties(S.id,S)}),we().resolve()}};Xt.register(uI);var Ch=He.RESIZE,fI={name:tt.RESIZE_IMAGE,execute:function(_,d){var S=_.getComponent(Ch),f=S.getOriginalDimensions();return f||(f=S.getCurrentDimensions()),this.undoData.dimensions=f,S.resize(d)},undo:function(_){var d=_.getComponent(Ch);return d.resize(this.undoData.dimensions)}};Xt.register(fI);var hI=jx}(),I=I.default,I}()})}(gc)),gc.exports}var XO=GO();const ZO=YO(XO);function dy(e,t){return function(){return e.apply(t,arguments)}}const{toString:JO}=Object.prototype,{getPrototypeOf:df}=Object,{iterator:bl,toStringTag:gy}=Symbol,Sl=(e=>t=>{const n=JO.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),hi=e=>(e=e.toLowerCase(),t=>Sl(t)===e),Cl=e=>t=>typeof t===e,{isArray:ha}=Array,io=Cl("undefined");function $O(e){return e!==null&&!io(e)&&e.constructor!==null&&!io(e.constructor)&&Bn(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const vy=hi("ArrayBuffer");function KO(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&vy(e.buffer),t}const QO=Cl("string"),Bn=Cl("function"),my=Cl("number"),xl=e=>e!==null&&typeof e=="object",qO=e=>e===!0||e===!1,Cs=e=>{if(Sl(e)!=="object")return!1;const t=df(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(gy in e)&&!(bl in e)},eD=hi("Date"),tD=hi("File"),nD=hi("Blob"),iD=hi("FileList"),rD=e=>xl(e)&&Bn(e.pipe),aD=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Bn(e.append)&&((t=Sl(e))==="formdata"||t==="object"&&Bn(e.toString)&&e.toString()==="[object FormData]"))},oD=hi("URLSearchParams"),[sD,lD,cD,uD]=["ReadableStream","Request","Response","Headers"].map(hi),fD=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Co(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let i,u;if(typeof e!="object"&&(e=[e]),ha(e))for(i=0,u=e.length;i<u;i++)t.call(null,e[i],i,e);else{const b=n?Object.getOwnPropertyNames(e):Object.keys(e),I=b.length;let y;for(i=0;i<I;i++)y=b[i],t.call(null,e[y],y,e)}}function py(e,t){t=t.toLowerCase();const n=Object.keys(e);let i=n.length,u;for(;i-- >0;)if(u=n[i],t===u.toLowerCase())return u;return null}const wr=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,yy=e=>!io(e)&&e!==wr;function eu(){const{caseless:e}=yy(this)&&this||{},t={},n=(i,u)=>{const b=e&&py(t,u)||u;Cs(t[b])&&Cs(i)?t[b]=eu(t[b],i):Cs(i)?t[b]=eu({},i):ha(i)?t[b]=i.slice():t[b]=i};for(let i=0,u=arguments.length;i<u;i++)arguments[i]&&Co(arguments[i],n);return t}const hD=(e,t,n,{allOwnKeys:i}={})=>(Co(t,(u,b)=>{n&&Bn(u)?e[b]=dy(u,n):e[b]=u},{allOwnKeys:i}),e),dD=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),gD=(e,t,n,i)=>{e.prototype=Object.create(t.prototype,i),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},vD=(e,t,n,i)=>{let u,b,I;const y={};if(t=t||{},e==null)return t;do{for(u=Object.getOwnPropertyNames(e),b=u.length;b-- >0;)I=u[b],(!i||i(I,e,t))&&!y[I]&&(t[I]=e[I],y[I]=!0);e=n!==!1&&df(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},mD=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const i=e.indexOf(t,n);return i!==-1&&i===n},pD=e=>{if(!e)return null;if(ha(e))return e;let t=e.length;if(!my(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},yD=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&df(Uint8Array)),bD=(e,t)=>{const i=(e&&e[bl]).call(e);let u;for(;(u=i.next())&&!u.done;){const b=u.value;t.call(e,b[0],b[1])}},SD=(e,t)=>{let n;const i=[];for(;(n=e.exec(t))!==null;)i.push(n);return i},CD=hi("HTMLFormElement"),xD=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,i,u){return i.toUpperCase()+u}),Fg=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),ID=hi("RegExp"),by=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),i={};Co(n,(u,b)=>{let I;(I=t(u,b,e))!==!1&&(i[b]=I||u)}),Object.defineProperties(e,i)},_D=e=>{by(e,(t,n)=>{if(Bn(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const i=e[n];if(Bn(i)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},MD=(e,t)=>{const n={},i=u=>{u.forEach(b=>{n[b]=!0})};return ha(e)?i(e):i(String(e).split(t)),n},ED=()=>{},wD=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function TD(e){return!!(e&&Bn(e.append)&&e[gy]==="FormData"&&e[bl])}const AD=e=>{const t=new Array(10),n=(i,u)=>{if(xl(i)){if(t.indexOf(i)>=0)return;if(!("toJSON"in i)){t[u]=i;const b=ha(i)?[]:{};return Co(i,(I,y)=>{const M=n(I,u+1);!io(M)&&(b[y]=M)}),t[u]=void 0,b}}return i};return n(e,0)},OD=hi("AsyncFunction"),DD=e=>e&&(xl(e)||Bn(e))&&Bn(e.then)&&Bn(e.catch),Sy=((e,t)=>e?setImmediate:t?((n,i)=>(wr.addEventListener("message",({source:u,data:b})=>{u===wr&&b===n&&i.length&&i.shift()()},!1),u=>{i.push(u),wr.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Bn(wr.postMessage)),kD=typeof queueMicrotask<"u"?queueMicrotask.bind(wr):typeof process<"u"&&process.nextTick||Sy,PD=e=>e!=null&&Bn(e[bl]),De={isArray:ha,isArrayBuffer:vy,isBuffer:$O,isFormData:aD,isArrayBufferView:KO,isString:QO,isNumber:my,isBoolean:qO,isObject:xl,isPlainObject:Cs,isReadableStream:sD,isRequest:lD,isResponse:cD,isHeaders:uD,isUndefined:io,isDate:eD,isFile:tD,isBlob:nD,isRegExp:ID,isFunction:Bn,isStream:rD,isURLSearchParams:oD,isTypedArray:yD,isFileList:iD,forEach:Co,merge:eu,extend:hD,trim:fD,stripBOM:dD,inherits:gD,toFlatObject:vD,kindOf:Sl,kindOfTest:hi,endsWith:mD,toArray:pD,forEachEntry:bD,matchAll:SD,isHTMLForm:CD,hasOwnProperty:Fg,hasOwnProp:Fg,reduceDescriptors:by,freezeMethods:_D,toObjectSet:MD,toCamelCase:xD,noop:ED,toFiniteNumber:wD,findKey:py,global:wr,isContextDefined:yy,isSpecCompliantForm:TD,toJSONObject:AD,isAsyncFn:OD,isThenable:DD,setImmediate:Sy,asap:kD,isIterable:PD};function bt(e,t,n,i,u){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),i&&(this.request=i),u&&(this.response=u,this.status=u.status?u.status:null)}De.inherits(bt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:De.toJSONObject(this.config),code:this.code,status:this.status}}});const Cy=bt.prototype,xy={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{xy[e]={value:e}});Object.defineProperties(bt,xy);Object.defineProperty(Cy,"isAxiosError",{value:!0});bt.from=(e,t,n,i,u,b)=>{const I=Object.create(Cy);return De.toFlatObject(e,I,function(M){return M!==Error.prototype},y=>y!=="isAxiosError"),bt.call(I,e.message,t,n,i,u),I.cause=e,I.name=e.name,b&&Object.assign(I,b),I};const LD=null;function tu(e){return De.isPlainObject(e)||De.isArray(e)}function Iy(e){return De.endsWith(e,"[]")?e.slice(0,-2):e}function Bg(e,t,n){return e?e.concat(t).map(function(u,b){return u=Iy(u),!n&&b?"["+u+"]":u}).join(n?".":""):t}function ND(e){return De.isArray(e)&&!e.some(tu)}const RD=De.toFlatObject(De,{},null,function(t){return/^is[A-Z]/.test(t)});function Il(e,t,n){if(!De.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=De.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(N,p){return!De.isUndefined(p[N])});const i=n.metaTokens,u=n.visitor||r,b=n.dots,I=n.indexes,M=(n.Blob||typeof Blob<"u"&&Blob)&&De.isSpecCompliantForm(t);if(!De.isFunction(u))throw new TypeError("visitor must be a function");function l(O){if(O===null)return"";if(De.isDate(O))return O.toISOString();if(!M&&De.isBlob(O))throw new bt("Blob is not supported. Use a Buffer instead.");return De.isArrayBuffer(O)||De.isTypedArray(O)?M&&typeof Blob=="function"?new Blob([O]):Buffer.from(O):O}function r(O,N,p){let a=O;if(O&&!p&&typeof O=="object"){if(De.endsWith(N,"{}"))N=i?N:N.slice(0,-2),O=JSON.stringify(O);else if(De.isArray(O)&&ND(O)||(De.isFileList(O)||De.endsWith(N,"[]"))&&(a=De.toArray(O)))return N=Iy(N),a.forEach(function(v,o){!(De.isUndefined(v)||v===null)&&t.append(I===!0?Bg([N],o,b):I===null?N:N+"[]",l(v))}),!1}return tu(O)?!0:(t.append(Bg(p,N,b),l(O)),!1)}const w=[],A=Object.assign(RD,{defaultVisitor:r,convertValue:l,isVisitable:tu});function D(O,N){if(!De.isUndefined(O)){if(w.indexOf(O)!==-1)throw Error("Circular reference detected in "+N.join("."));w.push(O),De.forEach(O,function(a,m){(!(De.isUndefined(a)||a===null)&&u.call(t,a,De.isString(m)?m.trim():m,N,A))===!0&&D(a,N?N.concat(m):[m])}),w.pop()}}if(!De.isObject(e))throw new TypeError("data must be an object");return D(e),t}function zg(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(i){return t[i]})}function gf(e,t){this._pairs=[],e&&Il(e,this,t)}const _y=gf.prototype;_y.append=function(t,n){this._pairs.push([t,n])};_y.toString=function(t){const n=t?function(i){return t.call(this,i,zg)}:zg;return this._pairs.map(function(u){return n(u[0])+"="+n(u[1])},"").join("&")};function jD(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function My(e,t,n){if(!t)return e;const i=n&&n.encode||jD;De.isFunction(n)&&(n={serialize:n});const u=n&&n.serialize;let b;if(u?b=u(t,n):b=De.isURLSearchParams(t)?t.toString():new gf(t,n).toString(i),b){const I=e.indexOf("#");I!==-1&&(e=e.slice(0,I)),e+=(e.indexOf("?")===-1?"?":"&")+b}return e}class Hg{constructor(){this.handlers=[]}use(t,n,i){return this.handlers.push({fulfilled:t,rejected:n,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){De.forEach(this.handlers,function(i){i!==null&&t(i)})}}const Ey={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},FD=typeof URLSearchParams<"u"?URLSearchParams:gf,BD=typeof FormData<"u"?FormData:null,zD=typeof Blob<"u"?Blob:null,HD={isBrowser:!0,classes:{URLSearchParams:FD,FormData:BD,Blob:zD},protocols:["http","https","file","blob","url","data"]},vf=typeof window<"u"&&typeof document<"u",nu=typeof navigator=="object"&&navigator||void 0,UD=vf&&(!nu||["ReactNative","NativeScript","NS"].indexOf(nu.product)<0),WD=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",YD=vf&&window.location.href||"http://localhost",VD=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:vf,hasStandardBrowserEnv:UD,hasStandardBrowserWebWorkerEnv:WD,navigator:nu,origin:YD},Symbol.toStringTag,{value:"Module"})),_n={...VD,...HD};function GD(e,t){return Il(e,new _n.classes.URLSearchParams,Object.assign({visitor:function(n,i,u,b){return _n.isNode&&De.isBuffer(n)?(this.append(i,n.toString("base64")),!1):b.defaultVisitor.apply(this,arguments)}},t))}function XD(e){return De.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function ZD(e){const t={},n=Object.keys(e);let i;const u=n.length;let b;for(i=0;i<u;i++)b=n[i],t[b]=e[b];return t}function wy(e){function t(n,i,u,b){let I=n[b++];if(I==="__proto__")return!0;const y=Number.isFinite(+I),M=b>=n.length;return I=!I&&De.isArray(u)?u.length:I,M?(De.hasOwnProp(u,I)?u[I]=[u[I],i]:u[I]=i,!y):((!u[I]||!De.isObject(u[I]))&&(u[I]=[]),t(n,i,u[I],b)&&De.isArray(u[I])&&(u[I]=ZD(u[I])),!y)}if(De.isFormData(e)&&De.isFunction(e.entries)){const n={};return De.forEachEntry(e,(i,u)=>{t(XD(i),u,n,0)}),n}return null}function JD(e,t,n){if(De.isString(e))try{return(t||JSON.parse)(e),De.trim(e)}catch(i){if(i.name!=="SyntaxError")throw i}return(n||JSON.stringify)(e)}const xo={transitional:Ey,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const i=n.getContentType()||"",u=i.indexOf("application/json")>-1,b=De.isObject(t);if(b&&De.isHTMLForm(t)&&(t=new FormData(t)),De.isFormData(t))return u?JSON.stringify(wy(t)):t;if(De.isArrayBuffer(t)||De.isBuffer(t)||De.isStream(t)||De.isFile(t)||De.isBlob(t)||De.isReadableStream(t))return t;if(De.isArrayBufferView(t))return t.buffer;if(De.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let y;if(b){if(i.indexOf("application/x-www-form-urlencoded")>-1)return GD(t,this.formSerializer).toString();if((y=De.isFileList(t))||i.indexOf("multipart/form-data")>-1){const M=this.env&&this.env.FormData;return Il(y?{"files[]":t}:t,M&&new M,this.formSerializer)}}return b||u?(n.setContentType("application/json",!1),JD(t)):t}],transformResponse:[function(t){const n=this.transitional||xo.transitional,i=n&&n.forcedJSONParsing,u=this.responseType==="json";if(De.isResponse(t)||De.isReadableStream(t))return t;if(t&&De.isString(t)&&(i&&!this.responseType||u)){const I=!(n&&n.silentJSONParsing)&&u;try{return JSON.parse(t)}catch(y){if(I)throw y.name==="SyntaxError"?bt.from(y,bt.ERR_BAD_RESPONSE,this,null,this.response):y}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:_n.classes.FormData,Blob:_n.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};De.forEach(["delete","get","head","post","put","patch"],e=>{xo.headers[e]={}});const $D=De.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),KD=e=>{const t={};let n,i,u;return e&&e.split(`
`).forEach(function(I){u=I.indexOf(":"),n=I.substring(0,u).trim().toLowerCase(),i=I.substring(u+1).trim(),!(!n||t[n]&&$D[n])&&(n==="set-cookie"?t[n]?t[n].push(i):t[n]=[i]:t[n]=t[n]?t[n]+", "+i:i)}),t},Ug=Symbol("internals");function Aa(e){return e&&String(e).trim().toLowerCase()}function xs(e){return e===!1||e==null?e:De.isArray(e)?e.map(xs):String(e)}function QD(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=n.exec(e);)t[i[1]]=i[2];return t}const qD=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function mc(e,t,n,i,u){if(De.isFunction(i))return i.call(this,t,n);if(u&&(t=n),!!De.isString(t)){if(De.isString(i))return t.indexOf(i)!==-1;if(De.isRegExp(i))return i.test(t)}}function ek(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,i)=>n.toUpperCase()+i)}function tk(e,t){const n=De.toCamelCase(" "+t);["get","set","has"].forEach(i=>{Object.defineProperty(e,i+n,{value:function(u,b,I){return this[i].call(this,t,u,b,I)},configurable:!0})})}let zn=class{constructor(t){t&&this.set(t)}set(t,n,i){const u=this;function b(y,M,l){const r=Aa(M);if(!r)throw new Error("header name must be a non-empty string");const w=De.findKey(u,r);(!w||u[w]===void 0||l===!0||l===void 0&&u[w]!==!1)&&(u[w||M]=xs(y))}const I=(y,M)=>De.forEach(y,(l,r)=>b(l,r,M));if(De.isPlainObject(t)||t instanceof this.constructor)I(t,n);else if(De.isString(t)&&(t=t.trim())&&!qD(t))I(KD(t),n);else if(De.isObject(t)&&De.isIterable(t)){let y={},M,l;for(const r of t){if(!De.isArray(r))throw TypeError("Object iterator must return a key-value pair");y[l=r[0]]=(M=y[l])?De.isArray(M)?[...M,r[1]]:[M,r[1]]:r[1]}I(y,n)}else t!=null&&b(n,t,i);return this}get(t,n){if(t=Aa(t),t){const i=De.findKey(this,t);if(i){const u=this[i];if(!n)return u;if(n===!0)return QD(u);if(De.isFunction(n))return n.call(this,u,i);if(De.isRegExp(n))return n.exec(u);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=Aa(t),t){const i=De.findKey(this,t);return!!(i&&this[i]!==void 0&&(!n||mc(this,this[i],i,n)))}return!1}delete(t,n){const i=this;let u=!1;function b(I){if(I=Aa(I),I){const y=De.findKey(i,I);y&&(!n||mc(i,i[y],y,n))&&(delete i[y],u=!0)}}return De.isArray(t)?t.forEach(b):b(t),u}clear(t){const n=Object.keys(this);let i=n.length,u=!1;for(;i--;){const b=n[i];(!t||mc(this,this[b],b,t,!0))&&(delete this[b],u=!0)}return u}normalize(t){const n=this,i={};return De.forEach(this,(u,b)=>{const I=De.findKey(i,b);if(I){n[I]=xs(u),delete n[b];return}const y=t?ek(b):String(b).trim();y!==b&&delete n[b],n[y]=xs(u),i[y]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return De.forEach(this,(i,u)=>{i!=null&&i!==!1&&(n[u]=t&&De.isArray(i)?i.join(", "):i)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const i=new this(t);return n.forEach(u=>i.set(u)),i}static accessor(t){const i=(this[Ug]=this[Ug]={accessors:{}}).accessors,u=this.prototype;function b(I){const y=Aa(I);i[y]||(tk(u,I),i[y]=!0)}return De.isArray(t)?t.forEach(b):b(t),this}};zn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);De.reduceDescriptors(zn.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(i){this[n]=i}}});De.freezeMethods(zn);function pc(e,t){const n=this||xo,i=t||n,u=zn.from(i.headers);let b=i.data;return De.forEach(e,function(y){b=y.call(n,b,u.normalize(),t?t.status:void 0)}),u.normalize(),b}function Ty(e){return!!(e&&e.__CANCEL__)}function da(e,t,n){bt.call(this,e??"canceled",bt.ERR_CANCELED,t,n),this.name="CanceledError"}De.inherits(da,bt,{__CANCEL__:!0});function Ay(e,t,n){const i=n.config.validateStatus;!n.status||!i||i(n.status)?e(n):t(new bt("Request failed with status code "+n.status,[bt.ERR_BAD_REQUEST,bt.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function nk(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function ik(e,t){e=e||10;const n=new Array(e),i=new Array(e);let u=0,b=0,I;return t=t!==void 0?t:1e3,function(M){const l=Date.now(),r=i[b];I||(I=l),n[u]=M,i[u]=l;let w=b,A=0;for(;w!==u;)A+=n[w++],w=w%e;if(u=(u+1)%e,u===b&&(b=(b+1)%e),l-I<t)return;const D=r&&l-r;return D?Math.round(A*1e3/D):void 0}}function rk(e,t){let n=0,i=1e3/t,u,b;const I=(l,r=Date.now())=>{n=r,u=null,b&&(clearTimeout(b),b=null),e.apply(null,l)};return[(...l)=>{const r=Date.now(),w=r-n;w>=i?I(l,r):(u=l,b||(b=setTimeout(()=>{b=null,I(u)},i-w)))},()=>u&&I(u)]}const Gs=(e,t,n=3)=>{let i=0;const u=ik(50,250);return rk(b=>{const I=b.loaded,y=b.lengthComputable?b.total:void 0,M=I-i,l=u(M),r=I<=y;i=I;const w={loaded:I,total:y,progress:y?I/y:void 0,bytes:M,rate:l||void 0,estimated:l&&y&&r?(y-I)/l:void 0,event:b,lengthComputable:y!=null,[t?"download":"upload"]:!0};e(w)},n)},Wg=(e,t)=>{const n=e!=null;return[i=>t[0]({lengthComputable:n,total:e,loaded:i}),t[1]]},Yg=e=>(...t)=>De.asap(()=>e(...t)),ak=_n.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,_n.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(_n.origin),_n.navigator&&/(msie|trident)/i.test(_n.navigator.userAgent)):()=>!0,ok=_n.hasStandardBrowserEnv?{write(e,t,n,i,u,b){const I=[e+"="+encodeURIComponent(t)];De.isNumber(n)&&I.push("expires="+new Date(n).toGMTString()),De.isString(i)&&I.push("path="+i),De.isString(u)&&I.push("domain="+u),b===!0&&I.push("secure"),document.cookie=I.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function sk(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function lk(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function Oy(e,t,n){let i=!sk(t);return e&&(i||n==!1)?lk(e,t):t}const Vg=e=>e instanceof zn?{...e}:e;function Fr(e,t){t=t||{};const n={};function i(l,r,w,A){return De.isPlainObject(l)&&De.isPlainObject(r)?De.merge.call({caseless:A},l,r):De.isPlainObject(r)?De.merge({},r):De.isArray(r)?r.slice():r}function u(l,r,w,A){if(De.isUndefined(r)){if(!De.isUndefined(l))return i(void 0,l,w,A)}else return i(l,r,w,A)}function b(l,r){if(!De.isUndefined(r))return i(void 0,r)}function I(l,r){if(De.isUndefined(r)){if(!De.isUndefined(l))return i(void 0,l)}else return i(void 0,r)}function y(l,r,w){if(w in t)return i(l,r);if(w in e)return i(void 0,l)}const M={url:b,method:b,data:b,baseURL:I,transformRequest:I,transformResponse:I,paramsSerializer:I,timeout:I,timeoutMessage:I,withCredentials:I,withXSRFToken:I,adapter:I,responseType:I,xsrfCookieName:I,xsrfHeaderName:I,onUploadProgress:I,onDownloadProgress:I,decompress:I,maxContentLength:I,maxBodyLength:I,beforeRedirect:I,transport:I,httpAgent:I,httpsAgent:I,cancelToken:I,socketPath:I,responseEncoding:I,validateStatus:y,headers:(l,r,w)=>u(Vg(l),Vg(r),w,!0)};return De.forEach(Object.keys(Object.assign({},e,t)),function(r){const w=M[r]||u,A=w(e[r],t[r],r);De.isUndefined(A)&&w!==y||(n[r]=A)}),n}const Dy=e=>{const t=Fr({},e);let{data:n,withXSRFToken:i,xsrfHeaderName:u,xsrfCookieName:b,headers:I,auth:y}=t;t.headers=I=zn.from(I),t.url=My(Oy(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),y&&I.set("Authorization","Basic "+btoa((y.username||"")+":"+(y.password?unescape(encodeURIComponent(y.password)):"")));let M;if(De.isFormData(n)){if(_n.hasStandardBrowserEnv||_n.hasStandardBrowserWebWorkerEnv)I.setContentType(void 0);else if((M=I.getContentType())!==!1){const[l,...r]=M?M.split(";").map(w=>w.trim()).filter(Boolean):[];I.setContentType([l||"multipart/form-data",...r].join("; "))}}if(_n.hasStandardBrowserEnv&&(i&&De.isFunction(i)&&(i=i(t)),i||i!==!1&&ak(t.url))){const l=u&&b&&ok.read(b);l&&I.set(u,l)}return t},ck=typeof XMLHttpRequest<"u",uk=ck&&function(e){return new Promise(function(n,i){const u=Dy(e);let b=u.data;const I=zn.from(u.headers).normalize();let{responseType:y,onUploadProgress:M,onDownloadProgress:l}=u,r,w,A,D,O;function N(){D&&D(),O&&O(),u.cancelToken&&u.cancelToken.unsubscribe(r),u.signal&&u.signal.removeEventListener("abort",r)}let p=new XMLHttpRequest;p.open(u.method.toUpperCase(),u.url,!0),p.timeout=u.timeout;function a(){if(!p)return;const v=zn.from("getAllResponseHeaders"in p&&p.getAllResponseHeaders()),c={data:!y||y==="text"||y==="json"?p.responseText:p.response,status:p.status,statusText:p.statusText,headers:v,config:e,request:p};Ay(function(g){n(g),N()},function(g){i(g),N()},c),p=null}"onloadend"in p?p.onloadend=a:p.onreadystatechange=function(){!p||p.readyState!==4||p.status===0&&!(p.responseURL&&p.responseURL.indexOf("file:")===0)||setTimeout(a)},p.onabort=function(){p&&(i(new bt("Request aborted",bt.ECONNABORTED,e,p)),p=null)},p.onerror=function(){i(new bt("Network Error",bt.ERR_NETWORK,e,p)),p=null},p.ontimeout=function(){let o=u.timeout?"timeout of "+u.timeout+"ms exceeded":"timeout exceeded";const c=u.transitional||Ey;u.timeoutErrorMessage&&(o=u.timeoutErrorMessage),i(new bt(o,c.clarifyTimeoutError?bt.ETIMEDOUT:bt.ECONNABORTED,e,p)),p=null},b===void 0&&I.setContentType(null),"setRequestHeader"in p&&De.forEach(I.toJSON(),function(o,c){p.setRequestHeader(c,o)}),De.isUndefined(u.withCredentials)||(p.withCredentials=!!u.withCredentials),y&&y!=="json"&&(p.responseType=u.responseType),l&&([A,O]=Gs(l,!0),p.addEventListener("progress",A)),M&&p.upload&&([w,D]=Gs(M),p.upload.addEventListener("progress",w),p.upload.addEventListener("loadend",D)),(u.cancelToken||u.signal)&&(r=v=>{p&&(i(!v||v.type?new da(null,e,p):v),p.abort(),p=null)},u.cancelToken&&u.cancelToken.subscribe(r),u.signal&&(u.signal.aborted?r():u.signal.addEventListener("abort",r)));const m=nk(u.url);if(m&&_n.protocols.indexOf(m)===-1){i(new bt("Unsupported protocol "+m+":",bt.ERR_BAD_REQUEST,e));return}p.send(b||null)})},fk=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let i=new AbortController,u;const b=function(l){if(!u){u=!0,y();const r=l instanceof Error?l:this.reason;i.abort(r instanceof bt?r:new da(r instanceof Error?r.message:r))}};let I=t&&setTimeout(()=>{I=null,b(new bt(`timeout ${t} of ms exceeded`,bt.ETIMEDOUT))},t);const y=()=>{e&&(I&&clearTimeout(I),I=null,e.forEach(l=>{l.unsubscribe?l.unsubscribe(b):l.removeEventListener("abort",b)}),e=null)};e.forEach(l=>l.addEventListener("abort",b));const{signal:M}=i;return M.unsubscribe=()=>De.asap(y),M}},hk=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let i=0,u;for(;i<n;)u=i+t,yield e.slice(i,u),i=u},dk=async function*(e,t){for await(const n of gk(e))yield*hk(n,t)},gk=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:i}=await t.read();if(n)break;yield i}}finally{await t.cancel()}},Gg=(e,t,n,i)=>{const u=dk(e,t);let b=0,I,y=M=>{I||(I=!0,i&&i(M))};return new ReadableStream({async pull(M){try{const{done:l,value:r}=await u.next();if(l){y(),M.close();return}let w=r.byteLength;if(n){let A=b+=w;n(A)}M.enqueue(new Uint8Array(r))}catch(l){throw y(l),l}},cancel(M){return y(M),u.return()}},{highWaterMark:2})},_l=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",ky=_l&&typeof ReadableStream=="function",vk=_l&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),Py=(e,...t)=>{try{return!!e(...t)}catch{return!1}},mk=ky&&Py(()=>{let e=!1;const t=new Request(_n.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),Xg=64*1024,iu=ky&&Py(()=>De.isReadableStream(new Response("").body)),Xs={stream:iu&&(e=>e.body)};_l&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!Xs[t]&&(Xs[t]=De.isFunction(e[t])?n=>n[t]():(n,i)=>{throw new bt(`Response type '${t}' is not supported`,bt.ERR_NOT_SUPPORT,i)})})})(new Response);const pk=async e=>{if(e==null)return 0;if(De.isBlob(e))return e.size;if(De.isSpecCompliantForm(e))return(await new Request(_n.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(De.isArrayBufferView(e)||De.isArrayBuffer(e))return e.byteLength;if(De.isURLSearchParams(e)&&(e=e+""),De.isString(e))return(await vk(e)).byteLength},yk=async(e,t)=>{const n=De.toFiniteNumber(e.getContentLength());return n??pk(t)},bk=_l&&(async e=>{let{url:t,method:n,data:i,signal:u,cancelToken:b,timeout:I,onDownloadProgress:y,onUploadProgress:M,responseType:l,headers:r,withCredentials:w="same-origin",fetchOptions:A}=Dy(e);l=l?(l+"").toLowerCase():"text";let D=fk([u,b&&b.toAbortSignal()],I),O;const N=D&&D.unsubscribe&&(()=>{D.unsubscribe()});let p;try{if(M&&mk&&n!=="get"&&n!=="head"&&(p=await yk(r,i))!==0){let c=new Request(t,{method:"POST",body:i,duplex:"half"}),s;if(De.isFormData(i)&&(s=c.headers.get("content-type"))&&r.setContentType(s),c.body){const[g,x]=Wg(p,Gs(Yg(M)));i=Gg(c.body,Xg,g,x)}}De.isString(w)||(w=w?"include":"omit");const a="credentials"in Request.prototype;O=new Request(t,{...A,signal:D,method:n.toUpperCase(),headers:r.normalize().toJSON(),body:i,duplex:"half",credentials:a?w:void 0});let m=await fetch(O);const v=iu&&(l==="stream"||l==="response");if(iu&&(y||v&&N)){const c={};["status","statusText","headers"].forEach(h=>{c[h]=m[h]});const s=De.toFiniteNumber(m.headers.get("content-length")),[g,x]=y&&Wg(s,Gs(Yg(y),!0))||[];m=new Response(Gg(m.body,Xg,g,()=>{x&&x(),N&&N()}),c)}l=l||"text";let o=await Xs[De.findKey(Xs,l)||"text"](m,e);return!v&&N&&N(),await new Promise((c,s)=>{Ay(c,s,{data:o,headers:zn.from(m.headers),status:m.status,statusText:m.statusText,config:e,request:O})})}catch(a){throw N&&N(),a&&a.name==="TypeError"&&/Load failed|fetch/i.test(a.message)?Object.assign(new bt("Network Error",bt.ERR_NETWORK,e,O),{cause:a.cause||a}):bt.from(a,a&&a.code,e,O)}}),ru={http:LD,xhr:uk,fetch:bk};De.forEach(ru,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const Zg=e=>`- ${e}`,Sk=e=>De.isFunction(e)||e===null||e===!1,Ly={getAdapter:e=>{e=De.isArray(e)?e:[e];const{length:t}=e;let n,i;const u={};for(let b=0;b<t;b++){n=e[b];let I;if(i=n,!Sk(n)&&(i=ru[(I=String(n)).toLowerCase()],i===void 0))throw new bt(`Unknown adapter '${I}'`);if(i)break;u[I||"#"+b]=i}if(!i){const b=Object.entries(u).map(([y,M])=>`adapter ${y} `+(M===!1?"is not supported by the environment":"is not available in the build"));let I=t?b.length>1?`since :
`+b.map(Zg).join(`
`):" "+Zg(b[0]):"as no adapter specified";throw new bt("There is no suitable adapter to dispatch the request "+I,"ERR_NOT_SUPPORT")}return i},adapters:ru};function yc(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new da(null,e)}function Jg(e){return yc(e),e.headers=zn.from(e.headers),e.data=pc.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Ly.getAdapter(e.adapter||xo.adapter)(e).then(function(i){return yc(e),i.data=pc.call(e,e.transformResponse,i),i.headers=zn.from(i.headers),i},function(i){return Ty(i)||(yc(e),i&&i.response&&(i.response.data=pc.call(e,e.transformResponse,i.response),i.response.headers=zn.from(i.response.headers))),Promise.reject(i)})}const Ny="1.9.0",Ml={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Ml[e]=function(i){return typeof i===e||"a"+(t<1?"n ":" ")+e}});const $g={};Ml.transitional=function(t,n,i){function u(b,I){return"[Axios v"+Ny+"] Transitional option '"+b+"'"+I+(i?". "+i:"")}return(b,I,y)=>{if(t===!1)throw new bt(u(I," has been removed"+(n?" in "+n:"")),bt.ERR_DEPRECATED);return n&&!$g[I]&&($g[I]=!0,console.warn(u(I," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(b,I,y):!0}};Ml.spelling=function(t){return(n,i)=>(console.warn(`${i} is likely a misspelling of ${t}`),!0)};function Ck(e,t,n){if(typeof e!="object")throw new bt("options must be an object",bt.ERR_BAD_OPTION_VALUE);const i=Object.keys(e);let u=i.length;for(;u-- >0;){const b=i[u],I=t[b];if(I){const y=e[b],M=y===void 0||I(y,b,e);if(M!==!0)throw new bt("option "+b+" must be "+M,bt.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new bt("Unknown option "+b,bt.ERR_BAD_OPTION)}}const Is={assertOptions:Ck,validators:Ml},pi=Is.validators;let kr=class{constructor(t){this.defaults=t||{},this.interceptors={request:new Hg,response:new Hg}}async request(t,n){try{return await this._request(t,n)}catch(i){if(i instanceof Error){let u={};Error.captureStackTrace?Error.captureStackTrace(u):u=new Error;const b=u.stack?u.stack.replace(/^.+\n/,""):"";try{i.stack?b&&!String(i.stack).endsWith(b.replace(/^.+\n.+\n/,""))&&(i.stack+=`
`+b):i.stack=b}catch{}}throw i}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=Fr(this.defaults,n);const{transitional:i,paramsSerializer:u,headers:b}=n;i!==void 0&&Is.assertOptions(i,{silentJSONParsing:pi.transitional(pi.boolean),forcedJSONParsing:pi.transitional(pi.boolean),clarifyTimeoutError:pi.transitional(pi.boolean)},!1),u!=null&&(De.isFunction(u)?n.paramsSerializer={serialize:u}:Is.assertOptions(u,{encode:pi.function,serialize:pi.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Is.assertOptions(n,{baseUrl:pi.spelling("baseURL"),withXsrfToken:pi.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let I=b&&De.merge(b.common,b[n.method]);b&&De.forEach(["delete","get","head","post","put","patch","common"],O=>{delete b[O]}),n.headers=zn.concat(I,b);const y=[];let M=!0;this.interceptors.request.forEach(function(N){typeof N.runWhen=="function"&&N.runWhen(n)===!1||(M=M&&N.synchronous,y.unshift(N.fulfilled,N.rejected))});const l=[];this.interceptors.response.forEach(function(N){l.push(N.fulfilled,N.rejected)});let r,w=0,A;if(!M){const O=[Jg.bind(this),void 0];for(O.unshift.apply(O,y),O.push.apply(O,l),A=O.length,r=Promise.resolve(n);w<A;)r=r.then(O[w++],O[w++]);return r}A=y.length;let D=n;for(w=0;w<A;){const O=y[w++],N=y[w++];try{D=O(D)}catch(p){N.call(this,p);break}}try{r=Jg.call(this,D)}catch(O){return Promise.reject(O)}for(w=0,A=l.length;w<A;)r=r.then(l[w++],l[w++]);return r}getUri(t){t=Fr(this.defaults,t);const n=Oy(t.baseURL,t.url,t.allowAbsoluteUrls);return My(n,t.params,t.paramsSerializer)}};De.forEach(["delete","get","head","options"],function(t){kr.prototype[t]=function(n,i){return this.request(Fr(i||{},{method:t,url:n,data:(i||{}).data}))}});De.forEach(["post","put","patch"],function(t){function n(i){return function(b,I,y){return this.request(Fr(y||{},{method:t,headers:i?{"Content-Type":"multipart/form-data"}:{},url:b,data:I}))}}kr.prototype[t]=n(),kr.prototype[t+"Form"]=n(!0)});let xk=class Ry{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(b){n=b});const i=this;this.promise.then(u=>{if(!i._listeners)return;let b=i._listeners.length;for(;b-- >0;)i._listeners[b](u);i._listeners=null}),this.promise.then=u=>{let b;const I=new Promise(y=>{i.subscribe(y),b=y}).then(u);return I.cancel=function(){i.unsubscribe(b)},I},t(function(b,I,y){i.reason||(i.reason=new da(b,I,y),n(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=i=>{t.abort(i)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new Ry(function(u){t=u}),cancel:t}}};function Ik(e){return function(n){return e.apply(null,n)}}function _k(e){return De.isObject(e)&&e.isAxiosError===!0}const au={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(au).forEach(([e,t])=>{au[t]=e});function jy(e){const t=new kr(e),n=dy(kr.prototype.request,t);return De.extend(n,kr.prototype,t,{allOwnKeys:!0}),De.extend(n,t,null,{allOwnKeys:!0}),n.create=function(u){return jy(Fr(e,u))},n}const an=jy(xo);an.Axios=kr;an.CanceledError=da;an.CancelToken=xk;an.isCancel=Ty;an.VERSION=Ny;an.toFormData=Il;an.AxiosError=bt;an.Cancel=an.CanceledError;an.all=function(t){return Promise.all(t)};an.spread=Ik;an.isAxiosError=_k;an.mergeConfig=Fr;an.AxiosHeaders=zn;an.formToJSON=e=>wy(De.isHTMLForm(e)?new FormData(e):e);an.getAdapter=Ly.getAdapter;an.HttpStatusCode=au;an.default=an;const{Axios:Zk,AxiosError:Jk,CanceledError:$k,isCancel:Kk,CancelToken:Qk,VERSION:qk,all:eP,Cancel:tP,isAxiosError:nP,spread:iP,toFormData:rP,AxiosHeaders:aP,HttpStatusCode:oP,formToJSON:sP,getAdapter:lP,mergeConfig:cP}=an,Mk=an.create({baseURL:"https://random-d.uk/api"});function Ek(e="JPG"){return Mk.get("/random",{params:{type:e.toUpperCase()}})}function wk(e,t=!1){const n=`https://random-d.uk/add${t?"?format=json":""}`;return an.post(n,e,{headers:{"Content-Type":"multipart/form-data"}})}const Tk=Gu("v-alert-title"),Ak=["success","info","warning","error"],Ok=Ke({border:{type:[Boolean,String],validator:e=>typeof e=="boolean"||["top","end","bottom","start"].includes(e)},borderColor:String,closable:Boolean,closeIcon:{type:Ht,default:"$close"},closeLabel:{type:String,default:"$vuetify.close"},icon:{type:[Boolean,String,Function,Object],default:null},modelValue:{type:Boolean,default:!0},prominent:Boolean,title:String,text:String,type:{type:String,validator:e=>Ak.includes(e)},...xt(),...Oi(),...ui(),...Qi(),...ua(),...mo(),...Wn(),...$t(),...on(),...Di({variant:"flat"})},"VAlert"),Dk=ft()({name:"VAlert",props:Ok(),emits:{"click:close":e=>!0,"update:modelValue":e=>!0},setup(e,t){let{emit:n,slots:i}=t;const u=yn(e,"modelValue"),b=Ze(()=>{if(e.icon!==!1)return e.type?e.icon??`$${e.type}`:e.icon}),{themeClasses:I}=hn(e),{colorClasses:y,colorStyles:M,variantClasses:l}=Hr(()=>({color:e.color??e.type,variant:e.variant})),{densityClasses:r}=er(e),{dimensionStyles:w}=fi(e),{elevationClasses:A}=qi(e),{locationStyles:D}=vo(e),{positionClasses:O}=po(e),{roundedClasses:N}=Yn(e),{textColorClasses:p,textColorStyles:a}=Gi(()=>e.borderColor),{t:m}=ul(),v=Ze(()=>({"aria-label":m(e.closeLabel),onClick(o){u.value=!1,n("click:close",o)}}));return()=>{const o=!!(i.prepend||b.value),c=!!(i.title||e.title),s=!!(i.close||e.closable);return u.value&&$(e.tag,{class:["v-alert",e.border&&{"v-alert--border":!!e.border,[`v-alert--border-${e.border===!0?"start":e.border}`]:!0},{"v-alert--prominent":e.prominent},I.value,y.value,r.value,A.value,O.value,N.value,l.value,e.class],style:[M.value,w.value,D.value,e.style],role:"alert"},{default:()=>{var g,x;return[zr(!1,"v-alert"),e.border&&$("div",{key:"border",class:["v-alert__border",p.value],style:a.value},null),o&&$("div",{key:"prepend",class:"v-alert__prepend"},[i.prepend?$(nn,{key:"prepend-defaults",disabled:!b.value,defaults:{VIcon:{density:e.density,icon:b.value,size:e.prominent?44:28}}},i.prepend):$(mn,{key:"prepend-icon",density:e.density,icon:b.value,size:e.prominent?44:28},null)]),$("div",{class:"v-alert__content"},[c&&$(Tk,{key:"title"},{default:()=>{var h;return[((h=i.title)==null?void 0:h.call(i))??e.title]}}),((g=i.text)==null?void 0:g.call(i))??e.text,(x=i.default)==null?void 0:x.call(i)]),i.append&&$("div",{key:"append",class:"v-alert__append"},[i.append()]),s&&$("div",{key:"close",class:"v-alert__close"},[i.close?$(nn,{key:"close-defaults",defaults:{VBtn:{icon:e.closeIcon,size:"x-small",variant:"text"}}},{default:()=>{var h;return[(h=i.close)==null?void 0:h.call(i,{props:v.value})]}}):$(Zn,It({key:"close-btn",icon:e.closeIcon,size:"x-small",variant:"text"},v.value),null)])]}})}}});function kk(e){let{selectedElement:t,containerElement:n,isRtl:i,isHorizontal:u}=e;const b=ro(u,n),I=Fy(u,i,n),y=ro(u,t),M=By(u,t),l=y*.4;return I>M?M-l:I+b<M+y?M-b+y+l:I}function Pk(e){let{selectedElement:t,containerElement:n,isHorizontal:i}=e;const u=ro(i,n),b=By(i,t),I=ro(i,t);return b-u/2+I/2}function Kg(e,t){const n=e?"scrollWidth":"scrollHeight";return(t==null?void 0:t[n])||0}function Lk(e,t){const n=e?"clientWidth":"clientHeight";return(t==null?void 0:t[n])||0}function Fy(e,t,n){if(!n)return 0;const{scrollLeft:i,offsetWidth:u,scrollWidth:b}=n;return e?t?b-u+i:i:n.scrollTop}function ro(e,t){const n=e?"offsetWidth":"offsetHeight";return(t==null?void 0:t[n])||0}function By(e,t){const n=e?"offsetLeft":"offsetTop";return(t==null?void 0:t[n])||0}const Nk=Symbol.for("vuetify:v-slide-group"),zy=Ke({centerActive:Boolean,direction:{type:String,default:"horizontal"},symbol:{type:null,default:Nk},nextIcon:{type:Ht,default:"$next"},prevIcon:{type:Ht,default:"$prev"},showArrows:{type:[Boolean,String],validator:e=>typeof e=="boolean"||["always","desktop","mobile"].includes(e)},...xt(),...Jw({mobile:null}),...$t(),...$u({selectedClass:"v-slide-group-item--active"})},"VSlideGroup"),Qg=ft()({name:"VSlideGroup",props:zy(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const{isRtl:i}=Ai(),{displayClasses:u,mobile:b}=kp(e),I=Ku(e,e.symbol),y=dt(!1),M=dt(0),l=dt(0),r=dt(0),w=Ae(()=>e.direction==="horizontal"),{resizeRef:A,contentRect:D}=Bs(),{resizeRef:O,contentRect:N}=Bs(),p=LA(),a=Ae(()=>({container:A.el,duration:200,easing:"easeOutQuart"})),m=Ae(()=>I.selected.value.length?I.items.value.findIndex(ve=>ve.id===I.selected.value[0]):-1),v=Ae(()=>I.selected.value.length?I.items.value.findIndex(ve=>ve.id===I.selected.value[I.selected.value.length-1]):-1);if(Vt){let ve=-1;ht(()=>[I.selected.value,D.value,N.value,w.value],()=>{cancelAnimationFrame(ve),ve=requestAnimationFrame(()=>{if(D.value&&N.value){const ee=w.value?"width":"height";l.value=D.value[ee],r.value=N.value[ee],y.value=l.value+1<r.value}if(m.value>=0&&O.el){const ee=O.el.children[v.value];c(ee,e.centerActive)}})})}const o=dt(!1);function c(ve,ee){let xe=0;ee?xe=Pk({containerElement:A.el,isHorizontal:w.value,selectedElement:ve}):xe=kk({containerElement:A.el,isHorizontal:w.value,isRtl:i.value,selectedElement:ve}),s(xe)}function s(ve){if(!Vt||!A.el)return;const ee=ro(w.value,A.el),xe=Fy(w.value,i.value,A.el);if(!(Kg(w.value,A.el)<=ee||Math.abs(ve-xe)<16)){if(w.value&&i.value&&A.el){const{scrollWidth:Be,offsetWidth:we}=A.el;ve=Be-we-ve}w.value?p.horizontal(ve,a.value):p(ve,a.value)}}function g(ve){const{scrollTop:ee,scrollLeft:xe}=ve.target;M.value=w.value?xe:ee}function x(ve){if(o.value=!0,!(!y.value||!O.el)){for(const ee of ve.composedPath())for(const xe of O.el.children)if(xe===ee){c(xe);return}}}function h(ve){o.value=!1}let E=!1;function T(ve){var ee;!E&&!o.value&&!(ve.relatedTarget&&((ee=O.el)!=null&&ee.contains(ve.relatedTarget)))&&U(),E=!1}function k(){E=!0}function L(ve){if(!O.el)return;function ee(xe){ve.preventDefault(),U(xe)}w.value?ve.key==="ArrowRight"?ee(i.value?"prev":"next"):ve.key==="ArrowLeft"&&ee(i.value?"next":"prev"):ve.key==="ArrowDown"?ee("next"):ve.key==="ArrowUp"&&ee("prev"),ve.key==="Home"?ee("first"):ve.key==="End"&&ee("last")}function F(ve,ee){if(!ve)return;let xe=ve;do xe=xe==null?void 0:xe[ee==="next"?"nextElementSibling":"previousElementSibling"];while(xe!=null&&xe.hasAttribute("disabled"));return xe}function U(ve){if(!O.el)return;let ee;if(!ve)ee=Uu(O.el)[0];else if(ve==="next"){if(ee=F(O.el.querySelector(":focus"),ve),!ee)return U("first")}else if(ve==="prev"){if(ee=F(O.el.querySelector(":focus"),ve),!ee)return U("last")}else ve==="first"?(ee=O.el.firstElementChild,ee!=null&&ee.hasAttribute("disabled")&&(ee=F(ee,"next"))):ve==="last"&&(ee=O.el.lastElementChild,ee!=null&&ee.hasAttribute("disabled")&&(ee=F(ee,"prev")));ee&&ee.focus({preventScroll:!0})}function G(ve){const ee=w.value&&i.value?-1:1,xe=(ve==="prev"?-ee:ee)*l.value;let Z=M.value+xe;if(w.value&&i.value&&A.el){const{scrollWidth:Be,offsetWidth:we}=A.el;Z+=Be-we}s(Z)}const Y=Ae(()=>({next:I.next,prev:I.prev,select:I.select,isSelected:I.isSelected})),K=Ae(()=>{switch(e.showArrows){case"always":return!0;case"desktop":return!b.value;case!0:return y.value||Math.abs(M.value)>0;case"mobile":return b.value||y.value||Math.abs(M.value)>0;default:return!b.value&&(y.value||Math.abs(M.value)>0)}}),he=Ae(()=>Math.abs(M.value)>1),oe=Ae(()=>{if(!A.value)return!1;const ve=Kg(w.value,A.el),ee=Lk(w.value,A.el);return ve-ee-Math.abs(M.value)>1});return Ct(()=>$(e.tag,{class:["v-slide-group",{"v-slide-group--vertical":!w.value,"v-slide-group--has-affixes":K.value,"v-slide-group--is-overflowing":y.value},u.value,e.class],style:e.style,tabindex:o.value||I.selected.value.length?-1:0,onFocus:T},{default:()=>{var ve,ee,xe;return[K.value&&$("div",{key:"prev",class:["v-slide-group__prev",{"v-slide-group__prev--disabled":!he.value}],onMousedown:k,onClick:()=>he.value&&G("prev")},[((ve=n.prev)==null?void 0:ve.call(n,Y.value))??$(sg,null,{default:()=>[$(mn,{icon:i.value?e.nextIcon:e.prevIcon},null)]})]),$("div",{key:"container",ref:A,class:"v-slide-group__container",onScroll:g},[$("div",{ref:O,class:"v-slide-group__content",onFocusin:x,onFocusout:h,onKeydown:L},[(ee=n.default)==null?void 0:ee.call(n,Y.value)])]),K.value&&$("div",{key:"next",class:["v-slide-group__next",{"v-slide-group__next--disabled":!oe.value}],onMousedown:k,onClick:()=>oe.value&&G("next")},[((xe=n.next)==null?void 0:xe.call(n,Y.value))??$(sg,null,{default:()=>[$(mn,{icon:i.value?e.prevIcon:e.nextIcon},null)]})])]}})),{selected:I.selected,scrollTo:G,scrollOffset:M,focus:U,hasPrev:he,hasNext:oe}}}),Hy=Symbol.for("vuetify:v-chip-group"),Rk=Ke({baseColor:String,column:Boolean,filter:Boolean,valueComparator:{type:Function,default:fo},...zy(),...xt(),...$u({selectedClass:"v-chip--selected"}),...$t(),...on(),...Di({variant:"tonal"})},"VChipGroup");ft()({name:"VChipGroup",props:Rk(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const{themeClasses:i}=hn(e),{isSelected:u,select:b,next:I,prev:y,selected:M}=Ku(e,Hy);return la({VChip:{baseColor:Ze(()=>e.baseColor),color:Ze(()=>e.color),disabled:Ze(()=>e.disabled),filter:Ze(()=>e.filter),variant:Ze(()=>e.variant)}}),Ct(()=>{const l=Qg.filterProps(e);return $(Qg,It(l,{class:["v-chip-group",{"v-chip-group--column":e.column},i.value,e.class],style:e.style}),{default:()=>{var r;return[(r=n.default)==null?void 0:r.call(n,{isSelected:u,select:b,next:I,prev:y,selected:M.value})]}})}),{}}});const jk=Ke({activeClass:String,appendAvatar:String,appendIcon:Ht,baseColor:String,closable:Boolean,closeIcon:{type:Ht,default:"$delete"},closeLabel:{type:String,default:"$vuetify.close"},draggable:Boolean,filter:Boolean,filterIcon:{type:Ht,default:"$complete"},label:Boolean,link:{type:Boolean,default:void 0},pill:Boolean,prependAvatar:String,prependIcon:Ht,ripple:{type:[Boolean,Object],default:!0},text:{type:[String,Number,Boolean],default:void 0},modelValue:{type:Boolean,default:!0},onClick:Fn(),onClickOnce:Fn(),...$i(),...xt(),...Oi(),...Qi(),...vp(),...Wn(),...dl(),...ho(),...$t({tag:"span"}),...on(),...Di({variant:"tonal"})},"VChip"),Fk=ft()({name:"VChip",directives:{Ripple:gl},props:jk(),emits:{"click:close":e=>!0,"update:modelValue":e=>!0,"group:selected":e=>!0,click:e=>!0},setup(e,t){let{attrs:n,emit:i,slots:u}=t;const{t:b}=ul(),{borderClasses:I}=Ki(e),{densityClasses:y}=er(e),{elevationClasses:M}=qi(e),{roundedClasses:l}=Yn(e),{sizeClasses:r}=go(e),{themeClasses:w}=hn(e),A=yn(e,"modelValue"),D=mp(e,Hy,!1),O=hl(e,n),N=Ze(()=>e.link!==!1&&O.isLink.value),p=Ae(()=>!e.disabled&&e.link!==!1&&(!!D||e.link||O.isClickable.value)),a=Ze(()=>({"aria-label":b(e.closeLabel),onClick(g){g.preventDefault(),g.stopPropagation(),A.value=!1,i("click:close",g)}})),{colorClasses:m,colorStyles:v,variantClasses:o}=Hr(()=>({color:!D||D.isSelected.value?e.color??e.baseColor:e.baseColor,variant:e.variant}));function c(g){var x;i("click",g),p.value&&((x=O.navigate)==null||x.call(O,g),D==null||D.toggle())}function s(g){(g.key==="Enter"||g.key===" ")&&(g.preventDefault(),c(g))}return()=>{var F;const g=O.isLink.value?"a":e.tag,x=!!(e.appendIcon||e.appendAvatar),h=!!(x||u.append),E=!!(u.close||e.closable),T=!!(u.filter||e.filter)&&D,k=!!(e.prependIcon||e.prependAvatar),L=!!(k||u.prepend);return A.value&&ti($(g,It({class:["v-chip",{"v-chip--disabled":e.disabled,"v-chip--label":e.label,"v-chip--link":p.value,"v-chip--filter":T,"v-chip--pill":e.pill,[`${e.activeClass}`]:e.activeClass&&((F=O.isActive)==null?void 0:F.value)},w.value,I.value,m.value,y.value,M.value,l.value,r.value,o.value,D==null?void 0:D.selectedClass.value,e.class],style:[v.value,e.style],disabled:e.disabled||void 0,draggable:e.draggable,tabindex:p.value?0:void 0,onClick:c,onKeydown:p.value&&!N.value&&s},O.linkProps),{default:()=>{var U;return[zr(p.value,"v-chip"),T&&$(rp,{key:"filter"},{default:()=>[ti($("div",{class:"v-chip__filter"},[u.filter?$(nn,{key:"filter-defaults",disabled:!e.filterIcon,defaults:{VIcon:{icon:e.filterIcon}}},u.filter):$(mn,{key:"filter-icon",icon:e.filterIcon},null)]),[[oa,D.isSelected.value]])]}),L&&$("div",{key:"prepend",class:"v-chip__prepend"},[u.prepend?$(nn,{key:"prepend-defaults",disabled:!k,defaults:{VAvatar:{image:e.prependAvatar,start:!0},VIcon:{icon:e.prependIcon,start:!0}}},u.prepend):$(Ut,null,[e.prependIcon&&$(mn,{key:"prepend-icon",icon:e.prependIcon,start:!0},null),e.prependAvatar&&$(Jn,{key:"prepend-avatar",image:e.prependAvatar,start:!0},null)])]),$("div",{class:"v-chip__content","data-no-activator":""},[((U=u.default)==null?void 0:U.call(u,{isSelected:D==null?void 0:D.isSelected.value,selectedClass:D==null?void 0:D.selectedClass.value,select:D==null?void 0:D.select,toggle:D==null?void 0:D.toggle,value:D==null?void 0:D.value.value,disabled:e.disabled}))??jn(e.text)]),h&&$("div",{key:"append",class:"v-chip__append"},[u.append?$(nn,{key:"append-defaults",disabled:!x,defaults:{VAvatar:{end:!0,image:e.appendAvatar},VIcon:{end:!0,icon:e.appendIcon}}},u.append):$(Ut,null,[e.appendIcon&&$(mn,{key:"append-icon",end:!0,icon:e.appendIcon},null),e.appendAvatar&&$(Jn,{key:"append-avatar",end:!0,image:e.appendAvatar},null)])]),E&&$("button",It({key:"close",class:"v-chip__close",type:"button","data-testid":"close-chip"},a.value),[u.close?$(nn,{key:"close-defaults",defaults:{VIcon:{icon:e.closeIcon,size:"x-small"}}},u.close):$(mn,{key:"close-icon",icon:e.closeIcon,size:"x-small"},null)])]}}),[[aa("ripple"),p.value&&e.ripple,null]])}}}),Bk=Ke({chips:Boolean,counter:Boolean,counterSizeString:{type:String,default:"$vuetify.fileInput.counterSize"},counterString:{type:String,default:"$vuetify.fileInput.counter"},hideInput:Boolean,multiple:Boolean,showSize:{type:[Boolean,Number,String],default:!1,validator:e=>typeof e=="boolean"||[1e3,1024].includes(Number(e))},...uf({prependIcon:"$file"}),modelValue:{type:[Array,Object],default:e=>e.multiple?[]:null,validator:e=>zi(e).every(t=>t!=null&&typeof t=="object")},...cf({clearable:!0})},"VFileInput"),zk=ft()({name:"VFileInput",inheritAttrs:!1,props:Bk(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,t){let{attrs:n,emit:i,slots:u}=t;const{t:b}=ul(),I=yn(e,"modelValue",e.modelValue,L=>zi(L),L=>!e.multiple&&Array.isArray(L)?L[0]:L),{isFocused:y,focus:M,blur:l}=lf(e),r=Ae(()=>typeof e.showSize!="boolean"?e.showSize:void 0),w=Ae(()=>(I.value??[]).reduce((L,F)=>{let{size:U=0}=F;return L+U},0)),A=Ae(()=>Vd(w.value,r.value)),D=Ae(()=>(I.value??[]).map(L=>{const{name:F="",size:U=0}=L;return e.showSize?`${F} (${Vd(U,r.value)})`:F})),O=Ae(()=>{var F;const L=((F=I.value)==null?void 0:F.length)??0;return e.showSize?b(e.counterSizeString,L,A.value):b(e.counterString,L)}),N=$e(),p=$e(),a=$e(),m=Ze(()=>y.value||e.active),v=Ae(()=>["plain","underlined"].includes(e.variant)),o=dt(!1);function c(){var L;a.value!==document.activeElement&&((L=a.value)==null||L.focus()),y.value||M()}function s(L){var F;(F=a.value)==null||F.click()}function g(L){i("mousedown:control",L)}function x(L){var F;(F=a.value)==null||F.click(),i("click:control",L)}function h(L){L.stopPropagation(),c(),bn(()=>{I.value=[],Hu(e["onClick:clear"],L)})}function E(L){L.preventDefault(),L.stopImmediatePropagation(),o.value=!0}function T(L){L.preventDefault(),o.value=!1}function k(L){var U,G;if(L.preventDefault(),L.stopImmediatePropagation(),o.value=!1,!((G=(U=L.dataTransfer)==null?void 0:U.files)!=null&&G.length)||!a.value)return;const F=new DataTransfer;for(const Y of L.dataTransfer.files)F.items.add(Y);a.value.files=F.files,a.value.dispatchEvent(new Event("change",{bubbles:!0}))}return ht(I,L=>{(!Array.isArray(L)||!L.length)&&a.value&&(a.value.value="")}),Ct(()=>{const L=!!(u.counter||e.counter),F=!!(L||u.details),[U,G]=Um(n),{modelValue:Y,...K}=Vs.filterProps(e),he=Ys.filterProps(e);return $(Vs,It({ref:N,modelValue:e.multiple?I.value:I.value[0],class:["v-file-input",{"v-file-input--chips":!!e.chips,"v-file-input--dragging":o.value,"v-file-input--hide":e.hideInput,"v-input--plain-underlined":v.value},e.class],style:e.style,"onClick:prepend":s},U,K,{centerAffix:!v.value,focused:y.value}),{...u,default:oe=>{let{id:ve,isDisabled:ee,isDirty:xe,isReadonly:Z,isValid:Be}=oe;return $(Ys,It({ref:p,"prepend-icon":e.prependIcon,onMousedown:g,onClick:x,"onClick:clear":h,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"]},he,{id:ve.value,active:m.value||xe.value,dirty:xe.value||e.dirty,disabled:ee.value,focused:y.value,error:Be.value===!1,onDragover:E,onDrop:k}),{...u,default:we=>{var ae;let{props:{class:ge,...te}}=we;return $(Ut,null,[$("input",It({ref:a,type:"file",readonly:Z.value,disabled:ee.value,multiple:e.multiple,name:e.name,onClick:ne=>{ne.stopPropagation(),Z.value&&ne.preventDefault(),c()},onChange:ne=>{if(!ne.target)return;const re=ne.target;I.value=[...re.files??[]]},onDragleave:T,onFocus:c,onBlur:l},te,G),null),$("div",{class:ge},[!!((ae=I.value)!=null&&ae.length)&&!e.hideInput&&(u.selection?u.selection({fileNames:D.value,totalBytes:w.value,totalBytesReadable:A.value}):e.chips?D.value.map(ne=>$(Fk,{key:ne,size:"small",text:ne},null)):D.value.join(", "))])])}})},details:F?oe=>{var ve,ee;return $(Ut,null,[(ve=u.details)==null?void 0:ve.call(u,oe),L&&$(Ut,null,[$("span",null,null),$(ey,{active:!!((ee=I.value)!=null&&ee.length),value:O.value,disabled:e.disabled},u.counter)])])}:void 0})}),bo({},N,p,a)}}),Hk={__name:"NewQuackView",setup(e){const t=$e(null),n=$e(null),i=$e(!1),u=$e(""),b=$e(null),I=$e(null);let y=null;const M=w=>!!w||"Please select a file",l=()=>{t.value?n.value=URL.createObjectURL(t.value):n.value=null};ht(n,async w=>{if(!w){y&&(y.destroy(),y=null);return}await bn(),I.value&&(y&&(y.destroy(),y=null),y=new ZO(I.value,{includeUI:{loadImage:{path:w,name:"duck-image"},theme:{},menu:["draw","text","filter","shape","icon","crop"],initMenu:"",uiSize:{width:"700px",height:"500px"},menuBarPosition:"bottom"},cssMaxWidth:700,cssMaxHeight:500,selectionStyle:{cornerSize:20,rotatingPointOffset:70}}))}),Pn(()=>{y&&(y.destroy(),y=null)});const r=async()=>{if(y){i.value=!0,u.value="";try{const w=y.toDataURL(),D=await(await fetch(w)).blob(),O=new FormData;O.append("file",D,t.value.name);const N=await Ek();console.log("Random duck info:",N.data);const p=await wk(O,!0);p.data&&p.data.success?(u.value="Your duck has been submitted successfully!",t.value=null,n.value=null,y.destroy(),y=null,b.value.resetValidation()):u.value="Upload failed, but no error was thrown."}catch(w){u.value="Error uploading image. Try again later.",console.error(w)}finally{i.value=!1}}};return(w,A)=>(ei(),Mi(fa,{class:"py-10"},{default:qe(()=>[A[2]||(A[2]=Et("h2",{class:"text-h4 mb-6"},"Upload a New Quack",-1)),$(yl,{onSubmit:Pu(r,["prevent"]),ref_key:"formRef",ref:b},{default:qe(()=>[$(zk,{modelValue:t.value,"onUpdate:modelValue":A[0]||(A[0]=D=>t.value=D),label:"Select a duck image",accept:"image/*","prepend-icon":"mdi-image",rules:[M],"show-size":"",onChange:l},null,8,["modelValue","rules"]),n.value?(ei(),lm("div",{key:0,ref_key:"editorContainer",ref:I,style:{height:"500px","max-width":"700px",margin:"20px auto",border:"1px solid #ccc"}},null,512)):Tc("",!0),$(Zn,{color:"yellow darken-2",class:"mt-4",loading:i.value,type:"submit"},{default:qe(()=>A[1]||(A[1]=[kt(" Upload Edited Image ")])),_:1,__:[1]},8,["loading"]),u.value?(ei(),Mi(Dk,{key:1,class:"mt-4",type:"success",border:"start",variant:"outlined",prominent:""},{default:qe(()=>[kt(jn(u.value),1)]),_:1})):Tc("",!0)]),_:1},512)]),_:1,__:[2]}))}},Uk=[{path:"/",name:"Landing",component:sO,meta:{hideNavbar:!0}},{path:"/login",component:tO,meta:{hideNavbar:!0}},{path:"/signup",component:dO,meta:{hideNavbar:!0}},{path:"/feed",component:vO},{path:"/profile",component:WO},{path:"/new-quack",component:Hk}],Uy=V1({history:S1(),routes:Uk});Uy.beforeEach((e,t,n)=>{const i=e.meta.hideNavbar===!0,u=sa();if(!i&&!u.isAuthenticated)return n("/login");n()});function Wy(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{blueprint:t,...n}=e,i=Mn(t,n),{aliases:u={},components:b={},directives:I={}}=i,y=Pr();return y.run(()=>{const M=DE(i.defaults),l=Zw(i.display,i.ssr),r=sw(i.theme),w=ww(i.icons),A=KE(i.locale),D=OA(i.date,A),O=PA(i.goTo,A);function N(a){for(const v in I)a.directive(v,I[v]);for(const v in b)a.component(v,b[v]);for(const v in u)a.component(v,ca({...u[v],name:v,aliasName:u[v].name}));const m=Pr();if(m.run(()=>{r.install(a)}),a.onUnmount(()=>m.stop()),a.provide(ra,M),a.provide(Vc,l),a.provide(Ka,r),a.provide(Uc,w),a.provide(Fs,A),a.provide(AA,D.options),a.provide(Pg,D.instance),a.provide(Qp,O),Vt&&i.ssr)if(a.$nuxt)a.$nuxt.hook("app:suspense:resolve",()=>{l.update()});else{const{mount:v}=a;a.mount=function(){const o=v(...arguments);return bn(()=>l.update()),a.mount=v,o}}a.mixin({computed:{$vuetify(){return un({defaults:Xr.call(this,ra),display:Xr.call(this,Vc),theme:Xr.call(this,Ka),icons:Xr.call(this,Uc),locale:Xr.call(this,Fs),date:Xr.call(this,Pg)})}}})}function p(){y.stop()}return{install:N,unmount:p,defaults:M,display:l,theme:r,icons:w,locale:A,date:D,goTo:O}})}const Wk="3.8.6";Wy.version=Wk;function Xr(e){var i,u;const t=this.$,n=((i=t.parent)==null?void 0:i.provides)??((u=t.vnode.appContext)==null?void 0:u.provides);if(n&&e in n)return n[e]}const Yk=Wy({theme:{defaultTheme:"light",themes:{light:{colors:{background:"#edfbed",primary:"#D1A200",secondary:"#FFFBCC",surface:"#ffffff",text:"#1d1d1d"}}}},defaults:{VBtn:{rounded:"lg",elevation:0,class:"custom-btn"},VTextField:{variant:"outlined",density:"comfortable",hideDetails:!0,class:"custom-input"},VForm:{class:"custom-form"},VList:{class:"custom-v-list",density:"comfortable"},VListItem:{class:"custom-v-list-item"},VCard:{class:"auth-card-border",rounded:"xl",elevation:2,style:{padding:"2rem",maxWidth:"400px",margin:"0 auto"}}}}),El=LM(uT),Yy=jM();El.use(Yy);const Vk=sa(Yy);Vk.restoreFromStorage();El.use(Uy);El.use(Yk);El.mount("#app");
